!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="./",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){n(283),e.exports=n(155)},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,s,u],h=0;c=new Error(t.replace(/%s/g,function(){return l[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";var r=n(10),i=r;e.exports=i},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=n},function(e,t,n){(function(e){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?h(e,t,n):p(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,r){return u(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function l(e,t){if(u(t),e=o(e,t<0?0:0|m(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=o(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function f(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=f(e,t),e}function p(e,t){if(a.isBuffer(t)){var n=0|m(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?o(e,0):f(e,t);if("Buffer"===t.type&&$(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),a.alloc(+e)}function v(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return Y(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:M(e,t,n,r,i);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):M(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function M(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(e,c)===o(t,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var h=!0,f=0;f<u;f++)if(o(e,c+f)!==o(t,f)){h=!1;break}if(h)return c}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function A(e,t,n,r){return X(Y(t,e.length-n),e,n,r)}function x(e,t,n,r){return X(Q(t),e,n,r)}function T(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return X(q(t),e,n,r)}function k(e,t,n,r){return X(W(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,h;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(h=(31&o)<<6|63&u,h>127&&(a=h));break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(h=(15&o)<<12|(63&u)<<6|63&c,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,h>65535&&h<1114112&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return L(r)}function L(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function F(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,i){return i||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function H(e){if(e=V(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function q(e){return Z.toByteArray(H(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e){return e!==e}var Z=n(156),J=n(193),$=n(104);t.Buffer=a,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),t.kMaxLength=i(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return s(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return c(null,e,t,n)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):y.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,u=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),h=0;h<u;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},a.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=a.prototype;else{var i=t-e;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;j(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;j(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:Y(new a(e,r).toString()),u=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,u=n(e),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var l in r)o.call(r,l)&&(u[l]=r[l]);if(i){s=i(r);for(var h=0;h<s.length;h++)a.call(r,s[h])&&(u[s[h]]=r[s[h]])}}return u}},function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(p)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=i(e);n._hostNode=t,t[g]=n}function a(e){var t=e._hostNode;t&&(delete t[g],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],c=i(u)._domID;if(0!==c){for(;null!==a;a=a.nextSibling)if(r(a,c)){o(u,a);continue e}h("32",c)}}e._flags|=m.hasCachedChildNodes}}function u(e){if(e[g])return e[g];for(var t=[];!e[g];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[g]);e=t.pop())n=r,t.length&&s(r,e);return n}function c(e){var t=u(e);return null!=t&&t._hostNode===e?t:null}function l(e){if(void 0===e._hostNode?h("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:h("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var h=n(3),f=n(27),d=n(112),p=(n(1),f.ID_ATTRIBUTE_NAME),m=d,g="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:u,getInstanceFromNode:c,getNodeFromInstance:l,precacheChildNodes:s,precacheNode:o,uncacheNode:a};e.exports=v},function(e,t,n){"use strict";e.exports=n(31)},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=n(198)()},function(e,t,n){"use strict";function r(){k.ReactReconcileTransaction&&M?void 0:l("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=f.getPooled(),this.reconcileTransaction=k.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,i,o,a){return r(),M.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==v.length?l("124",t,v.length):void 0,v.sort(a),y++;for(var n=0;n<t;n++){var r=v[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(p.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),o&&console.timeEnd(o),i)for(var u=0;u<i.length;u++)e.callbackQueue.enqueue(i[u],r.getPublicInstance())}}function u(e){return r(),M.isBatchingUpdates?(v.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void M.batchedUpdates(u,e)}function c(e,t){M.isBatchingUpdates?void 0:l("125"),b.enqueue(e,t),w=!0}var l=n(3),h=n(5),f=n(110),d=n(22),p=n(115),m=n(28),g=n(47),v=(n(1),[]),y=0,b=f.getPooled(),w=!1,M=null,E={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),T()):v.length=0}},A={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[E,A];h(i.prototype,g,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,f.release(this.callbackQueue),this.callbackQueue=null,k.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return g.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(i);var T=function(){for(;v.length||w;){if(v.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(w){w=!1;var t=b;b=f.getPooled(),t.notifyAll(),f.release(t)}}},_={injectReconcileTransaction:function(e){e?void 0:l("126"),k.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:l("127"),"function"!=typeof e.batchedUpdates?l("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?l("129"):void 0,M=e}},k={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:T,injection:_,asap:c};e.exports=k},function(e,t,n){"use strict";var r=n(7),i=n(160),o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,h,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var d,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=n(5),o=n(22),a=n(10),s=(n(2),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createPath=t.parsePath=t.getQueryStringValueFromPath=t.stripQueryStringValueFromPath=t.addQueryStringValueToPath=void 0;var i=n(21),o=(r(i),t.addQueryStringValueToPath=function(e,t,n){var r=a(e),i=r.pathname,o=r.search,u=r.hash;return s({pathname:i,search:o+(o.indexOf("?")===-1?"?":"&")+t+"="+n,hash:u})},t.stripQueryStringValueFromPath=function(e,t){var n=a(e),r=n.pathname,i=n.search,o=n.hash;return s({pathname:r,search:i.replace(new RegExp("([?&])"+t+"=[a-zA-Z0-9]+(&?)"),function(e,t,n){return"?"===t?t:n}),hash:o})},t.getQueryStringValueFromPath=function(e,t){var n=a(e),r=n.search,i=r.match(new RegExp("[?&]"+t+"=([a-zA-Z0-9]+)"));return i&&i[1]},function(e){var t=e.match(/^(https?:)?\/\/[^\/]*/);
return null==t?e:e.substring(t[0].length)}),a=t.parsePath=function(e){var t=o(e),n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substring(i),t=t.substring(0,i));var a=t.indexOf("?");return a!==-1&&(n=t.substring(a),t=t.substring(0,a)),""===t&&(t="/"),{pathname:t,search:n,hash:r}},s=t.createPath=function(e){if(null==e||"string"==typeof e)return e;var t=e.basename,n=e.pathname,r=e.search,i=e.hash,o=(t||"")+n;return r&&"?"!==r&&(o+=r),i&&(o+=i),o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return null==e||f.default.isValidElement(e)}function o(e){return i(e)||Array.isArray(e)&&e.every(i)}function a(e,t){return l({},e,t)}function s(e){var t=e.type,n=a(t.defaultProps,e.props);if(n.children){var r=u(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function u(e,t){var n=[];return f.default.Children.forEach(e,function(e){if(f.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(s(e))}),n}function c(e){return o(e)?e=u(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=o,t.createRouteFromReactElement=s,t.createRoutesFromReactChildren=u,t.createRoutes=c;var h=n(7),f=r(h)},function(e,t,n){"use strict";var r=function(){};e.exports=r},[319,3],function(e,t,n){"use strict";function r(e){return this instanceof r?(c.call(this,e),l.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var s=n(60),u=n(34);u.inherits=n(12);var c=n(140),l=n(84);u.inherits(r,c);for(var h=a(l.prototype),f=0;f<h.length;f++){var d=h[f];r.prototype[d]||(r.prototype[d]=l.prototype[d])}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.statesAreEqual=t.createLocation=t.createQuery=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),s=r(a),u=n(21),c=(r(u),n(19)),l=n(43),h=(t.createQuery=function(e){return o(Object.create(null),e)},t.createLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.POP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="string"==typeof e?(0,c.parsePath)(e):e,i=r.pathname||"/",o=r.search||"",a=r.hash||"",s=r.state;return{pathname:i,search:o,hash:a,state:s,action:t,key:n}},function(e){return"[object Date]"===Object.prototype.toString.call(e)}),f=t.statesAreEqual=function e(t,n){if(t===n)return!0;var r="undefined"==typeof t?"undefined":i(t),o="undefined"==typeof n?"undefined":i(n);if(r!==o)return!1;if("function"===r?(0,s.default)(!1):void 0,"object"===r){if(h(t)&&h(n)?(0,s.default)(!1):void 0,!Array.isArray(t)){var a=Object.keys(t),u=Object.keys(n);return a.length===u.length&&a.every(function(r){return e(t[r],n[r])})}return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])})}return!1};t.locationsAreEqual=function(e,t){return e.key===t.key&&e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&f(e.state,t.state)}},function(e,t,n){"use strict";function r(e){if(g){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)v(t,n[r],null);else null!=e.html?h(t,e.html):null!=e.text&&d(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function o(e,t){g?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){g?e.html=t:h(e.node,t)}function s(e,t){g?e.text=t:d(e.node,t)}function u(){return this.node.nodeName}function c(e){return{node:e,children:[],html:null,text:null,toString:u}}var l=n(62),h=n(49),f=n(70),d=n(127),p=1,m=11,g="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),v=f(function(e,t,n){t.node.nodeType===m||t.node.nodeType===p&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===l.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});c.insertTreeBefore=v,c.replaceChildWithTree=i,c.queueChild=o,c.queueHTML=a,c.queueText=s,e.exports=c},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(3),o=(n(1),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var h in n){s.properties.hasOwnProperty(h)?i("48",h):void 0;var f=h.toLowerCase(),d=n[h],p={attributeName:f,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseProperty:r(d,t.MUST_USE_PROPERTY),hasBooleanValue:r(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(p.hasBooleanValue+p.hasNumericValue+p.hasOverloadedBooleanValue<=1?void 0:i("50",h),u.hasOwnProperty(h)){var m=u[h];p.attributeName=m}a.hasOwnProperty(h)&&(p.attributeNamespace=a[h]),c.hasOwnProperty(h)&&(p.propertyName=c[h]),l.hasOwnProperty(h)&&(p.mutationMethod=l[h]),s.properties[h]=p}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:o};e.exports=s},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(240),o=(n(11),n(2),{mountComponent:function(e,t,n,i,o,a){var s=e.mountComponent(t,n,i,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){for(var t="",n=[],r=[],o=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;o=s.exec(e);)o.index!==a&&(r.push(e.slice(a,o.index)),t+=i(e.slice(a,o.index))),o[1]?(t+="([^/]+)",n.push(o[1])):"**"===o[0]?(t+="(.*)",n.push("splat")):"*"===o[0]?(t+="(.*?)",n.push("splat")):"("===o[0]?t+="(?:":")"===o[0]?t+=")?":"\\("===o[0]?t+="\\(":"\\)"===o[0]&&(t+="\\)"),r.push(o[0]),a=s.lastIndex;return a!==e.length&&(r.push(e.slice(a,e.length)),t+=i(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function a(e){return d[e]||(d[e]=o(e)),d[e]}function s(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=a(e),r=n.regexpSource,i=n.paramNames,o=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===o[o.length-1]&&(r+="$");var s=t.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],c=t.substr(u.length);if(c){if("/"!==u.charAt(u.length-1))return null;c="/"+c}return{remainingPathname:c,paramNames:i,paramValues:s.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function u(e){return a(e).paramNames}function c(e,t){var n=s(e,t);if(!n)return null;var r=n.paramNames,i=n.paramValues,o={};return r.forEach(function(e,t){o[e]=i[t]}),o}function l(e,t){t=t||{};for(var n=a(e),r=n.tokens,i=0,o="",s=0,u=[],c=void 0,l=void 0,h=void 0,d=0,p=r.length;d<p;++d)if(c=r[d],"*"===c||"**"===c)h=Array.isArray(t.splat)?t.splat[s++]:t.splat,null!=h||i>0?void 0:(0,f.default)(!1),null!=h&&(o+=encodeURI(h));else if("("===c)u[i]="",i+=1;else if(")"===c){var m=u.pop();i-=1,i?u[i-1]+=m:o+=m}else if("\\("===c)o+="(";else if("\\)"===c)o+=")";else if(":"===c.charAt(0))if(l=c.substring(1),h=t[l],null!=h||i>0?void 0:(0,f.default)(!1),null==h){if(i){u[i-1]="";for(var g=r.indexOf(c),v=r.slice(g,r.length),y=-1,b=0;b<v.length;b++)if(")"==v[b]){y=b;break}y>0?void 0:(0,f.default)(!1),d=g+y-1}}else i?u[i-1]+=encodeURIComponent(h):o+=encodeURIComponent(h);else i?u[i-1]+=c:o+=c;return i<=0?void 0:(0,f.default)(!1),o.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=a,t.matchPattern=s,t.getParamNames=u,t.getParams=c,t.formatPattern=l;var h=n(9),f=r(h),d=Object.create(null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t.indexOf("deprecated")!==-1){if(u[t])return;u[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.default.apply(void 0,[e,t].concat(r))}function o(){u={}}t.__esModule=!0,t.default=i,t._resetWarned=o;var a=n(21),s=r(a),u={}},function(e,t,n){"use strict";var r=n(5),i=n(286),o=n(82),a=n(291),s=n(287),u=n(288),c=n(32),l=n(290),h=n(292),f=n(295),d=(n(2),c.createElement),p=c.createFactory,m=c.cloneElement,g=r,v={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:f},Component:o,PureComponent:a,createElement:d,cloneElement:m,isValidElement:c.isValidElement,PropTypes:l,createClass:s.createClass,createFactory:p,createMixin:function(e){return e},DOM:u,version:h,__spread:g};e.exports=v},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var o=n(5),a=n(18),s=(n(2),n(139),Object.prototype.hasOwnProperty),u=n(138),c={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,t,n,r,i,o,a){var s={$$typeof:u,type:e,key:t,ref:n,props:a,_owner:o};return s};l.createElement=function(e,t,n){var o,u={},h=null,f=null,d=null,p=null;if(null!=t){r(t)&&(f=t.ref),i(t)&&(h=""+t.key),d=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(o in t)s.call(t,o)&&!c.hasOwnProperty(o)&&(u[o]=t[o])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var g=Array(m),v=0;v<m;v++)g[v]=arguments[v+2];u.children=g}if(e&&e.defaultProps){var y=e.defaultProps;for(o in y)void 0===u[o]&&(u[o]=y[o])}return l(e,h,f,d,p,a.current,u)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){var n=l(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},l.cloneElement=function(e,t,n){var u,h=o({},e.props),f=e.key,d=e.ref,p=e._self,m=e._source,g=e._owner;if(null!=t){r(t)&&(d=t.ref,g=a.current),i(t)&&(f=""+t.key);var v;e.type&&e.type.defaultProps&&(v=e.type.defaultProps);for(u in t)s.call(t,u)&&!c.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==v?h[u]=v[u]:h[u]=t[u])}var y=arguments.length-2;if(1===y)h.children=n;else if(y>1){for(var b=Array(y),w=0;w<y;w++)b[w]=arguments[w+2];h.children=b}return l(e.type,f,d,p,m,g,h)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},e.exports=l},3,function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return"[object RegExp]"===g(e)}function h(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===g(e)}function d(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=u,t.isUndefined=c,t.isRegExp=l,t.isObject=h,t.isDate=f,t.isError=d,t.isFunction=p,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(t,n(4).Buffer)},function(e,t,n){(function(t,n){var r=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=void 0;if(void 0!==e)r=e;else if("undefined"!=typeof self)r=self;else try{r=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=r.Promise||n(8);t.local={Promise:i,GoogPromise:i}}).call(t,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=(0,r.createFirebaseNamespace)();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=i(e[n],t[n]));return e}function o(e,t,n){e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=r,t.deepExtend=i,t.patchProperty=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=a;return a=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.patchCapture=i;var a=Error.captureStackTrace,s=function e(t,n){if(r(this,e),this.code=t,this.message=n,a)a(this,u.prototype.create);else{var i=Error.apply(this,arguments);this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return i.stack}})}};s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.name="FirebaseError";var u=t.ErrorFactory=function(){function e(t,n,i){r(this,e),this.service=t,this.serviceName=n,this.errors=i,this.pattern=/\{\$([^}]+)}/g}return o(e,[{key:"create",value:function(e,t){void 0===t&&(t={});var n=this.errors[e],r=this.service+"/"+e,i=void 0;i=void 0===n?"Error":n.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),i=this.serviceName+": "+i+" ("+r+").";var o=new s(r,i);for(var a in t)t.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=t[a]);return o}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){function e(e){e=e||f;var t=r[e];return void 0===t&&o("no-app",{name:e}),t}function t(e,t){Object.keys(a).forEach(function(r){var i=n(e,r);null!==i&&p[i]&&p[i](t,e)})}function n(e,t){if("serverAuth"===t)return null;var n=t,r=e.options;return"auth"===t&&(r.serviceAccount||r.credential)&&(n="serverAuth","serverAuth"in a||o("sa-not-supported")),n}var r={},a={},p={},m={__esModule:!0,initializeApp:function(e,n){void 0===n?n=f:"string"==typeof n&&""!==n||o("bad-app-name",{name:n+""}),void 0!==r[n]&&o("duplicate-app",{name:n});var i=new d(e,n,m);return r[n]=i,t(i,"create"),void 0!=i.INTERNAL&&void 0!=i.INTERNAL.getToken||(0,s.deepExtend)(i,{INTERNAL:{getUid:function(){return null},getToken:function(){return h.resolve(null)},addAuthTokenListener:function(){},removeAuthTokenListener:function(){}}}),i},app:e,apps:null,Promise:h,SDK_VERSION:"3.9.0",INTERNAL:{registerService:function(t,n,r,i,u){a[t]&&o("duplicate-service",{name:t}),a[t]=u?n:function(e,t){return n(e,t,f)},i&&(p[t]=i);var c=void 0;return c=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&o("invalid-app-argument",{name:t}),n[t]()},void 0!==r&&(0,s.deepExtend)(c,r),m[t]=c,c},createFirebaseNamespace:i,extendNamespace:function(e){(0,s.deepExtend)(m,e)},createSubscribe:u.createSubscribe,ErrorFactory:c.ErrorFactory,removeApp:function(e){t(r[e],"delete"),delete r[e]},factories:a,useAsService:n,Promise:l.local.GoogPromise,deepExtend:s.deepExtend}};return(0,s.patchProperty)(m,"default",m),Object.defineProperty(m,"apps",{get:function(){return Object.keys(r).map(function(e){return r[e]})}}),(0,s.patchProperty)(e,"App",d),m}function o(e,t){throw m.create(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createFirebaseNamespace=i;var s=n(3),u=n(6),c=n(4),l=n(0),h=l.local.Promise,f="[DEFAULT]",d=function(){function e(t,n,i){var o=this;r(this,e),this.firebase_=i,this.isDeleted_=!1,this.services_={},this.name_=n,this.options_=(0,s.deepCopy)(t);var a="credential"in this.options_,u="serviceAccount"in this.options_;if(a||u){var c=u?"serviceAccount":"credential";"undefined"!=typeof console&&console.log("The '"+c+"' property specified in the first argument to initializeApp() is deprecated and will be removed in the next major version. You should instead use the 'firebase-admin' package. See https://firebase.google.com/docs/admin/setup for details on how to get started.")}Object.keys(i.INTERNAL.factories).forEach(function(e){var t=i.INTERNAL.useAsService(o,e);if(null!==t){var n=o.getService.bind(o,t);(0,s.patchProperty)(o,e,n)}})}return a(e,[{key:"delete",value:function(){var e=this;return new h(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),h.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})}},{key:"getService",value:function(e,t){this.checkDestroyed_(),void 0===this.services_[e]&&(this.services_[e]={});var n=t||f;if(void 0===this.services_[e][n]){var r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),t);return this.services_[e][n]=r,r}return this.services_[e][n]}},{key:"extendApp",value:function(e){(0,s.deepExtend)(this,e)}},{key:"checkDestroyed_",value:function(){this.isDeleted_&&o("app-deleted",{name:this.name_})}},{key:"name",get:function(){return this.checkDestroyed_(),this.name_}},{key:"options",get:function(){return this.checkDestroyed_(),this.options_}}]),e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},m=new c.ErrorFactory("app","Firebase",p)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=new f(e,t);return n.subscribe.bind(n)}function o(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];h.resolve(!0).then(function(){e.apply(void 0,r)}).catch(function(e){t&&t(e)})}}function a(e,t){if("object"!==(void 0===e?"undefined":u(e))||null===e)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s in e&&"function"==typeof e[s])return!0}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!1}function s(){}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createSubscribe=i,t.async=o;var l=n(0),h=l.local.Promise,f=function(){function e(t,n){var i=this;r(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=h.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(e){i.error(e)})}return c(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r=this,i=void 0;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=a(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=s),void 0===i.error&&(i.error=s),void 0===i.complete&&(i.complete=s);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(e){}}),this.observers.push(i),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}()},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,h,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var d,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function a(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)}))}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void h(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}var f=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0==--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){f(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(t,n(10).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=c[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;s=function(t){var n=h.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(1),n(7))},function(e,r,i){function o(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;r.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(9),r.setImmediate=t,r.clearImmediate=n},function(e,t,n){e.exports=n(2)}]);e.exports=r}).call(t,n(50).setImmediate,n(50).clearImmediate)},function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var o=n(3),a=n(63),s=n(64),u=n(68),c=n(121),l=n(122),h=(n(1),{}),f=null,d=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return d(e,!0)},m=function(e){return d(e,!1)},g=function(e){return"."+e._rootNodeID},v={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?o("94",t,typeof n):void 0;var r=g(e),i=h[t]||(h[t]={});i[r]=n;var s=a.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=h[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=g(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=h[t];if(r){var i=g(e);delete r[i]}},deleteAllListeners:function(e){
var t=g(e);for(var n in h)if(h.hasOwnProperty(n)&&h[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete h[n][t]}},extractEvents:function(e,t,n,r){for(var i,o=a.plugins,s=0;s<o.length;s++){var u=o[s];if(u){var l=u.extractEvents(e,t,n,r);l&&(i=c(i,l))}}return i},enqueueEvents:function(e){e&&(f=c(f,e))},processEventQueue:function(e){var t=f;f=null,e?l(t,p):l(t,m),f?o("95"):void 0,u.rethrowCaughtError()},__purge:function(){h={}},__getListenerBank:function(){return h}};e.exports=v},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return v(e,r)}function i(e,t,n){var i=r(e,n,t);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.traverseTwoPhase(e._targetInst,i,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?p.getParentInstance(t):null;p.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=v(e,r);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function c(e){g(e,o)}function l(e){g(e,a)}function h(e,t,n,r){p.traverseEnterLeave(n,r,s,e,t)}function f(e){g(e,u)}var d=n(36),p=n(64),m=n(121),g=n(122),v=(n(2),d.getListener),y={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:f,accumulateEnterLeaveDispatches:h};e.exports=y},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(17),o=n(73),a={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var i=n(13),o=(t.history=(0,i.shape)({listen:i.func.isRequired,push:i.func.isRequired,replace:i.func.isRequired,go:i.func.isRequired,goBack:i.func.isRequired,goForward:i.func.isRequired}),t.component=(0,i.oneOfType)([i.func,i.string])),a=(t.components=(0,i.oneOfType)([o,i.object]),t.route=(0,i.oneOfType)([i.object,i.element]));t.routes=(0,i.oneOfType)([a,(0,i.arrayOf)(a)])},function(e,t,n){(function(t){function n(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=-1;++o<r;)i.writeUInt8(e[o]^n[o],o);return i}e.exports=n}).call(t,n(4).Buffer)},function(e,t,n){(function(e){"use strict";var r=n(4),i=r.Buffer,o=r.SlowBuffer,a=r.kMaxLength||2147483647;t.alloc=function(e,t,n){if("function"==typeof i.alloc)return i.alloc(e,t,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");var r=n,o=t;void 0===o&&(r=void 0,o=0);var s=new i(e);if("string"==typeof o)for(var u=new i(o,r),c=u.length,l=-1;++l<e;)s[l]=u[l%c];else s.fill(o);return s},t.allocUnsafe=function(e){if("function"==typeof i.allocUnsafe)return i.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");return new i(e)},t.from=function(t,n,r){if("function"==typeof i.from&&(!e.Uint8Array||Uint8Array.from!==i.from))return i.from(t,n,r);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new i(t,n);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new i(t);"undefined"==typeof o&&(o=0);var a=r;if("undefined"==typeof a&&(a=t.byteLength-o),o>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(a>t.byteLength-o)throw new RangeError("'length' is out of bounds");return new i(t.slice(o,o+a))}if(i.isBuffer(t)){var s=new i(t.length);return t.copy(s,0,0,t.length),s}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new i(t);if("Buffer"===t.type&&Array.isArray(t.data))return new i(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},t.allocUnsafeSlow=function(e){if("function"==typeof i.allocUnsafeSlow)return i.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=a)throw new RangeError("size is too large");return new o(e)}}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;t.PUSH="PUSH",t.REPLACE="REPLACE",t.POP="POP"},function(e,t){"use strict";t.__esModule=!0;t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.supportsHistory=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},t.supportsPopstateOnHashchange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&navigator.userAgent.indexOf("CriOS")===-1}},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=d++,h[e[m]]={}),h[e[m]]}var i,o=n(5),a=n(63),s=n(232),u=n(120),c=n(264),l=n(74),h={},f=!1,d=0,p={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=o({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),o=a.registrationNameDependencies[e],s=0;s<o.length;s++){var u=o[s];i.hasOwnProperty(u)&&i[u]||("topWheel"===u?l("wheel")?g.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):l("mousewheel")?g.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):g.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===u?l("scroll",!0)?g.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):g.ReactEventListener.trapBubbledEvent("topScroll","scroll",g.ReactEventListener.WINDOW_HANDLE):"topFocus"===u||"topBlur"===u?(l("focus",!0)?(g.ReactEventListener.trapCapturedEvent("topFocus","focus",n),g.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):l("focusin")&&(g.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),g.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),i.topBlur=!0,i.topFocus=!0):p.hasOwnProperty(u)&&g.ReactEventListener.trapBubbledEvent(u,p[u],n),i[u]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=g.supportsEventPageXY()),!i&&!f){var e=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}}});e.exports=g},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(39),o=n(120),a=n(72),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(3),i=(n(1),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,u){this.isInTransaction()?r("27"):void 0;var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=e.call(t,n,i,o,a,s,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=o},function(e,t){"use strict";function n(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function r(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var i=/["'&<>]/;e.exports=r},function(e,t,n){"use strict";var r,i=n(8),o=n(62),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(70),c=u(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var l=document.createElement("div");l.innerHTML=" ",""===l.innerHTML&&(c=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),l=null}e.exports=c},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(304),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e){function n(e){var t,n;return t=e>s||e<0?(n=Math.abs(e)%s,e<0?s-n:n):e}function r(e){var t,n,r;for(t=n=0,r=e.length;0<=r?n<r:n>r;t=0<=r?++n:--n)e[t]=0;return!1}function i(){var e;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var t,n;for(n=[],e=t=0;t<4;e=++t)n.push([]);return n}(),this.INV_SUB_MIX=function(){var t,n;for(n=[],e=t=0;t<4;e=++t)n.push([]);return n}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function o(e){for(var t=e.length/4,n=new Array(t),r=-1;++r<t;)n[r]=e.readUInt32BE(4*r);return n}function a(e){this._key=o(e),this._doReset()}var s=Math.pow(2,32);i.prototype.init=function(){var e,t,n,r,i,o,a,s,u,c;for(e=function(){var e,n;for(n=[],t=e=0;e<256;t=++e)t<128?n.push(t<<1):n.push(t<<1^283);return n}(),i=0,u=0,t=c=0;c<256;t=++c)n=u^u<<1^u<<2^u<<3^u<<4,n=n>>>8^255&n^99,this.SBOX[i]=n,this.INV_SBOX[n]=i,o=e[i],a=e[o],s=e[a],r=257*e[n]^16843008*n,this.SUB_MIX[0][i]=r<<24|r>>>8,this.SUB_MIX[1][i]=r<<16|r>>>16,this.SUB_MIX[2][i]=r<<8|r>>>24,this.SUB_MIX[3][i]=r,r=16843009*s^65537*a^257*o^16843008*i,this.INV_SUB_MIX[0][n]=r<<24|r>>>8,this.INV_SUB_MIX[1][n]=r<<16|r>>>16,this.INV_SUB_MIX[2][n]=r<<8|r>>>24,this.INV_SUB_MIX[3][n]=r,0===i?i=u=1:(i=o^e[e[e[s^o]]],u^=e[e[u]]);return!0};var u=new i;a.blockSize=16,a.prototype.blockSize=a.blockSize,a.keySize=32,a.prototype.keySize=a.keySize,a.ivSize=a.blockSize,a.prototype.ivSize=a.ivSize,a.prototype._doReset=function(){var e,t,n,r,i,o,a,s;for(n=this._key,t=n.length,this._nRounds=t+6,i=4*(this._nRounds+1),this._keySchedule=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)this._keySchedule[r]=r<t?n[r]:(o=this._keySchedule[r-1],r%t===0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=u.RCON[r/t|0]<<24):t>6&&r%t===4?o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]:void 0,this._keySchedule[r-t]^o);for(this._invKeySchedule=[],e=s=0;0<=i?s<i:s>i;e=0<=i?++s:--s)r=i-e,o=this._keySchedule[r-(e%4?0:4)],this._invKeySchedule[e]=e<4||r<=4?o:u.INV_SUB_MIX[0][u.SBOX[o>>>24]]^u.INV_SUB_MIX[1][u.SBOX[o>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[o>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&o]];return!0},a.prototype.encryptBlock=function(t){t=o(new e(t));var n=this._doCryptBlock(t,this._keySchedule,u.SUB_MIX,u.SBOX),r=new e(16);return r.writeUInt32BE(n[0],0),r.writeUInt32BE(n[1],4),r.writeUInt32BE(n[2],8),r.writeUInt32BE(n[3],12),r},a.prototype.decryptBlock=function(t){t=o(new e(t));var n=[t[3],t[1]];t[1]=n[0],t[3]=n[1];var r=this._doCryptBlock(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX),i=new e(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i},a.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},a.prototype._doCryptBlock=function(e,t,r,i){var o,a,s,u,c,l,h,f,d,p,m,g;for(s=e[0]^t[0],u=e[1]^t[1],c=e[2]^t[2],l=e[3]^t[3],o=4,a=m=1,g=this._nRounds;1<=g?m<g:m>g;a=1<=g?++m:--m)h=r[0][s>>>24]^r[1][u>>>16&255]^r[2][c>>>8&255]^r[3][255&l]^t[o++],f=r[0][u>>>24]^r[1][c>>>16&255]^r[2][l>>>8&255]^r[3][255&s]^t[o++],d=r[0][c>>>24]^r[1][l>>>16&255]^r[2][s>>>8&255]^r[3][255&u]^t[o++],p=r[0][l>>>24]^r[1][s>>>16&255]^r[2][u>>>8&255]^r[3][255&c]^t[o++],s=h,u=f,c=d,l=p;return h=(i[s>>>24]<<24|i[u>>>16&255]<<16|i[c>>>8&255]<<8|i[255&l])^t[o++],f=(i[u>>>24]<<24|i[c>>>16&255]<<16|i[l>>>8&255]<<8|i[255&s])^t[o++],d=(i[c>>>24]<<24|i[l>>>16&255]<<16|i[s>>>8&255]<<8|i[255&u])^t[o++],p=(i[l>>>24]<<24|i[s>>>16&255]<<16|i[u>>>8&255]<<8|i[255&c])^t[o++],[n(h),n(f),n(d),n(p)]},t.AES=a}).call(t,n(4).Buffer)},function(e,t,n){(function(t){function r(){i.call(this)}var i=n(310).Transform,o=n(12);e.exports=r,o(r,i),r.prototype.update=function(e,n,r){this.write(e,n);for(var i,o=new t("");i=this.read();)o=t.concat([o,i]);return r&&(o=o.toString(r)),o},r.prototype.final=function(e){this.end();for(var n,r=new t("");n=this.read();)r=t.concat([r,n]);return e&&(r=r.toString(e)),r}}).call(t,n(4).Buffer)},function(e,t){t["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},t["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},t["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},t["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},t["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},t["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},t.aes128=t["aes-128-cbc"],t.aes192=t["aes-192-cbc"],t.aes256=t["aes-256-cbc"],t["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},t["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},t["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},t["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},t["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},t["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},t["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},t["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},t["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.go=t.replaceLocation=t.pushLocation=t.startListener=t.getUserConfirmation=t.getCurrentLocation=void 0;var r=n(25),i=n(44),o=n(101),a=n(19),s=n(57),u="popstate",c="hashchange",l=s.canUseDOM&&!(0,i.supportsPopstateOnHashchange)(),h=function(e){var t=e&&e.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:t?(0,o.readState)(t):void 0},void 0,t)},f=t.getCurrentLocation=function(){var e=void 0;try{e=window.history.state||{}}catch(t){e={}}return h(e)},d=(t.getUserConfirmation=function(e,t){return t(window.confirm(e))},t.startListener=function(e){var t=function(t){(0,i.isExtraneousPopstateEvent)(t)||e(h(t.state))};(0,i.addEventListener)(window,u,t);var n=function(){return e(f())};return l&&(0,i.addEventListener)(window,c,n),function(){(0,i.removeEventListener)(window,u,t),l&&(0,i.removeEventListener)(window,c,n)}},function(e,t){var n=e.state,r=e.key;void 0!==n&&(0,o.saveState)(r,n),t({key:r},(0,a.createPath)(e))});t.pushLocation=function(e){return d(e,function(e,t){return window.history.pushState(e,null,t)})},t.replaceLocation=function(e){return d(e,function(e,t){return window.history.replaceState(e,null,t)})},t.go=function(e){e&&window.history.go(e)}},function(e,t){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(185),o=n(19),a=n(59),s=r(a),u=n(43),c=n(25),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getCurrentLocation,n=e.getUserConfirmation,r=e.pushLocation,a=e.replaceLocation,l=e.go,h=e.keyLength,f=void 0,d=void 0,p=[],m=[],g=[],v=function(){return d&&d.action===u.POP?g.indexOf(d.key):f?g.indexOf(f.key):-1},y=function(e){var t=v();f=e,f.action===u.PUSH?g=[].concat(g.slice(0,t+1),[f.key]):f.action===u.REPLACE&&(g[t]=f.key),m.forEach(function(e){return e(f)})},b=function(e){return p.push(e),function(){return p=p.filter(function(t){return t!==e})}},w=function(e){return m.push(e),function(){return m=m.filter(function(t){return t!==e})}},M=function(e,t){(0,i.loopAsync)(p.length,function(t,n,r){(0,s.default)(p[t],e,function(e){return null!=e?r(e):n()})},function(e){n&&"string"==typeof e?n(e,function(e){return t(e!==!1)}):t(e!==!1)})},E=function(e){f&&(0,c.locationsAreEqual)(f,e)||d&&(0,c.locationsAreEqual)(d,e)||(d=e,M(e,function(t){if(d===e)if(d=null,t){if(e.action===u.PUSH){var n=(0,o.createPath)(f),i=(0,o.createPath)(e);i===n&&(0,c.statesAreEqual)(f.state,e.state)&&(e.action=u.REPLACE)}e.action===u.POP?y(e):e.action===u.PUSH?r(e)!==!1&&y(e):e.action===u.REPLACE&&a(e)!==!1&&y(e)}else if(f&&e.action===u.POP){var s=g.indexOf(f.key),h=g.indexOf(e.key);s!==-1&&h!==-1&&l(s-h)}}))},A=function(e){return E(N(e,u.PUSH))},x=function(e){return E(N(e,u.REPLACE))},T=function(){return l(-1)},_=function(){return l(1)},k=function(){return Math.random().toString(36).substr(2,h||6)},S=function(e){return(0,o.createPath)(e)},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k();return(0,c.createLocation)(e,t,n)};return{getCurrentLocation:t,listenBefore:b,listen:w,transitionTo:E,push:A,replace:x,go:l,goBack:T,goForward:_,createKey:k,createPath:o.createPath,createHref:S,createLocation:N}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(21),o=(r(i),function(e,t,n){var r=e(t,n);e.length<2&&n(r)});t.default=o},function(e,t,n){(function(t){"use strict";function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(16))},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){l.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(m(e,i,r),i===n)break;i=o}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function c(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&m(r,document.createTextNode(n),i):n?(p(i,n),u(r,i,t)):u(r,e,t)}var l=n(26),h=n(209),f=(n(6),n(11),n(70)),d=n(49),p=n(127),m=f(function(e,t,n){e.insertBefore(t,n)}),g=h.dangerouslyReplaceNodeWithMarkup,v={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:c,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":i(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":o(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":d(e,s.content);break;case"TEXT_CONTENT":p(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};e.exports=v},function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a("96",e),!c.plugins[n]){t.extractEvents?void 0:a("97",e),c.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)?void 0:a("98",o,e)}}}function i(e,t,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,c.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){c.registrationNameModules[e]?a("100",e):void 0,c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(3),s=(n(1),null),u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?a("102",n):void 0,u[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=c.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=c},function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function i(e){return"topMouseMove"===e||"topTouchMove"===e}function o(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=v.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(i,n,e):m.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function c(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?p("103"):void 0,e.currentTarget=t?v.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function h(e){return!!e._dispatchListeners}var f,d,p=n(3),m=n(68),g=(n(1),n(2),{injectComponentTree:function(e){f=e},injectTreeTraversal:function(e){d=e}}),v={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:l,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,getInstanceFromNode:function(e){return f.getInstanceFromNode(e)},getNodeFromInstance:function(e){return f.getNodeFromInstance(e)},isAncestor:function(e,t){return d.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return d.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return d.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return d.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return d.traverseEnterLeave(e,t,n,r,i)},injection:g};e.exports=v},function(e,t){"use strict";function n(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function r(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:n,unescape:r};e.exports=i},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function i(e){r(e),
null!=e.value||null!=e.onChange?s("88"):void 0}function o(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(3),u=n(238),c=n(108),l=n(31),h=c(l.isValidElement),f=(n(1),n(2),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(e,t,n){return!e[t]||f[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func},p={},m={checkPropTypes:function(e,t,n){for(var r in d){if(d.hasOwnProperty(r))var i=d[r](t,r,e,"prop",null,u);if(i instanceof Error&&!(i.message in p)){p[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=m},function(e,t,n){"use strict";var r=n(3),i=(n(1),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r("104"):void 0,o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===i&&(i=e)}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(e,t){var n=s.get(e);if(!n){return null}return n}var a=n(3),s=(n(18),n(38)),u=(n(11),n(14)),c=(n(1),n(2),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){c.validateCallback(t,n);var i=o(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void r(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var i=o(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,void 0!==n&&null!==n&&(c.validateCallback(n,"replaceState"),i._pendingCallbacks?i._pendingCallbacks.push(n):i._pendingCallbacks=[n]),r(i))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?a("122",t,i(e)):void 0}});e.exports=c},function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=n},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function r(e){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(8);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";var r=(n(5),n(10)),i=(n(2),r);e.exports=i},function(e,t){"use strict";function n(e,t,n){function r(){return a=!0,s?void(c=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function i(){if(!a&&(u=!0,!s)){for(s=!0;!a&&o<e&&u;)u=!1,t.call(this,o++,i,r);return s=!1,a?void n.apply(this,c):void(o>=e&&u&&(a=!0,n()))}}var o=0,a=!1,s=!1,u=!1,c=void 0;i()}function r(e,t,n){function r(e,t,r){a||(t?(a=!0,n(t)):(o[e]=r,a=++s===i,a&&n(null,o)))}var i=e.length,o=[];if(0===i)return n(null,o);var a=!1,s=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"@@contextSubscriber/"+e}function o(e){var t,n,r=i(e),o=r+"/listeners",a=r+"/eventIndex",s=r+"/subscribe";return n={childContextTypes:(t={},t[r]=c.isRequired,t),getChildContext:function(){var e;return e={},e[r]={eventIndex:this[a],subscribe:this[s]},e},componentWillMount:function(){this[o]=[],this[a]=0},componentWillReceiveProps:function(){this[a]++},componentDidUpdate:function(){var e=this;this[o].forEach(function(t){return t(e[a])})}},n[s]=function(e){var t=this;return this[o].push(e),function(){t[o]=t[o].filter(function(t){return t!==e})}},n}function a(e){var t,n,r=i(e),o=r+"/lastRenderedEventIndex",a=r+"/handleContextUpdate",s=r+"/unsubscribe";return n={contextTypes:(t={},t[r]=c,t),getInitialState:function(){var e;return this.context[r]?(e={},e[o]=this.context[r].eventIndex,e):{}},componentDidMount:function(){this.context[r]&&(this[s]=this.context[r].subscribe(this[a]))},componentWillReceiveProps:function(){var e;this.context[r]&&this.setState((e={},e[o]=this.context[r].eventIndex,e))},componentWillUnmount:function(){this[s]&&(this[s](),this[s]=null)}},n[a]=function(e){if(e!==this.state[o]){var t;this.setState((t={},t[o]=e,t))}},n}t.__esModule=!0,t.ContextProvider=o,t.ContextSubscriber=a;var s=n(13),u=r(s),c=u.default.shape({subscribe:u.default.func.isRequired,eventIndex:u.default.number.isRequired})},function(e,t,n){"use strict";t.__esModule=!0,t.locationShape=t.routerShape=void 0;var r=n(13);t.routerShape=(0,r.shape)({push:r.func.isRequired,replace:r.func.isRequired,go:r.func.isRequired,goBack:r.func.isRequired,goForward:r.func.isRequired,setRouteLeaveHook:r.func.isRequired,isActive:r.func.isRequired}),t.locationShape=(0,r.shape)({pathname:r.string.isRequired,search:r.string.isRequired,state:r.object,action:r.string.isRequired,key:r.string})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(9),s=r(a),u=n(7),c=r(u),l=n(15),h=r(l),f=n(13),d=n(277),p=r(d),m=n(78),g=n(20),v=(0,h.default)({displayName:"RouterContext",mixins:[(0,m.ContextProvider)("router")],propTypes:{router:f.object.isRequired,location:f.object.isRequired,routes:f.array.isRequired,params:f.object.isRequired,components:f.array.isRequired,createElement:f.func.isRequired},getDefaultProps:function(){return{createElement:c.default.createElement}},childContextTypes:{router:f.object.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.location,r=t.routes,a=t.params,u=t.components,l=t.router,h=null;return u&&(h=u.reduceRight(function(t,s,u){if(null==s)return t;var c=r[u],h=(0,p.default)(c,a),f={location:n,params:a,route:c,router:l,routeParams:h,routes:r};if((0,g.isReactChildren)(t))f.children=t;else if(t)for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(f[d]=t[d]);if("object"===("undefined"==typeof s?"undefined":o(s))){var m={};for(var v in s)Object.prototype.hasOwnProperty.call(s,v)&&(m[v]=e.createElement(s[v],i({key:v},f)));return m}return e.createElement(s,f)},h)),null===h||h===!1||c.default.isValidElement(h)?void 0:(0,s.default)(!1),h}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.RouterContext=t.createRoutes=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var i=n(20);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return i.createRoutes}});var o=n(79);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return o.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return o.routerShape}});var a=n(29);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return a.formatPattern}});var s=n(271),u=r(s),c=n(129),l=r(c),h=n(267),f=r(h),d=n(282),p=r(d),m=n(268),g=r(m),v=n(269),y=r(v),b=n(131),w=r(b),M=n(270),E=r(M),A=n(80),x=r(A),T=n(280),_=r(T),k=n(136),S=r(k),N=n(273),L=r(N),D=n(274),C=r(D),I=n(278),O=r(I),R=n(133),j=r(R);t.Router=u.default,t.Link=l.default,t.IndexLink=f.default,t.withRouter=p.default,t.IndexRedirect=g.default,t.IndexRoute=y.default,t.Redirect=w.default,t.Route=E.default,t.RouterContext=x.default,t.match=_.default,t.useRouterHistory=S.default,t.applyRouterMiddleware=L.default,t.browserHistory=C.default,t.hashHistory=O.default,t.createMemoryHistory=j.default},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var i=n(33),o=n(83),a=(n(139),n(24));n(1),n(2);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?i("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=r},function(e,t,n){"use strict";function r(e,t){}var i=(n(2),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});e.exports=i},function(e,t,n){(function(t,r){"use strict";function i(){}function o(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function a(e,t){x=x||n(23),e=e||{},this.objectMode=!!e.objectMode,t instanceof x&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){m(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new A(this)}function s(e){return x=x||n(23),C.call(s,this)||this instanceof x?(this._writableState=new a(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void N.call(this)):new s(e)}function u(e,t){var n=new Error("write after end");e.emit("error",n),T(t,n)}function c(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),T(r,o),i=!1),i}function l(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=D.from(t,n)),t}function h(e,t,n,r,i,a){n||(r=l(t,r,i),L.isBuffer(r)&&(i="buffer"));var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest=new o(r,i,a),c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else f(e,t,!1,s,r,i,a);return u}function f(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function d(e,t,n,r,i){--t.pendingcb,n?T(i,r):i(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function p(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function m(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(p(n),t)d(e,n,r,t,i);else{var o=b(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?_(g,e,n,o,i):g(e,n,o,i)}}function g(e,t,n,r){n||v(e,t),t.pendingcb--,r(),M(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0;n;)i[a]=n,n=n.next,a+=1;f(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new A(t)}else{for(;n;){var s=n.chunk,u=n.encoding,c=n.callback,l=t.objectMode?1:s.length;if(f(e,t,!1,l,s,u,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function M(e,t){var n=b(t);return n&&(0===t.pendingcb?(w(e,t),t.finished=!0,e.emit("finish")):w(e,t)),n}function E(e,t,n){t.ending=!0,M(e,t),n&&(t.finished?T(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function A(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}e.exports=s;var x,T=n(60),_=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:T;s.WritableState=a;var k=n(34);k.inherits=n(12);var S={deprecate:n(312)},N=n(142),L=n(4).Buffer,D=n(42);k.inherits(s,N),a.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(a.prototype,"buffer",{get:S.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var C;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(e){return!!C.call(this,e)||e&&e._writableState instanceof a}})):C=function(e){return e instanceof this},s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(e,t,n){var r=this._writableState,o=!1,a=L.isBuffer(e);return"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=i),r.ended?u(this,n):(a||c(this,r,e,n))&&(r.pendingcb++,o=h(this,r,a,e,t,n)),o},s.prototype.cork=function(){var e=this._writableState;e.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},s.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||E(this,r,n)}}).call(t,n(16),n(50).setImmediate)},function(e,t,n){t=e.exports=n(140),t.Stream=t,t.Readable=t,t.Writable=n(84),t.Duplex=n(23),t.Transform=n(141),t.PassThrough=n(298)},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),M(r.showHidden)&&(r.showHidden=!1),M(r.depth)&&(r.depth=2),M(r.colors)&&(r.colors=!1),M(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=c(e,n);if(o)return o;var a=Object.keys(n),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(_(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(T(n))return l(n)}var v="",y=!1,w=["{","}"];if(p(n)&&(y=!0,w=["[","]"]),_(n)){var M=n.name?": "+n.name:"";v=" [Function"+M+"]"}if(E(n)&&(v=" "+RegExp.prototype.toString.call(n)),x(n)&&(v=" "+Date.prototype.toUTCString.call(n)),T(n)&&(v=" "+l(n)),0===a.length&&(!y||0==n.length))return w[0]+v+w[1];if(r<0)return E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var A;return A=y?h(e,n,r,m,a):a.map(function(t){return f(e,n,r,m,t,y)}),e.seen.pop(),d(A,v,w)}function c(e,t){if(M(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)D(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))}),o}function f(e,t,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),D(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=g(n)?u(e,c.value,null):u(e,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),M(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function M(e){return void 0===e}function E(e){return A(e)&&"[object RegExp]"===S(e)}function A(e){return"object"==typeof e&&null!==e}function x(e){return A(e)&&"[object Date]"===S(e)}function T(e){return A(e)&&("[object Error]"===S(e)||e instanceof Error)}function _(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function S(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}function L(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var C=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(C,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])a+=g(s)||!A(s)?" "+s:" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(M(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var I,O={};t.debuglog=function(e){if(M(I)&&(I={NODE_ENV:"production",PUBLIC_URL:"."}.NODE_DEBUG||""),e=e.toUpperCase(),!O[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var n=r.pid;O[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else O[e]=function(){};return O[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=b,t.isSymbol=w,t.isUndefined=M,t.isRegExp=E,t.isObject=A,t.isDate=x,t.isError=T,t.isFunction=_,t.isPrimitive=k,t.isBuffer=n(314);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",L(),t.format.apply(t,arguments))},t.inherits=n(313),t._extend=function(e,t){if(!t||!A(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(16))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.pdfStat&&e.pdfStat.pageNumber,r="behind";return null!=n&&(r=n<t-2?"behind":n>t+2?"ahead":"on-track"),Object.assign({},e,{progress:r})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(202),o=r(i);t.default=o.default.createClass({apiKey:"AIzaSyD9mjz3baEAtuezAJyPJuk1zUU2BagHTUQ",authDomain:"insightful-e5084.firebaseapp.com",databaseURL:"https://insightful-e5084.firebaseio.com",projectId:"insightful-e5084",storageBucket:"insightful-e5084.appspot.com"})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={progress:{"on-track":"Currently On Track",behind:"Currently Behind",ahead:"Currently Ahead"}}},function(e,t,n){(function(t){e.exports=function(e,n,r,i){r/=8,i=i||0;for(var o,a,s,u=0,c=0,l=new t(r),h=new t(i),f=0;;){if(o=e.createHash("md5"),f++>0&&o.update(a),o.update(n),a=o.digest(),s=0,r>0)for(;;){if(0===r)break;if(s===a.length)break;l[u++]=a[s],r--,s++}if(i>0&&s!==a.length)for(;;){if(0===i)break;if(s===a.length)break;h[c++]=a[s],i--,s++}if(0===r&&0===i)break}for(s=0;s<a.length;s++)a[s]=0;return{key:l,iv:h}}}).call(t,n(4).Buffer)},function(e,t,n){var r=n(41);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){(function(e){function r(t,n,r){var o=n.length,a=i(n,t._cache);return t._cache=t._cache.slice(o),t._prev=e.concat([t._prev,r?n:a]),a}var i=n(41);t.encrypt=function(t,n,i){for(var o,a=new e("");n.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=new e("")),!(t._cache.length<=n.length)){a=e.concat([a,r(t,n,i)]);break}o=t._cache.length,a=e.concat([a,r(t,n.slice(0,o),i)]),n=n.slice(o)}return a}}).call(t,n(4).Buffer)},function(e,t,n){(function(e){function r(e){var t=e._cipher.encryptBlock(e._prev);return i(e._prev),t}function i(e){for(var t,n=e.length;n--;){if(t=e.readUInt8(n),255!==t){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}var o=n(41);t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var i=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),o(n,i)}}).call(t,n(4).Buffer)},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){(function(e){function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var i=n(41);t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,o)}}).call(t,n(4).Buffer)},function(e,t,n){(function(t){function r(e,n,a,s){return this instanceof r?(o.call(this),this._cipher=new i.AES(n),this._prev=new t(a.length),this._cache=new t(""),this._secCache=new t(""),this._decrypt=s,a.copy(this._prev),void(this._mode=e)):new r(e,n,a)}var i=n(51),o=n(52),a=n(12);a(r,o),e.exports=r,r.prototype._transform=function(e,t,n){n(null,this._mode.encrypt(this,e,this._decrypt))},r.prototype._flush=function(e){this._cipher.scrub(),e()}}).call(t,n(4).Buffer)},function(e,t,n){(function(t){function r(e){return function(){var n=[],r={update:function(e,r){return t.isBuffer(e)||(e=new t(e,r)),n.push(e),this},digest:function(r){var i=t.concat(n),o=e(i);return n=null,r?o.toString(r):o}};return r}}var i=n(306),o=r(n(164)),a=r(n(303));e.exports=function(e){return"md5"===e?new o:"rmd160"===e?new a:i(e)}}).call(t,n(4).Buffer)},function(e,t,n){"use strict";var r=n(10),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t){"use strict";function n(e){try{e.focus()}catch(e){}}e.exports=n},function(e,t){"use strict";function n(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.readState=t.saveState=void 0;var i=n(21),o=(r(i),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),a={SecurityError:!0},s="@@History/",u=function(e){return s+e};t.saveState=function(e,t){if(window.sessionStorage)try{null==t?window.sessionStorage.removeItem(u(e)):window.sessionStorage.setItem(u(e),JSON.stringify(t))}catch(e){if(a[e.name])return;if(o[e.name]&&0===window.sessionStorage.length)return;throw e}},t.readState=function(e){var t=void 0;try{t=window.sessionStorage.getItem(u(e))}catch(e){if(a[e.name])return}if(t)try{return JSON.parse(t)}catch(e){}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(59),a=r(o),s=n(19),u=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),r=t.basename,o=function(e){return e?(r&&null==e.basename&&(0===e.pathname.toLowerCase().indexOf(r.toLowerCase())?(e.pathname=e.pathname.substring(r.length),e.basename=r,""===e.pathname&&(e.pathname="/")):e.basename=""),e):e},u=function(e){if(!r)return e;var t="string"==typeof e?(0,s.parsePath)(e):e,n=t.pathname,o="/"===r.slice(-1)?r:r+"/",a="/"===n.charAt(0)?n.slice(1):n,u=o+a;return i({},t,{pathname:u})},c=function(){return o(n.getCurrentLocation())},l=function(e){return n.listenBefore(function(t,n){return(0,a.default)(e,o(t),n)})},h=function(e){return n.listen(function(t){return e(o(t))})},f=function(e){return n.push(u(e))},d=function(e){return n.replace(u(e))},p=function(e){return n.createPath(u(e))},m=function(e){return n.createHref(u(e))},g=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(n.createLocation.apply(n,[u(e)].concat(r)))};return i({},n,{getCurrentLocation:c,listenBefore:l,listen:h,push:f,replace:d,createPath:p,createHref:m,createLocation:g})}};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(191),a=n(59),s=r(a),u=n(25),c=n(19),l=function(e){return(0,o.stringify)(e).replace(/%20/g,"+")},h=o.parse,f=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),r=t.stringifyQuery,o=t.parseQueryString;"function"!=typeof r&&(r=l),"function"!=typeof o&&(o=h);var a=function(e){return e?(null==e.query&&(e.query=o(e.search.substring(1))),e):e},f=function(e,t){if(null==t)return e;var n="string"==typeof e?(0,c.parsePath)(e):e,o=r(t),a=o?"?"+o:"";return i({},n,{search:a})},d=function(){return a(n.getCurrentLocation())},p=function(e){return n.listenBefore(function(t,n){return(0,s.default)(e,a(t),n)})},m=function(e){return n.listen(function(t){return e(a(t))})},g=function(e){return n.push(f(e,e.query))},v=function(e){return n.replace(f(e,e.query))},y=function(e){return n.createPath(f(e,e.query))},b=function(e){return n.createHref(f(e,e.query))},w=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=n.createLocation.apply(n,[f(e,e.query)].concat(r));return e.query&&(o.query=(0,u.createQuery)(e.query)),a(o)};return i({},n,{getCurrentLocation:d,listenBefore:p,listen:m,push:g,replace:v,createPath:y,createHref:b,createLocation:w})}};t.default=f},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);
return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(16))},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return v=e,y}}function o(e,t){try{return e(t)}catch(e){return v=e,y}}function a(e,t,n){try{e(t,n)}catch(e){return v=e,y}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&m(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),c(e,new p(t,n,a))})}function c(e,t){for(;3===e._81;)e=e._65;return s._10&&s._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void l(e,t)}function l(e,t){g(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?h(t.promise,e._65):f(t.promise,e._65));var r=o(n,e._65);r===y?f(t.promise,v):h(t.promise,r)})}function h(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===y)return f(e,v);if(n===e.then&&t instanceof s)return e._81=3,e._65=t,void d(e);if("function"==typeof n)return void m(n.bind(t),e)}e._81=1,e._65=t,d(e)}function f(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),d(e)}function d(e){if(1===e._45&&(c(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)c(e,e._54[t]);e._54=null}}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=a(e,function(e){n||(n=!0,h(t,e))},function(e){n||(n=!0,f(t,e))});n||r!==y||(n=!0,f(t,v))}var g=n(147),v=null,y={};e.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new p(e,t,n)),n}},function(e,t,n){"use strict";var r=n(199);e.exports=function(e){var t=!1;return r(e,t)}},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(3),o=n(22),a=(n(1),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length?i("24"):void 0,this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=o.addPoolingTo(a)},function(e,t,n){"use strict";function r(e){return!!c.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(c[e]=!0,!0):(u[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var o=n(27),a=(n(6),n(11),n(265)),s=(n(2),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),u={},c={},l={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(t))return void l.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=l},function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=u.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=n(5),s=n(66),u=n(6),c=n(14),l=(n(2),!1),h={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||l||(l=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=h},function(e,t){"use strict";var n,r={injectEmptyComponentFactory:function(e){n=e}},i={create:function(e){return n(e)}};i.injection=r,e.exports=i},function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},function(e,t,n){"use strict";function r(e){return s?void 0:a("111",e.type),new s(e)}function i(e){return new u(e)}function o(e){return e instanceof u}var a=n(3),s=(n(1),null),u=null,c={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){u=e}},l={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:c};e.exports=l},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(225),o=n(170),a=n(99),s=n(100),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=u},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===O?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(D)||""}function a(e,t,n,r,i){var o;if(M.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var u=x.mountComponent(e,n,null,b(e,t),i,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var i=_.ReactReconcileTransaction.getPooled(!n&&w.useCreateElement);i.perform(a,null,e,t,i,n,r),_.ReactReconcileTransaction.release(i)}function u(e,t,n){for(x.unmountComponent(e,n),t.nodeType===O&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function c(e){var t=i(e);if(t){var n=y.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function l(e){return!(!e||e.nodeType!==I&&e.nodeType!==O&&e.nodeType!==R)}function h(e){var t=i(e),n=t&&y.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function f(e){var t=h(e);return t?t._hostContainerInfo._topLevelWrapper:null}var d=n(3),p=n(26),m=n(27),g=n(31),v=n(45),y=(n(18),n(6)),b=n(219),w=n(221),M=n(115),E=n(38),A=(n(11),n(235)),x=n(28),T=n(69),_=n(14),k=n(24),S=n(125),N=(n(1),n(49)),L=n(75),D=(n(2),m.ID_ATTRIBUTE_NAME),C=m.ROOT_ATTRIBUTE_NAME,I=1,O=9,R=11,j={},P=1,U=function(){this.rootID=P++};U.prototype.isReactComponent={},U.prototype.render=function(){return this.props.child},U.isReactTopLevelWrapper=!0;var F={TopLevelWrapper:U,_instancesByReactRootID:j,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return F.scrollMonitor(r,function(){T.enqueueElementInternal(e,t,n),i&&T.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){l(t)?void 0:d("37"),v.ensureScrollValueMonitoring();var i=S(e,!1);_.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return j[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&E.has(e)?void 0:d("38"),F._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),g.isValidElement(t)?void 0:d("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=g.createElement(U,{child:t});if(e){var u=E.get(e);a=u._processChildContext(u._context)}else a=k;var l=f(n);if(l){var h=l._currentElement,p=h.props.child;if(L(p,t)){var m=l._renderedComponent.getPublicInstance(),v=r&&function(){r.call(m)};return F._updateRootComponent(l,s,a,n,v),m}F.unmountComponentAtNode(n)}var y=i(n),b=y&&!!o(y),w=c(n),M=b&&!l&&!w,A=F._renderNewRootComponent(s,n,M,a)._renderedComponent.getPublicInstance();return r&&r.call(A),A},render:function(e,t,n){return F._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){l(e)?void 0:d("40");var t=f(e);if(!t){c(e),1===e.nodeType&&e.hasAttribute(C);return!1}return delete j[t._instance.rootID],_.batchedUpdates(u,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(l(t)?void 0:d("41"),o){var s=i(t);if(A.canReuseMarkup(e,s))return void y.precacheNode(n,s);var u=s.getAttribute(A.CHECKSUM_ATTR_NAME);s.removeAttribute(A.CHECKSUM_ATTR_NAME);var c=s.outerHTML;s.setAttribute(A.CHECKSUM_ATTR_NAME,u);var h=e,f=r(h,c),m=" (client) "+h.substring(f-20,f+20)+"\n (server) "+c.substring(f-20,f+20);t.nodeType===O?d("42",m):void 0}if(t.nodeType===O?d("43"):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);p.insertTreeBefore(t,e,null)}else N(t,e),y.precacheNode(n,t.firstChild)}};e.exports=F},function(e,t,n){"use strict";var r=n(3),i=n(31),o=(n(1),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?o.EMPTY:i.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.HOST:void r("26",e)}});e.exports=o},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function r(e,t){return null==t?i("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=n(3);n(1);e.exports=r},function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(119);e.exports=r},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(8),o=null;e.exports=r},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e,t){var n;if(null===e||e===!1)n=c.create(o);else if("object"==typeof e){var s=e,u=s.type;if("function"!=typeof u&&"string"!=typeof u){var f="";f+=r(s._owner),a("130",null==u?u:typeof u,f)}"string"==typeof s.type?n=l.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new h(s)}else"string"==typeof e||"number"==typeof e?n=l.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=n(3),s=n(5),u=n(216),c=n(114),l=n(116),h=(n(294),n(1),n(2),function(e){this.construct(e)});s(h.prototype,u,{_instantiateReactComponent:o}),e.exports=o},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";var r=n(8),i=n(48),o=n(49),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){return 3===e.nodeType?void(e.nodeValue=t):void o(e,i(t))})),e.exports=a},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function i(e,t,n,o){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||"object"===f&&e.$$typeof===s)return n(o,e,""===t?l+r(e,0):t),1;var d,p,m=0,g=""===t?l:t+h;if(Array.isArray(e))for(var v=0;v<e.length;v++)d=e[v],p=g+r(d,v),m+=i(d,p,n,o);else{var y=u(e);if(y){var b,w=y.call(e);if(y!==e.entries)for(var M=0;!(b=w.next()).done;)d=b.value,p=g+r(d,M++),m+=i(d,p,n,o);else for(;!(b=w.next()).done;){var E=b.value;E&&(d=E[1],p=g+c.escape(E[0])+h+r(d,0),m+=i(d,p,n,o))}}else if("object"===f){var A="",x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,A)}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(3),s=(n(18),n(231)),u=n(262),c=(n(1),n(65)),l=(n(2),"."),h=":";e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return 0===e.button}function a(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function u(e,t){return"function"==typeof e?e(t.location):e}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(7),h=r(l),f=n(15),d=r(f),p=n(13),m=n(9),g=r(m),v=n(79),y=n(78),b=(0,d.default)({displayName:"Link",mixins:[(0,y.ContextSubscriber)("router")],contextTypes:{router:v.routerShape},propTypes:{to:(0,p.oneOfType)([p.string,p.object,p.func]),activeStyle:p.object,activeClassName:p.string,onlyActiveOnIndex:p.bool.isRequired,onClick:p.func,target:p.string},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t?void 0:(0,g.default)(!1),!a(e)&&o(e)&&(this.props.target||(e.preventDefault(),t.push(u(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,r=e.activeStyle,o=e.onlyActiveOnIndex,a=i(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),l=this.context.router;if(l){if(!t)return h.default.createElement("a",a);var f=u(t,l);a.href=l.createHref(f),(n||null!=r&&!s(r))&&l.isActive(f,o)&&(n&&(a.className?a.className+=" "+n:a.className=n),r&&(a.style=c({},a.style,r)))}return h.default.createElement("a",c({},a,{onClick:this.handleClick}))}});t.default=b,e.exports=t.default},function(e,t){"use strict";function n(e){return e&&"function"==typeof e.then}t.__esModule=!0,t.isPromise=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(15),o=r(i),a=n(13),s=n(9),u=r(s),c=n(20),l=n(29),h=n(40),f=(0,o.default)({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,c.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,i=e.params,o=void 0;if("/"===t.to.charAt(0))o=(0,l.formatPattern)(t.to,i);else if(t.to){var a=e.routes.indexOf(t),s=f.getRoutePattern(e.routes,a-1),u=s.replace(/\/*$/,"/")+t.to;o=(0,l.formatPattern)(u,i)}else o=r.pathname;n({pathname:o,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var i=e[r],o=i.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:a.string,from:a.string,to:a.string.isRequired,query:a.object,state:a.object,onEnter:h.falsy,children:h.falsy},render:function(){(0,u.default)(!1)}});t.default=f,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var o=i({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive});return r(o,n)}function r(e,t){var n=t.location,r=t.params,i=t.routes;return e.location=n,e.params=r,e.routes=i,e}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=n,t.assignRouterState=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,l.default)(e),n=function(){return t},r=(0,a.default)((0,u.default)(n))(e);return r}t.__esModule=!0,t.default=i;var o=n(103),a=r(o),s=n(102),u=r(s),c=n(190),l=r(c);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0;return s&&(t=(0,a.default)(e)()),t}t.__esModule=!0,t.default=i;var o=n(136),a=r(o),s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e,t){function n(t,n){return t=e.createLocation(t),(0,d.default)(t,n,b.location,b.routes,b.params)}function r(e,n){x&&x.location===e?o(x,n):(0,v.default)(t,e,function(t,r){t?n(t):r?o(a({},r,{location:e}),n):n()})}function o(e,t){function n(n,i){return n||i?r(n,i):void(0,m.default)(e,function(n,r){n?t(n):t(null,null,b=a({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var i=(0,c.default)(b,e),o=i.leaveRoutes,s=i.changeRoutes,u=i.enterRoutes;A(o,b),o.filter(function(e){return u.indexOf(e)===-1}).forEach(p),E(s,b,e,function(t,i){return t||i?r(t,i):void M(u,e,n)})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=T++)}function u(e){return e.map(function(e){return _[s(e)]}).filter(function(e){return e})}function l(e,n){(0,v.default)(t,e,function(t,r){if(null==r)return void n();x=a({},r,{location:e});for(var i=u((0,c.default)(b,x).leaveRoutes),o=void 0,s=0,l=i.length;null==o&&s<l;++s)o=i[s](e);n(o)})}function f(){if(b.routes){for(var e=u(b.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function p(e){var t=s(e);t&&(delete _[t],i(_)||(k&&(k(),k=null),S&&(S(),S=null)))}function g(t,n){var r=!i(_),o=s(t,!0);return _[o]=n,r&&(k=e.listenBefore(l),e.listenBeforeUnload&&(S=e.listenBeforeUnload(f))),function(){p(t)}}function y(t){function n(n){b.location===n?t(null,b):r(n,function(n,r,i){n?t(n):r?e.replace(r):i&&t(null,i)})}var i=e.listen(n);return b.location?t(null,b):n(e.getCurrentLocation()),i}var b={},w=(0,h.default)(),M=w.runEnterHooks,E=w.runChangeHooks,A=w.runLeaveHooks,x=void 0,T=1,_=Object.create(null),k=void 0,S=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:g,listen:y}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var s=n(30),u=(r(s),n(275)),c=r(u),l=n(272),h=r(l),f=n(279),d=r(f),p=n(276),m=r(p),g=n(281),v=r(g);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t){var n=(0,a.default)((0,u.default)(e))(t);return n}}t.__esModule=!0,t.default=i;var o=n(103),a=r(o),s=n(102),u=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(e){return!1}}function i(e){var t=c(e);if(t){var n=t.childIDs;l(e),n.forEach(i)}}function o(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function a(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t,n=T.getDisplayName(e),r=T.getElement(e),i=T.getOwnerID(e);return i&&(t=T.getDisplayName(i)),o(n,r&&r._source,t)}var u,c,l,h,f,d,p,m=n(33),g=n(18),v=(n(1),n(2),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));if(v){var y=new Map,b=new Set;u=function(e,t){y.set(e,t)},c=function(e){return y.get(e)},l=function(e){y.delete(e)},h=function(){return Array.from(y.keys())},f=function(e){b.add(e)},d=function(e){b.delete(e)},p=function(){return Array.from(b.keys())}}else{var w={},M={},E=function(e){return"."+e},A=function(e){return parseInt(e.substr(1),10)};u=function(e,t){var n=E(e);w[n]=t},c=function(e){var t=E(e);return w[t]},l=function(e){var t=E(e);delete w[t]},h=function(){return Object.keys(w).map(A)},f=function(e){var t=E(e);M[t]=!0},d=function(e){var t=E(e);delete M[t]},p=function(){return Object.keys(M).map(A)}}var x=[],T={onSetChildren:function(e,t){var n=c(e);n?void 0:m("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],o=c(i);o?void 0:m("140"),null==o.childIDs&&"object"==typeof o.element&&null!=o.element?m("141"):void 0,o.isMounted?void 0:m("71"),null==o.parentID&&(o.parentID=e),o.parentID!==e?m("142",i,o.parentID,e):void 0}},onBeforeMountComponent:function(e,t,n){var r={element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};u(e,r)},onBeforeUpdateComponent:function(e,t){var n=c(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=c(e);t?void 0:m("144"),t.isMounted=!0;var n=0===t.parentID;n&&f(e)},onUpdateComponent:function(e){var t=c(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=c(e);if(t){t.isMounted=!1;var n=0===t.parentID;n&&d(e)}x.push(e)},purgeUnmountedComponents:function(){if(!T._preventPurging){for(var e=0;e<x.length;e++){var t=x[e];i(t)}x.length=0}},isMounted:function(e){var t=c(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=a(e),r=e._owner;t+=o(n,e._source,r&&r.getName())}var i=g.current,s=i&&i._debugID;return t+=T.getStackAddendumByID(s)},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=T.getParentID(e);return t},getChildIDs:function(e){var t=c(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=T.getElement(e);return t?a(t):null},getElement:function(e){var t=c(e);return t?t.element:null},getOwnerID:function(e){var t=T.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=c(e);return t?t.parentID:null},getSource:function(e){var t=c(e),n=t?t.element:null,r=null!=n?n._source:null;return r},getText:function(e){var t=T.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=c(e);return t?t.updateCount:0},getRootIDs:p,getRegisteredIDs:h};e.exports=T},function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?L(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function i(e,t){S=S||n(23),e=e||{},this.objectMode=!!e.objectMode,t instanceof S&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(U||(U=n(143).StringDecoder),this.decoder=new U(e.encoding),this.encoding=e.encoding)}function o(e){return S=S||n(23),this instanceof o?(this._readableState=new i(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void C.call(this)):new o(e)}function a(e,t,n,r,i){var o=l(t,n);if(o)e.emit("error",o);else if(null===n)t.reading=!1,h(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var u=new Error("stream.unshift() after end event");e.emit("error",u)}else{var c;!t.decoder||i||r||(n=t.decoder.write(n),c=!t.objectMode&&0===n.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&f(e))),p(e,t)}else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function u(e){return e>=B?e=B:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function c(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=u(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function l(e,t){var n=null;return I.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,f(e)}}function f(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(P("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?N(d,e):d(e))}function d(e){P("emit readable"),e.emit("readable"),w(e)}function p(e,t){t.readingMore||(t.readingMore=!0,N(m,e,t));
}function m(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(P("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;P("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&D(e,"data")&&(t.flowing=!0,w(e))}}function v(e){P("readable nexttick read 0"),e.read(0)}function y(e,t){t.resumeScheduled||(t.resumeScheduled=!0,N(b,e,t))}function b(e,t){t.reading||(P("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),w(e),t.flowing&&!t.reading&&e.read(0)}function w(e){var t=e._readableState;for(P("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=E(e,t.buffer,t.decoder),n}function E(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):x(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(i+=a===o.length?o:o.slice(0,e),e-=a,0===e){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function x(e,t){var n=O.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),e-=a,0===e){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,N(_,t,e))}function _(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function k(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}e.exports=o;var S,N=n(60),L=n(104);o.ReadableState=i;var D=(n(54).EventEmitter,function(e,t){return e.listeners(t).length}),C=n(142),I=n(4).Buffer,O=n(42),R=n(34);R.inherits=n(12);var j=n(318),P=void 0;P=j&&j.debuglog?j.debuglog("stream"):function(){};var U,F=n(299);R.inherits(o,C);var z=["error","close","destroy","pause","resume"];o.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding,t!==n.encoding&&(e=O.from(e,t),t="")),a(this,n,e,t,!1)},o.prototype.unshift=function(e){var t=this._readableState;return a(this,t,e,"",!0)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(e){return U||(U=n(143).StringDecoder),this._readableState.decoder=new U(e),this._readableState.encoding=e,this};var B=8388608;o.prototype.read=function(e){P("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return P("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):f(this),null;if(e=c(e,t),0===e&&t.ended)return 0===t.length&&T(this),null;var r=t.needReadable;P("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,P("length less than watermark",r)),t.ended||t.reading?(r=!1,P("reading or ended",r)):r&&(P("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=c(n,t)));var i;return i=e>0?M(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==i&&this.emit("data",i),i},o.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(e,n){function i(e){P("onunpipe"),e===f&&a()}function o(){P("onend"),e.end()}function a(){P("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",v),e.removeListener("error",u),e.removeListener("unpipe",i),f.removeListener("end",o),f.removeListener("end",a),f.removeListener("data",s),y=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){P("ondata"),b=!1;var n=e.write(t);!1!==n||b||((1===d.pipesCount&&d.pipes===e||d.pipesCount>1&&k(d.pipes,e)!==-1)&&!y&&(P("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,b=!0),f.pause())}function u(t){P("onerror",t),h(),e.removeListener("error",u),0===D(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",l),h()}function l(){P("onfinish"),e.removeListener("close",c),h()}function h(){P("unpipe"),f.unpipe(e)}var f=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,P("pipe count=%d opts=%j",d.pipesCount,n);var p=(!n||n.end!==!1)&&e!==t.stdout&&e!==t.stderr,m=p?o:a;d.endEmitted?N(m):f.once("end",m),e.on("unpipe",i);var v=g(f);e.on("drain",v);var y=!1,b=!1;return f.on("data",s),r(e,"error",u),e.once("close",c),e.once("finish",l),e.emit("pipe",f),d.flowing||(P("pipe resume"),f.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=k(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},o.prototype.on=function(e,t){var n=C.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&f(this,r):N(v,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||(P("resume"),e.flowing=!0,y(this,e)),this},o.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(P("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(P("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<z.length;o++)e.on(z[o],r.emit.bind(r,z[o]));return r._read=function(t){P("wrapped _read",t),n&&(n=!1,e.resume())},r},o._fromList=M}).call(t,n(16))},function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(t)})}function a(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=o;var s=n(23),u=n(34);u.inherits=n(12),u.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,n){e.exports=n(54).EventEmitter},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(y.isEncoding===w||!w(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=f,this.end=d,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=p,this.end=m,t=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=a(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=a(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function u(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"�".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�".repeat(n+2)}}function c(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t}function f(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function p(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}var y=n(4).Buffer,b=n(42),w=y.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=h,o.prototype.text=l,o.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},function(module,exports,__webpack_require__){(function(process,module,Buffer){function globalEval(e){eval.call(null,e)}function assert(e,t){e||abort("Assertion failed: "+t)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,n,r){switch(n=n||"i8","*"===n.charAt(n.length-1)&&(n="i32"),n){case"i1":HEAP8[e>>0]=t;break;case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+n)}}function getValue(e,t,n){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":return HEAP8[e>>0];case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":return HEAP32[e>>2];case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}function allocate(e,t,n,r){var i,o;"number"==typeof e?(i=!0,o=e):(i=!1,o=e.length);var a,s="string"==typeof t?t:null;if(a=n==ALLOC_NONE?r:["function"==typeof _malloc?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===n?ALLOC_STATIC:n](Math.max(o,s?1:t.length)),i){var u,r=a;for(assert(0==(3&a)),u=a+(o&-4);r<u;r+=4)HEAP32[r>>2]=0;for(u=a+o;r<u;)HEAP8[r++>>0]=0;return a}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,a):HEAPU8.set(new Uint8Array(e),a),a;for(var c,l,h,f=0;f<o;){var d=e[f];"function"==typeof d&&(d=Runtime.getFunctionIndex(d)),c=s||t[f],0!==c?("i64"==c&&(c="i32"),setValue(a+f,d,c),h!==c&&(l=Runtime.getNativeTypeSize(c),h=c),f+=l):f++}return a}function getMemory(e){return staticSealed?runtimeInitialized?_malloc(e):Runtime.dynamicAlloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;;){if(n=HEAPU8[e+i>>0],r|=n,0==n&&!t)break;if(i++,t&&i==t)break}t||(t=i);var o="";if(r<128){for(var a,s=1024;t>0;)a=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,s))),o=o?o+a:a,e+=s,t-=s;return o}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var n=HEAP8[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var n=t;e[n];)++n;if(n-t>16&&e.subarray&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,n));for(var r,i,o,a,s,u,c="";;){if(r=e[t++],!r)return c;if(128&r)if(i=63&e[t++],192!=(224&r))if(o=63&e[t++],224==(240&r)?r=(15&r)<<12|i<<6|o:(a=63&e[t++],240==(248&r)?r=(7&r)<<18|i<<12|o<<6|a:(s=63&e[t++],248==(252&r)?r=(3&r)<<24|i<<18|o<<12|a<<6|s:(u=63&e[t++],r=(1&r)<<30|i<<24|o<<18|a<<12|s<<6|u))),r<65536)c+=String.fromCharCode(r);else{var l=r-65536;c+=String.fromCharCode(55296|l>>10,56320|1023&l)}else c+=String.fromCharCode((31&r)<<6|i);else c+=String.fromCharCode(r)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(n>=o)break;t[n++]=s}else if(s<=2047){if(n+1>=o)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=o)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=o)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=o)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=o)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function stringToUTF8(e,t,n){return stringToUTF8Array(e,HEAPU8,t,n)}function lengthBytesUTF8(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function demangle(e){var t=Module.___cxa_demangle||Module.__cxa_demangle;if(t){try{var n=e.substr(1),r=lengthBytesUTF8(n)+1,i=_malloc(r);stringToUTF8(n,i,r);var o=_malloc(4),a=t(i,0,0,o);if(0===getValue(o,"i32")&&a)return Pointer_stringify(a)}catch(e){}finally{i&&_free(i),o&&_free(o),a&&_free(a)}return e}return Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function demangleAll(e){var t=/__Z[\w\d_]+/g;return e.replace(t,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){var e=jsStackTrace();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),demangleAll(e)}function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}function getTotalMemory(){return TOTAL_MEMORY}function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Module.dynCall_v(n):Module.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t()}}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,n){var r=n>0?n:lengthBytesUTF8(e)+1,i=new Array(r),o=stringToUTF8Array(e,i,0,i.length);return t&&(i.length=o),i}function intArrayToString(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")}function writeStringToMemory(e,t,n){Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var r,i;n&&(i=t+lengthBytesUTF8(e),r=HEAP8[i]),stringToUTF8(e,t,1/0),n&&(HEAP8[i]=r)}function writeArrayToMemory(e,t){HEAP8.set(e,t)}function writeAsciiToMemory(e,t,n){for(var r=0;r<e.length;++r)HEAP8[t++>>0]=e.charCodeAt(r);n||(HEAP8[t>>0]=0)}function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}function _emscripten_asm_const_iiiiii(e,t,n,r,i,o){return ASM_CONSTS[e](t,n,r,i,o)}function _emscripten_asm_const_iiiid(e,t,n,r,i){return ASM_CONSTS[e](t,n,r,i)}function _emscripten_asm_const_iiiiiiiidddddddddddddddddddddddddi(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,w,M,E,A,x,T,_,k,S,N,L,D,C,I){return ASM_CONSTS[e](t,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,w,M,E,A,x,T,_,k,S,N,L,D,C,I)}function _atexit(e,t){__ATEXIT__.unshift({func:e,arg:t})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function ___assert_fail(e,t,n,r){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",n,r?Pointer_stringify(r):"unknown function"]+" at "+stackTrace()}function embind_init_charCodes(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);embind_charCodes=e}function readLatin1String(e){for(var t="",n=e;HEAPU8[n];)t+=embind_charCodes[HEAPU8[n++]];return t}function makeLegalFunctionName(e){if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=char_0&&t<=char_9?"_"+e:e}function createNamedFunction(e,t){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function extendError(e,t){var n=createNamedFunction(t,function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}function throwBindingError(e){throw new BindingError(e)}function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,t,n){function r(t){var r=n(t);r.length!==e.length&&throwInternalError("Mismatched type converter count");for(var i=0;i<e.length;++i)registerType(e[i],r[i])}e.forEach(function(e){typeDependencies[e]=t});var i=new Array(t.length),o=[],a=0;t.forEach(function(e,t){registeredTypes.hasOwnProperty(e)?i[t]=registeredTypes[e]:(o.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push(function(){i[t]=registeredTypes[e],++a,a===o.length&&r(i)}))}),0===o.length&&r(i)}function registerType(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||throwBindingError('type "'+r+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+r+"' twice")}if(registeredTypes[e]=t,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var i=awaitingDependencies[e];delete awaitingDependencies[e],i.forEach(function(e){e()})}}function __embind_register_void(e,t){t=readLatin1String(t),registerType(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(Runtime.setTempRet0(0),0);var t=EXCEPTIONS.infos[e],n=t.type;if(!n)return 0|(Runtime.setTempRet0(0),e);var r=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(n);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var i=0;i<r.length;i++)if(r[i]&&Module.___cxa_can_catch(r[i],n,e))return e=HEAP32[e>>2],t.adjusted=e,0|(Runtime.setTempRet0(r[i]),e);return e=HEAP32[e>>2],0|(Runtime.setTempRet0(n),e)}function ___cxa_throw(e,t,n){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function __embind_register_bool(e,t,n,r,i){var o=getShiftFromSize(n);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=HEAP8;else if(2===n)r=HEAP16;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=HEAP32}return this.fromWireType(r[e>>o])},destructorFunction:null})}function _abort(){Module.abort()}function _free(){}function _malloc(e){var t=Runtime.dynamicAlloc(e+8);return t+8&4294967288}function simpleReadValueFromPointer(e){return this.fromWireType(HEAPU32[e>>2])}function __embind_register_std_string(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){for(var t=HEAPU32[e>>2],n=new Array(t),r=0;r<t;++r)n[r]=String.fromCharCode(HEAPU8[e+4+r]);return _free(e),n.join("")},toWireType:function(e,t){function n(e,t){return e[t]}function r(e,t){return e.charCodeAt(t)}t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i;t instanceof Uint8Array?i=n:t instanceof Uint8ClampedArray?i=n:t instanceof Int8Array?i=n:"string"==typeof t?i=r:throwBindingError("Cannot pass non-string to std::string");var o=t.length,a=_malloc(4+o);HEAPU32[a>>2]=o;for(var s=0;s<o;++s){var u=i(t,s);u>255&&(_free(a),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[a+4+s]=u}return null!==e&&e.push(_free,a),a},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function _embind_repr(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function integerReadValueFromPointer(e,t,n){switch(t){case 0:return n?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return n?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return n?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,t,n,r,i){t=readLatin1String(t),i===-1&&(i=4294967295);var o=getShiftFromSize(n),a=function(e){return e};if(0===r){var s=32-8*n;a=function(e){return e<<s>>>s}}registerType(e,{name:t,fromWireType:a,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+_embind_repr(n)+'" to '+this.name);if(n<r||n>i)throw new TypeError('Passing a number "'+_embind_repr(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+i+"]!");return 0|n},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(t,o,0!==r),destructorFunction:null})}function ___lock(){}function ___unlock(){}function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}function __emval_decref(e){e>4&&0===--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,t=5;t<emval_handle_array.length;++t)void 0!==emval_handle_array[t]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[t]={refcount:1,value:e},t}}function __embind_register_emval(e,t){t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){var t=emval_handle_array[e].value;return __emval_decref(e),t},toWireType:function(e,t){return __emval_register(t)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function ___cxa_allocate_exception(e){return _malloc(e)}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function ___syscall54(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get();switch(r){case 21505:return n.tty?0:-ERRNO_CODES.ENOTTY;case 21506:return n.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!n.tty)return-ERRNO_CODES.ENOTTY;var i=SYSCALLS.get();return HEAP32[i>>2]=0,0;case 21520:return n.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:var i=SYSCALLS.get();return FS.ioctl(n,r,i);case 21523:return n.tty?0:-ERRNO_CODES.ENOTTY;default:abort("bad ioctl syscall "+r)}}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function floatReadValueFromPointer(e,t){switch(t){case 2:return function(e){return this.fromWireType(HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,t,n){var r=getShiftFromSize(n);t=readLatin1String(t),registerType(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+_embind_repr(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(t,r),destructorFunction:null})}function new_(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=createNamedFunction(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return i instanceof Object?i:r}function runDestructors(e){for(;e.length;){var t=e.pop(),n=e.pop();n(t)}}function craftInvokerFunction(e,t,n,r,i){var o=t.length;o<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==n,s="",u="",c=0;c<o-2;++c)s+=(0!==c?", ":"")+"arg"+c,u+=(0!==c?", ":"")+"arg"+c+"Wired";for(var l="return function "+makeLegalFunctionName(e)+"("+s+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n",h=!1,c=1;c<t.length;++c)if(null!==t[c]&&void 0===t[c].destructorFunction){h=!0;break}h&&(l+="var destructors = [];\n");var f=h?"destructors":"null",d=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],p=[throwBindingError,r,i,runDestructors,t[0],t[1]];a&&(l+="var thisWired = classParam.toWireType("+f+", this);\n");for(var c=0;c<o-2;++c)l+="var arg"+c+"Wired = argType"+c+".toWireType("+f+", arg"+c+"); // "+t[c+2].name+"\n",
d.push("argType"+c),p.push(t[c+2]);a&&(u="thisWired"+(u.length>0?", ":"")+u);var m="void"!==t[0].name;if(l+=(m?"var rv = ":"")+"invoker(fn"+(u.length>0?", ":"")+u+");\n",h)l+="runDestructors(destructors);\n";else for(var c=a?1:2;c<t.length;++c){var g=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(l+=g+"_dtor("+g+"); // "+t[c].name+"\n",d.push(g+"_dtor"),p.push(t[c].destructorFunction))}m&&(l+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),l+="}\n",d.push(l);var v=new_(Function,d).apply(null,p);return v}function ensureOverloadTable(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function exposePublicSymbol(e,t,n){Module.hasOwnProperty(e)?((void 0===n||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[n])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(n)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),Module[e].overloadTable[n]=t):(Module[e]=t,void 0!==n&&(Module[e].numArguments=n))}function heap32VectorToArray(e,t){for(var n=[],r=0;r<e;r++)n.push(HEAP32[(t>>2)+r]);return n}function replacePublicSymbol(e,t,n){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==n?Module[e].overloadTable[n]=t:(Module[e]=t,Module[e].argCount=n)}function requireFunction(e,t){function n(n){for(var r=[],i=1;i<e.length;++i)r.push("a"+i);var o="dynCall_"+e+"_"+t,a="return function "+o+"("+r.join(", ")+") {\n";return a+="    return dynCall(rawFunction"+(r.length?", ":"")+r.join(", ")+");\n",a+="};\n",new Function("dynCall","rawFunction",a)(n,t)}e=readLatin1String(e);var r;if(void 0!==Module["FUNCTION_TABLE_"+e])r=Module["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var i=Module.asm["dynCall_"+e];void 0===i&&(i=Module.asm["dynCall_"+e.replace(/f/g,"d")],void 0===i&&throwBindingError("No dynCall invoker for signature: "+e)),r=n(i)}return"function"!=typeof r&&throwBindingError("unknown function pointer with signature "+e+": "+t),r}function getTypeName(e){var t=___getTypeName(e),n=readLatin1String(t);return _free(t),n}function throwUnboundTypeError(e,t){function n(e){if(!i[e]&&!registeredTypes[e]){if(typeDependencies[e])return void typeDependencies[e].forEach(n);r.push(e),i[e]=!0}}var r=[],i={};throw t.forEach(n),new UnboundTypeError(e+": "+r.map(getTypeName).join([", "]))}function __embind_register_function(e,t,n,r,i,o){var a=heap32VectorToArray(t,n);e=readLatin1String(e),i=requireFunction(r,i),exposePublicSymbol(e,function(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",a)},t-1),whenDependentTypesAreResolved([],a,function(n){var r=[n[0],null].concat(n.slice(1));return replacePublicSymbol(e,craftInvokerFunction(e,r,null,i,o),t-1),[]})}function __embind_register_constant(e,t,n){e=readLatin1String(e),whenDependentTypesAreResolved([],[t],function(t){return t=t[0],Module[e]=t.fromWireType(n),[]})}function ___syscall5(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStr(),r=SYSCALLS.get(),i=SYSCALLS.get(),o=FS.open(n,r,i);return o.fd}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _emscripten_memcpy_big(e,t,n){return HEAPU8.set(HEAPU8.subarray(t,t+n),e),e}function ___syscall6(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD();return FS.close(n),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function __embind_register_std_wstring(e,t,n){n=readLatin1String(n);var r,i;2===t?(r=function(){return HEAPU16},i=1):4===t&&(r=function(){return HEAPU32},i=2),registerType(e,{name:n,fromWireType:function(e){for(var t=r(),n=HEAPU32[e>>2],o=new Array(n),a=e+4>>i,s=0;s<n;++s)o[s]=String.fromCharCode(t[a+s]);return _free(e),o.join("")},toWireType:function(e,n){var o=r(),a=n.length,s=_malloc(4+a*t);HEAPU32[s>>2]=a;for(var u=s+4>>i,c=0;c<a;++c)o[u+c]=n.charCodeAt(c);return null!==e&&e.push(_free,s),s},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function ___gxx_personality_v0(){}function __embind_register_memory_view(e,t,n){function r(e){e>>=2;var t=HEAPU32,n=t[e],r=t[e+1];return new o(t.buffer,r,n)}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],o=i[t];n=readLatin1String(n),registerType(e,{name:n,fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),i=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get(),s=i;return assert(0===r),FS.llseek(n,s,a),HEAP32[o>>2]=n.position,n.getdents&&0===s&&0===a&&(n.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),i=SYSCALLS.get();return SYSCALLS.doWritev(n,r,i)}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall221(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get();switch(r){case 0:var i=SYSCALLS.get();if(i<0)return-ERRNO_CODES.EINVAL;var o;return o=FS.open(n.path,n.flags,0,i),o.fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var i=SYSCALLS.get();return n.flags|=i,0;case 12:case 12:var i=SYSCALLS.get(),a=0;return HEAP16[i+a>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall145(e,t){SYSCALLS.varargs=t;try{var n=SYSCALLS.getStreamFromFD(),r=SYSCALLS.get(),i=SYSCALLS.get();return SYSCALLS.doReadv(n,r,i)}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function invoke_iiii(e,t,n,r){try{return Module.dynCall_iiii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiii(e,t,n,r,i,o){try{Module.dynCall_viiiii(e,t,n,r,i,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_dii(e,t,n){try{return Module.dynCall_dii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vid(e,t,n){try{Module.dynCall_vid(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_di(e,t){try{return Module.dynCall_di(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_i(e){try{return Module.dynCall_i(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vii(e,t,n){try{Module.dynCall_vii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viii(e,t,n,r){try{Module.dynCall_viii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viid(e,t,n,r){try{Module.dynCall_viid(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiii(e,t,n,r,i){try{return Module.dynCall_iiiii(e,t,n,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiiii(e,t,n,r,i,o,a){try{Module.dynCall_viiiiii(e,t,n,r,i,o,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iii(e,t,n){try{return Module.dynCall_iii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiii(e,t,n,r,i){try{Module.dynCall_viiii(e,t,n,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function exit(e,t){t&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE&&process.exit(e),Module.quit(e,new ExitStatus(e)))}function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.",n="abort("+e+") at "+stackTrace()+t;throw abortDecorators&&abortDecorators.forEach(function(t){n=t(n,e)}),n}var THREEx=THREEx||{};THREEx.ArMarkerCloak=function(e){function t(e,t){var n=new THREE.Vector3;h[0].forEach(function(r,i){r.forEach(function(r,o){n.x=2*r.x-1,n.y=2*r.y-1,n.z=0,n.applyMatrix4(e),n.applyMatrix4(t),n.x/=n.z,n.y/=n.z,n.x=n.x/2+.5,n.y=n.y/2+.5,a.geometry.faceVertexUvs[0][i][o].set(n.x,n.y)})}),a.geometry.uvsNeedUpdate=!0}function n(e,t){var n=[];p.forEach(function(r,i){var o=r.clone();o.applyMatrix4(e),o.applyMatrix4(t),o.x/=o.z,o.y/=o.z,n.push(o)});for(var r=0;r<n.length;r++)m.geometry.vertices[r].copy(n[r]);m.geometry.computeBoundingSphere(),m.geometry.verticesNeedUpdate=!0}var r=!0,i=new THREE.PlaneGeometry(1.55,2.1,1,8).translate(0,-.3,0),o=new THREE.ShaderMaterial({vertexShader:THREEx.ArMarkerCloak.vertexShader,fragmentShader:THREEx.ArMarkerCloak.fragmentShader,transparent:!0,uniforms:{texture:{value:e},opacity:{value:.5}},defines:{updateInShaderEnabled:r?1:0}}),a=new THREE.Mesh(i,o);a.rotation.x=-Math.PI/2,this.object3d=a;for(var s=-.65,u=.65,c=.75,l=1.05,h=[[]],f=0;f<a.geometry.faces.length;f++)h[0][f]=[],h[0][f][0]=new THREE.Vector2,h[0][f][1]=new THREE.Vector2,h[0][f][2]=new THREE.Vector2;for(var d=0;d<a.geometry.parameters.heightSegments/2;d++)h[0][4*d+0][0].set(s/2+.5,l/2+.5),h[0][4*d+0][1].set(s/2+.5,c/2+.5),h[0][4*d+0][2].set(u/2+.5,l/2+.5),h[0][4*d+1][0].set(s/2+.5,c/2+.5),h[0][4*d+1][1].set(u/2+.5,c/2+.5),h[0][4*d+1][2].set(u/2+.5,l/2+.5),h[0][4*d+2][0].set(s/2+.5,c/2+.5),h[0][4*d+2][1].set(s/2+.5,l/2+.5),h[0][4*d+2][2].set(u/2+.5,c/2+.5),h[0][4*d+3][0].set(s/2+.5,l/2+.5),h[0][4*d+3][1].set(u/2+.5,l/2+.5),h[0][4*d+3][2].set(u/2+.5,c/2+.5);r===!0&&(a.geometry.faceVertexUvs=h,a.geometry.uvsNeedUpdate=!0);var p=[];p.push(new THREE.Vector3(s,l,0)),p.push(new THREE.Vector3(u,l,0)),p.push(new THREE.Vector3(s,c,0)),p.push(new THREE.Vector3(u,c,0));var o=new THREE.MeshNormalMaterial({transparent:!0,opacity:.5,side:THREE.DoubleSide}),i=new THREE.PlaneGeometry(1,1),m=new THREE.Mesh(i,o);this.orthoMesh=m,this.update=function(e,i){n(e,i),r===!1&&t(e,i)}},THREEx.ArMarkerCloak.markerSpaceShaderFunction="\n        vec2 transformUvToMarkerSpace(vec2 originalUv){\n                vec3 transformedUv;\n                // set transformedUv - from UV coord to clip coord\n                transformedUv.x = originalUv.x * 2.0 - 1.0;\n                transformedUv.y = originalUv.y * 2.0 - 1.0;\n                transformedUv.z = 0.0;\n\n\t\t// apply modelViewMatrix and projectionMatrix\n                transformedUv = (projectionMatrix * modelViewMatrix * vec4( transformedUv, 1.0 ) ).xyz;\n\n\t\t// apply perspective\n\t\ttransformedUv.x /= transformedUv.z;\n\t\ttransformedUv.y /= transformedUv.z;\n\n                // set back from clip coord to Uv coord\n                transformedUv.x = transformedUv.x / 2.0 + 0.5;\n                transformedUv.y = transformedUv.y / 2.0 + 0.5;\n\n                // return the result\n                return transformedUv.xy;\n        }",THREEx.ArMarkerCloak.vertexShader=THREEx.ArMarkerCloak.markerSpaceShaderFunction+"\tvarying vec2 vUv;\n\n\tvoid main(){\n                // pass the UV to the fragment\n                #if (updateInShaderEnabled == 1)\n\t\t        vUv = transformUvToMarkerSpace(uv);\n                #else\n\t\t        vUv = uv;\n                #endif\n\n                // compute gl_Position\n\t\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}",THREEx.ArMarkerCloak.fragmentShader="\n\tvarying vec2 vUv;\n\tuniform sampler2D texture;\n\tuniform float opacity;\n\n\tvoid main(void){\n\t\tvec3 color = texture2D( texture, vUv ).rgb;\n\n\t\tgl_FragColor = vec4( color, opacity);\n\t}";var THREEx=THREEx||{};THREEx.ArMarkerControls=function(e,t,n){var r=this;this.id=THREEx.ArMarkerControls.id++,this.context=e,this.parameters={size:void 0!==n.size?n.size:1,type:void 0!==n.type?n.type:"unknown",patternUrl:void 0!==n.patternUrl?n.patternUrl:null,barcodeValue:void 0!==n.barcodeValue?n.barcodeValue:null,changeMatrixMode:void 0!==n.changeMatrixMode?n.changeMatrixMode:"modelViewMatrix",minConfidence:void 0!==n.minConfidence?n.minConfidence:.6};var i=["pattern","barcode","multiMarker","unknown"];console.assert(i.indexOf(this.parameters.type)!==-1,"illegal value",this.parameters.type);var i=["modelViewMatrix","cameraTransformMatrix"];console.assert(i.indexOf(this.parameters.changeMatrixMode)!==-1,"illegal value",this.parameters.changeMatrixMode),this.markerId=null,this.object3d=t,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1,e.addMarker(this);var o=setInterval(function(){var e=r.context.arController;null!==e&&(clearInterval(o),o=null,r._postInit())},20)},THREEx.ArMarkerControls.id=0,THREEx.ArMarkerControls.prototype._postInit=function(){function e(e,t){n.visible=!0;var r=(new THREE.Matrix4).fromArray(e.data.matrix),i=(new THREE.Matrix4).copy(t.context._projectionAxisTransformMatrix);i.multiply(r);var o=(new THREE.Matrix4).makeRotationX(Math.PI/2);i.multiply(o),window.markerCallback(e),r.copy(i),"modelViewMatrix"===t.parameters.changeMatrixMode?n.matrix.copy(r):"cameraTransformMatrix"===t.parameters.changeMatrixMode?n.matrix.getInverse(r):console.assert(!1),n.matrix.decompose(n.position,n.quaternion,n.scale),t.dispatchEvent({type:"markerFound"})}var t=this,n=this.object3d,r=this.context.arController;console.assert(null!==r),"pattern"===t.parameters.type?r.loadMarker(t.parameters.patternUrl,function(e){t.markerId=e,r.trackPatternMarkerId(t.markerId,t.parameters.size)}):"barcode"===t.parameters.type?(t.markerId=t.parameters.barcodeValue,r.trackBarcodeMarkerId(t.markerId,t.parameters.size)):"multiMarker"===t.parameters.type?(console.log("so far"),r.loadMultiMarker(t.parameters.patternUrl,function(e,n){console.log("so good"),t.markerId=e}),r.addEventListener("getMultiMarker",function(n){console.log("getMultiMarker"),n.data.multiMarkerId===t.markerId&&e(n)})):"unknown"===t.parameters.type?t.markerId=null:console.log(!1,"invalid marker type",t.parameters.type),r.addEventListener("getMarker",function(n){if(n.data.type===artoolkit.PATTERN_MARKER&&"pattern"===t.parameters.type){if(null===t.markerId)return;n.data.marker.idPatt===t.markerId&&e(n)}else if(n.data.type===artoolkit.BARCODE_MARKER&&"barcode"===t.parameters.type){if(null===t.markerId)return;n.data.marker.idMatrix===t.markerId&&e(n,t)}else n.data.type===artoolkit.UNKNOWN_MARKER&&"unknown"===t.parameters.type&&e(n)})},Object.assign(THREEx.ArMarkerControls.prototype,THREE.EventDispatcher.prototype),THREEx.ArMarkerControls.prototype.dispose=function(){this.context.removeMarker(this)};var THREEx=THREEx||{};THREEx.ArMarkerHelper=function(e){this.object3d=new THREE.Group;var t=new THREE.AxisHelper;this.object3d.add(t);var n=e.parameters.patternUrl.slice(-1).toUpperCase(),r=document.createElement("canvas");r.width=64,r.height=64;var i=r.getContext("2d"),o=new THREE.CanvasTexture(r);i.font="48px monospace",i.fillStyle="rgba(192,192,255, 0.5)",i.fillRect(0,0,r.width,r.height),i.fillStyle="darkblue",i.fillText(n,r.width/4,3*r.height/4),o.needsUpdate=!0;var a=new THREE.PlaneGeometry(1,1),s=new THREE.MeshBasicMaterial({map:o,transparent:!0}),t=new THREE.Mesh(a,s);t.rotation.x=-Math.PI/2,this.object3d.add(t)};var THREEx=THREEx||{};THREEx.ArToolkitContext=function(e){var t=this;t._updatedAt=null,this.parameters={debug:void 0!==e.debug&&e.debug,detectionMode:void 0!==e.detectionMode?e.detectionMode:"color_and_matrix",matrixCodeType:void 0!==e.matrixCodeType?e.matrixCodeType:"3x3",cameraParametersUrl:void 0!==e.cameraParametersUrl?e.cameraParametersUrl:THREEx.ArToolkitContext.baseURL+"parameters/camera_para.dat",maxDetectionRate:void 0!==e.maxDetectionRate?e.maxDetectionRate:60,canvasWidth:void 0!==e.canvasWidth?e.canvasWidth:640,canvasHeight:void 0!==e.canvasHeight?e.canvasHeight:480,imageSmoothingEnabled:void 0!==e.imageSmoothingEnabled&&e.imageSmoothingEnabled},this._projectionAxisTransformMatrix=new THREE.Matrix4,this._projectionAxisTransformMatrix.multiply((new THREE.Matrix4).makeRotationY(Math.PI)),this._projectionAxisTransformMatrix.multiply((new THREE.Matrix4).makeRotationZ(Math.PI)),this.arController=null,this._cameraParameters=null,this._arMarkersControls=[]},Object.assign(THREEx.ArToolkitContext.prototype,THREE.EventDispatcher.prototype),THREEx.ArToolkitContext.baseURL="https://jeromeetienne.github.io/AR.js/three.js/",THREEx.ArToolkitContext.REVISION="1.0.1-dev",THREEx.ArToolkitContext.prototype.getProjectionMatrix=function(e){console.assert(this.arController,"arController MUST be initialized to call this function");var t=this.arController.getCameraMatrix(),n=(new THREE.Matrix4).fromArray(t);return n.multiply(this._projectionAxisTransformMatrix),n},THREEx.ArToolkitContext.prototype.init=function(e){var t=this,n=this.parameters.canvasWidth,r=this.parameters.canvasHeight;return t._cameraParameters=new ARCameraParam(t.parameters.cameraParametersUrl,function(){var i=new ARController(n,r,t._cameraParameters);t.arController=i,i.ctx.mozImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,i.ctx.webkitImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,i.ctx.msImageSmoothingEnabled=t.parameters.imageSmoothingEnabled,i.ctx.imageSmoothingEnabled=t.parameters.imageSmoothingEnabled,t.parameters.debug===!0&&(i.debugSetup(),i.canvas.style.position="absolute",i.canvas.style.top="0px",i.canvas.style.opacity="0.6",i.canvas.style.pointerEvents="none",i.canvas.style.zIndex="-1");var o={color:artoolkit.AR_TEMPLATE_MATCHING_COLOR,color_and_matrix:artoolkit.AR_TEMPLATE_MATCHING_COLOR_AND_MATRIX,mono:artoolkit.AR_TEMPLATE_MATCHING_MONO,mono_and_matrix:artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX},a=o[t.parameters.detectionMode];console.assert(void 0!==a),i.setPatternDetectionMode(a);var s={"3x3":artoolkit.AR_MATRIX_CODE_3x3,"3x3_HAMMING63":artoolkit.AR_MATRIX_CODE_3x3_HAMMING63,"3x3_PARITY65":artoolkit.AR_MATRIX_CODE_3x3_PARITY65,"4x4":artoolkit.AR_MATRIX_CODE_4x4,"4x4_BCH_13_9_3":artoolkit.AR_MATRIX_CODE_4x4_BCH_13_9_3,"4x4_BCH_13_5_5":artoolkit.AR_MATRIX_CODE_4x4_BCH_13_5_5},u=s[t.parameters.matrixCodeType];console.assert(void 0!==u),i.setMatrixCodeType(u),e&&e()}),this},THREEx.ArToolkitContext.prototype.update=function(e){var t=this.arController;if(!t)return!1;var n=performance.now();return!(null!==this._updatedAt&&n-this._updatedAt<1e3/this.parameters.maxDetectionRate)&&(this._updatedAt=n,this._arMarkersControls.forEach(function(e){e.object3d.visible=!1}),t.process(e),this.dispatchEvent({type:"sourceProcessed"}),window.visibilityCallback(this._arMarkersControls),!0)},THREEx.ArToolkitContext.prototype.addMarker=function(e){console.assert(e instanceof THREEx.ArMarkerControls),this._arMarkersControls.push(e)},THREEx.ArToolkitContext.prototype.removeMarker=function(e){console.assert(e instanceof THREEx.ArMarkerControls);var t=this.arMarkerControlss.indexOf(artoolkitMarker);console.assert(t!==t),this._arMarkersControls.splice(t,1)};var THREEx=THREEx||{};THREEx.ArToolkitProfile=function(){this.reset(),this.performance("default")},THREEx.ArToolkitProfile.prototype._guessPerformanceLabel=function(){var e=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i));return e===!0?"phone-normal":"desktop-normal"},THREEx.ArToolkitProfile.prototype.reset=function(){return this.sourceParameters={sourceType:"webcam"},this.contextParameters={cameraParametersUrl:THREEx.ArToolkitContext.baseURL+"../data/data/camera_para.dat",detectionMode:"mono"},this.defaultMarkerParameters={type:"pattern",patternUrl:THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro"},this},THREEx.ArToolkitProfile.prototype.performance=function(e){"default"===e&&(e=this._guessPerformanceLabel()),"desktop-fast"===e?(this.contextParameters.sourceWidth=1280,this.contextParameters.sourceHeight=960,this.contextParameters.maxDetectionRate=60):"desktop-normal"===e?(this.contextParameters.sourceWidth=640,this.contextParameters.sourceHeight=480,this.contextParameters.maxDetectionRate=60):"phone-normal"===e?(this.contextParameters.sourceWidth=320,this.contextParameters.sourceHeight=240,this.contextParameters.maxDetectionRate=30):"phone-slow"===e?(this.contextParameters.sourceWidth=240,this.contextParameters.sourceHeight=180,this.contextParameters.maxDetectionRate=15):console.assert(!1,"unknonwn label "+e)},THREEx.ArToolkitProfile.prototype.kanjiMarker=function(){return this.contextParameters.detectionMode="mono",this.defaultMarkerParameters.type="pattern",this.defaultMarkerParameters.patternUrl=THREEx.ArToolkitContext.baseURL+"../data/data/patt.kanji",this},THREEx.ArToolkitProfile.prototype.hiroMarker=function(){return this.contextParameters.detectionMode="mono",this.defaultMarkerParameters.type="pattern",this.defaultMarkerParameters.patternUrl=THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro",this},THREEx.ArToolkitProfile.prototype.sourceWebcam=function(){return this.sourceParameters.sourceType="webcam",delete this.sourceParameters.sourceUrl,this},THREEx.ArToolkitProfile.prototype.sourceVideo=function(e){return this.sourceParameters.sourceType="video",this.sourceParameters.sourceUrl=e,this},THREEx.ArToolkitProfile.prototype.sourceImage=function(e){return this.sourceParameters.sourceType="image",this.sourceParameters.sourceUrl=e,this};var THREEx=THREEx||{};THREEx.ArToolkitSource=function(e){this.parameters={sourceType:void 0!==e.sourceType?e.sourceType:"webcam",sourceUrl:void 0!==e.sourceUrl?e.sourceUrl:null,sourceWidth:void 0!==e.sourceWidth?e.sourceWidth:640,sourceHeight:void 0!==e.sourceHeight?e.sourceHeight:480,displayWidth:void 0!==e.displayWidth?e.displayWidth:640,displayHeight:void 0!==e.displayHeight?e.displayHeight:480},this.ready=!1,this.domElement=null},THREEx.ArToolkitSource.prototype.init=function(e){function t(){document.body.appendChild(n.domElement),n.ready=!0,e&&e()}var n=this;if("image"===this.parameters.sourceType)var r=this._initSourceImage(t);else if("video"===this.parameters.sourceType)var r=this._initSourceVideo(t);else if("webcam"===this.parameters.sourceType)var r=this._initSourceWebcam(t);else console.assert(!1);return this.domElement=r,this.domElement.style.position="absolute",this.domElement.style.top="0px",this.domElement.style.zIndex="-2",this.domElement.style.zIndex="-2",this},THREEx.ArToolkitSource.prototype._initSourceImage=function(e){var t=document.createElement("img");t.src=this.parameters.sourceUrl,t.width=this.parameters.sourceWidth,t.height=this.parameters.sourceHeight,t.style.width=this.parameters.displayWidth+"px",t.style.height=this.parameters.displayHeight+"px";var n=setInterval(function(){t.naturalWidth&&(e(),clearInterval(n))},20);return t},THREEx.ArToolkitSource.prototype._initSourceVideo=function(e){var t=document.createElement("video");t.src=this.parameters.sourceUrl,t.style.objectFit="initial",t.autoplay=!0,t.webkitPlaysinline=!0,t.controls=!1,t.loop=!0,t.muted=!0,document.body.addEventListener("click",function e(){document.body.removeEventListener("click",e),t.play()}),t.width=this.parameters.sourceWidth,t.height=this.parameters.sourceHeight,t.style.width=this.parameters.displayWidth+"px",t.style.height=this.parameters.displayHeight+"px";var n=setInterval(function(){t.videoWidth&&(e(),clearInterval(n))},20);return t},THREEx.ArToolkitSource.prototype._initSourceWebcam=function(e){var t=this;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var n=document.createElement("video");return n.style.width=this.parameters.displayWidth+"px",n.style.height=this.parameters.displayHeight+"px",void 0===navigator.getUserMedia&&alert("WebRTC issue! navigator.getUserMedia not present in your browser"),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.enumerateDevices||alert("WebRTC issue! navigator.mediaDevices.enumerateDevices not present in your browser"),navigator.mediaDevices.enumerateDevices().then(function(r){var i={audio:!1,video:{mandatory:{maxWidth:t.parameters.sourceWidth,maxHeight:t.parameters.sourceHeight}}};r.forEach(function(e){"videoinput"===e.kind&&(i.video.optional=[{sourceId:e.deviceId}])}),navigator.getUserMedia(i,function(t){n.src=window.URL.createObjectURL(t),document.body.addEventListener("click",function(){n.play()}),n.play();var r=setInterval(function(){n.videoWidth&&(e(),clearInterval(r))},20)},function(e){console.log("Can't access user media",e),alert("Can't access user media :()")})}).catch(function(e){console.log(e.name+": "+e.message)}),n},THREEx.ArToolkitSource.prototype.onResize=function(e){var t=window.innerWidth,n=window.innerHeight;if("IMG"===this.domElement.nodeName)var r=this.domElement.naturalWidth,i=this.domElement.naturalHeight;else if("VIDEO"===this.domElement.nodeName)var r=this.domElement.videoWidth,i=this.domElement.videoHeight;else console.assert(!1);var o=r/i,a=t/n;if(a<o){var s=o*n;this.domElement.style.width=s+"px",this.domElement.style.marginLeft=-(s-t)/2+"px",this.domElement.style.height=n+"px",this.domElement.style.marginTop="0px"}else{var u=1/(o/t);this.domElement.style.height=u+"px",this.domElement.style.marginTop=-(u-n)/2+"px",this.domElement.style.width=t+"px",this.domElement.style.marginLeft="0px"}void 0!==e&&(e.style.width=this.domElement.style.width,e.style.height=this.domElement.style.height,e.style.marginLeft=this.domElement.style.marginLeft,e.style.marginTop=this.domElement.style.marginTop)};var THREEx=THREEx||{};THREEx.ArVideoInWebgl=function(e){var t=new THREE.PlaneGeometry(2,2),n=new THREE.MeshBasicMaterial({map:e}),r=new THREE.Mesh(t,n);this.object3d=r,this.update=function(e){window.camera=e,e.updateMatrixWorld(!0);var t=new THREE.Vector3(-.15,0,-20),t=new THREE.Vector3(-0,0,-20);r.position.copy(t),e.localToWorld(r.position),e.matrixWorld.decompose(e.position,e.quaternion,e.scale),r.quaternion.copy(e.quaternion);var n=2*THREE.Math.radToDeg(Math.atan(1/e.projectionMatrix.elements[5])),i=parseFloat(arToolkitSource.domElement.style.width.replace(/px$/,""),10),o=parseFloat(arToolkitSource.domElement.style.height.replace(/px$/,""),10),a=i/o;r.scale.y=Math.tan(THREE.Math.DEG2RAD*n/2)*t.length(),r.scale.x=r.scale.y*a}},AFRAME.registerSystem("artoolkit",{schema:{debug:{type:"boolean",default:!1},detectionMode:{type:"string",default:"mono"},matrixCodeType:{type:"string",default:"3x3"},cameraParametersUrl:{type:"string"},maxDetectionRate:{type:"number",default:60},sourceType:{type:"string",default:"webcam"},sourceUrl:{type:"string"},sourceWidth:{type:"number",default:640},sourceHeight:{type:"number",default:480},displayWidth:{type:"number",default:640},displayHeight:{type:"number",default:480},canvasWidth:{type:"number",default:640},canvasHeight:{type:"number",default:480}},init:function(){function e(){t.onResize(document.querySelector("#vr-root"));var e=document.querySelector(".a-enter-vr");e&&(e.style.position="fixed")}""===this.data.cameraParametersUrl&&(this.data.cameraParametersUrl=THREEx.ArToolkitContext.baseURL+"../data/data/camera_para.dat");var t=new THREEx.ArToolkitSource(this.data);this.arToolkitSource=t,t.init(function(){function t(){Date.now()-n>1e4||(window.dispatchEvent(new Event("resize")),setTimeout(t,1e3/60))}e();var n=Date.now();setTimeout(t,1e3/60)}),window.addEventListener("resize",e);var n=new THREEx.ArToolkitContext(this.data);this.arToolkitContext=n,n.init(function(){})},tick:function(e,t){this.arToolkitSource.ready!==!1&&(null!==this.arToolkitContext.arController&&this.sceneEl.camera.projectionMatrix.copy(this.arToolkitContext.getProjectionMatrix()),this.arToolkitContext.update(this.arToolkitSource.domElement))}}),AFRAME.registerComponent("artoolkitmarker",{dependencies:["artoolkit"],schema:{size:{type:"number",default:1},type:{type:"string",default:"unknown"},patternUrl:{type:"string"},barcodeValue:{type:"number"},changeMatrixMode:{type:"string",default:"modelViewMatrix"},preset:{type:"string"}},init:function(){"hiro"===this.data.preset?(this.data.type="pattern",this.data.patternUrl=THREEx.ArToolkitContext.baseURL+"../data/data/patt.hiro"):"kanji"===this.data.preset?(this.data.type="pattern",this.data.patternUrl=THREEx.ArToolkitContext.baseURL+"../data/data/patt.kanji"):console.assert(""===this.data.preset,"illegal preset value "+this.data.preset);var e=this.el.sceneEl.systems.artoolkit.arToolkitContext;this.arMarkerControls=new THREEx.ArMarkerControls(e,this.el.object3D,this.data)},remove:function(){this.arMarkerControls.dispose()},update:function(){},tick:function(){"cameraTransformMatrix"===this.data.changeMatrixMode&&(this.el.sceneEl.object3D.visible=this.el.object3D.visible)}}),AFRAME.registerPrimitive("a-marker",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{artoolkitmarker:{}},mappings:{type:"artoolkitmarker.type",size:"artoolkitmarker.size",url:"artoolkitmarker.patternUrl",value:"artoolkitmarker.barcodeValue",preset:"artoolkitmarker.preset"}})),AFRAME.registerPrimitive("a-marker-camera",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{artoolkitmarker:{changeMatrixMode:"cameraTransformMatrix"},camera:!0},mappings:{type:"artoolkitmarker.type",size:"artoolkitmarker.size",url:"artoolkitmarker.patternUrl",value:"artoolkitmarker.barcodeValue",preset:"artoolkitmarker.preset"}})),function(){"use strict";function e(){d.forEach(function(e){f[e]=Module[e]});for(var e in Module)e.match(/^AR/)&&(f[e]=Module[e])}function t(e,t,n){var r="/marker_"+p++;u(t,r,function(){var t=Module._addMarker(e,r);n&&n(t)})}function n(e){return String.fromCharCode.apply(String,e)}function r(e){var t=n(e),r=t.split("\n"),i=[],o=0,a=0;return r.forEach(function(e){if(e=e.trim(),e&&!e.startsWith("#"))switch(o){case 0:return a=+e,void(o=1);case 1:e.match(/^\d+$/)||i.push(e);case 2:case 3:case 4:return void o++;case 5:return void(o=1)}}),i}function i(e,t,n){var i="/multi_marker_"+m++;u(t,i,function(o){function a(){var t=Module._addMultiMarker(e,i),r=Module.getMultiMarkerNum(e,t);n&&n(t,r)}var s=r(o);if(!s.length)return a();var u=t.split("/").slice(0,-1).join("/");s=s.map(function(e){return[u+"/"+e,e]}),c(s,a)})}function o(e,t){var n="/camera_param_"+g++,r=function(){var e=Module._loadCamera(n);t&&t(e)};"object"==typeof e?s(n,e,r):e.indexOf("\n")>-1?a(n,e,r):u(e,n,r);
}function a(e,t,n){for(var r=new Uint8Array(t.length),i=0;i<r.length;i++)r[i]=255&t.charCodeAt(i);s(e,r,n)}function s(e,t,n){FS.writeFile(e,t,{encoding:"binary"}),n(t)}function u(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(e){var i=r.response,o=new Uint8Array(i);s(t,o,n)},r.send()}function c(e,t){var n=e.pop();n?u(n[0],n[1],function(){c(e,t)}):t()}var l=function(e,t,n){var r=e,i=t;if(this.orientation="landscape",this.listeners={},"number"!=typeof e){var o=e;n=t,r=o.videoWidth||o.width,i=o.videoHeight||o.height,this.image=o}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=r,this.canvas.height=i,this.ctx=this.canvas.getContext("2d"),this.videoWidth=r,this.videoHeight=i,"string"==typeof n){var a=this;this.cameraParam=new h(n,function(){a._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=n,this._initialize()};l.prototype.dispose=function(){f.teardown(this.id);for(var e in this)this[e]=null},l.prototype.process=function(e){this.detectMarker(e);var t,n,r=this.getMarkerNum();for(t in this.patternMarkers)n=this.patternMarkers[t],n.inPrevious=n.inCurrent,n.inCurrent=!1;for(t in this.barcodeMarkers)n=this.barcodeMarkers[t],n.inPrevious=n.inCurrent,n.inCurrent=!1;for(var i=0;i<r;i++){var o=this.getMarker(i),a=f.UNKNOWN_MARKER,s=this.trackPatternMarkerId(-1);o.idPatt>-1&&(o.id===o.idPatt||o.idMatrix===-1)?(s=this.trackPatternMarkerId(o.idPatt),a=f.PATTERN_MARKER,o.dir!==o.dirPatt&&this.setMarkerInfoDir(i,o.dirPatt)):o.idMatrix>-1&&(s=this.trackBarcodeMarkerId(o.idMatrix),a=f.BARCODE_MARKER,o.dir!==o.dirMatrix&&this.setMarkerInfoDir(i,o.dirMatrix)),a!==f.UNKNOWN_MARKER&&s.inPrevious?this.getTransMatSquareCont(i,s.markerWidth,s.matrix,s.matrix):this.getTransMatSquare(i,s.markerWidth,s.matrix),s.inCurrent=!0,this.transMatToGLMat(s.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:i,type:a,marker:o,matrix:this.transform_mat}})}for(var u=this.getMultiMarkerCount(),i=0;i<u;i++){var c=this.getMultiMarkerPatternCount(i),s=!1;f.getTransMatMultiSquareRobust(this.id,i),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var l=0;l<c;l++){var h=this.getMultiEachMarker(i,l);if(h.visible>=0){s=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:i,matrix:this.transform_mat}});break}}if(s)for(var l=0;l<c;l++){var h=this.getMultiEachMarker(i,l);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:i,markerIndex:l,marker:h,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},l.prototype.trackPatternMarkerId=function(e,t){var n=this.patternMarkers[e];return n||(this.patternMarkers[e]=n={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(n.markerWidth=t),n},l.prototype.trackBarcodeMarkerId=function(e,t){var n=this.barcodeMarkers[e];return n||(this.barcodeMarkers[e]=n={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(n.markerWidth=t),n},l.prototype.getMultiMarkerCount=function(){return f.getMultiMarkerCount(this.id)},l.prototype.getMultiMarkerPatternCount=function(e){return f.getMultiMarkerNum(this.id,e)},l.prototype.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},l.prototype.removeEventListener=function(e,t){if(this.listeners[e]){var n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}},l.prototype.dispatchEvent=function(e){var t=this.listeners[e.name];if(t)for(var n=0;n<t.length;n++)t[n].call(this,e)},l.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},l.prototype.loadMarker=function(e,t,n){return f.addMarker(this.id,e,t,n)},l.prototype.loadMultiMarker=function(e,t,n){return f.addMultiMarker(this.id,e,t,n)},l.prototype.getTransMatSquare=function(e,t,n){return f.getTransMatSquare(this.id,e,t),n.set(this.marker_transform_mat),n},l.prototype.getTransMatSquareCont=function(e,t,n,r){return this.marker_transform_mat.set(n),f.getTransMatSquareCont(this.id,e,t),r.set(this.marker_transform_mat),r},l.prototype.getTransMatMultiSquare=function(e,t){return f.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},l.prototype.getTransMatMultiSquareRobust=function(e,t){return f.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},l.prototype.transMatToGLMat=function(e,t,n){return t[0]=e[0],t[4]=e[1],t[8]=e[2],t[12]=e[3],t[1]=e[4],t[5]=e[5],t[9]=e[6],t[13]=e[7],t[2]=e[8],t[6]=e[9],t[10]=e[10],t[14]=e[11],t[3]=0,t[7]=0,t[11]=0,t[15]=1,void 0!=n&&0!==n&&(t[12]*=n,t[13]*=n,t[14]*=n),t},l.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?f.detectMarker(this.id):-99},l.prototype.getMarkerNum=function(){return f.getMarkerNum(this.id)},l.prototype.getMarker=function(e){if(0===f.getMarker(this.id,e))return f.markerInfo},l.prototype.setMarkerInfoVertex=function(e,t){for(var n=0;n<t.length;n++)this.marker_transform_mat[2*n+0]=t[n][0],this.marker_transform_mat[2*n+1]=t[n][1];return f.setMarkerInfoVertex(this.id,e)},l.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},l.prototype.getMultiEachMarker=function(e,t){if(0===f.getMultiEachMarker(this.id,e,t))return f.multiEachMarkerInfo},l.prototype.getTransformationMatrix=function(){return this.transform_mat},l.prototype.getCameraMatrix=function(){return this.camera_mat},l.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},l.prototype.setDebugMode=function(e){return f.setDebugMode(this.id,e)},l.prototype.getDebugMode=function(){return f.getDebugMode(this.id)},l.prototype.getProcessingImage=function(){return f.getProcessingImage(this.id)},l.prototype.setLogLevel=function(e){return f.setLogLevel(e)},l.prototype.getLogLevel=function(){return f.getLogLevel()},l.prototype.setMarkerInfoDir=function(e,t){return f.setMarkerInfoDir(this.id,e,t)},l.prototype.setProjectionNearPlane=function(e){return f.setProjectionNearPlane(this.id,e)},l.prototype.getProjectionNearPlane=function(){return f.getProjectionNearPlane(this.id)},l.prototype.setProjectionFarPlane=function(e){return f.setProjectionFarPlane(this.id,e)},l.prototype.getProjectionFarPlane=function(){return f.getProjectionFarPlane(this.id)},l.prototype.setThresholdMode=function(e){return f.setThresholdMode(this.id,e)},l.prototype.getThresholdMode=function(){return f.getThresholdMode(this.id)},l.prototype.setThreshold=function(e){return f.setThreshold(this.id,e)},l.prototype.getThreshold=function(){return f.getThreshold(this.id)},l.prototype.setPatternDetectionMode=function(e){return f.setPatternDetectionMode(this.id,e)},l.prototype.getPatternDetectionMode=function(){return f.getPatternDetectionMode(this.id)},l.prototype.setMatrixCodeType=function(e){return f.setMatrixCodeType(this.id,e)},l.prototype.getMatrixCodeType=function(){return f.getMatrixCodeType(this.id)},l.prototype.setLabelingMode=function(e){return f.setLabelingMode(this.id,e)},l.prototype.getLabelingMode=function(){return f.getLabelingMode(this.id)},l.prototype.setPattRatio=function(e){return f.setPattRatio(this.id,e)},l.prototype.getPattRatio=function(){return f.getPattRatio(this.id)},l.prototype.setImageProcMode=function(e){return f.setImageProcMode(this.id,e)},l.prototype.getImageProcMode=function(){return f.getImageProcMode(this.id)},l.prototype.debugDraw=function(){var e=new Uint8ClampedArray(Module.HEAPU8.buffer,this._bwpointer,this.framesize),t=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(t,0,0);for(var n=this.getMarkerNum(),r=0;r<n;r++)this._debugMarker(this.getMarker(r))},l.prototype._initialize=function(){this.id=f.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=f.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(Module.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(Module.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(Module.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var t=this;setTimeout(function(){t.onload&&t.onload(),t.dispatchEvent({name:"load",target:t})},1)},l.prototype._copyImageToHeap=function(e){e||(e=this.image),this.ctx.save(),"portrait"===this.orientation?(this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(e,0,0,this.canvas.height,this.canvas.width)):this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height),this.ctx.restore();var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),n=t.data;return!!this.dataHeap&&(this.dataHeap.set(n),!0)},l.prototype._debugMarker=function(e){var t,n;t=e.vertex;var r=this.ctx;r.strokeStyle="red",r.beginPath(),r.moveTo(t[0][0],t[0][1]),r.lineTo(t[1][0],t[1][1]),r.stroke(),r.beginPath(),r.moveTo(t[2][0],t[2][1]),r.lineTo(t[3][0],t[3][1]),r.stroke(),r.strokeStyle="green",r.beginPath(),r.lineTo(t[1][0],t[1][1]),r.lineTo(t[2][0],t[2][1]),r.stroke(),r.beginPath(),r.moveTo(t[3][0],t[3][1]),r.lineTo(t[0][0],t[0][1]),r.stroke(),n=e.pos,r.beginPath(),r.arc(n[0],n[1],8,0,2*Math.PI),r.fillStyle="red",r.fill()},l.getUserMedia=function(e){var t=e.facingMode||"environment",n=e.onSuccess,r=e.onError||function(e){console.error("ARController.getUserMedia",e)},i=document.createElement("video"),o=function(){0!==this.videoWidth&&n(i)},a=!1,s=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],u=function(e){a&&(i.play(),i.paused||s.forEach(function(e){window.removeEventListener(e,u,!0)}))};s.forEach(function(e){window.addEventListener(e,u,!0)});var c=function(e){i.addEventListener("loadedmetadata",o,!1),i.src=window.URL.createObjectURL(e),a=!0,u()},l={},h={};e.width&&(h.width=e.width,"object"==typeof e.width?(e.width.max&&(l.maxWidth=e.width.max),e.width.min&&(l.minWidth=e.width.max)):l.maxWidth=e.width),e.height&&(h.height=e.height,"object"==typeof e.height?(e.height.max&&(l.maxHeight=e.height.max),e.height.min&&(l.minHeight=e.height.max)):l.maxHeight=e.height),h.facingMode=t,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var f={audio:!1,video:{mandatory:l}};return navigator.getUserMedia?navigator.getUserMedia(f,c,r):r("navigator.getUserMedia is not supported on your browser"),i},l.getUserMediaARController=function(e){var t={};for(var n in e)t[n]=e[n];var r=e.onSuccess,i=e.cameraParam;t.onSuccess=function(){new h(i,function(){var t=this,n=e.maxARVideoSize||Math.max(o.videoWidth,o.videoHeight),i=n/Math.max(o.videoWidth,o.videoHeight),a=i*o.videoWidth,s=i*o.videoHeight;if(o.videoWidth<o.videoHeight){var u=a;a=s,s=u}var c=new l(a,s,t);c.image=o,o.videoWidth<o.videoHeight?(c.orientation="portrait",c.videoWidth=o.videoHeight,c.videoHeight=o.videoWidth):(c.orientation="landscape",c.videoWidth=o.videoWidth,c.videoHeight=o.videoHeight),r(c,t)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var o=this.getUserMedia(t);return o};var h=function(e,t,n){this.id=-1,this._src="",this.complete=!1,this.onload=t,this.onerror=n,e&&this.load(e)};h.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var t=this;f.loadCamera(e,function(e){t.id=e,t.complete=!0,t.onload()},function(e){t.onerror(e)})}},Object.defineProperty(h.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),h.prototype.dispose=function(){this.id!==-1&&f.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var f={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:o,addMarker:t,addMultiMarker:i},d=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"],p=0,m=0,g=0;window.artoolkit=f,window.ARController=l,window.ARCameraParam=h,window.Module?e():window.Module={onRuntimeInitialized:function(){e()}}}();var Module;Module||(Module=("undefined"!=typeof Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;if(Module.ENVIRONMENT)if("WEB"===Module.ENVIRONMENT)ENVIRONMENT_IS_WEB=!0;else if("WORKER"===Module.ENVIRONMENT)ENVIRONMENT_IS_WORKER=!0;else if("NODE"===Module.ENVIRONMENT)ENVIRONMENT_IS_NODE=!0;else{if("SHELL"!==Module.ENVIRONMENT)throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");ENVIRONMENT_IS_SHELL=!0}else ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&!0&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=console.log),Module.printErr||(Module.printErr=console.warn);var nodeFS,nodePath;Module.read=function(e,t){nodeFS||(nodeFS=__webpack_require__(105)),nodePath||(nodePath=__webpack_require__(106)),e=nodePath.normalize(e);var n=nodeFS.readFileSync(e);return t?n:n.toString()},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"==typeof t),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e,t){quit(e)});else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),t.response}),Module.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.warn(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),"undefined"==typeof Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.quit||(Module.quit=function(e,t){throw t}),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(e){return tempRet0=e,e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8===0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4===(7&e)),e+=4):assert(0===(3&e)),e},getAlignSize:function(e,t,n){return n||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,n){return n&&n.length?Module["dynCall_"+e].apply(null,[t].concat(n)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var n=Runtime.funcWrappers[t];return n[e]||(1===t.length?n[e]=function(){return Runtime.dynCall(t,e)}:2===t.length?n[e]=function(n){return Runtime.dynCall(t,e,[n])}:n[e]=function(){return Runtime.dynCall(t,e,Array.prototype.slice.call(arguments))}),n[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=STACKTOP+e|0,STACKTOP=STACKTOP+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=STATICTOP+e|0,STATICTOP=STATICTOP+15&-16,t},dynamicAlloc:function(e){var t=HEAP32[DYNAMICTOP_PTR>>2],n=(t+e+15|0)&-16;if(HEAP32[DYNAMICTOP_PTR>>2]=n,n>=TOTAL_MEMORY){var r=enlargeMemory();if(!r)return HEAP32[DYNAMICTOP_PTR>>2]=t,0}return t},alignMemory:function(e,t){var n=e=Math.ceil(e/(t?t:16))*(t?t:16);return n},makeBigInt:function(e,t,n){var r=n?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t);return r},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0,EXITSTATUS=0,cwrap,ccall;!function(){function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}function ensureJSsource(){if(!JSsource){JSsource={};for(var e in JSfuncs)JSfuncs.hasOwnProperty(e)&&(JSsource[e]=parseJSFunc(JSfuncs[e]))}}var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=(e.length<<2)+1;t=Runtime.stackAlloc(n),stringToUTF8(e,t,n)}return t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,n,r,i){var o=getCFunc(e),a=[],s=0;if(r)for(var u=0;u<r.length;u++){var c=toC[n[u]];c?(0===s&&(s=Runtime.stackSave()),a[u]=c(r[u])):a[u]=r[u]}var l=o.apply(null,a);if("string"===t&&(l=Pointer_stringify(l)),0!==s){if(i&&i.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return l};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,JSsource=null;cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource(),funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"=("+convertCode.returnValue+");"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii;var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8;var UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;Module.stackTrace=stackTrace;var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||268435456;if(TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),buffer=Module.buffer?Module.buffer:new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews(),HEAP32[0]=1668509029,HEAP16[1]=25459,115!==HEAPU8[2]||99!==HEAPU8[3])throw"Runtime error: expected the system to be little-endian!";Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&Math.imul(4294967295,5)===-5||(Math.imul=function(e,t){var n=e>>>16,r=65535&e,i=t>>>16,o=65535&t;return r*o+(n*o+r*i<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(e,t,n,r,i){artoolkit.frameMalloc||(artoolkit.frameMalloc={});var o=artoolkit.frameMalloc;o.framepointer=t,o.framesize=n,o.camera=r,o.transform=i},function(e,t,n,r){artoolkit.multiEachMarkerInfo||(artoolkit.multiEachMarkerInfo={});var i=artoolkit.multiEachMarkerInfo;i.visible=e,i.pattId=t,i.pattType=n,i.width=r},function(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,w,M,E,A,x,T,_,k,S,N,L,D,C){var I=arguments,O=12;artoolkit.markerInfo||(artoolkit.markerInfo={pos:[0,0],line:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],vertex:[[0,0],[0,0],[0,0],[0,0]]});var R=artoolkit.markerInfo;R.area=e,R.id=t,R.idPatt=n,R.idMatrix=r,R.dir=i,R.dirPatt=o,R.dirMatrix=a,R.cf=s,R.cfPatt=u,R.cfMatrix=c,R.pos[0]=l,R.pos[1]=h,R.line[0][0]=I[O++],R.line[0][1]=I[O++],R.line[0][2]=I[O++],R.line[1][0]=I[O++],R.line[1][1]=I[O++],R.line[1][2]=I[O++],R.line[2][0]=I[O++],R.line[2][1]=I[O++],R.line[2][2]=I[O++],R.line[3][0]=I[O++],R.line[3][1]=I[O++],R.line[3][2]=I[O++],R.vertex[0][0]=I[O++],R.vertex[0][1]=I[O++],R.vertex[1][0]=I[O++],R.vertex[1][1]=I[O++],R.vertex[2][0]=I[O++],R.vertex[2][1]=I[O++],R.vertex[3][0]=I[O++],R.vertex[3][1]=I[O++],R.errorCorrected=I[O++]}];STATIC_BASE=8,STATICTOP=STATIC_BASE+16816,__ATINIT__.push({func:function(){__GLOBAL__sub_I_ARToolKitJS_cpp()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}}),allocate([108,12,0,0,205,36,0,0,0,0,0,0,1,0,0,0,32,0,0,0,0,0,0,0,236,11,0,0,12,37,0,0,236,11,0,0,6,42,0,0,236,11,0,0,69,42,0,0,236,11,0,0,131,42,0,0,236,11,0,0,201,42,0,0,236,11,0,0,6,43,0,0,236,11,0,0,37,43,0,0,236,11,0,0,68,43,0,0,236,11,0,0,99,43,0,0,236,11,0,0,130,43,0,0,236,11,0,0,161,43,0,0,236,11,0,0,192,43,0,0,236,11,0,0,253,43,0,0,236,11,0,0,28,44,0,0,108,12,0,0,47,44,0,0,0,0,0,0,1,0,0,0,32,0,0,0,0,0,0,0,108,12,0,0,110,44,0,0,0,0,0,0,1,0,0,0,32,0,0,0,0,0,0,0,236,11,0,0,152,56,0,0,20,12,0,0,248,56,0,0,216,0,0,0,0,0,0,0,20,12,0,0,165,56,0,0,232,0,0,0,0,0,0,0,236,11,0,0,198,56,0,0,20,12,0,0,211,56,0,0,200,0,0,0,0,0,0,0,20,12,0,0,41,57,0,0,192,0,0,0,0,0,0,0,20,12,0,0,54,57,0,0,216,0,0,0,0,0,0,0,80,12,0,0,94,57,0,0,80,12,0,0,96,57,0,0,80,12,0,0,98,57,0,0,80,12,0,0,100,57,0,0,80,12,0,0,102,57,0,0,80,12,0,0,104,57,0,0,80,12,0,0,106,57,0,0,80,12,0,0,108,57,0,0,80,12,0,0,110,57,0,0,80,12,0,0,112,57,0,0,80,12,0,0,114,57,0,0,80,12,0,0,116,57,0,0,80,12,0,0,118,57,0,0,20,12,0,0,120,57,0,0,200,0,0,0,0,0,0,0,26,13,0,0,33,13,0,0,45,13,0,0,55,13,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,24,0,0,0,48,0,0,0,96,0,0,0,67,0,0,0,5,0,0,0,10,0,0,0,20,0,0,0,40,0,0,0,80,0,0,0,35,0,0,0,70,0,0,0,15,0,0,0,30,0,0,0,60,0,0,0,120,0,0,0,115,0,0,0,101,0,0,0,73,0,0,0,17,0,0,0,34,0,0,0,68,0,0,0,11,0,0,0,22,0,0,0,44,0,0,0,88,0,0,0,51,0,0,0,102,0,0,0,79,0,0,0,29,0,0,0,58,0,0,0,116,0,0,0,107,0,0,0,85,0,0,0,41,0,0,0,82,0,0,0,39,0,0,0,78,0,0,0,31,0,0,0,62,0,0,0,124,0,0,0,123,0,0,0,117,0,0,0,105,0,0,0,81,0,0,0,33,0,0,0,66,0,0,0,7,0,0,0,14,0,0,0,28,0,0,0,56,0,0,0,112,0,0,0,99,0,0,0,69,0,0,0,9,0,0,0,18,0,0,0,36,0,0,0,72,0,0,0,19,0,0,0,38,0,0,0,76,0,0,0,27,0,0,0,54,0,0,0,108,0,0,0,91,0,0,0,53,0,0,0,106,0,0,0,87,0,0,0,45,0,0,0,90,0,0,0,55,0,0,0,110,0,0,0,95,0,0,0,61,0,0,0,122,0,0,0,119,0,0,0,109,0,0,0,89,0,0,0,49,0,0,0,98,0,0,0,71,0,0,0,13,0,0,0,26,0,0,0,52,0,0,0,104,0,0,0,83,0,0,0,37,0,0,0,74,0,0,0,23,0,0,0,46,0,0,0,92,0,0,0,59,0,0,0,118,0,0,0,111,0,0,0,93,0,0,0,57,0,0,0,114,0,0,0,103,0,0,0,77,0,0,0,25,0,0,0,50,0,0,0,100,0,0,0,75,0,0,0,21,0,0,0,42,0,0,0,84,0,0,0,43,0,0,0,86,0,0,0,47,0,0,0,94,0,0,0,63,0,0,0,126,0,0,0,127,0,0,0,125,0,0,0,121,0,0,0,113,0,0,0,97,0,0,0,65,0,0,0,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,11,0,0,0,5,0,0,0,10,0,0,0,7,0,0,0,14,0,0,0,15,0,0,0,13,0,0,0,9,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,7,0,0,0,2,0,0,0,14,0,0,0,8,0,0,0,56,0,0,0,3,0,0,0,63,0,0,0,15,0,0,0,31,0,0,0,9,0,0,0,90,0,0,0,57,0,0,0,21,0,0,0,4,0,0,0,28,0,0,0,64,0,0,0,67,0,0,0,16,0,0,0,112,0,0,0,32,0,0,0,97,0,0,0,10,0,0,0,108,0,0,0,91,0,0,0,70,0,0,0,58,0,0,0,38,0,0,0,22,0,0,0,47,0,0,0,5,0,0,0,54,0,0,0,29,0,0,0,19,0,0,0,65,0,0,0,95,0,0,0,68,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,113,0,0,0,115,0,0,0,33,0,0,0,77,0,0,0,98,0,0,0,117,0,0,0,11,0,0,0,87,0,0,0,109,0,0,0,35,0,0,0,92,0,0,0,74,0,0,0,71,0,0,0,79,0,0,0,59,0,0,0,104,0,0,0,39,0,0,0,100,0,0,0,23,0,0,0,82,0,0,0,48,0,0,0,119,0,0,0,6,0,0,0,126,0,0,0,55,0,0,0,13,0,0,0,30,0,0,0,62,0,0,0,20,0,0,0,89,0,0,0,66,0,0,0,27,0,0,0,96,0,0,0,111,0,0,0,69,0,0,0,107,0,0,0,46,0,0,0,37,0,0,0,18,0,0,0,53,0,0,0,44,0,0,0,94,0,0,0,114,0,0,0,42,0,0,0,116,0,0,0,76,0,0,0,34,0,0,0,86,0,0,0,78,0,0,0,73,0,0,0,99,0,0,0,103,0,0,0,118,0,0,0,81,0,0,0,12,0,0,0,125,0,0,0,88,0,0,0,61,0,0,0,110,0,0,0,26,0,0,0,36,0,0,0,106,0,0,0,93,0,0,0,52,0,0,0,75,0,0,0,41,0,0,0,72,0,0,0,85,0,0,0,80,0,0,0,102,0,0,0,60,0,0,0,124,0,0,0,105,0,0,0,25,0,0,0,40,0,0,0,51,0,0,0,101,0,0,0,84,0,0,0,24,0,0,0,123,0,0,0,83,0,0,0,50,0,0,0,49,0,0,0,122,0,0,0,120,0,0,0,121,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,4,0,0,0,2,0,0,0,8,0,0,0,5,0,0,0,10,0,0,0,3,0,0,0,14,0,0,0,9,0,0,0,7,0,0,0,6,0,0,0,13,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,4,0,0,0,136,0,0,0,5,0,0,0,144,0,0,0,6,0,0,0,152,0,0,0,9,0,0,0,176,0,0,0,255,255,255,255,254,255,255,255,253,255,255,255,32,1,0,0,88,1,0,0,120,1,0,0,32,1,0,0,88,1,0,0,88,1,0,0,128,1,0,0,88,1,0,0,32,1,0,0,88,1,0,0,128,1,0,0,88,1,0,0,32,1,0,0,88,1,0,0,88,1,0,0,8,0,0,0,88,1,0,0,88,1,0,0,88,1,0,0,88,1,0,0,88,1,0,0,8,0,0,0,88,1,0,0,88,1,0,0,88,1,0,0,88,1,0,0,88,1,0,0,88,1,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,208,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,154,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,59,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,162,61,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,95,112,137,0,255,9,47,15,0,0,0,0,2,0,0,0,3,0,0,0,5,0,0,0,7,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,211,0,0,0,1,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,121,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,143,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,169,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,187,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,209,0,0,0,0,0,0,0,200,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,240,0,0,0,1,0,0,0,5,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,1,0,0,6,0,0,0,7,0,0,0,2,0,0,0,0,0,0,0,16,1,0,0,1,0,0,0,8,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,136,1,0,0,1,0,0,0,9,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,69,114,114,111,114,58,32,108,97,98,101,108,105,110,103,32,119,111,114,107,32,111,118,101,114,102,108,111,119,46,10,0,85,110,107,110,111,119,110,32,111,114,32,117,110,115,117,112,112,111,114,116,101,100,32,108,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,114,101,113,117,101,115,116,101,100,46,32,83,101,116,32,116,111,32,109,97,110,117,97,108,46,10,0,76,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,46,10,0,77,65,78,85,65,76,0,65,85,84,79,95,77,69,68,73,65,78,0,65,85,84,79,95,79,84,83,85,0,65,85,84,79,95,65,68,65,80,84,73,86,69,65,85,84,79,95,66,82,65,67,75,69,84,73,78,71,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,40,37,100,41,32,114,101,113,117,101,115,116,101,100,46,10,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,109,97,114,107,101,114,32,99,111,117,110,116,115,32,45,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,43,46,10,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,109,101,100,105,97,110,0,79,116,115,117,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,37,115,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,63,63,63,32,49,10,0,63,63,63,32,50,10,0,63,63,63,32,51,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,112,97,115,115,101,100,32,116,111,32,97,114,73,109,97,103,101,80,114,111,99,72,105,115,116,40,41,46,10,0,0,0,0,1,0,1,1,1,0,2,4,255,255,5,3,1,0,2,255,6,7,255,3,1,2,2,3,2,3,2,3,3,0,255,4,6,7,5,255,1,4,5,4,4,5,5,4,5,7,6,6,6,7,7,7,6,255,2,4,6,7,5,3,255,0,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,0,0,255,255,3,255,5,6,255,255,9,10,255,12,255,255,15,255,17,18,255,20,255,255,23,24,255,255,27,255,29,30,255,255,1,2,255,4,255,255,7,8,255,255,11,255,13,14,255,16,255,255,19,255,21,22,255,255,25,26,255,28,255,255,31,69,114,114,111,114,58,32,117,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,46,10,0,69,114,114,111,114,58,32,78,85,76,76,32,112,97,116,116,72,97,110,100,108,101,46,10,0,69,114,114,111,114,58,32,99,97,110,39,116,32,108,111,97,100,32,112,97,116,116,101,114,110,32,102,114,111,109,32,78,85,76,76,32,98,117,102,102,101,114,46,10,0,69,114,114,111,114,58,32,111,117,116,32,111,102,32,109,101,109,111,114,121,46,10,0,32,9,10,13,0,80,97,116,116,101,114,110,32,68,97,116,97,32,114,101,97,100,32,101,114,114,111,114,33,33,10,0,69,114,114,111,114,32,111,112,101,110,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,114,101,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,46,10,0,114,98,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,115,32,102,105,108,101,32,34,37,115,34,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,102,105,108,101,32,108,101,110,103,116,104,46,0,69,114,114,111,114,58,32,115,117,112,112,108,105,101,100,32,102,105,108,101,32,100,111,101,115,32,110,111,116,32,97,112,112,101,97,114,32,116,111,32,98,101,32,97,110,32,65,82,84,111,111,108,75,105,116,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,114,101,97,100,32,102,114,111,109,32,102,105,108,101,46,0,69,114,114,111,114,58,32,105,99,112,71,101,116,74,95,85,95,88,99,0,69,114,114,111,114,58,32,109,97,108,108,111,99,10,0,69,114,114,111,114,32,49,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,50,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,51,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,52,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,53,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,54,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,55,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,114,0,69,114,114,111,114,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,46,10,0,37,115,37,115,10,0,37,100,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,110,117,109,98,101,114,32,111,102,32,109,97,114,107,101,114,32,99,111,110,102,105,103,115,32,116,111,32,114,101,97,100,46,10,0,79,117,116,32,111,102,32,109,101,109,111,114,121,33,33,10,0,37,108,108,117,37,99,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,112,97,116,116,101,114,110,32,39,37,115,39,32,115,112,101,99,105,102,105,101,100,32,105,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,117,114,97,116,105,111,110,32,119,104,105,108,101,32,105,110,32,98,97,114,99,111,100,101,45,111,110,108,121,32,109,111,100,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,100,105,114,101,99,116,111,114,121,32,110,97,109,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,108,111,97,100,32,112,97,116,116,101,114,110,32,39,37,115,39,46,10,0,37,108,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,112,97,116,116,101,114,110,32,119,105,100,116,104,46,10,0,37,108,102,32,37,108,102,32,37,108,102,32,37,108,102,0,37,102,32,37,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,76,105,110,101,115,32,50,32,45,32,52,32,109,117,115,116,32,98,101,32,109,97,114,107,101,114,32,116,114,97,110,115,102,111,114,109,46,10,0,97,114,103,108,67,97,109,101,114,97,70,114,117,115,116,117,109,40,41,58,32,97,114,80,97,114,97,109,68,101,99,111,109,112,77,97,116,40,41,32,105,110,100,105,99,97,116,101,100,32,112,97,114,97,109,101,116,101,114,32,101,114,114,111,114,46,10,0,115,101,116,117,112,0,116,101,97,114,100,111,119,110,0,95,97,100,100,77,97,114,107,101,114,0,95,97,100,100,77,117,108,116,105,77,97,114,107,101,114,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,67,111,117,110,116,0,95,108,111,97,100,67,97,109,101,114,97,0,115,101,116,77,97,114,107,101,114,73,110,102,111,68,105,114,0,115,101,116,77,97,114,107,101,114,73,110,102,111,86,101,114,116,101,120,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,67,111,110,116,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,82,111,98,117,115,116,0,100,101,116,101,99,116,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,69,97,99,104,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,0,115,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,80,114,111,99,101,115,115,105,110,103,73,109,97,103,101,0,115,101,116,76,111,103,76,101,118,101,108,0,103,101,116,76,111,103,76,101,118,101,108,0,115,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,115,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,115,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,103,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,115,101,116,84,104,114,101,115,104,111,108,100,0,103,101,116,84,104,114,101,115,104,111,108,100,0,115,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,103,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,115,101,116,80,97,116,116,82,97,116,105,111,0,103,101,116,80,97,116,116,82,97,116,105,111,0,115,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,103,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,115,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,103,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,115,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,103,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,69,82,82,79,82,95,65,82,67,79,78,84,82,79,76,76,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,85,76,84,73,77,65,82,75,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,65,82,75,69,82,95,73,78,68,69,88,95,79,85,84,95,79,70,95,66,79,85,78,68,83,0,65,82,95,68,69,66,85,71,95,68,73,83,65,66,76,69,0,65,82,95,68,69,66,85,71,95,69,78,65,66,76,69,0,65,82,95,68,69,70,65,85,76,84,95,68,69,66,85,71,95,77,79,68,69,0,65,82,95,76,65,66,69,76,73,78,71,95,87,72,73,84,69,95,82,69,71,73,79,78,0,65,82,95,76,65,66,69,76,73,78,71,95,66,76,65,67,75,95,82,69,71,73,79,78,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,77,79,68,69,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,82,65,77,69,95,73,77,65,71,69,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,73,69,76,68,95,73,77,65,71,69,0,65,82,95,68,69,70,65,85,76,84,95,73,77,65,71,69,95,80,82,79,67,95,77,79,68,69,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,68,69,84,69,67,84,73,79,78,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,68,69,70,65,85,76,84,95,80,65,84,84,69,82,78,95,68,69,84,69,67,84,73,79,78,95,77,79,68,69,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,78,79,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,95,86,50,0,65,82,95,68,69,70,65,85,76,84,95,77,65,82,75,69,82,95,69,88,84,82,65,67,84,73,79,78,95,77,79,68,69,0,65,82,95,77,65,88,95,76,79,79,80,95,67,79,85,78,84,0,65,82,95,76,79,79,80,95,66,82,69,65,75,95,84,72,82,69,83,72,0,65,82,95,76,79,71,95,76,69,86,69,76,95,68,69,66,85,71,0,65,82,95,76,79,71,95,76,69,86,69,76,95,73,78,70,79,0,65,82,95,76,79,71,95,76,69,86,69,76,95,87,65,82,78,0,65,82,95,76,79,71,95,76,69,86,69,76,95,69,82,82,79,82,0,65,82,95,76,79,71,95,76,69,86,69,76,95,82,69,76,95,73,78,70,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,72,65,77,77,73,78,71,54,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,80,65,82,73,84,89,54,53,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,57,95,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,53,95,53,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,77,65,78,85,65,76,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,77,69,68,73,65,78,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,79,84,83,85,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,65,68,65,80,84,73,86,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,78,79,78,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,65,84,84,69,82,78,95,69,88,84,82,65,67,84,73,79,78,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,71,69,78,69,82,73,67,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,84,82,65,83,84,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,78,79,84,95,70,79,85,78,68,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,69,68,67,95,70,65,73,76,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,70,73,68,69,78,67,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,95,77,85,76,84,73,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,72,69,85,82,73,83,84,73,67,95,84,82,79,85,66,76,69,83,79,77,69,95,77,65,84,82,73,88,95,67,79,68,69,83,0,73,109,97,103,101,32,112,114,111,99,46,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,76,97,98,101,108,105,110,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,118,105,105,102,0,80,97,116,116,101,114,110,32,114,97,116,105,111,32,115,105,122,101,32,115,101,116,32,116,111,32,37,102,46,10,0,80,97,116,116,101,114,110,32,100,101,116,101,99,116,105,111,110,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,84,104,114,101,115,104,111,108,100,32,115,101,116,32,116,111,32,37,100,10,0,118,105,105,105,0,84,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,100,105,105,0,118,105,105,100,0,105,105,0,118,105,105,0,111,110,46,0,111,102,102,46,0,68,101,98,117,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,10,0,123,32,118,97,114,32,36,97,32,61,32,97,114,103,117,109,101,110,116,115,59,32,118,97,114,32,105,32,61,32,49,50,59,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,32,112,111,115,58,32,91,48,44,48,93,44,32,108,105,110,101,58,32,91,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,93,44,32,118,101,114,116,101,120,58,32,91,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,93,32,125,41,59,32,125,32,118,97,114,32,109,97,114,107,101,114,73,110,102,111,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,97,114,101,97,34,93,32,61,32,36,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,34,93,32,61,32,36,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,80,97,116,116,34,93,32,61,32,36,50,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,77,97,116,114,105,120,34,93,32,61,32,36,51,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,34,93,32,61,32,36,52,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,80,97,116,116,34,93,32,61,32,36,53,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,77,97,116,114,105,120,34,93,32,61,32,36,54,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,34,93,32,61,32,36,55,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,80,97,116,116,34,93,32,61,32,36,56,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,77,97,116,114,105,120,34,93,32,61,32,36,57,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,48,93,32,61,32,36,49,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,49,93,32,61,32,36,49,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,101,114,114,111,114,67,111,114,114,101,99,116,101,100,34,93,32,61,32,36,97,91,105,43,43,93,59,32,125,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,118,105,115,105,98,108,101,39,93,32,61,32,36,48,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,73,100,39,93,32,61,32,36,49,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,84,121,112,101,39,93,32,61,32,36,50,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,119,105,100,116,104,39,93,32,61,32,36,51,59,32,125,0,105,105,105,0,78,83,116,51,95,95,50,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,50,50,49,95,95,98,97,115,105,99,95,115,116,114,105,110,103,95,99,111,109,109,111,110,73,76,98,49,69,69,69,0,108,111,97,100,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,32,37,115,32,102,111,114,32,99,97,109,101,114,97,46,10,0,105,105,105,105,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,117,108,116,105,109,97,114,107,101,114,46,10,0,99,111,110,102,105,103,32,100,97,116,97,32,108,111,97,100,32,101,114,114,111,114,32,33,33,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,97,114,107,101,114,46,10,0,108,111,97,100,77,97,114,107,101,114,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,37,115,46,10,0,105,105,105,105,105,0,115,101,116,117,112,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,116,116,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,65,108,108,111,99,97,116,101,100,32,118,105,100,101,111,70,114,97,109,101,83,105,122,101,32,37,100,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,102,114,97,109,101,77,97,108,108,111,99,32,61,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,112,111,105,110,116,101,114,34,93,32,61,32,36,49,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,115,105,122,101,34,93,32,61,32,36,50,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,99,97,109,101,114,97,34,93,32,61,32,36,51,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,116,114,97,110,115,102,111,114,109,34,93,32,61,32,36,52,59,32,125,0,42,42,42,32,67,97,109,101,114,97,32,80,97,114,97,109,101,116,101,114,32,114,101,115,105,122,101,100,32,102,114,111,109,32,37,100,44,32,37,100,46,32,42,42,42,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,114,97,109,76,84,67,114,101,97,116,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,99,114,101,97,116,105,110,103,32,51,68,32,104,97,110,100,108,101,0,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,115,116],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),
allocate([100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,115,116,100,58,58,119,115,116,114,105,110,103,0,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,32,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,101,69,69,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,100,69,69,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,102,108,111,97,116,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,102,69,69,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,108,111,110,103,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,109,69,69,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,108,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,106,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,105,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,116,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,115,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,104,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,97,69,69,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,99,104,97,114,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,99,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,51,118,97,108,69,0,78,83,116,51,95,95,50,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,119,69,69,69,69,0,78,83,116,51,95,95,50,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,104,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,104,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,104,69,69,69,69,0,100,111,117,98,108,101,0,102,108,111,97,116,0,117,110,115,105,103,110,101,100,32,108,111,110,103,0,108,111,110,103,0,117,110,115,105,103,110,101,100,32,105,110,116,0,105,110,116,0,117,110,115,105,103,110,101,100,32,115,104,111,114,116,0,115,104,111,114,116,0,117,110,115,105,103,110,101,100,32,99,104,97,114,0,115,105,103,110,101,100,32,99,104,97,114,0,99,104,97,114,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,110,97,110,0,114,119,97,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,111,110,97,116,104,97,110,47,68,101,115,107,116,111,112,47,101,109,115,100,107,45,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,55,46,57,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,111,110,97,116,104,97,110,47,68,101,115,107,116,111,112,47,101,109,115,100,107,45,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,55,46,57,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,83,116,57,101,120,99,101,112,116,105,111,110,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,83,116,57,98,97,100,95,97,108,108,111,99,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0,118,0,98,0,99,0,104,0,97,0,115,0,116,0,105,0,106,0,108,0,109,0,102,0,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+10240);var tempDoublePtr=STATICTOP;STATICTOP+=16,Module._i64Subtract=_i64Subtract;var embind_charCodes=void 0,awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57,BindingError=void 0,InternalError=void 0,EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){var n=EXCEPTIONS.infos[t];if(n.adjusted===e)return t}return e},addRef:function(e){if(e){var t=EXCEPTIONS.infos[e];t.refcount++}},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0!==t.refcount||t.rethrown||(t.destructor&&Module.dynCall_vi(t.destructor,e),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){if(e){var t=EXCEPTIONS.infos[e];t.refcount=0}}};Module._memset=_memset,Module._bitshift64Shl=_bitshift64Shl,Module._free=_free,Module._malloc=_malloc,Module._i64Add=_i64Add;var emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}],ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},PATH={splitPath:function(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=PATH.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,t){return PATH.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:FS.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=PATH.resolve(e).substr(1),t=PATH.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}for(var u=[],s=a;s<r.length;s++)u.push("..");return u=u.concat(i.slice(a)),u.join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){TTY.ttys[e]={input:[],output:[],ops:t},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var t=TTY.ttys[e.node.rdev];if(!t)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===s||void 0===s)break;o++,t[n+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0;o<r;o++)try{e.tty.ops.put_char(e.tty,t[n+o])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ENVIRONMENT_IS_NODE){var n=256,r=new Buffer(n),i=0,o="win32"!=process.platform,a=process.stdin.fd;if(o){var s=!1;try{a=fs.openSync("/dev/stdin","r"),s=!0}catch(e){}}try{i=fs.readSync(a,r,0,n,null)}catch(e){if(e.toString().indexOf("EOF")==-1)throw e;i=0}s&&fs.closeSync(a),t=i>0?r.slice(0,i).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(t=window.prompt("Input: "),null!==t&&(t+="\n")):"function"==typeof readline&&(t=readline(),null!==t&&(t+="\n"));if(!t)return null;e.input=intArrayFromString(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(FS.isBlkdev(n)||FS.isFIFO(n))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var i=FS.createNode(e,t,n,r);return FS.isDir(i.mode)?(i.node_ops=MEMFS.ops_table.dir.node,i.stream_ops=MEMFS.ops_table.dir.stream,i.contents={}):FS.isFile(i.mode)?(i.node_ops=MEMFS.ops_table.file.node,i.stream_ops=MEMFS.ops_table.file.stream,i.usedBytes=0,i.contents=null):FS.isLink(i.mode)?(i.node_ops=MEMFS.ops_table.link.node,i.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(i.mode)&&(i.node_ops=MEMFS.ops_table.chrdev.node,i.stream_ops=MEMFS.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.length:0;if(n>=t)return;var r=1048576;t=Math.max(t,n*(n<r?2:1.125)|0),0!=n&&(t=Math.max(t,256));var i=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=FS.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,FS.isDir(e.mode)?t.size=4096:FS.isFile(e.mode)?t.size=e.usedBytes:FS.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&MEMFS.resizeFileStorage(e,t.size)},lookup:function(e,t){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,t,n,r){return MEMFS.createNode(e,t,n,r)},rename:function(e,t,n){if(FS.isDir(e.mode)){var r;try{r=FS.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=FS.lookupNode(e,t);for(var r in n.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=MEMFS.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,t,n,r,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,r);if(assert(a>=0),a>8&&o.subarray)t.set(o.subarray(i,i+a),n);else for(var s=0;s<a;s++)t[n+s]=o[i+s];return a},write:function(e,t,n,r,i,o){if(!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===i)return a.contents=new Uint8Array(t.subarray(n,n+r)),a.usedBytes=r,r;if(i+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),i),r}if(MEMFS.expandFileStorage(a,i+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)a.contents[i+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&FS.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r},allocate:function(e,t,n){MEMFS.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,o,a){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,u,c=e.node.contents;if(2&a||c.buffer!==t&&c.buffer!==t.buffer){if((i>0||i+r<e.node.usedBytes)&&(c=c.subarray?c.subarray(i,i+r):Array.prototype.slice.call(c,i,i+r)),u=!0,s=_malloc(r),!s)throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);t.set(c,s)}else u=!1,s=c.byteOffset;return{ptr:s,allocated:u}},msync:function(e,t,n,r,i){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&i)return 0;MEMFS.stream_ops.write(e,t,0,r,n,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,t,n){IDBFS.getLocalSet(e,function(r,i){return r?n(r):void IDBFS.getRemoteSet(e,function(e,r){if(e)return n(e);var o=t?r:i,a=t?i:r;IDBFS.reconcile(o,a,n)})})},getDB:function(e,t){var n=IDBFS.dbs[e];if(n)return t(null,n);var r;try{r=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return t(e)}return r?(r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;t=n.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?r.objectStore(IDBFS.DB_STORE_NAME):n.createObjectStore(IDBFS.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,IDBFS.dbs[e]=n,t(null,n)},void(r.onerror=function(e){t(this.error),e.preventDefault()})):t("Unable to connect to IndexedDB");
},getLocalSet:function(e,t){function n(e){return"."!==e&&".."!==e}function r(e){return function(t){return PATH.join2(e,t)}}for(var i={},o=FS.readdir(e.mountpoint).filter(n).map(r(e.mountpoint));o.length;){var a,s=o.pop();try{a=FS.stat(s)}catch(e){return t(e)}FS.isDir(a.mode)&&o.push.apply(o,FS.readdir(s).filter(n).map(r(s))),i[s]={timestamp:a.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var n={};IDBFS.getDB(e.mountpoint,function(e,r){if(e)return t(e);var i=r.transaction([IDBFS.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()};var o=i.objectStore(IDBFS.DB_STORE_NAME),a=o.index("timestamp");a.openKeyCursor().onsuccess=function(e){var i=e.target.result;return i?(n[i.primaryKey]={timestamp:i.key},void i.continue()):t(null,{type:"remote",db:r,entries:n})}})},loadLocalEntry:function(e,t){var n,r;try{var i=FS.lookupPath(e);r=i.node,n=FS.stat(e)}catch(e){return t(e)}return FS.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):FS.isFile(n.mode)?(r.contents=MEMFS.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(FS.isDir(t.mode))FS.mkdir(e,t.mode);else{if(!FS.isFile(t.mode))return n(new Error("node type not supported"));FS.writeFile(e,t.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,t.mode),FS.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=(FS.lookupPath(e),FS.stat(e));FS.isDir(n.mode)?FS.rmdir(e):FS.isFile(n.mode)&&FS.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){var i=e.put(n,t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else if(++s>=i)return n(null)}var i=0,o=[];Object.keys(e.entries).forEach(function(n){var r=e.entries[n],a=t.entries[n];(!a||r.timestamp>a.timestamp)&&(o.push(n),i++)});var a=[];if(Object.keys(t.entries).forEach(function(n){var r=(t.entries[n],e.entries[n]);r||(a.push(n),i++)}),!i)return n(null);var s=0,u="remote"===e.type?e.db:t.db,c=u.transaction([IDBFS.DB_STORE_NAME],"readwrite"),l=c.objectStore(IDBFS.DB_STORE_NAME);c.onerror=function(e){r(this.error),e.preventDefault()},o.sort().forEach(function(e){"local"===t.type?IDBFS.loadRemoteEntry(l,e,function(t,n){return t?r(t):void IDBFS.storeLocalEntry(e,n,r)}):IDBFS.loadLocalEntry(e,function(t,n){return t?r(t):void IDBFS.storeRemoteEntry(l,e,n,r)})}),a.sort().reverse().forEach(function(e){"local"===t.type?IDBFS.removeLocalEntry(e,r):IDBFS.removeRemoteEntry(l,e,r)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,t,n,r){if(!FS.isDir(n)&&!FS.isFile(n)&&!FS.isLink(n))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.createNode(e,t,n);return i.node_ops=NODEFS.node_ops,i.stream_ops=NODEFS.stream_ops,i},getMode:function(e){var t;try{t=fs.lstatSync(e),NODEFS.isWindows&&(t.mode=t.mode|(146&t.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),PATH.join.apply(null,t)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if(e&=-2097153,e&=-2049,e&=-32769,e&=-524289,e in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var t,n=NODEFS.realPath(e);try{t=fs.lstatSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!t.blksize&&(t.blksize=4096),NODEFS.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=NODEFS.realPath(e);try{if(void 0!==t.mode&&(fs.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);fs.utimesSync(n,r,r)}void 0!==t.size&&fs.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t),r=NODEFS.getMode(n);return NODEFS.createNode(e,t,r)},mknod:function(e,t,n,r){var i=NODEFS.createNode(e,t,n,r),o=NODEFS.realPath(i);try{FS.isDir(i.mode)?fs.mkdirSync(o,i.mode):fs.writeFileSync(o,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return i},rename:function(e,t,n){var r=NODEFS.realPath(e),i=PATH.join2(NODEFS.realPath(t),n);try{fs.renameSync(r,i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.unlinkSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,t){var n=PATH.join2(NODEFS.realPath(e),t);try{fs.rmdirSync(n)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var t=NODEFS.realPath(e);try{return fs.readdirSync(t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,t,n){var r=PATH.join2(NODEFS.realPath(e),t);try{fs.symlinkSync(n,r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var t=NODEFS.realPath(e);try{return t=fs.readlinkSync(t),t=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var t=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(t,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,t,n,r,i){if(0===r)return 0;var o,a=new Buffer(r);try{o=fs.readSync(e.nfd,a,0,r,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(o>0)for(var s=0;s<o;s++)t[n+s]=a[s];return o},write:function(e,t,n,r,i){var o,a=new Buffer(t.subarray(n,n+r));try{o=fs.writeSync(e.nfd,a,0,r,i)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return o},llseek:function(e,t,n){var r=t;if(1===n)r+=e.position;else if(2===n&&FS.isFile(e.node.mode))try{var i=fs.fstatSync(e.nfd);r+=i.size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function t(e){for(var t=e.split("/"),n=r,o=0;o<t.length-1;o++){var a=t.slice(0,o+1).join("/");i[a]||(i[a]=WORKERFS.createNode(n,t[o],WORKERFS.DIR_MODE,0)),n=i[a]}return n}function n(e){var t=e.split("/");return t[t.length-1]}assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var r=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),i={};return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(t(e.name),n(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(t(e.name),n(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(r){var i=r.filename.substr(1);WORKERFS.createNode(t(i),n(i),WORKERFS.FILE_MODE,0,e.blob.slice(r.start,r.end))})}),r},createNode:function(e,t,n,r,i,o){var a=FS.createNode(e,t,n);return a.mode=n,a.node_ops=WORKERFS.node_ops,a.stream_ops=WORKERFS.stream_ops,a.timestamp=(o||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),n===WORKERFS.FILE_MODE?(a.size=i.size,a.contents=i):(a.size=4096,a.contents={}),e&&(e.contents[t]=a),a},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,t,n,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,t,n,r,i){if(i>=e.node.size)return 0;var o=e.node.contents.slice(i,i+r),a=WORKERFS.reader.readAsArrayBuffer(o);return t.set(new Uint8Array(a),n),o.size},write:function(e,t,n,r,i){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&FS.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return r}}};STATICTOP+=16,STATICTOP+=16,STATICTOP+=16;var FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,t){if(e=PATH.resolve(FS.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var i=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=FS.root,a="/",s=0;s<i.length;s++){var u=s===i.length-1;if(u&&t.parent)break;if(o=FS.lookupNode(o,i[s]),a=PATH.join2(a,i[s]),FS.isMountpoint(o)&&(!u||u&&t.follow_mount)&&(o=o.mounted.root),!u||t.follow)for(var c=0;FS.isLink(o.mode);){var l=FS.readlink(a);a=PATH.resolve(PATH.dirname(a),l);var h=FS.lookupPath(a,{recurse_count:t.recurse_count});if(o=h.node,c++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(FS.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%FS.nameTable.length},hashAddNode:function(e){var t=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[t],FS.nameTable[t]=e},hashRemoveNode:function(e){var t=FS.hashName(e.parent.id,e.name);if(FS.nameTable[t]===e)FS.nameTable[t]=e.name_next;else for(var n=FS.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=FS.mayLookup(e);if(n)throw new FS.ErrnoError(n,e);for(var r=FS.hashName(e.id,t),i=FS.nameTable[r];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return FS.lookup(e,t)},createNode:function(e,t,n,r){if(!FS.FSNode){FS.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},FS.FSNode.prototype={};var i=365,o=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&i)===i},set:function(e){e?this.mode|=i:this.mode&=~i}},write:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=~o}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,t,n,r);return FS.hashAddNode(a),a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=FS.flagModes[e];if("undefined"==typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return FS.ignorePermissions?0:(t.indexOf("r")===-1||292&e.mode)&&(t.indexOf("w")===-1||146&e.mode)&&(t.indexOf("x")===-1||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var t=FS.nodePermissions(e,"x");return t?t:e.node_ops.lookup?0:ERRNO_CODES.EACCES},mayCreate:function(e,t){try{FS.lookupNode(e,t);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=FS.lookupNode(e,t)}catch(e){return e.errno}var i=FS.nodePermissions(e,"wx");if(i)return i;if(n){if(!FS.isDir(r.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(r)||FS.getPath(r)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(r.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,t){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&("r"!==FS.flagsToPermissionString(t)||512&t)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(t)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||FS.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!FS.streams[n])return n;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,t,n){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new FS.FSStream;for(var i in e)r[i]=e[i];e=r;var o=FS.nextfd(t,n);return e.fd=o,FS.streams[o]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=FS.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){FS.devices[e]={stream_ops:t}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){function n(e){return assert(FS.syncFSRequests>0),FS.syncFSRequests--,t(e)}function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else++o>=i.length&&n(null)}"function"==typeof e&&(t=e,e=!1),FS.syncFSRequests++,FS.syncFSRequests>1&&console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=FS.getMounts(FS.root.mount),o=0;i.forEach(function(t){return t.type.syncfs?void t.type.syncfs(t,e,r):r(null)})},mount:function(e,t,n){var r,i="/"===n,o=!n;if(i&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!i&&!o){var a=FS.lookupPath(n,{follow_mount:!1});if(n=a.path,r=a.node,FS.isMountpoint(r))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,i?FS.root=u:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),u},unmount:function(e){var t=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(t.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=t.node,r=n.mounted,i=FS.getMounts(r);Object.keys(FS.nameTable).forEach(function(e){for(var t=FS.nameTable[e];t;){var n=t.name_next;i.indexOf(t.mount)!==-1&&FS.destroyNode(t),t=n}}),n.mounted=null;var o=n.mount.mounts.indexOf(r);assert(o!==-1),n.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=FS.lookupPath(e,{parent:!0}),i=r.node,o=PATH.basename(e);if(!o||"."===o||".."===o)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=FS.mayCreate(i,o);if(a)throw new FS.ErrnoError(a);if(!i.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.mknod(i,o,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,FS.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,FS.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{FS.mkdir(r,t)}catch(e){if(e.errno!=ERRNO_CODES.EEXIST)throw e}}},mkdev:function(e,t,n){return"undefined"==typeof n&&(n=t,t=438),t|=8192,FS.mknod(e,t,n)},symlink:function(e,t){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var n=FS.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var i=PATH.basename(t),o=FS.mayCreate(r,i);if(o)throw new FS.ErrnoError(o);if(!r.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var n,r,i,o=PATH.dirname(e),a=PATH.dirname(t),s=PATH.basename(e),u=PATH.basename(t);try{n=FS.lookupPath(e,{parent:!0}),r=n.node,n=FS.lookupPath(t,{parent:!0}),i=n.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!r||!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(r.mount!==i.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var c=FS.lookupNode(r,s),l=PATH.relative(e,a);if("."!==l.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(l=PATH.relative(t,o),"."!==l.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);var h;try{h=FS.lookupNode(i,u)}catch(e){}if(c!==h){var f=FS.isDir(c.mode),d=FS.mayDelete(r,s,f);if(d)throw new FS.ErrnoError(d);if(d=h?FS.mayDelete(i,u,f):FS.mayCreate(i,u))throw new FS.ErrnoError(d);if(!r.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(c)||h&&FS.isMountpoint(h))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(i!==r&&(d=FS.nodePermissions(r,"w")))throw new FS.ErrnoError(d);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}FS.hashRemoveNode(c);try{r.node_ops.rename(c,i,u)}catch(e){throw e}finally{FS.hashAddNode(c)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=FS.lookupPath(e,{parent:!0}),n=t.node,r=PATH.basename(e),i=FS.lookupNode(n,r),o=FS.mayDelete(n,r,!0);if(o)throw new FS.ErrnoError(o);if(!n.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.rmdir(n,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=FS.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var t=FS.lookupPath(e,{parent:!0}),n=t.node,r=PATH.basename(e),i=FS.lookupNode(n,r),o=FS.mayDelete(n,r,!1);if(o)throw new FS.ErrnoError(o);if(!n.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.unlink(n,r),FS.destroyNode(i);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=FS.lookupPath(e),n=t.node;if(!n)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!n.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=FS.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!r.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,t,n){var r;if("string"==typeof e){var i=FS.lookupPath(e,{follow:!n});r=i.node}else r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);r.node_ops.setattr(r,{mode:4095&t|r.mode&-4096,timestamp:Date.now()})},lchmod:function(e,t){FS.chmod(e,t,!0)},fchmod:function(e,t){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(n.node,t)},chown:function(e,t,n,r){var i;if("string"==typeof e){var o=FS.lookupPath(e,{follow:!r});i=o.node}else i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){FS.chown(e,t,n,!0)},fchown:function(e,t,n){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n;if("string"==typeof e){var r=FS.lookupPath(e,{follow:!0});n=r.node}else n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(n.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var i=FS.nodePermissions(n,"w");if(i)throw new FS.ErrnoError(i);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=FS.getStream(e);if(!n)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0===(2097155&n.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(n.node,t)},utime:function(e,t,n){var r=FS.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);t="string"==typeof t?FS.modeStringToFlags(t):t,n="undefined"==typeof n?438:n,n=64&t?4095&n|32768:0;var o;if("object"==typeof e)o=e;else{e=PATH.normalize(e);try{var a=FS.lookupPath(e,{follow:!(131072&t)});o=a.node}catch(e){}}var s=!1;if(64&t)if(o){if(128&t)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else o=FS.mknod(e,n,0),s=!0;if(!o)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(o.mode)&&(t&=-513),65536&t&&!FS.isDir(o.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!s){var u=FS.mayOpen(o,t);if(u)throw new FS.ErrnoError(u)}512&t&&FS.truncate(o,0),t&=-641;var c=FS.createStream({node:o,path:FS.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},r,i);c.stream_ops.open&&c.stream_ops.open(c),!Module.logReadFiles||1&t||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var l=0;1!==(2097155&t)&&(l|=FS.tracking.openFlags.READ),0!==(2097155&t)&&(l|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,l)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return c},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,t,n){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=!0;if("undefined"==typeof i)i=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var a=e.stream_ops.read(e,t,n,r,i);return o||(e.position+=a),a},write:function(e,t,n,r,i,o){if(r<0||i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var a=!0;if("undefined"==typeof i)i=e.position,a=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,t,n,r,i,o);a||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,t,n){if(t<0||n<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,o,a){if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,t,n,r,i,o,a)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=FS.open(e,t.flags),i=FS.stat(e),o=i.size,a=new Uint8Array(o);return FS.read(r,a,0,o,0),"utf8"===t.encoding?n=UTF8ArrayToString(a,0):"binary"===t.encoding&&(n=a),FS.close(r),n},writeFile:function(e,t,n){if(n=n||{},n.flags=n.flags||"w",n.encoding=n.encoding||"utf8","utf8"!==n.encoding&&"binary"!==n.encoding)throw new Error('Invalid encoding type "'+n.encoding+'"');var r=FS.open(e,n.flags,n.mode);if("utf8"===n.encoding){var i=new Uint8Array(lengthBytesUTF8(t)+1),o=stringToUTF8Array(t,i,0,i.length);FS.write(r,i,0,o,0,n.canOwn)}else"binary"===n.encoding&&FS.write(r,t,0,t.length,0,n.canOwn);FS.close(r)},cwd:function(){return FS.currentPath},chdir:function(e){var t=FS.lookupPath(e,{follow:!0});if(null===t.node)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var n=FS.nodePermissions(t.node,"x");if(n)throw new FS.ErrnoError(n);FS.currentPath=t.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ENVIRONMENT_IS_NODE?function(){return __webpack_require__(163).randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=FS.getStream(n);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=FS.open("/dev/stdout","w");assert(1===t.fd,"invalid handle for stdout ("+t.fd+")");var n=FS.open("/dev/stderr","w");assert(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in ERRNO_CODES)if(ERRNO_CODES[t]===e){this.code=t;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,t,n){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=n||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<FS.streams.length;t++){var n=FS.streams[t];n&&FS.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=PATH.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return PATH.resolve(t,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,t){var n=FS.analyzePath(e,t);return n.exists?n.object:(___setErrNo(n.error),null)},analyzePath:function(e,t){try{var n=FS.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=PATH.basename(e),n=FS.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,n,r){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(n,r);return FS.mkdir(i,o)},createPath:function(e,t,n,r){e="string"==typeof e?e:FS.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var a=PATH.join2(e,o);try{FS.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,i){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),t),a=FS.getMode(r,i);return FS.create(o,a)},createDataFile:function(e,t,n,r,i,o){
var a=t?PATH.join2("string"==typeof e?e:FS.getPath(e),t):e,s=FS.getMode(r,i),u=FS.create(a,s);if(n){if("string"==typeof n){for(var c=new Array(n.length),l=0,h=n.length;l<h;++l)c[l]=n.charCodeAt(l);n=c}FS.chmod(u,146|s);var f=FS.open(u,"w");FS.write(f,n,0,n.length,0,o),FS.close(f),FS.chmod(u,s)}return u},createDevice:function(e,t,n,r){var i=PATH.join2("string"==typeof e?e:FS.getPath(e),t),o=FS.getMode(!!n,!!r);FS.createDevice.major||(FS.createDevice.major=64);var a=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,o){for(var a=0,s=0;s<i;s++){var u;try{u=n()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===u&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===u||void 0===u)break;a++,t[r+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,i,o){for(var a=0;a<i;a++)try{r(t[n+a])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),a}}),FS.mkdev(i,o,a)},createLink:function(e,t,n,r,i){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),t);return FS.symlink(n,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||___setErrNo(ERRNO_CODES.EIO),t},createLazyFile:function(e,t,n,r,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;i||(a=r);var s=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):intArrayFromString(i.responseText||"",!0)},u=this;u.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,r-1),"undefined"==typeof u.chunks[e]&&(u.chunks[e]=s(t,n)),"undefined"==typeof u.chunks[e])throw new Error("doXHR failed!");return u.chunks[e]}),!o&&r||(a=r=1,r=this.getter(0).length,a=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else var s={isDevice:!1,url:n};var u=FS.createFile(e,t,s,r,i);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={},l=Object.keys(u.stream_ops);return l.forEach(function(e){var t=u.stream_ops[e];c[e]=function(){if(!FS.forceLoadFile(u))throw new FS.ErrnoError(ERRNO_CODES.EIO);return t.apply(null,arguments)}}),c.read=function(e,t,n,r,i){if(!FS.forceLoadFile(u))throw new FS.ErrnoError(ERRNO_CODES.EIO);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,r);if(assert(a>=0),o.slice)for(var s=0;s<a;s++)t[n+s]=o[i+s];else for(var s=0;s<a;s++)t[n+s]=o.get(i+s);return a},u.stream_ops=c,u},createPreloadedFile:function(e,t,n,r,i,o,a,s,u,c){function l(n){function l(n){c&&c(),s||FS.createDataFile(e,t,n,r,i,u),o&&o(),removeRunDependency(f)}var d=!1;Module.preloadPlugins.forEach(function(e){d||e.canHandle(h)&&(e.handle(n,h,l,function(){a&&a(),removeRunDependency(f)}),d=!0)}),d||l(n)}Browser.init();var h=t?PATH.resolve(PATH.join2(e,t)):e,f=getUniqueRunDependency("cp "+h);addRunDependency(f),"string"==typeof n?Browser.asyncLoad(n,function(e){l(e)},a):l(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=FS.indexedDB();try{var i=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){console.log("creating db");var e=i.result;e.createObjectStore(FS.DB_STORE_NAME)},i.onsuccess=function(){function r(){0==c?t():n()}var o=i.result,a=o.transaction([FS.DB_STORE_NAME],"readwrite"),s=a.objectStore(FS.DB_STORE_NAME),u=0,c=0,l=e.length;e.forEach(function(e){var t=s.put(FS.analyzePath(e).object.contents,e);t.onsuccess=function(){u++,u+c==l&&r()},t.onerror=function(){c++,u+c==l&&r()}}),a.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=FS.indexedDB();try{var i=r.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function r(){0==c?t():n()}var o=i.result;try{var a=o.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=a.objectStore(FS.DB_STORE_NAME),u=0,c=0,l=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),t.result,!0,!0,!0),u++,u+c==l&&r()},t.onerror=function(){c++,u+c==l&&r()}}),a.onerror=n},i.onerror=n}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(e===-100)n=FS.cwd();else{var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);n=r.path}t=PATH.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[n>>2]=r.dev,HEAP32[n+4>>2]=0,HEAP32[n+8>>2]=r.ino,HEAP32[n+12>>2]=r.mode,HEAP32[n+16>>2]=r.nlink,HEAP32[n+20>>2]=r.uid,HEAP32[n+24>>2]=r.gid,HEAP32[n+28>>2]=r.rdev,HEAP32[n+32>>2]=0,HEAP32[n+36>>2]=r.size,HEAP32[n+40>>2]=4096,HEAP32[n+44>>2]=r.blocks,HEAP32[n+48>>2]=r.atime.getTime()/1e3|0,HEAP32[n+52>>2]=0,HEAP32[n+56>>2]=r.mtime.getTime()/1e3|0,HEAP32[n+60>>2]=0,HEAP32[n+64>>2]=r.ctime.getTime()/1e3|0,HEAP32[n+68>>2]=0,HEAP32[n+72>>2]=r.ino,0},doMsync:function(e,t,n,r){var i=new Uint8Array(HEAPU8.subarray(e,e+n));FS.msync(t,i,0,n,r)},doMkdir:function(e,t){return e=PATH.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-ERRNO_CODES.EINVAL;var r=FS.readlink(e),i=Math.min(n,lengthBytesUTF8(r)),o=HEAP8[t+i];return stringToUTF8(r,t,n+1),HEAP8[t+i]=o,i},doAccess:function(e,t){if(t&-8)return-ERRNO_CODES.EINVAL;var n,r=FS.lookupPath(e,{follow:!0});n=r.node;var i="";return 4&t&&(i+="r"),2&t&&(i+="w"),1&t&&(i+="x"),i&&FS.nodePermissions(n,i)?-ERRNO_CODES.EACCES:0},doDup:function(e,t,n){var r=FS.getStream(n);return r&&FS.close(r),FS.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=HEAP32[t+8*o>>2],s=HEAP32[t+(8*o+4)>>2],u=FS.read(e,HEAP8,a,s,r);if(u<0)return-1;if(i+=u,u<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=HEAP32[t+8*o>>2],s=HEAP32[t+(8*o+4)>>2],u=FS.write(e,HEAP8,a,s,r);if(u<0)return-1;i+=u}return i},varargs:0,get:function(e){SYSCALLS.varargs+=4;var t=HEAP32[SYSCALLS.varargs-4>>2];return t},getStr:function(){var e=Pointer_stringify(SYSCALLS.get());return e},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var t=SYSCALLS.get(),n=SYSCALLS.get();if(e&&0===t)return null;var r=__read_sockaddr(t,n);if(r.errno)throw new FS.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:t===-1),e},getZero:function(){assert(0===SYSCALLS.get())}};Module._bitshift64Lshr=_bitshift64Lshr;var UnboundTypeError=void 0;Module._memcpy=_memcpy;var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);Module._llvm_cttz_i32=_llvm_cttz_i32,Module.___udivmoddi4=___udivmoddi4,Module.___udivdi3=___udivdi3,Module.___muldsi3=___muldsi3,Module.___muldi3=___muldi3,Module._sbrk=_sbrk,Module.___uremdi3=___uremdi3,Module._llvm_bswap_i32=_llvm_bswap_i32;var ___dso_handle=STATICTOP;if(STATICTOP+=16,embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),init_emval(),FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=__webpack_require__(105),NODEJS_PATH=__webpack_require__(106);NODEFS.staticInit()}UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0,Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_dii:invoke_dii,invoke_vid:invoke_vid,invoke_di:invoke_di,invoke_i:invoke_i,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_viiii:invoke_viiii,___syscall221:___syscall221,floatReadValueFromPointer:floatReadValueFromPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,_emscripten_asm_const_iiiid:_emscripten_asm_const_iiiid,__embind_register_memory_view:__embind_register_memory_view,throwInternalError:throwInternalError,get_first_emval:get_first_emval,_abort:_abort,throwBindingError:throwBindingError,___gxx_personality_v0:___gxx_personality_v0,extendError:extendError,___assert_fail:___assert_fail,__embind_register_void:__embind_register_void,___cxa_find_matching_catch:___cxa_find_matching_catch,count_emval_handles:count_emval_handles,___syscall54:___syscall54,getShiftFromSize:getShiftFromSize,__embind_register_function:__embind_register_function,embind_init_charCodes:embind_init_charCodes,___setErrNo:___setErrNo,__emval_register:__emval_register,___cxa_allocate_exception:___cxa_allocate_exception,_emscripten_memcpy_big:_emscripten_memcpy_big,__embind_register_bool:__embind_register_bool,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,__exit:__exit,getTypeName:getTypeName,__embind_register_std_wstring:__embind_register_std_wstring,createNamedFunction:createNamedFunction,__embind_register_emval:__embind_register_emval,readLatin1String:readLatin1String,throwUnboundTypeError:throwUnboundTypeError,craftInvokerFunction:craftInvokerFunction,_emscripten_asm_const_iiiiiiiidddddddddddddddddddddddddi:_emscripten_asm_const_iiiiiiiidddddddddddddddddddddddddi,__emval_decref:__emval_decref,__embind_register_integer:__embind_register_integer,__embind_register_float:__embind_register_float,makeLegalFunctionName:makeLegalFunctionName,integerReadValueFromPointer:integerReadValueFromPointer,___unlock:___unlock,heap32VectorToArray:heap32VectorToArray,init_emval:init_emval,whenDependentTypesAreResolved:whenDependentTypesAreResolved,_emscripten_asm_const_iiiiii:_emscripten_asm_const_iiiiii,new_:new_,___cxa_atexit:___cxa_atexit,registerType:registerType,___cxa_throw:___cxa_throw,___lock:___lock,___syscall6:___syscall6,___syscall5:___syscall5,ensureOverloadTable:ensureOverloadTable,__embind_register_constant:__embind_register_constant,requireFunction:requireFunction,runDestructors:runDestructors,_embind_repr:_embind_repr,_atexit:_atexit,___syscall140:___syscall140,exposePublicSymbol:exposePublicSymbol,_exit:_exit,__embind_register_std_string:__embind_register_std_string,replacePublicSymbol:replacePublicSymbol,___syscall145:___syscall145,___syscall146:___syscall146,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,t,n){"use asm";var r=new e.Int8Array(n);var i=new e.Int16Array(n);var o=new e.Int32Array(n);var a=new e.Uint8Array(n);var s=new e.Uint16Array(n);var u=new e.Uint32Array(n);var c=new e.Float32Array(n);var l=new e.Float64Array(n);var h=t.DYNAMICTOP_PTR|0;var f=t.tempDoublePtr|0;var d=t.ABORT|0;var p=t.STACKTOP|0;var m=t.STACK_MAX|0;var g=t.cttz_i8|0;var v=t.___dso_handle|0;var y=0;var b=0;var w=0;var M=0;var E=e.NaN,A=e.Infinity;var x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0;var I=0;var O=e.Math.floor;var R=e.Math.abs;var j=e.Math.sqrt;var P=e.Math.pow;var U=e.Math.cos;var F=e.Math.sin;var z=e.Math.tan;var B=e.Math.acos;var H=e.Math.asin;var V=e.Math.atan;var G=e.Math.atan2;var Y=e.Math.exp;var Q=e.Math.log;var W=e.Math.ceil;var q=e.Math.imul;var X=e.Math.min;var K=e.Math.max;var Z=e.Math.clz32;var J=t.abort;var $=t.assert;var ee=t.enlargeMemory;var te=t.getTotalMemory;var ne=t.abortOnCannotGrowMemory;var re=t.invoke_iiii;var ie=t.invoke_viiiii;var oe=t.invoke_dii;var ae=t.invoke_vid;var se=t.invoke_di;var ue=t.invoke_i;var ce=t.invoke_vi;var le=t.invoke_vii;var he=t.invoke_ii;var fe=t.invoke_viii;var de=t.invoke_v;var pe=t.invoke_viid;var me=t.invoke_iiiii;var ge=t.invoke_viiiiii;var ve=t.invoke_iii;var ye=t.invoke_viiii;var be=t.___syscall221;var we=t.floatReadValueFromPointer;var Me=t.simpleReadValueFromPointer;var Ee=t._emscripten_asm_const_iiiid;var Ae=t.__embind_register_memory_view;var xe=t.throwInternalError;var Te=t.get_first_emval;var _e=t._abort;var ke=t.throwBindingError;var Se=t.___gxx_personality_v0;var Ne=t.extendError;var Le=t.___assert_fail;var De=t.__embind_register_void;var Ce=t.___cxa_find_matching_catch;var Ie=t.count_emval_handles;var Oe=t.___syscall54;var Re=t.getShiftFromSize;var je=t.__embind_register_function;var Pe=t.embind_init_charCodes;var Ue=t.___setErrNo;var Fe=t.__emval_register;var ze=t.___cxa_allocate_exception;var Be=t._emscripten_memcpy_big;var He=t.__embind_register_bool;var Ve=t.___resumeException;var Ge=t.__ZSt18uncaught_exceptionv;var Ye=t.__exit;var Qe=t.getTypeName;var We=t.__embind_register_std_wstring;var qe=t.createNamedFunction;var Xe=t.__embind_register_emval;var Ke=t.readLatin1String;var Ze=t.throwUnboundTypeError;var Je=t.craftInvokerFunction;var $e=t._emscripten_asm_const_iiiiiiiidddddddddddddddddddddddddi;var et=t.__emval_decref;var tt=t.__embind_register_integer;var nt=t.__embind_register_float;var rt=t.makeLegalFunctionName;var it=t.integerReadValueFromPointer;var ot=t.___unlock;var at=t.heap32VectorToArray;var st=t.init_emval;var ut=t.whenDependentTypesAreResolved;var ct=t._emscripten_asm_const_iiiiii;var lt=t.new_;var ht=t.___cxa_atexit;var ft=t.registerType;var dt=t.___cxa_throw;var pt=t.___lock;var mt=t.___syscall6;var gt=t.___syscall5;var vt=t.ensureOverloadTable;var yt=t.__embind_register_constant;var bt=t.requireFunction;var wt=t.runDestructors;var Mt=t._embind_repr;var Et=t._atexit;var At=t.___syscall140;var xt=t.exposePublicSymbol;var Tt=t._exit;var _t=t.__embind_register_std_string;var kt=t.replacePublicSymbol;var St=t.___syscall145;var Nt=t.___syscall146;var Lt=0;function Dt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<2)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;do if(((a[b+2>>0]|0)+(a[b+1>>0]|0)+(a[b+3>>0]|0)|0)>(A|0)){i[e>>1]=0;r[w>>0]=0}else{r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;g=(h<<16>>16)+-1|0;d=e+-2|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}while(0);b=b+4|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+8|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Ct(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;m=o[u>>2]|0;T=n+-1|0;c=m;h=m+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}x=t+-1|0;c=m;h=m+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}d=u+1179664|0;M=t+1|0;A=0-t|0;h=e+M|0;f=(o[u+4>>2]|0)+M|0;E=1;v=0;e=m+(M<<1)|0;e:while(1){if((E|0)<(T|0)){w=h;M=f;c=v;b=1}else{h=56;break}while(1){if((b|0)>=(x|0))break;do if((a[w>>0]|0|0)>(s|0)){i[e>>1]=0;r[M>>0]=0}else{r[M>>0]=-1;f=e+(A<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}y=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;m=e+-2|0;v=(h<<16>>16)+-1|0;if(y<<16>>16<=0){if(f){i[e>>1]=h;h=v*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=i[m>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;y=u+1310736+(h+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=u+1310736+(h+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=u+1310736+(h+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(b|0))f=b;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;y=c*7|0;o[u+1310736+(y<<2)>>2]=1;o[u+1310736+(y+1<<2)>>2]=b;o[u+1310736+(y+2<<2)>>2]=E;o[u+1310736+(y+3<<2)>>2]=b;o[u+1310736+(y+4<<2)>>2]=b;o[u+1310736+(y+5<<2)>>2]=E;c=h;f=E;h=y+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(y<<16>>16)+-1|0;g=u+1179664+(h<<2)|0;if(f){h=o[g>>2]|0;g=o[u+1179664+(v<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}f=i[m>>1]|0;if(f<<16>>16<=0){i[e>>1]=y;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=o[g>>2]|0;g=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=u+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E}while(0);w=w+1|0;M=M+1|0;b=b+1|0;e=e+2|0}h=w+2|0;f=M+2|0;E=E+1|0;v=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){m=u+12|0;c=1;e=1;while(1){if((e|0)>(v|0))break;h=o[d>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[d>>2]=c;c=f;e=e+1|0;d=d+4|0}g=u+8|0;c=c+-1|0;o[g>>2]=c;if(!c)c=0;else{ld(m|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[g>>2]|0}while(1){if((e|0)>=(v|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(d<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(d+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(d+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(d+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(d+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(d+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(d+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[g>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function It(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;m=o[u>>2]|0;T=n+-1|0;c=m;h=m+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}x=t+-1|0;c=m;h=m+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}d=u+1179664|0;M=t+1|0;A=0-t|0;h=e+(M<<1)|0;f=(o[u+4>>2]|0)+M|0;E=1;v=0;e=m+(M<<1)|0;e:while(1){if((E|0)<(T|0)){w=h;M=f;c=v;b=1}else{h=56;break}while(1){if((b|0)>=(x|0))break;do if((a[w+1>>0]|0|0)>(s|0)){i[e>>1]=0;r[M>>0]=0}else{r[M>>0]=-1;f=e+(A<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}y=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;m=e+-2|0;v=(h<<16>>16)+-1|0;if(y<<16>>16<=0){if(f){i[e>>1]=h;h=v*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=i[m>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;y=u+1310736+(h+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=u+1310736+(h+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=u+1310736+(h+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(b|0))f=b;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;y=c*7|0;o[u+1310736+(y<<2)>>2]=1;o[u+1310736+(y+1<<2)>>2]=b;o[u+1310736+(y+2<<2)>>2]=E;o[u+1310736+(y+3<<2)>>2]=b;o[u+1310736+(y+4<<2)>>2]=b;o[u+1310736+(y+5<<2)>>2]=E;c=h;f=E;h=y+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(y<<16>>16)+-1|0;g=u+1179664+(h<<2)|0;if(f){h=o[g>>2]|0;g=o[u+1179664+(v<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}f=i[m>>1]|0;if(f<<16>>16<=0){i[e>>1]=y;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=o[g>>2]|0;g=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=u+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E}while(0);w=w+2|0;M=M+1|0;b=b+1|0;e=e+2|0}h=w+4|0;f=M+2|0;E=E+1|0;v=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){m=u+12|0;c=1;e=1;while(1){if((e|0)>(v|0))break;h=o[d>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[d>>2]=c;c=f;e=e+1|0;d=d+4|0}g=u+8|0;c=c+-1|0;o[g>>2]=c;if(!c)c=0;else{ld(m|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[g>>2]|0}while(1){if((e|0)>=(v|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(d<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(d+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(d+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(d+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(d+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(d+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(d+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[g>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Ot(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;m=o[u>>2]|0;T=n+-1|0;c=m;h=m+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}x=t+-1|0;c=m;h=m+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}d=u+1179664|0;M=t+1|0;A=0-t|0;h=e+(M<<1)|0;f=(o[u+4>>2]|0)+M|0;E=1;v=0;e=m+(M<<1)|0;e:while(1){if((E|0)<(T|0)){w=h;M=f;c=v;b=1}else{h=56;break}while(1){if((b|0)>=(x|0))break;do if((a[w>>0]|0|0)>(s|0)){i[e>>1]=0;r[M>>0]=0}else{r[M>>0]=-1;f=e+(A<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}y=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;
v=(h<<16>>16)+-1|0;m=e+-2|0;if(y<<16>>16<=0){if(f){i[e>>1]=h;h=v*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=i[m>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;y=u+1310736+(h+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=u+1310736+(h+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=u+1310736+(h+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(b|0))f=b;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;y=c*7|0;o[u+1310736+(y<<2)>>2]=1;o[u+1310736+(y+1<<2)>>2]=b;o[u+1310736+(y+2<<2)>>2]=E;o[u+1310736+(y+3<<2)>>2]=b;o[u+1310736+(y+4<<2)>>2]=b;o[u+1310736+(y+5<<2)>>2]=E;c=h;f=E;h=y+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(y<<16>>16)+-1|0;g=u+1179664+(h<<2)|0;if(f){h=o[g>>2]|0;g=o[u+1179664+(v<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}f=i[m>>1]|0;if(f<<16>>16<=0){i[e>>1]=y;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=o[g>>2]|0;g=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=u+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E}while(0);w=w+2|0;M=M+1|0;b=b+1|0;e=e+2|0}h=w+4|0;f=M+2|0;E=E+1|0;v=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){m=u+12|0;c=1;e=1;while(1){if((e|0)>(v|0))break;h=o[d>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[d>>2]=c;c=f;e=e+1|0;d=d+4|0}g=u+8|0;c=c+-1|0;o[g>>2]=c;if(!c)c=0;else{ld(m|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[g>>2]|0}while(1){if((e|0)>=(v|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(d<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(d+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(d+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(d+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(d+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(d+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(d+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[g>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Rt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;g=o[u>>2]|0;T=n+-1|0;c=g;h=0;f=g+((q(T,t)|0)<<1)|0;while(1){if((h|0)>=(t|0))break;i[f>>1]=0;i[c>>1]=0;c=c+2|0;h=h+1|0;f=f+2|0}x=t+-1|0;c=g;h=0;f=g+(x<<1)|0;while(1){if((h|0)>=(n|0))break;i[f>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+1|0;f=f+(t<<1)|0}d=u+1179664|0;M=t+1|0;A=0-t|0;m=e+M|0;h=s+M|0;E=1;v=0;f=(o[u+4>>2]|0)+M|0;e=g+(M<<1)|0;e:while(1){if((E|0)<(T|0)){b=h;c=v;w=f;y=1;M=e}else{h=56;break}while(1){if((y|0)>=(x|0))break;do if((a[m>>0]|0)>(a[b>>0]|0)){i[M>>1]=0;r[w>>0]=0}else{r[w>>0]=-1;f=M+(A<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[M>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+E;o[u+1310736+(v+-1<<2)>>2]=E;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;g=(h<<16>>16)+-1|0;e=M+-2|0;if(v<<16>>16<=0){if(f){i[M>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=E;break}h=i[e>>1]|0;if(h<<16>>16>0){i[M>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[M>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=E;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=E;c=h;f=E;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;s=u+1179664+(h<<2)|0;if(f){h=o[s>>2]|0;s=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(s|0)){i[M>>1]=h;if((h|0)<(s|0)){f=d;e=0;while(1){if((e|0)>=(c|0))break t;if((o[f>>2]|0)==(s|0))o[f>>2]=h;f=f+4|0;e=e+1|0}}}else{i[M>>1]=s;f=d;e=0;while(1){if((e|0)>=(c|0)){h=s;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=s;f=f+4|0;e=e+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+E;o[u+1310736+(v+-1<<2)>>2]=E;break}f=i[e>>1]|0;if(f<<16>>16<=0){i[M>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=E;break}h=o[s>>2]|0;s=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(s|0)){i[M>>1]=h;if((h|0)<(s|0)){f=d;e=0;while(1){if((e|0)>=(c|0))break t;if((o[f>>2]|0)==(s|0))o[f>>2]=h;f=f+4|0;e=e+1|0}}}else{i[M>>1]=s;f=d;e=0;while(1){if((e|0)>=(c|0)){h=s;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=s;f=f+4|0;e=e+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E}while(0);m=m+1|0;b=b+1|0;w=w+1|0;y=y+1|0;M=M+2|0}m=m+2|0;h=b+2|0;E=E+1|0;v=c;f=w+2|0;e=M+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){s=u+12|0;c=1;e=1;while(1){if((e|0)>(v|0))break;h=o[d>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[d>>2]=c;c=f;e=e+1|0;d=d+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(s|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(v|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(d<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(d+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(d+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(d+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(d+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(d+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(d+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function jt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=0-k|0;M=t*3|0;c=e+((t*6|0)+6)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;do if(((a[v+1>>0]|0)+(a[v>>0]|0)+(a[v+2>>0]|0)|0)>(E|0)){r[y>>0]=-1;h=e+(w<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;t=e+-2|0;d=(c<<16>>16)+-1|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}else{i[e>>1]=0;r[y>>0]=0}while(0);v=v+6|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+M+12|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Pt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=t<<1;M=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;d=a[v>>0]|0;m=a[v+1>>0]|0;do if(((d&248)+10+(d<<5&224)+(m>>>3&28)+(m<<3&248)|0)>(E|0)){r[y>>0]=-1;h=e+(M<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;d=(c<<16>>16)+-1|0;t=e+-2|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}else{i[e>>1]=0;r[y>>0]=0}while(0);v=v+4|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+w+8|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Ut(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=0-k|0;M=t<<2;c=e+((t<<3)+8)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;do if(((a[v+1>>0]|0)+(a[v>>0]|0)+(a[v+2>>0]|0)|0)>(E|0)){r[y>>0]=-1;h=e+(w<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;t=e+-2|0;d=(c<<16>>16)+-1|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}else{i[e>>1]=0;r[y>>0]=0}while(0);v=v+8|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+M+16|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Ft(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=t<<1;M=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;m=a[v>>0]|0;do if(((m&240)+24+(m<<4&240)+(r[v+1>>0]&-16&255)|0)>(E|0)){r[y>>0]=-1;h=e+(M<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;d=(c<<16>>16)+-1|0;t=e+-2|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}else{i[e>>1]=0;r[y>>0]=0}while(0);v=v+4|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+w+8|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function zt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=t<<1;M=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;d=a[v>>0]|0;m=a[v+1>>0]|0;do if(((d&248)+12+(d<<5&224)+(m>>>3&24)+(m<<2&248)|0)>(E|0)){r[y>>0]=-1;h=e+(M<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;d=(c<<16>>16)+-1|0;t=e+-2|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}else{i[e>>1]=0;r[y>>0]=0}while(0);v=v+4|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+w+8|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Bt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=0-k|0;M=t<<2;c=e+((t<<3)+8)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;do if(((a[v+2>>0]|0)+(a[v+1>>0]|0)+(a[v+3>>0]|0)|0)>(E|0)){r[y>>0]=-1;h=e+(w<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;t=e+-2|0;d=(c<<16>>16)+-1|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;
o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}else{i[e>>1]=0;r[y>>0]=0}while(0);v=v+8|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+M+16|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Ht(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;d=o[u>>2]|0;x=_+-1|0;n=d;c=d+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}A=k+-1|0;n=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}f=u+1179664|0;w=k+1|0;E=0-k|0;c=e+((t<<1)+2)|0;h=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(x|0)){b=c;w=h;n=g;y=1}else{c=56;break}while(1){if((y|0)>=(A|0))break;do if((a[b>>0]|0|0)>(s|0)){r[w>>0]=-1;h=e+(E<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;v=(c<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;d=e+-2|0;g=(c<<16>>16)+-1|0;if(v<<16>>16<=0){if(h){i[e>>1]=c;c=g*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+y;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+M;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(y|0))o[h>>2]=y;o[u+1310736+(c+6<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;v=u+1310736+(c+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(c+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(c+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(y|0))h=y;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;v=n*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;n=c;h=M;c=v+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(v<<16>>16)+-1|0;m=u+1179664+(c<<2)|0;if(h){c=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[e>>1]=c;if((c|0)<(m|0)){h=f;d=0;while(1){if((d|0)>=(n|0))break t;if((o[h>>2]|0)==(m|0))o[h>>2]=c;h=h+4|0;d=d+1|0}}}else{i[e>>1]=m;h=f;d=0;while(1){if((d|0)>=(n|0)){c=m;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=m;h=h+4|0;d=d+1|0}}while(0);v=(c<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16<=0){i[e>>1]=v;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+y;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+M;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(y|0))o[h>>2]=y;o[u+1310736+(c+6<<2)>>2]=M;break}c=o[m>>2]|0;m=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[e>>1]=c;if((c|0)<(m|0)){h=f;d=0;while(1){if((d|0)>=(n|0))break t;if((o[h>>2]|0)==(m|0))o[h>>2]=c;h=h+4|0;d=d+1|0}}}else{i[e>>1]=m;h=f;d=0;while(1){if((d|0)>=(n|0)){c=m;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=m;h=h+4|0;d=d+1|0}}while(0);v=(c<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}else{i[e>>1]=0;r[w>>0]=0}while(0);b=b+2|0;w=w+1|0;y=y+1|0;e=e+2|0}c=b+t+4|0;h=w+2|0;M=M+1|0;g=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){d=u+12|0;n=1;e=1;while(1){if((e|0)>(g|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[f>>2]=n;n=h;e=e+1|0;f=f+4|0}m=u+8|0;n=n+-1|0;o[m>>2]=n;if(!n)n=0;else{ld(d|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[m>>2]|0}while(1){if((e|0)>=(g|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(f<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(f+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(f+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(f+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(f+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(f+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[m>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Vt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;d=o[u>>2]|0;x=_+-1|0;n=d;c=d+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}A=k+-1|0;n=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}f=u+1179664|0;b=k+1|0;M=t<<1;E=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+b|0;w=1;m=0;e=d+(b<<1)|0;e:while(1){if((w|0)<(x|0)){y=c;b=h;n=m;v=1}else{c=56;break}while(1){if((v|0)>=(A|0))break;do if((a[y+1>>0]|0|0)>(s|0)){r[b>>0]=-1;h=e+(E<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=u+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+w;o[u+1310736+(g+-1<<2)>>2]=w;break}g=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;m=(c<<16>>16)+-1|0;t=e+-2|0;if(g<<16>>16<=0){if(h){i[e>>1]=c;c=m*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+v;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+w;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(v|0))o[h>>2]=v;o[u+1310736+(c+6<<2)>>2]=w;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;g=u+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=u+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(v|0))h=v;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;g=n*7|0;o[u+1310736+(g<<2)>>2]=1;o[u+1310736+(g+1<<2)>>2]=v;o[u+1310736+(g+2<<2)>>2]=w;o[u+1310736+(g+3<<2)>>2]=v;o[u+1310736+(g+4<<2)>>2]=v;o[u+1310736+(g+5<<2)>>2]=w;n=c;h=w;c=g+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(g<<16>>16)+-1|0;d=u+1179664+(c<<2)|0;if(h){c=o[d>>2]|0;d=o[u+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[e>>1]=c;if((c|0)<(d|0)){h=f;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=d;h=f;t=0;while(1){if((t|0)>=(n|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;t=t+1|0}}while(0);g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=u+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+w;o[u+1310736+(g+-1<<2)>>2]=w;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=g;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+v;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+w;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(v|0))o[h>>2]=v;o[u+1310736+(c+6<<2)>>2]=w;break}c=o[d>>2]|0;d=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[e>>1]=c;if((c|0)<(d|0)){h=f;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=d;h=f;t=0;while(1){if((t|0)>=(n|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;t=t+1|0}}while(0);g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=u+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w}else{i[e>>1]=0;r[b>>0]=0}while(0);y=y+4|0;b=b+1|0;v=v+1|0;e=e+2|0}c=y+M+8|0;h=b+2|0;w=w+1|0;m=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(m|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[f>>2]=n;n=h;e=e+1|0;f=f+4|0}d=u+8|0;n=n+-1|0;o[d>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[d>>2]|0}while(1){if((e|0)>=(m|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(f<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(f+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(f+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(f+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(f+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(f+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[d>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Gt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;d=o[u>>2]|0;x=_+-1|0;n=d;c=d+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}A=k+-1|0;n=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}f=u+1179664|0;b=k+1|0;M=t<<1;E=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+b|0;w=1;m=0;e=d+(b<<1)|0;e:while(1){if((w|0)<(x|0)){y=c;b=h;n=m;v=1}else{c=56;break}while(1){if((v|0)>=(A|0))break;do if((a[y>>0]|0|0)>(s|0)){r[b>>0]=-1;h=e+(E<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=u+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+w;o[u+1310736+(g+-1<<2)>>2]=w;break}g=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;m=(c<<16>>16)+-1|0;t=e+-2|0;if(g<<16>>16<=0){if(h){i[e>>1]=c;c=m*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+v;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+w;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(v|0))o[h>>2]=v;o[u+1310736+(c+6<<2)>>2]=w;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;g=u+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=u+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(v|0))h=v;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;g=n*7|0;o[u+1310736+(g<<2)>>2]=1;o[u+1310736+(g+1<<2)>>2]=v;o[u+1310736+(g+2<<2)>>2]=w;o[u+1310736+(g+3<<2)>>2]=v;o[u+1310736+(g+4<<2)>>2]=v;o[u+1310736+(g+5<<2)>>2]=w;n=c;h=w;c=g+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(g<<16>>16)+-1|0;d=u+1179664+(c<<2)|0;if(h){c=o[d>>2]|0;d=o[u+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[e>>1]=c;if((c|0)<(d|0)){h=f;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=d;h=f;t=0;while(1){if((t|0)>=(n|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;t=t+1|0}}while(0);g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=u+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+w;o[u+1310736+(g+-1<<2)>>2]=w;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=g;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+v;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+w;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(v|0))o[h>>2]=v;o[u+1310736+(c+6<<2)>>2]=w;break}c=o[d>>2]|0;d=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[e>>1]=c;if((c|0)<(d|0)){h=f;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=d;h=f;t=0;while(1){if((t|0)>=(n|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;t=t+1|0}}while(0);g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=u+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w}else{i[e>>1]=0;r[b>>0]=0}while(0);y=y+4|0;b=b+1|0;v=v+1|0;e=e+2|0}c=y+M+8|0;h=b+2|0;w=w+1|0;m=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(m|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[f>>2]=n;n=h;e=e+1|0;f=f+4|0}d=u+8|0;n=n+-1|0;o[d>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[d>>2]|0}while(1){if((e|0)>=(m|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(f<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(f+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(f+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(f+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(f+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(f+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[d>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Yt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w*3|0)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;do if(((a[b+1>>0]|0)+(a[b>>0]|0)+(a[b+2>>0]|0)|0)>(A|0)){r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;g=(h<<16>>16)+-1|0;d=e+-2|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}else{i[e>>1]=0;r[w>>0]=0}while(0);b=b+3|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+6|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Qt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<1)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;g=a[b>>0]|0;v=a[b+1>>0]|0;do if(((g&248)+10+(g<<5&224)+(v>>>3&28)+(v<<3&248)|0)>(A|0)){r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;d=e+-2|0;g=(h<<16>>16)+-1|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}else{i[e>>1]=0;r[w>>0]=0}while(0);b=b+2|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+4|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Wt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<2)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;do if(((a[b+1>>0]|0)+(a[b>>0]|0)+(a[b+2>>0]|0)|0)>(A|0)){r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;g=(h<<16>>16)+-1|0;d=e+-2|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}else{i[e>>1]=0;r[w>>0]=0}while(0);b=b+4|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+8|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function qt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<1)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;v=a[b>>0]|0;do if(((v&240)+24+(v<<4&240)+(r[b+1>>0]&-16&255)|0)>(A|0)){r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;d=e+-2|0;g=(h<<16>>16)+-1|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;
f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}else{i[e>>1]=0;r[w>>0]=0}while(0);b=b+2|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+4|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Xt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<1)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;g=a[b>>0]|0;v=a[b+1>>0]|0;do if(((g&248)+12+(g<<5&224)+(v>>>3&24)+(v<<2&248)|0)>(A|0)){r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;d=e+-2|0;g=(h<<16>>16)+-1|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}else{i[e>>1]=0;r[w>>0]=0}while(0);b=b+2|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+4|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Kt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<2)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;do if(((a[b+2>>0]|0)+(a[b+1>>0]|0)+(a[b+3>>0]|0)|0)>(A|0)){r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;g=(h<<16>>16)+-1|0;d=e+-2|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}else{i[e>>1]=0;r[w>>0]=0}while(0);b=b+4|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+8|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Zt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;m=o[u>>2]|0;T=n+-1|0;c=m;h=m+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}x=t+-1|0;c=m;h=m+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}d=u+1179664|0;M=t+1|0;A=0-t|0;h=e+M|0;f=(o[u+4>>2]|0)+M|0;E=1;v=0;e=m+(M<<1)|0;e:while(1){if((E|0)<(T|0)){w=h;M=f;c=v;b=1}else{h=56;break}while(1){if((b|0)>=(x|0))break;do if((a[w>>0]|0|0)>(s|0)){r[M>>0]=-1;f=e+(A<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}y=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;m=e+-2|0;v=(h<<16>>16)+-1|0;if(y<<16>>16<=0){if(f){i[e>>1]=h;h=v*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=i[m>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;y=u+1310736+(h+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=u+1310736+(h+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=u+1310736+(h+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(b|0))f=b;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;y=c*7|0;o[u+1310736+(y<<2)>>2]=1;o[u+1310736+(y+1<<2)>>2]=b;o[u+1310736+(y+2<<2)>>2]=E;o[u+1310736+(y+3<<2)>>2]=b;o[u+1310736+(y+4<<2)>>2]=b;o[u+1310736+(y+5<<2)>>2]=E;c=h;f=E;h=y+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(y<<16>>16)+-1|0;g=u+1179664+(h<<2)|0;if(f){h=o[g>>2]|0;g=o[u+1179664+(v<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}f=i[m>>1]|0;if(f<<16>>16<=0){i[e>>1]=y;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=o[g>>2]|0;g=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=u+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E}else{i[e>>1]=0;r[M>>0]=0}while(0);w=w+1|0;M=M+1|0;b=b+1|0;e=e+2|0}h=w+2|0;f=M+2|0;E=E+1|0;v=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){m=u+12|0;c=1;e=1;while(1){if((e|0)>(v|0))break;h=o[d>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[d>>2]=c;c=f;e=e+1|0;d=d+4|0}g=u+8|0;c=c+-1|0;o[g>>2]=c;if(!c)c=0;else{ld(m|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[g>>2]|0}while(1){if((e|0)>=(v|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(d<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(d+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(d+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(d+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(d+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(d+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(d+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[g>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Jt(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;m=o[u>>2]|0;T=n+-1|0;c=m;h=m+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}x=t+-1|0;c=m;h=m+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}d=u+1179664|0;M=t+1|0;A=0-t|0;h=e+(M<<1)|0;f=(o[u+4>>2]|0)+M|0;E=1;v=0;e=m+(M<<1)|0;e:while(1){if((E|0)<(T|0)){w=h;M=f;c=v;b=1}else{h=56;break}while(1){if((b|0)>=(x|0))break;do if((a[w+1>>0]|0|0)>(s|0)){r[M>>0]=-1;f=e+(A<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}y=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;m=e+-2|0;v=(h<<16>>16)+-1|0;if(y<<16>>16<=0){if(f){i[e>>1]=h;h=v*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=i[m>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;y=u+1310736+(h+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=u+1310736+(h+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=u+1310736+(h+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(b|0))f=b;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;y=c*7|0;o[u+1310736+(y<<2)>>2]=1;o[u+1310736+(y+1<<2)>>2]=b;o[u+1310736+(y+2<<2)>>2]=E;o[u+1310736+(y+3<<2)>>2]=b;o[u+1310736+(y+4<<2)>>2]=b;o[u+1310736+(y+5<<2)>>2]=E;c=h;f=E;h=y+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(y<<16>>16)+-1|0;g=u+1179664+(h<<2)|0;if(f){h=o[g>>2]|0;g=o[u+1179664+(v<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}f=i[m>>1]|0;if(f<<16>>16<=0){i[e>>1]=y;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=o[g>>2]|0;g=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=u+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E}else{i[e>>1]=0;r[M>>0]=0}while(0);w=w+2|0;M=M+1|0;b=b+1|0;e=e+2|0}h=w+4|0;f=M+2|0;E=E+1|0;v=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){m=u+12|0;c=1;e=1;while(1){if((e|0)>(v|0))break;h=o[d>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[d>>2]=c;c=f;e=e+1|0;d=d+4|0}g=u+8|0;c=c+-1|0;o[g>>2]=c;if(!c)c=0;else{ld(m|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[g>>2]|0}while(1){if((e|0)>=(v|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(d<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(d+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(d+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(d+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(d+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(d+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(d+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[g>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function $t(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;m=o[u>>2]|0;T=n+-1|0;c=m;h=m+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}x=t+-1|0;c=m;h=m+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}d=u+1179664|0;M=t+1|0;A=0-t|0;h=e+(M<<1)|0;f=(o[u+4>>2]|0)+M|0;E=1;v=0;e=m+(M<<1)|0;e:while(1){if((E|0)<(T|0)){w=h;M=f;c=v;b=1}else{h=56;break}while(1){if((b|0)>=(x|0))break;do if((a[w>>0]|0|0)>(s|0)){r[M>>0]=-1;f=e+(A<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}y=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;v=(h<<16>>16)+-1|0;m=e+-2|0;if(y<<16>>16<=0){if(f){i[e>>1]=h;h=v*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=i[m>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;y=u+1310736+(h+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=u+1310736+(h+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=u+1310736+(h+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(b|0))f=b;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;y=c*7|0;o[u+1310736+(y<<2)>>2]=1;o[u+1310736+(y+1<<2)>>2]=b;o[u+1310736+(y+2<<2)>>2]=E;o[u+1310736+(y+3<<2)>>2]=b;o[u+1310736+(y+4<<2)>>2]=b;o[u+1310736+(y+5<<2)>>2]=E;c=h;f=E;h=y+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(y<<16>>16)+-1|0;g=u+1179664+(h<<2)|0;if(f){h=o[g>>2]|0;g=o[u+1179664+(v<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=u+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;o[u+1310736+(y+-1<<2)>>2]=E;break}f=i[m>>1]|0;if(f<<16>>16<=0){i[e>>1]=y;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+b;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(b|0))o[f>>2]=b;o[u+1310736+(h+6<<2)>>2]=E;break}h=o[g>>2]|0;g=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(g|0)){i[e>>1]=h;if((h|0)<(g|0)){f=d;m=0;while(1){if((m|0)>=(c|0))break t;if((o[f>>2]|0)==(g|0))o[f>>2]=h;f=f+4|0;m=m+1|0}}}else{i[e>>1]=g;f=d;m=0;while(1){if((m|0)>=(c|0)){h=g;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=g;f=f+4|0;m=m+1|0}}while(0);y=(h<<16>>16)*7|0;v=u+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=u+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+E}else{i[e>>1]=0;r[M>>0]=0}while(0);w=w+2|0;M=M+1|0;b=b+1|0;e=e+2|0}h=w+4|0;f=M+2|0;E=E+1|0;v=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){m=u+12|0;c=1;e=1;while(1){if((e|0)>(v|0))break;h=o[d>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[d>>2]=c;c=f;e=e+1|0;d=d+4|0}g=u+8|0;c=c+-1|0;o[g>>2]=c;if(!c)c=0;else{ld(m|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[g>>2]|0}while(1){if((e|0)>=(v|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(d<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(d+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(d+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(d+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(d+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(d+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(d+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[g>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function en(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;g=o[u>>2]|0;T=n+-1|0;c=g;h=0;f=g+((q(T,t)|0)<<1)|0;while(1){if((h|0)>=(t|0))break;i[f>>1]=0;i[c>>1]=0;c=c+2|0;h=h+1|0;f=f+2|0}x=t+-1|0;c=g;h=0;f=g+(x<<1)|0;while(1){if((h|0)>=(n|0))break;i[f>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+1|0;f=f+(t<<1)|0}d=u+1179664|0;M=t+1|0;A=0-t|0;m=e+M|0;h=s+M|0;E=1;v=0;f=(o[u+4>>2]|0)+M|0;e=g+(M<<1)|0;e:while(1){if((E|0)<(T|0)){b=h;c=v;w=f;y=1;M=e}else{h=56;break}while(1){if((y|0)>=(x|0))break;do if((a[m>>0]|0)>(a[b>>0]|0)){r[w>>0]=-1;f=M+(A<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[M>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+E;o[u+1310736+(v+-1<<2)>>2]=E;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;g=(h<<16>>16)+-1|0;e=M+-2|0;if(v<<16>>16<=0){if(f){i[M>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=E;break}h=i[e>>1]|0;if(h<<16>>16>0){i[M>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[M>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=E;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=E;c=h;f=E;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;s=u+1179664+(h<<2)|0;if(f){h=o[s>>2]|0;s=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(s|0)){i[M>>1]=h;if((h|0)<(s|0)){f=d;e=0;while(1){if((e|0)>=(c|0))break t;if((o[f>>2]|0)==(s|0))o[f>>2]=h;f=f+4|0;e=e+1|0}}}else{i[M>>1]=s;f=d;e=0;while(1){if((e|0)>=(c|0)){h=s;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=s;f=f+4|0;e=e+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+E;o[u+1310736+(v+-1<<2)>>2]=E;break}f=i[e>>1]|0;if(f<<16>>16<=0){i[M>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+E;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=E;break}h=o[s>>2]|0;s=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(s|0)){i[M>>1]=h;if((h|0)<(s|0)){f=d;e=0;while(1){if((e|0)>=(c|0))break t;if((o[f>>2]|0)==(s|0))o[f>>2]=h;f=f+4|0;e=e+1|0}}}else{i[M>>1]=s;f=d;e=0;while(1){if((e|0)>=(c|0)){h=s;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=s;f=f+4|0;e=e+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+E}else{i[M>>1]=0;r[w>>0]=0}while(0);m=m+1|0;b=b+1|0;w=w+1|0;y=y+1|0;M=M+2|0}m=m+2|0;h=b+2|0;E=E+1|0;v=c;f=w+2|0;e=M+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){s=u+12|0;c=1;e=1;while(1){if((e|0)>(v|0))break;h=o[d>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[d>>2]=c;c=f;e=e+1|0;d=d+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(s|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(v|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;d=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(d<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(d+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(d+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(d+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(d+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(d+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(d+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function tn(e){e=e|0;return nn(e+8|0)|0}function nn(e){e=e|0;var t=0,n=0;n=p;p=p+16|0;t=df(4)|0;if(!t){di(3,4779,n);Tt(1)}e=lo(e)|0;o[t>>2]=e;if(!e){pf(t);t=0}p=n;return t|0}function rn(e){e=e|0;var t=0;t=o[e>>2]|0;if(!t)e=-1;else{ho(t)|0;pf(o[e>>2]|0);o[e>>2]=0;e=0}return e|0}function on(e){e=e|0;var t=0,n=0,r=0;n=p;p=p+16|0;t=df(7062432)|0;if(!t){di(3,4779,n);Tt(1)}o[t>>2]=0;o[t+4834148>>2]=0;o[t+7062408>>2]=0;o[t+4>>2]=-1;o[t+8>>2]=0;o[t+12>>2]=1;o[t+16>>2]=100;o[t+20>>2]=0;o[t+24>>2]=0;o[t+28>>2]=2;l[t+7062416>>3]=.5;o[t+7062424>>2]=3;o[t+32>>2]=e;r=o[e>>2]|0;o[t+36>>2]=r;e=o[e+4>>2]|0;o[t+40>>2]=e;o[t+44>>2]=0;o[t+15408>>2]=0;o[t+4834152>>2]=0;o[t+4818296>>2]=0;e=df(q(r<<1,e)|0)|0;o[t+4834144>>2]=e;if(!e){di(3,4779,n+8|0);Tt(1)}else{o[t+7062384>>2]=0;an(t,2)|0;sn(t,0)|0;o[t+7062388>>2]=-1;un(t,0)|0;cn(t,7)|0;p=n;return t|0}return 0}function an(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;a=p;p=p+16|0;n=a;e:do if(e){r=e+4|0;if((o[r>>2]|0)!=(t|0)){switch(t|0){case 11:case 10:case 9:case 8:case 7:case 6:case 4:case 3:case 2:case 1:case 0:{i=0;break}case 14:case 13:case 12:case 5:{i=1;break}default:{o[n>>2]=t;di(3,3412,n);n=-1;break e}}o[r>>2]=t;o[e+8>>2]=gi(t)|0;n=e+7062408|0;t=o[n>>2]|0;if(t|0){Vr(t);o[n>>2]=Hr(o[e+36>>2]|0,o[e+40>>2]|0,o[r>>2]|0,0)|0}n=e+24|0;t=o[n>>2]|0;if(!i)switch(t|0){case 1:{o[n>>2]=4;n=0;break e}case 4:{o[n>>2]=3;n=0;break e}default:{n=0;break e}}else switch(t|0){case 0:{o[n>>2]=1;n=0;break e}case 3:{o[n>>2]=4;n=0;break e}default:{n=0;break e}}}else n=0}else n=-1;while(0);p=a;return n|0}function sn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=p;p=p+16|0;r=i;do if(e)if((o[e>>2]|0)!=(t|0)){o[e>>2]=t;if(!t){n=e+4834148|0;pf(o[n>>2]|0);o[n>>2]=0;n=0;break}t=df(q(o[e+40>>2]|0,o[e+36>>2]|0)|0)|0;o[e+4834148>>2]=t;if(!t){di(3,4779,r);Tt(1)}else n=0}else n=0;else n=-1;while(0);p=i;return n|0}function un(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0;u=p;p=p+16|0;s=u+8|0;i=u;if(e){a=e+7062388|0;if((o[a>>2]|0)!=(t|0)){n=e+7062408|0;r=o[n>>2]|0;if(r|0){Vr(r);o[n>>2]=0}switch(t|0){case 3:case 2:case 1:{o[n>>2]=Hr(o[e+36>>2]|0,o[e+40>>2]|0,o[e+4>>2]|0,0)|0;break}case 4:{o[e+7062404>>2]=1;o[e+7062400>>2]=1;t=4;break}case 0:{t=0;break}default:{di(3,3244,i);t=0}}o[a>>2]=t;if((o[e>>2]|0)==1){o[s>>2]=o[408+(t<<2)>>2];di(3,3318,s);t=0}else t=0}else t=0}else t=-1;p=u;return t|0}function cn(e,t){e=e|0;t=t|0;if(!e)e=-1;else{o[e+7062392>>2]=t;o[e+7062396>>2]=0;e=0}return e|0}function ln(e){e=e|0;var t=0,n=0;if(!e)e=-1;else{t=e+7062408|0;n=o[t>>2]|0;if(n|0){Vr(n);o[t>>2]=0}pf(o[e+4834144>>2]|0);pf(o[e+4834148>>2]|0);pf(e);e=0}return e|0}function hn(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){o[t>>2]=o[e>>2];e=0}else e=-1;return e|0}function fn(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<2){o[e+12>>2]=t;e=0}else e=-1;return e|0}function dn(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){o[t>>2]=o[e+12>>2];e=0}else e=-1;return e|0}function pn(e,t){e=e|0;t=t|0;if((e|0)==0|t>>>0>255)e=-1;else{o[e+16>>2]=t;e=0}return e|0}function mn(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){o[t>>2]=o[e+16>>2];e=0}else e=-1;return e|0}function gn(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){o[t>>2]=o[e+7062388>>2];e=0}else e=-1;return e|0}function vn(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<2){o[e+20>>2]=t;e=0}else e=-1;return e|0}function yn(e,t){e=e|0;t=t|0;if(!e)e=-1;else{o[t>>2]=o[e+20>>2];e=0}return e|0}function bn(e,t){e=e|0;t=t|0;if((e|0)!=0&t>>>0<5){o[e+24>>2]=t;e=0}else e=-1;return e|0}function wn(e,t){e=e|0;t=t|0;if(!e)e=-1;else{o[e+7062424>>2]=t;e=0}return e|0}function Mn(e,t){e=e|0;t=t|0;if((e|0)!=0&(t|0)!=0){
o[t>>2]=o[e+7062424>>2];e=0}else e=-1;return e|0}function En(e,t){e=e|0;t=t|0;if(!e)e=-1;else{o[t>>2]=o[e+24>>2];e=0}return e|0}function An(e,t){e=e|0;t=+t;if((e|0)!=0?!(t<=0|t>=1):0){l[e+7062416>>3]=t;e=0}else e=-1;return e|0}function xn(e,t){e=e|0;t=t|0;if(!e)e=-1;else{l[t>>3]=+l[e+7062416>>3];e=0}return e|0}function Tn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0,O=0,R=0,j=0,P=0,U=0,F=0,z=0,B=0,H=0,V=0,G=0,Y=0,Q=0,W=0;Y=p;p=p+64|0;_=Y+32|0;v=Y+24|0;g=Y;x=Y+52|0;u=Y+40|0;G=e+44|0;o[G>>2]=0;T=e+7062388|0;k=e+12|0;F=e+40|0;H=e+24|0;E=e+16|0;S=e+7062384|0;N=e+7062424|0;z=e+7062396|0;L=e+36|0;D=e+4834144|0;C=e+15408|0;I=e+48|0;O=e+4|0;R=e+15416|0;j=e+20|0;P=e+32|0;B=e+7062392|0;U=e+7062416|0;do if((o[T>>2]|0)==4){n=o[z>>2]|0;if((n|0)>0){o[z>>2]=n+-1;w=30;break}y=o[E>>2]|0;b=e+7062400|0;s=(o[b>>2]|0)+y|0;s=(s|0)<255?s:255;o[x>>2]=s;M=e+7062404|0;m=y-(o[M>>2]|0)|0;m=(m|0)>0?m:0;o[x+4>>2]=m;o[x+8>>2]=y;n=0;while(1){h=o[e>>2]|0;if((n|0)>=3)break;if((Zr(t,o[L>>2]|0,o[F>>2]|0,o[O>>2]|0,h,o[k>>2]|0,o[x+(n<<2)>>2]|0,o[j>>2]|0,D,0)|0)<0){w=27;break}if((kn(o[L>>2]|0,o[F>>2]|0,D,o[j>>2]|0,1e6,70,1,R,C)|0)<0){w=27;break}if((Pr(t,o[L>>2]|0,o[F>>2]|0,o[O>>2]|0,R,o[C>>2]|0,o[S>>2]|0,o[j>>2]|0,o[H>>2]|0,(o[P>>2]|0)+184|0,+l[U>>3],I,G,o[N>>2]|0)|0)<0){w=27;break}o[u+(n<<2)>>2]=o[G>>2];n=n+1|0}if((w|0)==27){n=-1;break}r=o[u>>2]|0;i=o[u+8>>2]|0;n=o[u+4>>2]|0;if((h|0)==1){o[g>>2]=m;o[g+4>>2]=n;o[g+8>>2]=y;o[g+12>>2]=i;o[g+16>>2]=s;o[g+20>>2]=r;di(3,3461,g)}if((r|0)>(i|0)|(n|0)>(i|0)){r=o[x+(((r|0)<(n|0)&1)<<2)>>2]|0;o[E>>2]=r;n=r-y|0;if((n|0)>0){o[b>>2]=n;n=1}else{o[b>>2]=1;n=0-n|0}o[M>>2]=n;if((o[e>>2]|0)==1){o[v>>2]=r;di(3,3537,v);o[z>>2]=o[B>>2];w=30;break}else{o[z>>2]=o[B>>2];w=30;break}}n=o[b>>2]|0;i=o[M>>2]|0;r=n+1|0;if((n|0)<(i|0)){o[b>>2]=r;n=r}else{if((n|0)<=(i|0)){o[b>>2]=r;n=r}o[M>>2]=i+1}if((n+y|0)>254){o[b>>2]=1;n=1}if((y|0)<=(n|0))o[M>>2]=1;o[z>>2]=o[B>>2];w=48}else w=30;while(0);e:do if((w|0)==30){n=o[T>>2]|0;r=e+7062408|0;if((n|0)==3){n=Kr(o[r>>2]|0,t,9,-7)|0;if((n|0)<0)break;n=o[r>>2]|0;n=Zr(o[n>>2]|0,o[n+8>>2]|0,o[n+12>>2]|0,5,o[e>>2]|0,o[k>>2]|0,0,0,D,o[n+4>>2]|0)|0;if((n|0)<0)break}else{i=(n|0)==1;do if((n+-1|0)>>>0<2){n=o[z>>2]|0;if((n|0)>0){o[z>>2]=n+-1;break}n=o[r>>2]|0;if(i)n=qr(n,t,x)|0;else n=Xr(n,t,x)|0;if((n|0)<0)break e;if((o[e>>2]|0)==1?(A=a[x>>0]|0,(o[E>>2]|0)!=(A|0)):0){o[_>>2]=(o[T>>2]|0)==1?3589:3596;o[_+4>>2]=A;di(3,3601,_)}o[E>>2]=a[x>>0];o[z>>2]=o[B>>2]}while(0);if((Zr(t,o[L>>2]|0,o[F>>2]|0,o[O>>2]|0,o[e>>2]|0,o[k>>2]|0,o[E>>2]|0,o[j>>2]|0,D,0)|0)<0){n=-1;break}}if((kn(o[L>>2]|0,o[F>>2]|0,D,o[j>>2]|0,1e6,70,1,R,C)|0)>=0?(Pr(t,o[L>>2]|0,o[F>>2]|0,o[O>>2]|0,R,o[C>>2]|0,o[S>>2]|0,o[j>>2]|0,o[H>>2]|0,(o[P>>2]|0)+184|0,+l[U>>3],I,G,o[N>>2]|0)|0)>=0:0)w=48;else n=-1}while(0);e:do if((w|0)==48){x=e+28|0;if((o[x>>2]|0)==1){_n(e);n=0;break}T=e+4818296|0;A=o[T>>2]|0;E=0;while(1){if((E|0)>=(A|0))break;i=o[G>>2]|0;s=e+4818304+(E*264|0)|0;u=e+4818304+(E*264|0)+56|0;h=e+4818304+(E*264|0)+64|0;r=0;M=-1;c=.5;while(1){if((r|0)>=(i|0))break;f=+(o[e+48+(r<<8)>>2]|0);d=+(o[s>>2]|0)/f;if(!(d<.7|d>1.43)?(d=+l[e+48+(r<<8)+56>>3]-+l[u>>3],V=+l[e+48+(r<<8)+64>>3]-+l[h>>3],V=(d*d+V*V)/f,V<c):0){n=r;c=V}else n=M;r=r+1|0;M=n}t:do if((M|0)>-1){h=o[H>>2]|0;m=e+48+(M<<8)+8|0;g=e+48+(M<<8)+40|0;b=e+48+(M<<8)+24|0;w=e+48+(M<<8)+20|0;v=e+48+(M<<8)+12|0;y=e+48+(M<<8)+48|0;switch(h|0){case 0:case 1:case 2:break;case 4:case 3:{c=+l[e+4818304+(E*264|0)+40>>3];n=e+4818304+(E*264|0)+48|0;if(!(+l[g>>3]<c)?!(+l[y>>3]<+l[n>>3]):0)break t;l[g>>3]=c;o[m>>2]=o[e+4818304+(E*264|0)+8>>2];l[y>>3]=+l[n>>3];o[v>>2]=o[e+4818304+(E*264|0)+12>>2];r=0;i=-1;f=1e8;while(1){if((r|0)==4)break;else{n=0;c=0}while(1){if((n|0)==4)break;B=(n+r|0)%4|0;Q=+l[e+4818304+(E*264|0)+168+(n<<4)>>3]-+l[e+48+(M<<8)+168+(B<<4)>>3];d=+l[e+4818304+(E*264|0)+168+(n<<4)+8>>3]-+l[e+48+(M<<8)+168+(B<<4)+8>>3];n=n+1|0;c=c+(Q*Q+d*d)}B=c<f;z=B?r:i;r=r+1|0;i=z;f=B?c:f}B=4-i|0;o[w>>2]=(B+(o[e+4818304+(E*264|0)+20>>2]|0)|0)%4|0;o[b>>2]=(B+(o[e+4818304+(E*264|0)+24>>2]|0)|0)%4|0;break t}default:{n=-1;break e}}n=e+48+(M<<8)+32|0;d=+l[e+4818304+(E*264|0)+32>>3];if(+l[n>>3]<d){l[n>>3]=d;s=o[e+4818304+(E*264|0)+4>>2]|0;o[e+48+(M<<8)+4>>2]=s;u=e+4818304+(E*264|0)+16|0;r=-1;c=1e8;i=0;while(1){if((i|0)==4)break;else{n=0;f=0}while(1){if((n|0)==4)break;B=(n+i|0)%4|0;W=+l[e+4818304+(E*264|0)+168+(n<<4)>>3]-+l[e+48+(M<<8)+168+(B<<4)>>3];Q=+l[e+4818304+(E*264|0)+168+(n<<4)+8>>3]-+l[e+48+(M<<8)+168+(B<<4)+8>>3];n=n+1|0;f=f+(W*W+Q*Q)}if(f<c){n=(4-i+(o[u>>2]|0)|0)%4|0;c=f}else n=r;r=n;i=i+1|0}o[e+48+(M<<8)+16>>2]=r;if(h>>>0<2){o[m>>2]=s;l[g>>3]=d;o[w>>2]=r;break}else{o[v>>2]=s;l[y>>3]=d;o[b>>2]=r;break}}}while(0);E=E+1|0}_n(e);r=0;n=0;while(1){if((r|0)>=(o[T>>2]|0))break;B=e+4818304+(r*264|0)+256|0;H=(o[B>>2]|0)+1|0;o[B>>2]=H;if((H|0)<4){if((r|0)!=(n|0))pd(e+4818304+(n*264|0)|0,e+4818304+(r*264|0)|0,264)|0;n=n+1|0}r=r+1|0}o[T>>2]=n;i=0;while(1){n=o[G>>2]|0;if((i|0)>=(n|0))break;u=e+48+(i<<8)|0;r=o[e+48+(i<<8)+4>>2]|0;if((r|0)>=0){h=o[T>>2]|0;s=0;while(1){if((s|0)>=(h|0))break;if((o[e+4818304+(s*264|0)+4>>2]|0)==(r|0))break;s=s+1|0}r=e+4818304+(s*264|0)|0;if((s|0)==(h|0)){if((h|0)==60)break;o[T>>2]=h+1}pd(r|0,u|0,256)|0;o[e+4818304+(s*264|0)+256>>2]=1}i=i+1|0}if((o[x>>2]|0)==2)n=0;else{h=0;while(1){if((h|0)>=(o[T>>2]|0)){n=0;break e}i=e+4818304+(h*264|0)|0;s=e+4818304+(h*264|0)+56|0;u=e+4818304+(h*264|0)+64|0;r=0;while(1){if((r|0)>=(n|0))break;c=+(o[e+48+(r<<8)>>2]|0);W=+(o[i>>2]|0)/c;if(!(W<.7|W>1.43)?(Q=+l[e+48+(r<<8)+56>>3]-+l[s>>3],W=+l[e+48+(r<<8)+64>>3]-+l[u>>3],(Q*Q+W*W)/c<.5):0)break;r=r+1|0}if((r|0)==(n|0)){pd(e+48+(n<<8)|0,i|0,256)|0;n=(o[G>>2]|0)+1|0;o[G>>2]=n}h=h+1|0}}}while(0);p=Y;return n|0}function _n(e){e=e|0;var t=0,n=0,r=0,i=0;i=o[e+44>>2]|0;e:do switch(o[e+24>>2]|0){case 1:case 0:{t=0;while(1){if((t|0)>=(i|0))break e;n=e+48+(t<<8)+4|0;if((o[n>>2]|0)>-1?+l[e+48+(t<<8)+32>>3]<.5:0){o[e+48+(t<<8)+8>>2]=-1;o[n>>2]=-1;o[e+48+(t<<8)+236>>2]=6}t=t+1|0}}case 2:{t=0;while(1){if((t|0)>=(i|0))break e;n=e+48+(t<<8)+4|0;if((o[n>>2]|0)>-1?+l[e+48+(t<<8)+32>>3]<.5:0){o[e+48+(t<<8)+12>>2]=-1;o[n>>2]=-1;o[e+48+(t<<8)+236>>2]=6}t=t+1|0}}default:{r=0;while(1){if((r|0)>=(i|0))break e;t=e+48+(r<<8)+8|0;if((o[t>>2]|0)>-1?+l[e+48+(r<<8)+40>>3]<.5:0){o[t>>2]=-1;t=0}else t=1;n=e+48+(r<<8)+12|0;if(((o[n>>2]|0)>-1?+l[e+48+(r<<8)+48>>3]<.5:0)?(o[n>>2]=-1,(t|0)==0):0)o[e+48+(r<<8)+236>>2]=6;r=r+1|0}}}while(0);return}function kn(e,t,n,r,i,a,s,u,c){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;s=+s;u=u|0;c=c|0;var h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=0;y=(r|0)==1;if(y){e=(e|0)/2|0;t=(t|0)/2|0;i=(i|0)/4|0;a=(a|0)/4|0}o[c>>2]=0;m=n+8|0;g=e+-2|0;h=t+-2|0;f=n+1179664|0;r=0;while(1){if((r|0)>=(o[m>>2]|0)){v=5;break}d=n+12+(r<<2)|0;p=o[d>>2]|0;t=r;r=r+1|0;if((p|0)<(a|0)|(p|0)>(i|0))continue;p=n+131084+(t<<4)|0;if((o[p>>2]|0)==1)continue;if((o[n+131084+(t<<4)+4>>2]|0)==(g|0))continue;if((o[n+131084+(t<<4)+8>>2]|0)==1)continue;if((o[n+131084+(t<<4)+12>>2]|0)==(h|0))continue;if((Ir(o[n>>2]|0,e,0,f,r,p,u+((o[c>>2]|0)*80048|0)|0)|0)<0)continue;if((Or(o[d>>2]|0,u+((o[c>>2]|0)*80048|0)|0,s)|0)<0)continue;o[u+((o[c>>2]|0)*80048|0)>>2]=o[d>>2];p=o[c>>2]|0;l[u+(p*80048|0)+8>>3]=+l[n+655376+(t<<4)>>3];l[u+(p*80048|0)+16>>3]=+l[n+655376+(t<<4)+8>>3];p=p+1|0;o[c>>2]=p;if((p|0)==60){e=0;r=60;break}}if((v|0)==5){e=0;r=o[c>>2]|0}e:while(1){if((e|0)>=(r|0)){e=0;break}h=e+1|0;f=u+(e*80048|0)+8|0;d=u+(e*80048|0)+16|0;a=u+(e*80048|0)|0;i=h;while(1){if((i|0)>=(r|0)){e=h;continue e}b=+l[f>>3]-+l[u+(i*80048|0)+8>>3];s=+l[d>>3]-+l[u+(i*80048|0)+16>>3];s=b*b+s*s;r=o[a>>2]|0;e=u+(i*80048|0)|0;t=o[e>>2]|0;if((r|0)>(t|0)){if(s<+((r|0)/4|0|0))o[e>>2]=0}else if(s<+((t|0)/4|0|0))o[a>>2]=0;i=i+1|0;r=o[c>>2]|0}}e:while(1){while(1){if((e|0)>=(r|0))break e;t=e+1|0;if(!(o[u+(e*80048|0)>>2]|0)){e=t;break}else e=t}while(1){if((e|0)>=(r|0))break;pd(u+((e+-1|0)*80048|0)|0,u+(e*80048|0)|0,80048)|0;e=e+1|0;r=o[c>>2]|0}r=r+-1|0;o[c>>2]=r;e=t}e:do if(y){t=0;while(1){if((t|0)>=(r|0))break e;o[u>>2]=o[u>>2]<<2;e=u+8|0;l[e>>3]=+l[e>>3]*2;e=u+16|0;l[e>>3]=+l[e>>3]*2;e=u+24|0;r=0;while(1){if((r|0)>=(o[e>>2]|0))break;y=u+28+(r<<2)|0;o[y>>2]=o[y>>2]<<1;y=u+40028+(r<<2)|0;o[y>>2]=o[y>>2]<<1;r=r+1|0}u=u+80048|0;t=t+1|0;r=o[c>>2]|0}}while(0);return 0}function Sn(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;f=o[s>>2]|0;E=x+-1|0;n=f;u=f+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}M=T+-1|0;n=f;u=f+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}h=s+1179664|0;b=t<<1;w=0-T|0;u=e+((t<<2)+4)|0;d=0;y=1;c=f+(T+1<<1)|0;e:while(1){if((y|0)<(E|0)){v=u;n=d;g=1}else{u=56;break}while(1){if((g|0)>=(M|0))break;do if((a[v+1>>0]|0|0)>(r|0)){e=c+(w<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=s+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[s+1310736+(m+-1<<2)>>2]=y;break}m=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;d=(u<<16>>16)+-1|0;if(m<<16>>16<=0){if(e){i[c>>1]=u;u=d*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(g|0))o[e>>2]=g;o[s+1310736+(u+6<<2)>>2]=y;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;m=s+1310736+(u+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(u+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=s+1310736+(u+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(g|0))e=g;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;m=n*7|0;o[s+1310736+(m<<2)>>2]=1;o[s+1310736+(m+1<<2)>>2]=g;o[s+1310736+(m+2<<2)>>2]=y;o[s+1310736+(m+3<<2)>>2]=g;o[s+1310736+(m+4<<2)>>2]=g;o[s+1310736+(m+5<<2)>>2]=y;n=u;e=y;u=m+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(m<<16>>16)+-1|0;f=s+1179664+(u<<2)|0;if(e){u=o[f>>2]|0;f=o[s+1179664+(d<<2)>>2]|0;t:do if((u|0)<=(f|0)){i[c>>1]=u;if((u|0)<(f|0)){e=h;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=f;e=h;t=0;while(1){if((t|0)>=(n|0)){u=f;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=s+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[s+1310736+(m+-1<<2)>>2]=y;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=m;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(g|0))o[e>>2]=g;o[s+1310736+(u+6<<2)>>2]=y;break}u=o[f>>2]|0;f=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(f|0)){i[c>>1]=u;if((u|0)<(f|0)){e=h;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=f;e=h;t=0;while(1){if((t|0)>=(n|0)){u=f;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=s+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y}else i[c>>1]=0;while(0);v=v+4|0;g=g+1|0;c=c+2|0}u=v+b+8|0;d=n;y=y+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;u=o[h>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[h>>2]=n;n=c;e=e+1|0;h=h+4|0}f=s+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(h<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(h+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(h+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(h+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(h+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(h+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(h+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function Nn(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;f=o[s>>2]|0;E=x+-1|0;n=f;u=f+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}M=T+-1|0;n=f;u=f+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}h=s+1179664|0;b=t<<1;w=0-T|0;u=e+((t<<2)+4)|0;d=0;y=1;c=f+(T+1<<1)|0;e:while(1){if((y|0)<(E|0)){v=u;n=d;g=1}else{u=56;break}while(1){if((g|0)>=(M|0))break;do if((a[v>>0]|0|0)>(r|0)){e=c+(w<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=s+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[s+1310736+(m+-1<<2)>>2]=y;break}m=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;d=(u<<16>>16)+-1|0;t=c+-2|0;if(m<<16>>16<=0){if(e){i[c>>1]=u;u=d*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(g|0))o[e>>2]=g;o[s+1310736+(u+6<<2)>>2]=y;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;m=s+1310736+(u+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(u+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=s+1310736+(u+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(g|0))e=g;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;m=n*7|0;o[s+1310736+(m<<2)>>2]=1;o[s+1310736+(m+1<<2)>>2]=g;o[s+1310736+(m+2<<2)>>2]=y;o[s+1310736+(m+3<<2)>>2]=g;o[s+1310736+(m+4<<2)>>2]=g;o[s+1310736+(m+5<<2)>>2]=y;n=u;e=y;u=m+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(m<<16>>16)+-1|0;f=s+1179664+(u<<2)|0;if(e){u=o[f>>2]|0;f=o[s+1179664+(d<<2)>>2]|0;t:do if((u|0)<=(f|0)){i[c>>1]=u;if((u|0)<(f|0)){e=h;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=f;e=h;t=0;while(1){if((t|0)>=(n|0)){u=f;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=s+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[s+1310736+(m+-1<<2)>>2]=y;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=m;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(g|0))o[e>>2]=g;o[s+1310736+(u+6<<2)>>2]=y;break}u=o[f>>2]|0;f=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(f|0)){i[c>>1]=u;if((u|0)<(f|0)){e=h;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=f;e=h;t=0;while(1){if((t|0)>=(n|0)){u=f;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=s+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y}else i[c>>1]=0;while(0);v=v+4|0;g=g+1|0;c=c+2|0}u=v+b+8|0;d=n;y=y+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;u=o[h>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[h>>2]=n;n=c;e=e+1|0;h=h+4|0}f=s+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(h<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(h+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(h+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(h+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(h+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(h+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(h+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function Ln(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h*3|0)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;do if(((a[y+1>>0]|0)+(a[y>>0]|0)+(a[y+2>>0]|0)|0)>(M|0)){e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;f=h+-2|0;m=(c<<16>>16)+-1|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}else i[h>>1]=0;while(0);y=y+3|0;v=v+1|0;h=h+2|0}c=y+6|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function Dn(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h<<1)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;m=a[y>>0]|0;g=a[y+1>>0]|0;do if(((m&248)+10+(m<<5&224)+(g>>>3&28)+(g<<3&248)|0)>(M|0)){e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;f=h+-2|0;m=(c<<16>>16)+-1|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}else i[h>>1]=0;while(0);y=y+2|0;v=v+1|0;h=h+2|0}c=y+4|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function Cn(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h<<2)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;do if(((a[y+1>>0]|0)+(a[y>>0]|0)+(a[y+2>>0]|0)|0)>(M|0)){e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;m=(c<<16>>16)+-1|0;f=h+-2|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}else i[h>>1]=0;while(0);y=y+4|0;v=v+1|0;h=h+2|0}c=y+8|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function In(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[u>>2]|0;x=n+-1|0;c=d;h=d+((q(x,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}E=s*3|0;A=t+-1|0;c=d;h=d+(A<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;f=t+1|0;M=0-t|0;h=e+(f<<1)|0;g=0;w=1;f=d+(f<<1)|0;e:while(1){if((w|0)<(x|0)){b=h;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(A|0))break;v=a[b>>0]|0;do if(((v&240)+24+(v<<4&240)+(r[b+1>>0]&-16&255)|0)>(E|0)){e=f+(M<<1)|0;h=i[e>>1]|0;if(h<<16>>16>0){i[f>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w;o[u+1310736+(v+-1<<2)>>2]=w;break}v=i[e+2>>1]|0;h=i[e+-2>>1]|0;e=h<<16>>16>0;d=f+-2|0;g=(h<<16>>16)+-1|0;if(v<<16>>16<=0){if(e){i[f>>1]=h;h=g*7|0;e=u+1310736+(h<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=u+1310736+(h+1<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=u+1310736+(h+2<<2)|0;o[e>>2]=(o[e>>2]|0)+w;e=u+1310736+(h+4<<2)|0;if((o[e>>2]|0)<(y|0))o[e>>2]=y;o[u+1310736+(h+6<<2)>>2]=w;break}h=i[d>>1]|0;if(h<<16>>16>0){i[f>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+w;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))e=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[f>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=w;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=w;c=h;e=w;h=v+6|0}o[u+1310736+(h<<2)>>2]=e;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(e){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[f>>1]=h;if((h|0)<(m|0)){e=s;d=0;while(1){if((d|0)>=(c|0))break t;
if((o[e>>2]|0)==(m|0))o[e>>2]=h;e=e+4|0;d=d+1|0}}}else{i[f>>1]=m;e=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[e>>2]|0)==(h|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w;o[u+1310736+(v+-1<<2)>>2]=w;break}e=i[d>>1]|0;if(e<<16>>16<=0){i[f>>1]=v;h=h*7|0;e=u+1310736+(h<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=u+1310736+(h+1<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=u+1310736+(h+2<<2)|0;o[e>>2]=(o[e>>2]|0)+w;e=u+1310736+(h+3<<2)|0;if((o[e>>2]|0)>(y|0))o[e>>2]=y;o[u+1310736+(h+6<<2)>>2]=w;break}h=o[m>>2]|0;m=o[u+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[f>>1]=h;if((h|0)<(m|0)){e=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=h;e=e+4|0;d=d+1|0}}}else{i[f>>1]=m;e=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[e>>2]|0)==(h|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+w}else i[f>>1]=0;while(0);b=b+2|0;y=y+1|0;f=f+2|0}h=b+4|0;g=c;w=w+1|0;f=f+4|0}e:do if((h|0)==50){di(3,3212,T);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;T=u+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=_;return c|0}function On(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h<<1)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;m=a[y>>0]|0;g=a[y+1>>0]|0;do if(((m&248)+12+(m<<5&224)+(g>>>3&24)+(g<<2&248)|0)>(M|0)){e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;f=h+-2|0;m=(c<<16>>16)+-1|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}else i[h>>1]=0;while(0);y=y+2|0;v=v+1|0;h=h+2|0}c=y+4|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function Rn(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h<<2)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;do if(((a[y+2>>0]|0)+(a[y+1>>0]|0)+(a[y+3>>0]|0)|0)>(M|0)){e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;m=(c<<16>>16)+-1|0;f=h+-2|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}else i[h>>1]=0;while(0);y=y+4|0;v=v+1|0;h=h+2|0}c=y+8|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function jn(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[s>>2]|0;x=n+-1|0;u=d;c=d+((q(x,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}A=t+-1|0;u=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}f=s+1179664|0;h=t+1|0;E=0-t|0;c=e+h|0;g=0;M=1;h=d+(h<<1)|0;e:while(1){if((M|0)<(x|0)){w=c;u=g;b=1}else{c=56;break}while(1){if((b|0)>=(A|0))break;do if((a[w>>0]|0|0)>(r|0)){e=h+(E<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}y=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;d=h+-2|0;v=(c<<16>>16)+-1|0;if(y<<16>>16<=0){if(e){i[h>>1]=c;c=v*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;y=s+1310736+(c+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=s+1310736+(c+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=s+1310736+(c+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(b|0))e=b;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;y=u*7|0;o[s+1310736+(y<<2)>>2]=1;o[s+1310736+(y+1<<2)>>2]=b;o[s+1310736+(y+2<<2)>>2]=M;o[s+1310736+(y+3<<2)>>2]=b;o[s+1310736+(y+4<<2)>>2]=b;o[s+1310736+(y+5<<2)>>2]=M;u=c;e=M;c=y+6|0}o[s+1310736+(c<<2)>>2]=e;break}m=(y<<16>>16)+-1|0;g=s+1179664+(m<<2)|0;if(e){c=o[g>>2]|0;m=o[s+1179664+(v<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[h>>1]=c;if((c|0)<(m|0)){e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}}else{i[h>>1]=m;e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16<=0){i[h>>1]=y;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}m=o[g>>2]|0;c=o[s+1179664+((c<<16>>16)+-1<<2)>>2]|0;t:do if((m|0)<=(c|0)){i[h>>1]=m;if((m|0)<(c|0)){e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}else c=m}else{i[h>>1]=c;e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=s+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M}else i[h>>1]=0;while(0);w=w+1|0;b=b+1|0;h=h+2|0}c=w+2|0;g=u;M=M+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,T);u=-1}else if((c|0)==56){d=s+12|0;u=1;e=1;while(1){if((e|0)>(g|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[f>>2]=u;u=h;e=e+1|0;f=f+4|0}m=s+8|0;u=u+-1|0;o[m>>2]=u;if(!u)u=0;else{ld(d|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[m>>2]|0}while(1){if((e|0)>=(g|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(f<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(f+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(f+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(f+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(f+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(f+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[m>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;T=s+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=_;return u|0}function Pn(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[s>>2]|0;x=n+-1|0;u=d;c=d+((q(x,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}A=t+-1|0;u=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}f=s+1179664|0;h=t+1|0;E=0-t|0;c=e+(h<<1)|0;g=0;M=1;h=d+(h<<1)|0;e:while(1){if((M|0)<(x|0)){w=c;u=g;b=1}else{c=56;break}while(1){if((b|0)>=(A|0))break;do if((a[w+1>>0]|0|0)>(r|0)){e=h+(E<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}y=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;d=h+-2|0;v=(c<<16>>16)+-1|0;if(y<<16>>16<=0){if(e){i[h>>1]=c;c=v*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;y=s+1310736+(c+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=s+1310736+(c+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=s+1310736+(c+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(b|0))e=b;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;y=u*7|0;o[s+1310736+(y<<2)>>2]=1;o[s+1310736+(y+1<<2)>>2]=b;o[s+1310736+(y+2<<2)>>2]=M;o[s+1310736+(y+3<<2)>>2]=b;o[s+1310736+(y+4<<2)>>2]=b;o[s+1310736+(y+5<<2)>>2]=M;u=c;e=M;c=y+6|0}o[s+1310736+(c<<2)>>2]=e;break}m=(y<<16>>16)+-1|0;g=s+1179664+(m<<2)|0;if(e){c=o[g>>2]|0;m=o[s+1179664+(v<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[h>>1]=c;if((c|0)<(m|0)){e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}}else{i[h>>1]=m;e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16<=0){i[h>>1]=y;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}m=o[g>>2]|0;c=o[s+1179664+((c<<16>>16)+-1<<2)>>2]|0;t:do if((m|0)<=(c|0)){i[h>>1]=m;if((m|0)<(c|0)){e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}else c=m}else{i[h>>1]=c;e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=s+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M}else i[h>>1]=0;while(0);w=w+2|0;b=b+1|0;h=h+2|0}c=w+4|0;g=u;M=M+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,T);u=-1}else if((c|0)==56){d=s+12|0;u=1;e=1;while(1){if((e|0)>(g|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[f>>2]=u;u=h;e=e+1|0;f=f+4|0}m=s+8|0;u=u+-1|0;o[m>>2]=u;if(!u)u=0;else{ld(d|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[m>>2]|0}while(1){if((e|0)>=(g|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(f<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(f+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(f+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(f+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(f+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(f+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[m>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;T=s+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=_;return u|0}function Un(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[s>>2]|0;x=n+-1|0;u=d;c=d+((q(x,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}A=t+-1|0;u=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}f=s+1179664|0;h=t+1|0;E=0-t|0;c=e+(h<<1)|0;g=0;M=1;h=d+(h<<1)|0;e:while(1){if((M|0)<(x|0)){w=c;u=g;b=1}else{c=56;break}while(1){if((b|0)>=(A|0))break;do if((a[w>>0]|0|0)>(r|0)){e=h+(E<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}y=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;d=h+-2|0;v=(c<<16>>16)+-1|0;if(y<<16>>16<=0){if(e){i[h>>1]=c;c=v*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;y=s+1310736+(c+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=s+1310736+(c+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=s+1310736+(c+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(b|0))e=b;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;y=u*7|0;o[s+1310736+(y<<2)>>2]=1;o[s+1310736+(y+1<<2)>>2]=b;o[s+1310736+(y+2<<2)>>2]=M;o[s+1310736+(y+3<<2)>>2]=b;o[s+1310736+(y+4<<2)>>2]=b;o[s+1310736+(y+5<<2)>>2]=M;u=c;e=M;c=y+6|0}o[s+1310736+(c<<2)>>2]=e;break}m=(y<<16>>16)+-1|0;g=s+1179664+(m<<2)|0;if(e){c=o[g>>2]|0;m=o[s+1179664+(v<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[h>>1]=c;if((c|0)<(m|0)){e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}}else{i[h>>1]=m;e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16<=0){i[h>>1]=y;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}m=o[g>>2]|0;c=o[s+1179664+((c<<16>>16)+-1<<2)>>2]|0;t:do if((m|0)<=(c|0)){i[h>>1]=m;if((m|0)<(c|0)){e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}else c=m}else{i[h>>1]=c;e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=s+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M}else i[h>>1]=0;while(0);w=w+2|0;b=b+1|0;h=h+2|0}c=w+4|0;g=u;M=M+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,T);u=-1}else if((c|0)==56){d=s+12|0;u=1;e=1;while(1){if((e|0)>(g|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[f>>2]=u;u=h;e=e+1|0;f=f+4|0}m=s+8|0;u=u+-1|0;o[m>>2]=u;if(!u)u=0;else{ld(d|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[m>>2]|0}while(1){if((e|0)>=(g|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(f<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(f+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(f+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(f+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(f+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(f+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[m>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;T=s+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=_;return u|0}function Fn(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[s>>2]|0;x=n+-1|0;u=d;c=0;h=d+((q(x,t)|0)<<1)|0;while(1){if((c|0)>=(t|0))break;i[h>>1]=0;i[u>>1]=0;u=u+2|0;c=c+1|0;h=h+2|0}A=t+-1|0;u=d;c=0;h=d+(A<<1)|0;while(1){if((c|0)>=(n|0))break;i[h>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+1|0;h=h+(t<<1)|0}f=s+1179664|0;h=t+1|0;E=0-t|0;e=e+h|0;c=r+h|0;M=1;m=0;h=d+(h<<1)|0;e:while(1){if((M|0)<(x|0)){b=c;u=m;y=1;w=h}else{c=56;break}while(1){if((y|0)>=(A|0))break;do if((a[e>>0]|0)>(a[b>>0]|0)){h=w+(E<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[w>>1]=c;v=(c<<16>>16)*7|0;g=s+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=s+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[s+1310736+(v+-1<<2)>>2]=M;break}v=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;g=(c<<16>>16)+-1|0;r=w+-2|0;if(v<<16>>16<=0){if(h){i[w>>1]=c;c=g*7|0;h=s+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=s+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+y;h=s+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+M;h=s+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(y|0))o[h>>2]=y;o[s+1310736+(c+6<<2)>>2]=M;break}c=i[r>>1]|0;if(c<<16>>16>0){i[w>>1]=c;c=(c<<16>>16)*7|0;v=s+1310736+(c+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(c+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=s+1310736+(c+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(y|0))h=y;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[w>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;v=u*7|0;o[s+1310736+(v<<2)>>2]=1;o[s+1310736+(v+1<<2)>>2]=y;o[s+1310736+(v+2<<2)>>2]=M;o[s+1310736+(v+3<<2)>>2]=y;o[s+1310736+(v+4<<2)>>2]=y;o[s+1310736+(v+5<<2)>>2]=M;u=c;h=M;c=v+6|0}o[s+1310736+(c<<2)>>2]=h;break}d=(v<<16>>16)+-1|0;m=s+1179664+(d<<2)|0;if(h){c=o[m>>2]|0;d=o[s+1179664+(g<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[w>>1]=c;if((c|0)<(d|0)){h=f;r=0;while(1){if((r|0)>=(u|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;r=r+1|0}}}else{i[w>>1]=d;h=f;r=0;while(1){if((r|0)>=(u|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;r=r+1|0}}while(0);v=(c<<16>>16)*7|0;g=s+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=s+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[s+1310736+(v+-1<<2)>>2]=M;break}c=i[r>>1]|0;if(c<<16>>16<=0){i[w>>1]=v;c=d*7|0;h=s+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=s+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+y;h=s+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+M;h=s+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(y|0))o[h>>2]=y;o[s+1310736+(c+6<<2)>>2]=M;break}d=o[m>>2]|0;c=o[s+1179664+((c<<16>>16)+-1<<2)>>2]|0;t:do if((d|0)<=(c|0)){i[w>>1]=d;if((d|0)<(c|0)){h=f;r=0;while(1){if((r|0)>=(u|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;r=r+1|0}}else c=d}else{i[w>>1]=c;h=f;r=0;while(1){if((r|0)>=(u|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;r=r+1|0}}while(0);v=(c<<16>>16)*7|0;g=s+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=s+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}else i[w>>1]=0;while(0);e=e+1|0;b=b+1|0;y=y+1|0;w=w+2|0}e=e+2|0;c=b+2|0;M=M+1|0;m=u;h=w+4|0}e:do if((c|0)==50){di(3,3212,T);u=-1}else if((c|0)==56){r=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[f>>2]=u;u=h;e=e+1|0;f=f+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(r|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(f<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(f+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(f+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(f+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(f+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(f+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;T=s+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=_;return u|0}function zn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=0-k|0;M=t*3|0;c=e+((t*6|0)+6)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;do if(((a[v+1>>0]|0)+(a[v>>0]|0)+(a[v+2>>0]|0)|0)>(E|0)){i[e>>1]=0;r[y>>0]=0}else{r[y>>0]=-1;h=e+(w<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;t=e+-2|0;d=(c<<16>>16)+-1|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}while(0);v=v+6|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+M+12|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0;
}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Bn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=t<<1;M=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;d=a[v>>0]|0;m=a[v+1>>0]|0;do if(((d&248)+10+(d<<5&224)+(m>>>3&28)+(m<<3&248)|0)>(E|0)){i[e>>1]=0;r[y>>0]=0}else{r[y>>0]=-1;h=e+(M<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;d=(c<<16>>16)+-1|0;t=e+-2|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}while(0);v=v+4|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+w+8|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Hn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=0-k|0;M=t<<2;c=e+((t<<3)+8)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;do if(((a[v+1>>0]|0)+(a[v>>0]|0)+(a[v+2>>0]|0)|0)>(E|0)){i[e>>1]=0;r[y>>0]=0}else{r[y>>0]=-1;h=e+(w<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;t=e+-2|0;d=(c<<16>>16)+-1|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}while(0);v=v+8|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+M+16|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Vn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=t<<1;M=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;m=a[v>>0]|0;do if(((m&240)+24+(m<<4&240)+(r[v+1>>0]&-16&255)|0)>(E|0)){i[e>>1]=0;r[y>>0]=0}else{r[y>>0]=-1;h=e+(M<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;d=(c<<16>>16)+-1|0;t=e+-2|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}while(0);v=v+4|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+w+8|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Gn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=t<<1;M=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;d=a[v>>0]|0;m=a[v+1>>0]|0;do if(((d&248)+12+(d<<5&224)+(m>>>3&24)+(m<<2&248)|0)>(E|0)){i[e>>1]=0;r[y>>0]=0}else{r[y>>0]=-1;h=e+(M<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;d=(c<<16>>16)+-1|0;t=e+-2|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}while(0);v=v+4|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+w+8|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Yn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;f=o[u>>2]|0;x=_+-1|0;n=f;c=f+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}E=s*3|0;A=k+-1|0;n=f;c=f+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}s=u+1179664|0;y=k+1|0;w=0-k|0;M=t<<2;c=e+((t<<3)+8)|0;h=(o[u+4>>2]|0)+y|0;b=1;d=0;e=f+(y<<1)|0;e:while(1){if((b|0)<(x|0)){v=c;y=h;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(A|0))break;do if(((a[v+2>>0]|0)+(a[v+1>>0]|0)+(a[v+3>>0]|0)|0)>(E|0)){i[e>>1]=0;r[y>>0]=0}else{r[y>>0]=-1;h=e+(w<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}m=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;t=e+-2|0;d=(c<<16>>16)+-1|0;if(m<<16>>16<=0){if(h){i[e>>1]=c;c=d*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))h=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=b;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=b;n=c;h=b;c=m+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(h){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+b;o[u+1310736+(m+-1<<2)>>2]=b;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=m;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+g;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+b;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(g|0))o[h>>2]=g;o[u+1310736+(c+6<<2)>>2]=b;break}c=o[f>>2]|0;f=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[e>>1]=c;if((c|0)<(f|0)){h=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(f|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=f;h=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=f;h=h+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b}while(0);v=v+8|0;y=y+1|0;g=g+1|0;e=e+2|0}c=v+M+16|0;h=y+2|0;b=b+1|0;d=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Qn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;d=o[u>>2]|0;x=_+-1|0;n=d;c=d+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}A=k+-1|0;n=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}f=u+1179664|0;w=k+1|0;E=0-k|0;c=e+((t<<1)+2)|0;h=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(x|0)){b=c;w=h;n=g;y=1}else{c=56;break}while(1){if((y|0)>=(A|0))break;do if((a[b>>0]|0|0)>(s|0)){i[e>>1]=0;r[w>>0]=0}else{r[w>>0]=-1;h=e+(E<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;v=(c<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;d=e+-2|0;g=(c<<16>>16)+-1|0;if(v<<16>>16<=0){if(h){i[e>>1]=c;c=g*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+y;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+M;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(y|0))o[h>>2]=y;o[u+1310736+(c+6<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;v=u+1310736+(c+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(c+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(c+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(y|0))h=y;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;v=n*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;n=c;h=M;c=v+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(v<<16>>16)+-1|0;m=u+1179664+(c<<2)|0;if(h){c=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[e>>1]=c;if((c|0)<(m|0)){h=f;d=0;while(1){if((d|0)>=(n|0))break t;if((o[h>>2]|0)==(m|0))o[h>>2]=c;h=h+4|0;d=d+1|0}}}else{i[e>>1]=m;h=f;d=0;while(1){if((d|0)>=(n|0)){c=m;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=m;h=h+4|0;d=d+1|0}}while(0);v=(c<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16<=0){i[e>>1]=v;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+y;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+M;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(y|0))o[h>>2]=y;o[u+1310736+(c+6<<2)>>2]=M;break}c=o[m>>2]|0;m=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[e>>1]=c;if((c|0)<(m|0)){h=f;d=0;while(1){if((d|0)>=(n|0))break t;if((o[h>>2]|0)==(m|0))o[h>>2]=c;h=h+4|0;d=d+1|0}}}else{i[e>>1]=m;h=f;d=0;while(1){if((d|0)>=(n|0)){c=m;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=m;h=h+4|0;d=d+1|0}}while(0);v=(c<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}while(0);b=b+2|0;w=w+1|0;y=y+1|0;e=e+2|0}c=b+t+4|0;h=w+2|0;M=M+1|0;g=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){d=u+12|0;n=1;e=1;while(1){if((e|0)>(g|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[f>>2]=n;n=h;e=e+1|0;f=f+4|0}m=u+8|0;n=n+-1|0;o[m>>2]=n;if(!n)n=0;else{ld(d|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[m>>2]|0}while(1){if((e|0)>=(g|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(f<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(f+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(f+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(f+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(f+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(f+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[m>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Wn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;d=o[u>>2]|0;x=_+-1|0;n=d;c=d+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}A=k+-1|0;n=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}f=u+1179664|0;b=k+1|0;M=t<<1;E=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+b|0;w=1;m=0;e=d+(b<<1)|0;e:while(1){if((w|0)<(x|0)){y=c;b=h;n=m;v=1}else{c=56;break}while(1){if((v|0)>=(A|0))break;do if((a[y+1>>0]|0|0)>(s|0)){i[e>>1]=0;r[b>>0]=0}else{r[b>>0]=-1;h=e+(E<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=u+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+w;o[u+1310736+(g+-1<<2)>>2]=w;break}g=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;m=(c<<16>>16)+-1|0;t=e+-2|0;if(g<<16>>16<=0){if(h){i[e>>1]=c;c=m*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+v;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+w;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(v|0))o[h>>2]=v;o[u+1310736+(c+6<<2)>>2]=w;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;g=u+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=u+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(v|0))h=v;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;g=n*7|0;o[u+1310736+(g<<2)>>2]=1;o[u+1310736+(g+1<<2)>>2]=v;o[u+1310736+(g+2<<2)>>2]=w;o[u+1310736+(g+3<<2)>>2]=v;o[u+1310736+(g+4<<2)>>2]=v;o[u+1310736+(g+5<<2)>>2]=w;n=c;h=w;c=g+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(g<<16>>16)+-1|0;d=u+1179664+(c<<2)|0;if(h){c=o[d>>2]|0;d=o[u+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[e>>1]=c;if((c|0)<(d|0)){h=f;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=d;h=f;t=0;while(1){if((t|0)>=(n|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;t=t+1|0}}while(0);g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=u+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+w;o[u+1310736+(g+-1<<2)>>2]=w;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=g;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+v;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+w;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(v|0))o[h>>2]=v;o[u+1310736+(c+6<<2)>>2]=w;break}c=o[d>>2]|0;d=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[e>>1]=c;if((c|0)<(d|0)){h=f;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=d;h=f;t=0;while(1){if((t|0)>=(n|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;t=t+1|0}}while(0);g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=u+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w}while(0);y=y+4|0;b=b+1|0;v=v+1|0;e=e+2|0}c=y+M+8|0;h=b+2|0;w=w+1|0;m=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(m|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[f>>2]=n;n=h;e=e+1|0;f=f+4|0}d=u+8|0;n=n+-1|0;o[d>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[d>>2]|0}while(1){if((e|0)>=(m|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(f<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(f+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(f+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(f+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;
n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(f+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(f+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[d>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function qn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+16|0;T=S;k=(t|0)/2|0;_=(n|0)/2|0;d=o[u>>2]|0;x=_+-1|0;n=d;c=d+((q(x,k)|0)<<1)|0;h=0;while(1){if((h|0)>=(k|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}A=k+-1|0;n=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(k<<1)|0;c=c+(k<<1)|0;h=h+1|0}f=u+1179664|0;b=k+1|0;M=t<<1;E=0-k|0;c=e+((t<<2)+4)|0;h=(o[u+4>>2]|0)+b|0;w=1;m=0;e=d+(b<<1)|0;e:while(1){if((w|0)<(x|0)){y=c;b=h;n=m;v=1}else{c=56;break}while(1){if((v|0)>=(A|0))break;do if((a[y>>0]|0|0)>(s|0)){i[e>>1]=0;r[b>>0]=0}else{r[b>>0]=-1;h=e+(E<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[e>>1]=c;g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=u+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+w;o[u+1310736+(g+-1<<2)>>2]=w;break}g=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;m=(c<<16>>16)+-1|0;t=e+-2|0;if(g<<16>>16<=0){if(h){i[e>>1]=c;c=m*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+v;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+w;h=u+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(v|0))o[h>>2]=v;o[u+1310736+(c+6<<2)>>2]=w;break}c=i[t>>1]|0;if(c<<16>>16>0){i[e>>1]=c;c=(c<<16>>16)*7|0;g=u+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=u+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(v|0))h=v;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[e>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;g=n*7|0;o[u+1310736+(g<<2)>>2]=1;o[u+1310736+(g+1<<2)>>2]=v;o[u+1310736+(g+2<<2)>>2]=w;o[u+1310736+(g+3<<2)>>2]=v;o[u+1310736+(g+4<<2)>>2]=v;o[u+1310736+(g+5<<2)>>2]=w;n=c;h=w;c=g+6|0}o[u+1310736+(c<<2)>>2]=h;break}c=(g<<16>>16)+-1|0;d=u+1179664+(c<<2)|0;if(h){c=o[d>>2]|0;d=o[u+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[e>>1]=c;if((c|0)<(d|0)){h=f;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=d;h=f;t=0;while(1){if((t|0)>=(n|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;t=t+1|0}}while(0);g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=u+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+w;o[u+1310736+(g+-1<<2)>>2]=w;break}h=i[t>>1]|0;if(h<<16>>16<=0){i[e>>1]=g;c=c*7|0;h=u+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=u+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+v;h=u+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+w;h=u+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(v|0))o[h>>2]=v;o[u+1310736+(c+6<<2)>>2]=w;break}c=o[d>>2]|0;d=o[u+1179664+((h<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[e>>1]=c;if((c|0)<(d|0)){h=f;t=0;while(1){if((t|0)>=(n|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;t=t+1|0}}}else{i[e>>1]=d;h=f;t=0;while(1){if((t|0)>=(n|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;t=t+1|0}}while(0);g=(c<<16>>16)*7|0;m=u+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=u+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w}while(0);y=y+4|0;b=b+1|0;v=v+1|0;e=e+2|0}c=y+M+8|0;h=b+2|0;w=w+1|0;m=n;e=e+4|0}e:do if((c|0)==50){di(3,3212,T);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(m|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[f>>2]=n;n=h;e=e+1|0;f=f+4|0}d=u+8|0;n=n+-1|0;o[d>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=k;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=_;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[d>>2]|0}while(1){if((e|0)>=(m|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(f<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(f+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(f+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(f+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(f+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(f+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[d>>2]|0)){n=0;break e}_=u+12+(n<<2)|0;k=n<<1;T=u+655376+(k<<3)|0;l[T>>3]=+l[T>>3]/+(o[_>>2]|0);k=u+655376+((k|1)<<3)|0;l[k>>3]=+l[k>>3]/+(o[_>>2]|0);n=n+1|0}}}while(0);p=S;return n|0}function Xn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w*3|0)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;do if(((a[b+1>>0]|0)+(a[b>>0]|0)+(a[b+2>>0]|0)|0)>(A|0)){i[e>>1]=0;r[w>>0]=0}else{r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;g=(h<<16>>16)+-1|0;d=e+-2|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}while(0);b=b+3|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+6|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Kn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<1)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;g=a[b>>0]|0;v=a[b+1>>0]|0;do if(((g&248)+10+(g<<5&224)+(v>>>3&28)+(v<<3&248)|0)>(A|0)){i[e>>1]=0;r[w>>0]=0}else{r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;d=e+-2|0;g=(h<<16>>16)+-1|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}while(0);b=b+2|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+4|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Zn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<2)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;do if(((a[b+1>>0]|0)+(a[b>>0]|0)+(a[b+2>>0]|0)|0)>(A|0)){i[e>>1]=0;r[w>>0]=0}else{r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;g=(h<<16>>16)+-1|0;d=e+-2|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}while(0);b=b+4|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+8|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function Jn(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<1)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;v=a[b>>0]|0;do if(((v&240)+24+(v<<4&240)+(r[b+1>>0]&-16&255)|0)>(A|0)){i[e>>1]=0;r[w>>0]=0}else{r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;d=e+-2|0;g=(h<<16>>16)+-1|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}while(0);b=b+2|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+4|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function $n(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;_=k;d=o[u>>2]|0;T=n+-1|0;c=d;h=d+((q(T,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}A=s*3|0;x=t+-1|0;c=d;h=d+(x<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;w=t+1|0;E=0-t|0;h=e+(w<<1)|0;f=(o[u+4>>2]|0)+w|0;M=1;g=0;e=d+(w<<1)|0;e:while(1){if((M|0)<(T|0)){b=h;w=f;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(x|0))break;g=a[b>>0]|0;v=a[b+1>>0]|0;do if(((g&248)+12+(g<<5&224)+(v>>>3&24)+(v<<2&248)|0)>(A|0)){i[e>>1]=0;r[w>>0]=0}else{r[w>>0]=-1;f=e+(E<<1)|0;h=i[f>>1]|0;if(h<<16>>16>0){i[e>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}v=i[f+2>>1]|0;h=i[f+-2>>1]|0;f=h<<16>>16>0;d=e+-2|0;g=(h<<16>>16)+-1|0;if(v<<16>>16<=0){if(f){i[e>>1]=h;h=g*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+4<<2)|0;if((o[f>>2]|0)<(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=i[d>>1]|0;if(h<<16>>16>0){i[e>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))f=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[e>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=M;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=M;c=h;f=M;h=v+6|0}o[u+1310736+(h<<2)>>2]=f;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(f){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[u+1310736+(v+-1<<2)>>2]=M;break}f=i[d>>1]|0;if(f<<16>>16<=0){i[e>>1]=v;h=h*7|0;f=u+1310736+(h<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=u+1310736+(h+1<<2)|0;o[f>>2]=(o[f>>2]|0)+y;f=u+1310736+(h+2<<2)|0;o[f>>2]=(o[f>>2]|0)+M;f=u+1310736+(h+3<<2)|0;if((o[f>>2]|0)>(y|0))o[f>>2]=y;o[u+1310736+(h+6<<2)>>2]=M;break}h=o[m>>2]|0;m=o[u+1179664+((f<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[e>>1]=h;if((h|0)<(m|0)){f=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[f>>2]|0)==(m|0))o[f>>2]=h;f=f+4|0;d=d+1|0}}}else{i[e>>1]=m;f=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[f>>2]|0)==(h|0))o[f>>2]=m;f=f+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}while(0);b=b+2|0;w=w+1|0;y=y+1|0;e=e+2|0}h=b+4|0;f=w+2|0;M=M+1|0;g=c;e=e+4|0}e:do if((h|0)==50){di(3,3212,_);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;_=u+655376+(n<<3)|0;l[_>>3]=+l[_>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=k;return c|0}function er(e){e=e|0;var t=0;t=p;p=p+e|0;p=p+15&-16;return t|0}function tr(){return p|0}function nr(e){e=e|0;p=e}function rr(e,t){e=e|0;t=t|0;p=e;m=t}function ir(e,t){e=e|0;t=t|0;if(!y){y=e;b=t}}function or(e){e=e|0;I=e}function ar(){return I|0}function sr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=0-T|0;b=t*3|0;u=e+((t*6|0)+6)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;do if(((a[g+1>>0]|0)+(a[g>>0]|0)+(a[g+2>>0]|0)|0)>(w|0))i[c>>1]=0;else{e=c+(y<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;f=(u<<16>>16)+-1|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}while(0);g=g+6|0;m=m+1|0;c=c+2|0}u=g+b+12|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function ur(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;
E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=t<<1;b=0-T|0;u=e+((t<<2)+4)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;f=a[g>>0]|0;d=a[g+1>>0]|0;do if(((f&248)+10+(f<<5&224)+(d>>>3&28)+(d<<3&248)|0)>(w|0))i[c>>1]=0;else{e=c+(b<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;f=(u<<16>>16)+-1|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}while(0);g=g+4|0;m=m+1|0;c=c+2|0}u=g+y+8|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function cr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=0-T|0;b=t<<2;u=e+((t<<3)+8)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;do if(((a[g+1>>0]|0)+(a[g>>0]|0)+(a[g+2>>0]|0)|0)>(w|0))i[c>>1]=0;else{e=c+(y<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;f=(u<<16>>16)+-1|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}while(0);g=g+8|0;m=m+1|0;c=c+2|0}u=g+b+16|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function lr(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;x=k;_=(t|0)/2|0;T=(n|0)/2|0;f=o[u>>2]|0;A=T+-1|0;n=f;c=f+((q(A,_)|0)<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}M=s*3|0;E=_+-1|0;n=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(T|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(_<<1)|0;c=c+(_<<1)|0;h=h+1|0}s=u+1179664|0;b=t<<1;w=0-_|0;c=e+((t<<2)+4)|0;d=0;y=1;h=f+(_+1<<1)|0;e:while(1){if((y|0)<(A|0)){v=c;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(E|0))break;m=a[v>>0]|0;do if(((m&240)+24+(m<<4&240)+(r[v+1>>0]&-16&255)|0)>(M|0))i[h>>1]=0;else{e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[u+1310736+(m+-1<<2)>>2]=y;break}m=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;t=h+-2|0;d=(c<<16>>16)+-1|0;if(m<<16>>16<=0){if(e){i[h>>1]=c;c=d*7|0;e=u+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=u+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=u+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=u+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(g|0))o[e>>2]=g;o[u+1310736+(c+6<<2)>>2]=y;break}c=i[t>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))e=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[h>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=y;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=y;n=c;e=y;c=m+6|0}o[u+1310736+(c<<2)>>2]=e;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(e){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[h>>1]=c;if((c|0)<(f|0)){e=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=c;e=e+4|0;t=t+1|0}}}else{i[h>>1]=f;e=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[u+1310736+(m+-1<<2)>>2]=y;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[h>>1]=m;c=c*7|0;e=u+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=u+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=u+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=u+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(g|0))o[e>>2]=g;o[u+1310736+(c+6<<2)>>2]=y;break}c=o[f>>2]|0;f=o[u+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[h>>1]=c;if((c|0)<(f|0)){e=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=c;e=e+4|0;t=t+1|0}}}else{i[h>>1]=f;e=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y}while(0);v=v+4|0;g=g+1|0;h=h+2|0}c=v+b+8|0;d=n;y=y+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=_;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=T;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}T=u+12+(n<<2)|0;_=n<<1;x=u+655376+(_<<3)|0;l[x>>3]=+l[x>>3]/+(o[T>>2]|0);_=u+655376+((_|1)<<3)|0;l[_>>3]=+l[_>>3]/+(o[T>>2]|0);n=n+1|0}}}while(0);p=k;return n|0}function hr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=t<<1;b=0-T|0;u=e+((t<<2)+4)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;f=a[g>>0]|0;d=a[g+1>>0]|0;do if(((f&248)+12+(f<<5&224)+(d>>>3&24)+(d<<2&248)|0)>(w|0))i[c>>1]=0;else{e=c+(b<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;f=(u<<16>>16)+-1|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}while(0);g=g+4|0;m=m+1|0;c=c+2|0}u=g+y+8|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function fr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=0-T|0;b=t<<2;u=e+((t<<3)+8)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;do if(((a[g+2>>0]|0)+(a[g+1>>0]|0)+(a[g+3>>0]|0)|0)>(w|0))i[c>>1]=0;else{e=c+(y<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;f=(u<<16>>16)+-1|0;t=c+-2|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}while(0);g=g+8|0;m=m+1|0;c=c+2|0}u=g+b+16|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function dr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;f=o[s>>2]|0;E=x+-1|0;n=f;u=f+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}M=T+-1|0;n=f;u=f+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}h=s+1179664|0;w=0-T|0;u=e+((t<<1)+2)|0;m=0;b=1;c=f+(T+1<<1)|0;e:while(1){if((b|0)<(E|0)){y=u;n=m;v=1}else{u=56;break}while(1){if((v|0)>=(M|0))break;do if((a[y>>0]|0|0)>(r|0))i[c>>1]=0;else{e=c+(w<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;g=(u<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;m=(u<<16>>16)+-1|0;f=c+-2|0;if(g<<16>>16<=0){if(e){i[c>>1]=u;u=m*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(u+6<<2)>>2]=b;break}u=i[f>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;g=s+1310736+(u+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(u+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(u+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(v|0))e=v;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;g=n*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;n=u;e=b;u=g+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(g<<16>>16)+-1|0;d=s+1179664+(u<<2)|0;if(e){u=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((u|0)<=(d|0)){i[c>>1]=u;if((u|0)<(d|0)){e=h;f=0;while(1){if((f|0)>=(n|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=u;e=e+4|0;f=f+1|0}}}else{i[c>>1]=d;e=h;f=0;while(1){if((f|0)>=(n|0)){u=d;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(u<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[c>>1]=g;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(u+6<<2)>>2]=b;break}u=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(d|0)){i[c>>1]=u;if((u|0)<(d|0)){e=h;f=0;while(1){if((f|0)>=(n|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=u;e=e+4|0;f=f+1|0}}}else{i[c>>1]=d;e=h;f=0;while(1){if((f|0)>=(n|0)){u=d;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(u<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}while(0);y=y+2|0;v=v+1|0;c=c+2|0}u=y+t+4|0;m=n;b=b+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){f=s+12|0;n=1;e=1;while(1){if((e|0)>(m|0))break;u=o[h>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[h>>2]=n;n=c;e=e+1|0;h=h+4|0}d=s+8|0;n=n+-1|0;o[d>>2]=n;if(!n)n=0;else{ld(f|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[d>>2]|0}while(1){if((e|0)>=(m|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(h<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(h+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(h+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(h+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(h+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(h+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(h+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[d>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function pr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;f=o[s>>2]|0;E=x+-1|0;n=f;u=f+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}M=T+-1|0;n=f;u=f+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}h=s+1179664|0;b=t<<1;w=0-T|0;u=e+((t<<2)+4)|0;d=0;y=1;c=f+(T+1<<1)|0;e:while(1){if((y|0)<(E|0)){v=u;n=d;g=1}else{u=56;break}while(1){if((g|0)>=(M|0))break;do if((a[v+1>>0]|0|0)>(r|0))i[c>>1]=0;else{e=c+(w<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=s+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[s+1310736+(m+-1<<2)>>2]=y;break}m=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;d=(u<<16>>16)+-1|0;if(m<<16>>16<=0){if(e){i[c>>1]=u;u=d*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(g|0))o[e>>2]=g;o[s+1310736+(u+6<<2)>>2]=y;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;m=s+1310736+(u+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(u+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=s+1310736+(u+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(g|0))e=g;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;m=n*7|0;o[s+1310736+(m<<2)>>2]=1;o[s+1310736+(m+1<<2)>>2]=g;o[s+1310736+(m+2<<2)>>2]=y;o[s+1310736+(m+3<<2)>>2]=g;o[s+1310736+(m+4<<2)>>2]=g;o[s+1310736+(m+5<<2)>>2]=y;n=u;e=y;u=m+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(m<<16>>16)+-1|0;f=s+1179664+(u<<2)|0;if(e){u=o[f>>2]|0;f=o[s+1179664+(d<<2)>>2]|0;t:do if((u|0)<=(f|0)){i[c>>1]=u;if((u|0)<(f|0)){e=h;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=f;e=h;t=0;while(1){if((t|0)>=(n|0)){u=f;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=s+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[s+1310736+(m+-1<<2)>>2]=y;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=m;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(g|0))o[e>>2]=g;o[s+1310736+(u+6<<2)>>2]=y;break}u=o[f>>2]|0;f=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(f|0)){i[c>>1]=u;if((u|0)<(f|0)){e=h;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=f;e=h;t=0;while(1){if((t|0)>=(n|0)){u=f;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=s+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y}while(0);v=v+4|0;g=g+1|0;c=c+2|0}u=v+b+8|0;d=n;y=y+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;u=o[h>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[h>>2]=n;n=c;e=e+1|0;h=h+4|0}f=s+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(h<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(h+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(h+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(h+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(h+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(h+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(h+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function mr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;f=o[s>>2]|0;E=x+-1|0;n=f;u=f+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}M=T+-1|0;n=f;u=f+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}h=s+1179664|0;b=t<<1;w=0-T|0;u=e+((t<<2)+4)|0;d=0;y=1;c=f+(T+1<<1)|0;e:while(1){if((y|0)<(E|0)){v=u;n=d;g=1}else{u=56;break}while(1){if((g|0)>=(M|0))break;do if((a[v>>0]|0|0)>(r|0))i[c>>1]=0;else{e=c+(w<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=s+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[s+1310736+(m+-1<<2)>>2]=y;break}m=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;d=(u<<16>>16)+-1|0;t=c+-2|0;if(m<<16>>16<=0){if(e){i[c>>1]=u;u=d*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(g|0))o[e>>2]=g;o[s+1310736+(u+6<<2)>>2]=y;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;m=s+1310736+(u+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(u+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=s+1310736+(u+-5<<2)|0;
o[m>>2]=(o[m>>2]|0)+y;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(g|0))e=g;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;m=n*7|0;o[s+1310736+(m<<2)>>2]=1;o[s+1310736+(m+1<<2)>>2]=g;o[s+1310736+(m+2<<2)>>2]=y;o[s+1310736+(m+3<<2)>>2]=g;o[s+1310736+(m+4<<2)>>2]=g;o[s+1310736+(m+5<<2)>>2]=y;n=u;e=y;u=m+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(m<<16>>16)+-1|0;f=s+1179664+(u<<2)|0;if(e){u=o[f>>2]|0;f=o[s+1179664+(d<<2)>>2]|0;t:do if((u|0)<=(f|0)){i[c>>1]=u;if((u|0)<(f|0)){e=h;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=f;e=h;t=0;while(1){if((t|0)>=(n|0)){u=f;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=s+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[s+1310736+(m+-1<<2)>>2]=y;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=m;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(g|0))o[e>>2]=g;o[s+1310736+(u+6<<2)>>2]=y;break}u=o[f>>2]|0;f=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(f|0)){i[c>>1]=u;if((u|0)<(f|0)){e=h;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=f;e=h;t=0;while(1){if((t|0)>=(n|0)){u=f;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(u<<16>>16)*7|0;d=s+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=s+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y}while(0);v=v+4|0;g=g+1|0;c=c+2|0}u=v+b+8|0;d=n;y=y+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;u=o[h>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[h>>2]=n;n=c;e=e+1|0;h=h+4|0}f=s+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(h<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(h+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(h+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(h+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(h+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(h+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(h+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function gr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h*3|0)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;do if(((a[y+1>>0]|0)+(a[y>>0]|0)+(a[y+2>>0]|0)|0)>(M|0))i[h>>1]=0;else{e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;f=h+-2|0;m=(c<<16>>16)+-1|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}while(0);y=y+3|0;v=v+1|0;h=h+2|0}c=y+6|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function vr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h<<1)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;m=a[y>>0]|0;g=a[y+1>>0]|0;do if(((m&248)+10+(m<<5&224)+(g>>>3&28)+(g<<3&248)|0)>(M|0))i[h>>1]=0;else{e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;f=h+-2|0;m=(c<<16>>16)+-1|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}while(0);y=y+2|0;v=v+1|0;h=h+2|0}c=y+4|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function yr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h<<2)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;do if(((a[y+1>>0]|0)+(a[y>>0]|0)+(a[y+2>>0]|0)|0)>(M|0))i[h>>1]=0;else{e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;m=(c<<16>>16)+-1|0;f=h+-2|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}while(0);y=y+4|0;v=v+1|0;h=h+2|0}c=y+8|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function br(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[u>>2]|0;x=n+-1|0;c=d;h=d+((q(x,t)|0)<<1)|0;f=0;while(1){if((f|0)>=(t|0))break;i[h>>1]=0;i[c>>1]=0;c=c+2|0;h=h+2|0;f=f+1|0}E=s*3|0;A=t+-1|0;c=d;h=d+(A<<1)|0;f=0;while(1){if((f|0)>=(n|0))break;i[h>>1]=0;i[c>>1]=0;c=c+(t<<1)|0;h=h+(t<<1)|0;f=f+1|0}s=u+1179664|0;f=t+1|0;M=0-t|0;h=e+(f<<1)|0;g=0;w=1;f=d+(f<<1)|0;e:while(1){if((w|0)<(x|0)){b=h;c=g;y=1}else{h=56;break}while(1){if((y|0)>=(A|0))break;v=a[b>>0]|0;do if(((v&240)+24+(v<<4&240)+(r[b+1>>0]&-16&255)|0)>(E|0))i[f>>1]=0;else{e=f+(M<<1)|0;h=i[e>>1]|0;if(h<<16>>16>0){i[f>>1]=h;v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w;o[u+1310736+(v+-1<<2)>>2]=w;break}v=i[e+2>>1]|0;h=i[e+-2>>1]|0;e=h<<16>>16>0;d=f+-2|0;g=(h<<16>>16)+-1|0;if(v<<16>>16<=0){if(e){i[f>>1]=h;h=g*7|0;e=u+1310736+(h<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=u+1310736+(h+1<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=u+1310736+(h+2<<2)|0;o[e>>2]=(o[e>>2]|0)+w;e=u+1310736+(h+4<<2)|0;if((o[e>>2]|0)<(y|0))o[e>>2]=y;o[u+1310736+(h+6<<2)>>2]=w;break}h=i[d>>1]|0;if(h<<16>>16>0){i[f>>1]=h;h=(h<<16>>16)*7|0;v=u+1310736+(h+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=u+1310736+(h+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=u+1310736+(h+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+w;h=h+-3|0;if((o[u+1310736+(h<<2)>>2]|0)<(y|0))e=y;else break}else{h=c+1|0;if((c|0)>32767){h=50;break e}i[f>>1]=h;o[u+1179664+(c<<2)>>2]=h<<16>>16;v=c*7|0;o[u+1310736+(v<<2)>>2]=1;o[u+1310736+(v+1<<2)>>2]=y;o[u+1310736+(v+2<<2)>>2]=w;o[u+1310736+(v+3<<2)>>2]=y;o[u+1310736+(v+4<<2)>>2]=y;o[u+1310736+(v+5<<2)>>2]=w;c=h;e=w;h=v+6|0}o[u+1310736+(h<<2)>>2]=e;break}h=(v<<16>>16)+-1|0;m=u+1179664+(h<<2)|0;if(e){h=o[m>>2]|0;m=o[u+1179664+(g<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[f>>1]=h;if((h|0)<(m|0)){e=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=h;e=e+4|0;d=d+1|0}}}else{i[f>>1]=m;e=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[e>>2]|0)==(h|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=u+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+w;o[u+1310736+(v+-1<<2)>>2]=w;break}e=i[d>>1]|0;if(e<<16>>16<=0){i[f>>1]=v;h=h*7|0;e=u+1310736+(h<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=u+1310736+(h+1<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=u+1310736+(h+2<<2)|0;o[e>>2]=(o[e>>2]|0)+w;e=u+1310736+(h+3<<2)|0;if((o[e>>2]|0)>(y|0))o[e>>2]=y;o[u+1310736+(h+6<<2)>>2]=w;break}h=o[m>>2]|0;m=o[u+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((h|0)<=(m|0)){i[f>>1]=h;if((h|0)<(m|0)){e=s;d=0;while(1){if((d|0)>=(c|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=h;e=e+4|0;d=d+1|0}}}else{i[f>>1]=m;e=s;d=0;while(1){if((d|0)>=(c|0)){h=m;break t}if((o[e>>2]|0)==(h|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);v=(h<<16>>16)*7|0;g=u+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=u+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=u+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+w}while(0);b=b+2|0;y=y+1|0;f=f+2|0}h=b+4|0;g=c;w=w+1|0;f=f+4|0}e:do if((h|0)==50){di(3,3212,T);c=-1}else if((h|0)==56){d=u+12|0;c=1;e=1;while(1){if((e|0)>(g|0))break;h=o[s>>2]|0;if((h|0)==(e|0))f=c+1|0;else{f=c;c=o[u+1179664+(h+-1<<2)>>2]|0}o[s>>2]=c;c=f;e=e+1|0;s=s+4|0}m=u+8|0;c=c+-1|0;o[m>>2]=c;if(!c)c=0;else{ld(d|0,0,c<<2|0)|0;ld(u+655376|0,0,c<<4|0)|0;h=0;while(1){if((h|0)>=(c|0)){e=0;break}c=h<<2;o[u+131084+(c<<2)>>2]=t;o[u+131084+((c|1)<<2)>>2]=0;o[u+131084+((c|2)<<2)>>2]=n;o[u+131084+((c|3)<<2)>>2]=0;h=h+1|0;c=o[m>>2]|0}while(1){if((e|0)>=(g|0)){c=0;break}f=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;c=u+12+(f<<2)|0;o[c>>2]=(o[c>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);c=f<<1;h=u+655376+(c<<3)|0;l[h>>3]=+l[h>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);c=u+655376+((c|1)<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);f=f<<2;c=u+131084+(f<<2)|0;h=o[u+1310736+(s+3<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;c=u+131084+((f|1)<<2)|0;h=o[u+1310736+(s+4<<2)>>2]|0;if((o[c>>2]|0)<(h|0))o[c>>2]=h;c=u+131084+((f|2)<<2)|0;h=o[u+1310736+(s+5<<2)>>2]|0;if((o[c>>2]|0)>(h|0))o[c>>2]=h;h=u+131084+((f|3)<<2)|0;c=o[u+1310736+(s+6<<2)>>2]|0;if((o[h>>2]|0)<(c|0))o[h>>2]=c;e=e+1|0}while(1){if((c|0)>=(o[m>>2]|0)){c=0;break e}t=u+12+(c<<2)|0;n=c<<1;T=u+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);c=c+1|0}}}while(0);p=_;return c|0}function wr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h<<1)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;m=a[y>>0]|0;g=a[y+1>>0]|0;do if(((m&248)+12+(m<<5&224)+(g>>>3&24)+(g<<2&248)|0)>(M|0))i[h>>1]=0;else{e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;f=h+-2|0;m=(c<<16>>16)+-1|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}while(0);y=y+2|0;v=v+1|0;h=h+2|0}c=y+4|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function Mr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;x=T;f=o[s>>2]|0;A=n+-1|0;u=f;c=f+((q(A,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}M=r*3|0;E=t+-1|0;u=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}r=s+1179664|0;h=t+1|0;w=0-t|0;c=e+(h<<2)|0;m=0;b=1;h=f+(h<<1)|0;e:while(1){if((b|0)<(A|0)){y=c;u=m;v=1}else{c=56;break}while(1){if((v|0)>=(E|0))break;do if(((a[y+2>>0]|0)+(a[y+1>>0]|0)+(a[y+3>>0]|0)|0)>(M|0))i[h>>1]=0;else{e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;m=(c<<16>>16)+-1|0;f=h+-2|0;if(g<<16>>16<=0){if(e){i[h>>1]=c;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=i[f>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;g=s+1310736+(c+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(c+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(c+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(v|0))e=v;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;g=u*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;u=c;e=b;c=g+6|0}o[s+1310736+(c<<2)>>2]=e;break}c=(g<<16>>16)+-1|0;d=s+1179664+(c<<2)|0;if(e){c=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[h>>1]=g;c=c*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(c+6<<2)>>2]=b;break}c=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[h>>1]=c;if((c|0)<(d|0)){e=r;f=0;while(1){if((f|0)>=(u|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=c;e=e+4|0;f=f+1|0}}}else{i[h>>1]=d;e=r;f=0;while(1){if((f|0)>=(u|0)){c=d;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(c<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}while(0);y=y+4|0;v=v+1|0;h=h+2|0}c=y+8|0;m=u;b=b+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);u=-1}else if((c|0)==56){f=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[r>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[r>>2]=u;u=h;e=e+1|0;r=r+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(f|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(r+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(r+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(r+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(r+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;x=s+655376+(n<<3)|0;l[x>>3]=+l[x>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=T;return u|0}function Er(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[s>>2]|0;x=n+-1|0;u=d;c=d+((q(x,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}A=t+-1|0;u=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}f=s+1179664|0;h=t+1|0;E=0-t|0;c=e+h|0;g=0;M=1;h=d+(h<<1)|0;e:while(1){if((M|0)<(x|0)){w=c;u=g;b=1}else{c=56;break}while(1){if((b|0)>=(A|0))break;do if((a[w>>0]|0|0)>(r|0))i[h>>1]=0;else{e=h+(E<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}y=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;d=h+-2|0;v=(c<<16>>16)+-1|0;if(y<<16>>16<=0){if(e){i[h>>1]=c;c=v*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;y=s+1310736+(c+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=s+1310736+(c+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=s+1310736+(c+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(b|0))e=b;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;y=u*7|0;o[s+1310736+(y<<2)>>2]=1;o[s+1310736+(y+1<<2)>>2]=b;o[s+1310736+(y+2<<2)>>2]=M;o[s+1310736+(y+3<<2)>>2]=b;o[s+1310736+(y+4<<2)>>2]=b;o[s+1310736+(y+5<<2)>>2]=M;u=c;e=M;c=y+6|0}o[s+1310736+(c<<2)>>2]=e;break}m=(y<<16>>16)+-1|0;g=s+1179664+(m<<2)|0;if(e){c=o[g>>2]|0;m=o[s+1179664+(v<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[h>>1]=c;if((c|0)<(m|0)){e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}}else{i[h>>1]=m;e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16<=0){i[h>>1]=y;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}m=o[g>>2]|0;c=o[s+1179664+((c<<16>>16)+-1<<2)>>2]|0;t:do if((m|0)<=(c|0)){i[h>>1]=m;if((m|0)<(c|0)){e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;
e=e+4|0;d=d+1|0}}else c=m}else{i[h>>1]=c;e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=s+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M}while(0);w=w+1|0;b=b+1|0;h=h+2|0}c=w+2|0;g=u;M=M+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,T);u=-1}else if((c|0)==56){d=s+12|0;u=1;e=1;while(1){if((e|0)>(g|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[f>>2]=u;u=h;e=e+1|0;f=f+4|0}m=s+8|0;u=u+-1|0;o[m>>2]=u;if(!u)u=0;else{ld(d|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[m>>2]|0}while(1){if((e|0)>=(g|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(f<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(f+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(f+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(f+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(f+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(f+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[m>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;T=s+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=_;return u|0}function Ar(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[s>>2]|0;x=n+-1|0;u=d;c=d+((q(x,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}A=t+-1|0;u=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}f=s+1179664|0;h=t+1|0;E=0-t|0;c=e+(h<<1)|0;g=0;M=1;h=d+(h<<1)|0;e:while(1){if((M|0)<(x|0)){w=c;u=g;b=1}else{c=56;break}while(1){if((b|0)>=(A|0))break;do if((a[w+1>>0]|0|0)>(r|0))i[h>>1]=0;else{e=h+(E<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}y=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;d=h+-2|0;v=(c<<16>>16)+-1|0;if(y<<16>>16<=0){if(e){i[h>>1]=c;c=v*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;y=s+1310736+(c+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=s+1310736+(c+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=s+1310736+(c+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(b|0))e=b;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;y=u*7|0;o[s+1310736+(y<<2)>>2]=1;o[s+1310736+(y+1<<2)>>2]=b;o[s+1310736+(y+2<<2)>>2]=M;o[s+1310736+(y+3<<2)>>2]=b;o[s+1310736+(y+4<<2)>>2]=b;o[s+1310736+(y+5<<2)>>2]=M;u=c;e=M;c=y+6|0}o[s+1310736+(c<<2)>>2]=e;break}m=(y<<16>>16)+-1|0;g=s+1179664+(m<<2)|0;if(e){c=o[g>>2]|0;m=o[s+1179664+(v<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[h>>1]=c;if((c|0)<(m|0)){e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}}else{i[h>>1]=m;e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16<=0){i[h>>1]=y;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}m=o[g>>2]|0;c=o[s+1179664+((c<<16>>16)+-1<<2)>>2]|0;t:do if((m|0)<=(c|0)){i[h>>1]=m;if((m|0)<(c|0)){e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}else c=m}else{i[h>>1]=c;e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=s+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M}while(0);w=w+2|0;b=b+1|0;h=h+2|0}c=w+4|0;g=u;M=M+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,T);u=-1}else if((c|0)==56){d=s+12|0;u=1;e=1;while(1){if((e|0)>(g|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[f>>2]=u;u=h;e=e+1|0;f=f+4|0}m=s+8|0;u=u+-1|0;o[m>>2]=u;if(!u)u=0;else{ld(d|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[m>>2]|0}while(1){if((e|0)>=(g|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(f<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(f+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(f+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(f+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(f+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(f+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[m>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;T=s+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=_;return u|0}function xr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[s>>2]|0;x=n+-1|0;u=d;c=d+((q(x,t)|0)<<1)|0;h=0;while(1){if((h|0)>=(t|0))break;i[c>>1]=0;i[u>>1]=0;u=u+2|0;c=c+2|0;h=h+1|0}A=t+-1|0;u=d;c=d+(A<<1)|0;h=0;while(1){if((h|0)>=(n|0))break;i[c>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+(t<<1)|0;h=h+1|0}f=s+1179664|0;h=t+1|0;E=0-t|0;c=e+(h<<1)|0;g=0;M=1;h=d+(h<<1)|0;e:while(1){if((M|0)<(x|0)){w=c;u=g;b=1}else{c=56;break}while(1){if((b|0)>=(A|0))break;do if((a[w>>0]|0|0)>(r|0))i[h>>1]=0;else{e=h+(E<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}y=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;d=h+-2|0;v=(c<<16>>16)+-1|0;if(y<<16>>16<=0){if(e){i[h>>1]=c;c=v*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;y=s+1310736+(c+-7<<2)|0;o[y>>2]=(o[y>>2]|0)+1;y=s+1310736+(c+-6<<2)|0;o[y>>2]=(o[y>>2]|0)+b;y=s+1310736+(c+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(b|0))e=b;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[h>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;y=u*7|0;o[s+1310736+(y<<2)>>2]=1;o[s+1310736+(y+1<<2)>>2]=b;o[s+1310736+(y+2<<2)>>2]=M;o[s+1310736+(y+3<<2)>>2]=b;o[s+1310736+(y+4<<2)>>2]=b;o[s+1310736+(y+5<<2)>>2]=M;u=c;e=M;c=y+6|0}o[s+1310736+(c<<2)>>2]=e;break}m=(y<<16>>16)+-1|0;g=s+1179664+(m<<2)|0;if(e){c=o[g>>2]|0;m=o[s+1179664+(v<<2)>>2]|0;t:do if((c|0)<=(m|0)){i[h>>1]=c;if((c|0)<(m|0)){e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}}else{i[h>>1]=m;e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;v=s+1310736+(y+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;o[s+1310736+(y+-1<<2)>>2]=M;break}c=i[d>>1]|0;if(c<<16>>16<=0){i[h>>1]=y;c=m*7|0;e=s+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+M;e=s+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(b|0))o[e>>2]=b;o[s+1310736+(c+6<<2)>>2]=M;break}m=o[g>>2]|0;c=o[s+1179664+((c<<16>>16)+-1<<2)>>2]|0;t:do if((m|0)<=(c|0)){i[h>>1]=m;if((m|0)<(c|0)){e=f;d=0;while(1){if((d|0)>=(u|0)){c=m;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=m;e=e+4|0;d=d+1|0}}else c=m}else{i[h>>1]=c;e=f;d=0;while(1){if((d|0)>=(u|0))break t;if((o[e>>2]|0)==(m|0))o[e>>2]=c;e=e+4|0;d=d+1|0}}while(0);y=(c<<16>>16)*7|0;v=s+1310736+(y+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(y+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+b;y=s+1310736+(y+-5<<2)|0;o[y>>2]=(o[y>>2]|0)+M}while(0);w=w+2|0;b=b+1|0;h=h+2|0}c=w+4|0;g=u;M=M+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,T);u=-1}else if((c|0)==56){d=s+12|0;u=1;e=1;while(1){if((e|0)>(g|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[f>>2]=u;u=h;e=e+1|0;f=f+4|0}m=s+8|0;u=u+-1|0;o[m>>2]=u;if(!u)u=0;else{ld(d|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[m>>2]|0}while(1){if((e|0)>=(g|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(f<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(f+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(f+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(f+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(f+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(f+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[m>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;T=s+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=_;return u|0}function Tr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;T=_;d=o[s>>2]|0;x=n+-1|0;u=d;c=0;h=d+((q(x,t)|0)<<1)|0;while(1){if((c|0)>=(t|0))break;i[h>>1]=0;i[u>>1]=0;u=u+2|0;c=c+1|0;h=h+2|0}A=t+-1|0;u=d;c=0;h=d+(A<<1)|0;while(1){if((c|0)>=(n|0))break;i[h>>1]=0;i[u>>1]=0;u=u+(t<<1)|0;c=c+1|0;h=h+(t<<1)|0}f=s+1179664|0;h=t+1|0;E=0-t|0;e=e+h|0;c=r+h|0;M=1;m=0;h=d+(h<<1)|0;e:while(1){if((M|0)<(x|0)){b=c;u=m;y=1;w=h}else{c=56;break}while(1){if((y|0)>=(A|0))break;do if((a[e>>0]|0)>(a[b>>0]|0))i[w>>1]=0;else{h=w+(E<<1)|0;c=i[h>>1]|0;if(c<<16>>16>0){i[w>>1]=c;v=(c<<16>>16)*7|0;g=s+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=s+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[s+1310736+(v+-1<<2)>>2]=M;break}v=i[h+2>>1]|0;c=i[h+-2>>1]|0;h=c<<16>>16>0;g=(c<<16>>16)+-1|0;r=w+-2|0;if(v<<16>>16<=0){if(h){i[w>>1]=c;c=g*7|0;h=s+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=s+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+y;h=s+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+M;h=s+1310736+(c+4<<2)|0;if((o[h>>2]|0)<(y|0))o[h>>2]=y;o[s+1310736+(c+6<<2)>>2]=M;break}c=i[r>>1]|0;if(c<<16>>16>0){i[w>>1]=c;c=(c<<16>>16)*7|0;v=s+1310736+(c+-7<<2)|0;o[v>>2]=(o[v>>2]|0)+1;v=s+1310736+(c+-6<<2)|0;o[v>>2]=(o[v>>2]|0)+y;v=s+1310736+(c+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M;c=c+-3|0;if((o[s+1310736+(c<<2)>>2]|0)<(y|0))h=y;else break}else{c=u+1|0;if((u|0)>32767){c=50;break e}i[w>>1]=c;o[s+1179664+(u<<2)>>2]=c<<16>>16;v=u*7|0;o[s+1310736+(v<<2)>>2]=1;o[s+1310736+(v+1<<2)>>2]=y;o[s+1310736+(v+2<<2)>>2]=M;o[s+1310736+(v+3<<2)>>2]=y;o[s+1310736+(v+4<<2)>>2]=y;o[s+1310736+(v+5<<2)>>2]=M;u=c;h=M;c=v+6|0}o[s+1310736+(c<<2)>>2]=h;break}d=(v<<16>>16)+-1|0;m=s+1179664+(d<<2)|0;if(h){c=o[m>>2]|0;d=o[s+1179664+(g<<2)>>2]|0;t:do if((c|0)<=(d|0)){i[w>>1]=c;if((c|0)<(d|0)){h=f;r=0;while(1){if((r|0)>=(u|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;r=r+1|0}}}else{i[w>>1]=d;h=f;r=0;while(1){if((r|0)>=(u|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;r=r+1|0}}while(0);v=(c<<16>>16)*7|0;g=s+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;g=s+1310736+(v+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+M;o[s+1310736+(v+-1<<2)>>2]=M;break}c=i[r>>1]|0;if(c<<16>>16<=0){i[w>>1]=v;c=d*7|0;h=s+1310736+(c<<2)|0;o[h>>2]=(o[h>>2]|0)+1;h=s+1310736+(c+1<<2)|0;o[h>>2]=(o[h>>2]|0)+y;h=s+1310736+(c+2<<2)|0;o[h>>2]=(o[h>>2]|0)+M;h=s+1310736+(c+3<<2)|0;if((o[h>>2]|0)>(y|0))o[h>>2]=y;o[s+1310736+(c+6<<2)>>2]=M;break}d=o[m>>2]|0;c=o[s+1179664+((c<<16>>16)+-1<<2)>>2]|0;t:do if((d|0)<=(c|0)){i[w>>1]=d;if((d|0)<(c|0)){h=f;r=0;while(1){if((r|0)>=(u|0)){c=d;break t}if((o[h>>2]|0)==(c|0))o[h>>2]=d;h=h+4|0;r=r+1|0}}else c=d}else{i[w>>1]=c;h=f;r=0;while(1){if((r|0)>=(u|0))break t;if((o[h>>2]|0)==(d|0))o[h>>2]=c;h=h+4|0;r=r+1|0}}while(0);v=(c<<16>>16)*7|0;g=s+1310736+(v+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(v+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+y;v=s+1310736+(v+-5<<2)|0;o[v>>2]=(o[v>>2]|0)+M}while(0);e=e+1|0;b=b+1|0;y=y+1|0;w=w+2|0}e=e+2|0;c=b+2|0;M=M+1|0;m=u;h=w+4|0}e:do if((c|0)==50){di(3,3212,T);u=-1}else if((c|0)==56){r=s+12|0;u=1;e=1;while(1){if((e|0)>(m|0))break;c=o[f>>2]|0;if((c|0)==(e|0))h=u+1|0;else{h=u;u=o[s+1179664+(c+-1<<2)>>2]|0}o[f>>2]=u;u=h;e=e+1|0;f=f+4|0}d=s+8|0;u=u+-1|0;o[d>>2]=u;if(!u)u=0;else{ld(r|0,0,u<<2|0)|0;ld(s+655376|0,0,u<<4|0)|0;c=0;while(1){if((c|0)>=(u|0)){e=0;break}u=c<<2;o[s+131084+(u<<2)>>2]=t;o[s+131084+((u|1)<<2)>>2]=0;o[s+131084+((u|2)<<2)>>2]=n;o[s+131084+((u|3)<<2)>>2]=0;c=c+1|0;u=o[d>>2]|0}while(1){if((e|0)>=(m|0)){u=0;break}h=(o[s+1179664+(e<<2)>>2]|0)+-1|0;f=e*7|0;u=s+12+(h<<2)|0;o[u>>2]=(o[u>>2]|0)+(o[s+1310736+(f<<2)>>2]|0);u=h<<1;c=s+655376+(u<<3)|0;l[c>>3]=+l[c>>3]+ +(o[s+1310736+(f+1<<2)>>2]|0);u=s+655376+((u|1)<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(f+2<<2)>>2]|0);h=h<<2;u=s+131084+(h<<2)|0;c=o[s+1310736+(f+3<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;u=s+131084+((h|1)<<2)|0;c=o[s+1310736+(f+4<<2)>>2]|0;if((o[u>>2]|0)<(c|0))o[u>>2]=c;u=s+131084+((h|2)<<2)|0;c=o[s+1310736+(f+5<<2)>>2]|0;if((o[u>>2]|0)>(c|0))o[u>>2]=c;c=s+131084+((h|3)<<2)|0;u=o[s+1310736+(f+6<<2)>>2]|0;if((o[c>>2]|0)<(u|0))o[c>>2]=u;e=e+1|0}while(1){if((u|0)>=(o[d>>2]|0)){u=0;break e}t=s+12+(u<<2)|0;n=u<<1;T=s+655376+(n<<3)|0;l[T>>3]=+l[T>>3]/+(o[t>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]/+(o[t>>2]|0);u=u+1|0}}}while(0);p=_;return u|0}function _r(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=0-T|0;b=t*3|0;u=e+((t*6|0)+6)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;do if(((a[g+1>>0]|0)+(a[g>>0]|0)+(a[g+2>>0]|0)|0)>(w|0)){e=c+(y<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;f=(u<<16>>16)+-1|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}else i[c>>1]=0;while(0);g=g+6|0;m=m+1|0;c=c+2|0}u=g+b+12|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function kr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=t<<1;b=0-T|0;u=e+((t<<2)+4)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;f=a[g>>0]|0;d=a[g+1>>0]|0;do if(((f&248)+10+(f<<5&224)+(d>>>3&28)+(d<<3&248)|0)>(w|0)){e=c+(b<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;f=(u<<16>>16)+-1|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}else i[c>>1]=0;while(0);g=g+4|0;m=m+1|0;c=c+2|0}u=g+y+8|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function Sr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=0-T|0;b=t<<2;u=e+((t<<3)+8)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;do if(((a[g+1>>0]|0)+(a[g>>0]|0)+(a[g+2>>0]|0)|0)>(w|0)){e=c+(y<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;f=(u<<16>>16)+-1|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}else i[c>>1]=0;while(0);g=g+8|0;m=m+1|0;c=c+2|0}u=g+b+16|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function Nr(e,t,n,s,u){e=e|0;t=t|0;n=n|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;k=p;p=p+16|0;x=k;_=(t|0)/2|0;T=(n|0)/2|0;f=o[u>>2]|0;A=T+-1|0;n=f;c=f+((q(A,_)|0)<<1)|0;h=0;while(1){if((h|0)>=(_|0))break;i[c>>1]=0;i[n>>1]=0;n=n+2|0;c=c+2|0;h=h+1|0}M=s*3|0;E=_+-1|0;n=f;c=f+(E<<1)|0;h=0;while(1){if((h|0)>=(T|0))break;i[c>>1]=0;i[n>>1]=0;n=n+(_<<1)|0;c=c+(_<<1)|0;h=h+1|0}s=u+1179664|0;b=t<<1;w=0-_|0;c=e+((t<<2)+4)|0;d=0;y=1;h=f+(_+1<<1)|0;e:while(1){if((y|0)<(A|0)){v=c;n=d;g=1}else{c=56;break}while(1){if((g|0)>=(E|0))break;m=a[v>>0]|0;do if(((m&240)+24+(m<<4&240)+(r[v+1>>0]&-16&255)|0)>(M|0)){e=h+(w<<1)|0;c=i[e>>1]|0;if(c<<16>>16>0){i[h>>1]=c;m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[u+1310736+(m+-1<<2)>>2]=y;break}m=i[e+2>>1]|0;c=i[e+-2>>1]|0;e=c<<16>>16>0;t=h+-2|0;d=(c<<16>>16)+-1|0;if(m<<16>>16<=0){if(e){i[h>>1]=c;c=d*7|0;e=u+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=u+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=u+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=u+1310736+(c+4<<2)|0;if((o[e>>2]|0)<(g|0))o[e>>2]=g;o[u+1310736+(c+6<<2)>>2]=y;break}c=i[t>>1]|0;if(c<<16>>16>0){i[h>>1]=c;c=(c<<16>>16)*7|0;m=u+1310736+(c+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=u+1310736+(c+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+g;m=u+1310736+(c+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y;c=c+-3|0;if((o[u+1310736+(c<<2)>>2]|0)<(g|0))e=g;else break}else{c=n+1|0;if((n|0)>32767){c=50;break e}i[h>>1]=c;o[u+1179664+(n<<2)>>2]=c<<16>>16;m=n*7|0;o[u+1310736+(m<<2)>>2]=1;o[u+1310736+(m+1<<2)>>2]=g;o[u+1310736+(m+2<<2)>>2]=y;o[u+1310736+(m+3<<2)>>2]=g;o[u+1310736+(m+4<<2)>>2]=g;o[u+1310736+(m+5<<2)>>2]=y;n=c;e=y;c=m+6|0}o[u+1310736+(c<<2)>>2]=e;break}c=(m<<16>>16)+-1|0;f=u+1179664+(c<<2)|0;if(e){c=o[f>>2]|0;f=o[u+1179664+(d<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[h>>1]=c;if((c|0)<(f|0)){e=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=c;e=e+4|0;t=t+1|0}}}else{i[h>>1]=f;e=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;d=u+1310736+(m+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+y;o[u+1310736+(m+-1<<2)>>2]=y;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[h>>1]=m;c=c*7|0;e=u+1310736+(c<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=u+1310736+(c+1<<2)|0;o[e>>2]=(o[e>>2]|0)+g;e=u+1310736+(c+2<<2)|0;o[e>>2]=(o[e>>2]|0)+y;e=u+1310736+(c+3<<2)|0;if((o[e>>2]|0)>(g|0))o[e>>2]=g;o[u+1310736+(c+6<<2)>>2]=y;break}c=o[f>>2]|0;f=o[u+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((c|0)<=(f|0)){i[h>>1]=c;if((c|0)<(f|0)){e=s;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(f|0))o[e>>2]=c;e=e+4|0;t=t+1|0}}}else{i[h>>1]=f;e=s;t=0;while(1){if((t|0)>=(n|0)){c=f;break t}if((o[e>>2]|0)==(c|0))o[e>>2]=f;e=e+4|0;t=t+1|0}}while(0);m=(c<<16>>16)*7|0;d=u+1310736+(m+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=u+1310736+(m+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+g;m=u+1310736+(m+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+y}else i[h>>1]=0;while(0);v=v+4|0;g=g+1|0;h=h+2|0}c=v+b+8|0;d=n;y=y+1|0;h=h+4|0}e:do if((c|0)==50){di(3,3212,x);n=-1}else if((c|0)==56){t=u+12|0;n=1;e=1;while(1){if((e|0)>(d|0))break;c=o[s>>2]|0;if((c|0)==(e|0))h=n+1|0;else{h=n;n=o[u+1179664+(c+-1<<2)>>2]|0}o[s>>2]=n;n=h;e=e+1|0;s=s+4|0}f=u+8|0;n=n+-1|0;o[f>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(u+655376|0,0,n<<4|0)|0;c=0;while(1){if((c|0)>=(n|0)){e=0;break}n=c<<2;o[u+131084+(n<<2)>>2]=_;o[u+131084+((n|1)<<2)>>2]=0;o[u+131084+((n|2)<<2)>>2]=T;o[u+131084+((n|3)<<2)>>2]=0;c=c+1|0;n=o[f>>2]|0}while(1){if((e|0)>=(d|0)){n=0;break}h=(o[u+1179664+(e<<2)>>2]|0)+-1|0;s=e*7|0;n=u+12+(h<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[u+1310736+(s<<2)>>2]|0);n=h<<1;c=u+655376+(n<<3)|0;l[c>>3]=+l[c>>3]+ +(o[u+1310736+(s+1<<2)>>2]|0);n=u+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[u+1310736+(s+2<<2)>>2]|0);h=h<<2;n=u+131084+(h<<2)|0;c=o[u+1310736+(s+3<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;n=u+131084+((h|1)<<2)|0;c=o[u+1310736+(s+4<<2)>>2]|0;
if((o[n>>2]|0)<(c|0))o[n>>2]=c;n=u+131084+((h|2)<<2)|0;c=o[u+1310736+(s+5<<2)>>2]|0;if((o[n>>2]|0)>(c|0))o[n>>2]=c;c=u+131084+((h|3)<<2)|0;n=o[u+1310736+(s+6<<2)>>2]|0;if((o[c>>2]|0)<(n|0))o[c>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[f>>2]|0)){n=0;break e}T=u+12+(n<<2)|0;_=n<<1;x=u+655376+(_<<3)|0;l[x>>3]=+l[x>>3]/+(o[T>>2]|0);_=u+655376+((_|1)<<3)|0;l[_>>3]=+l[_>>3]/+(o[T>>2]|0);n=n+1|0}}}while(0);p=k;return n|0}function Lr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=t<<1;b=0-T|0;u=e+((t<<2)+4)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;f=a[g>>0]|0;d=a[g+1>>0]|0;do if(((f&248)+12+(f<<5&224)+(d>>>3&24)+(d<<2&248)|0)>(w|0)){e=c+(b<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;t=c+-2|0;f=(u<<16>>16)+-1|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}else i[c>>1]=0;while(0);g=g+4|0;m=m+1|0;c=c+2|0}u=g+y+8|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function Dr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;h=o[s>>2]|0;E=x+-1|0;n=h;u=h+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}w=r*3|0;M=T+-1|0;n=h;u=h+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}r=s+1179664|0;y=0-T|0;b=t<<2;u=e+((t<<3)+8)|0;f=0;v=1;c=h+(T+1<<1)|0;e:while(1){if((v|0)<(E|0)){g=u;n=f;m=1}else{u=56;break}while(1){if((m|0)>=(M|0))break;do if(((a[g+2>>0]|0)+(a[g+1>>0]|0)+(a[g+3>>0]|0)|0)>(w|0)){e=c+(y<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}d=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;f=(u<<16>>16)+-1|0;t=c+-2|0;if(d<<16>>16<=0){if(e){i[c>>1]=u;u=f*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=i[t>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;d=s+1310736+(u+-7<<2)|0;o[d>>2]=(o[d>>2]|0)+1;d=s+1310736+(u+-6<<2)|0;o[d>>2]=(o[d>>2]|0)+m;d=s+1310736+(u+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(m|0))e=m;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;d=n*7|0;o[s+1310736+(d<<2)>>2]=1;o[s+1310736+(d+1<<2)>>2]=m;o[s+1310736+(d+2<<2)>>2]=v;o[s+1310736+(d+3<<2)>>2]=m;o[s+1310736+(d+4<<2)>>2]=m;o[s+1310736+(d+5<<2)>>2]=v;n=u;e=v;u=d+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(d<<16>>16)+-1|0;h=s+1179664+(u<<2)|0;if(e){u=o[h>>2]|0;h=o[s+1179664+(f<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;f=s+1310736+(d+-5<<2)|0;o[f>>2]=(o[f>>2]|0)+v;o[s+1310736+(d+-1<<2)>>2]=v;break}e=i[t>>1]|0;if(e<<16>>16<=0){i[c>>1]=d;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+m;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(m|0))o[e>>2]=m;o[s+1310736+(u+6<<2)>>2]=v;break}u=o[h>>2]|0;h=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(h|0)){i[c>>1]=u;if((u|0)<(h|0)){e=r;t=0;while(1){if((t|0)>=(n|0))break t;if((o[e>>2]|0)==(h|0))o[e>>2]=u;e=e+4|0;t=t+1|0}}}else{i[c>>1]=h;e=r;t=0;while(1){if((t|0)>=(n|0)){u=h;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=h;e=e+4|0;t=t+1|0}}while(0);d=(u<<16>>16)*7|0;f=s+1310736+(d+-7<<2)|0;o[f>>2]=(o[f>>2]|0)+1;f=s+1310736+(d+-6<<2)|0;o[f>>2]=(o[f>>2]|0)+m;d=s+1310736+(d+-5<<2)|0;o[d>>2]=(o[d>>2]|0)+v}else i[c>>1]=0;while(0);g=g+8|0;m=m+1|0;c=c+2|0}u=g+b+16|0;f=n;v=v+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){t=s+12|0;n=1;e=1;while(1){if((e|0)>(f|0))break;u=o[r>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[r>>2]=n;n=c;e=e+1|0;r=r+4|0}h=s+8|0;n=n+-1|0;o[h>>2]=n;if(!n)n=0;else{ld(t|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[h>>2]|0}while(1){if((e|0)>=(f|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;r=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(r<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(r+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(r+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(r+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(r+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(r+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(r+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[h>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function Cr(e,t,n,r,s){e=e|0;t=t|0;n=n|0;r=r|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;_=p;p=p+16|0;A=_;T=(t|0)/2|0;x=(n|0)/2|0;f=o[s>>2]|0;E=x+-1|0;n=f;u=f+((q(E,T)|0)<<1)|0;c=0;while(1){if((c|0)>=(T|0))break;i[u>>1]=0;i[n>>1]=0;n=n+2|0;u=u+2|0;c=c+1|0}M=T+-1|0;n=f;u=f+(M<<1)|0;c=0;while(1){if((c|0)>=(x|0))break;i[u>>1]=0;i[n>>1]=0;n=n+(T<<1)|0;u=u+(T<<1)|0;c=c+1|0}h=s+1179664|0;w=0-T|0;u=e+((t<<1)+2)|0;m=0;b=1;c=f+(T+1<<1)|0;e:while(1){if((b|0)<(E|0)){y=u;n=m;v=1}else{u=56;break}while(1){if((v|0)>=(M|0))break;do if((a[y>>0]|0|0)>(r|0)){e=c+(w<<1)|0;u=i[e>>1]|0;if(u<<16>>16>0){i[c>>1]=u;g=(u<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}g=i[e+2>>1]|0;u=i[e+-2>>1]|0;e=u<<16>>16>0;m=(u<<16>>16)+-1|0;f=c+-2|0;if(g<<16>>16<=0){if(e){i[c>>1]=u;u=m*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(u+4<<2)|0;if((o[e>>2]|0)<(v|0))o[e>>2]=v;o[s+1310736+(u+6<<2)>>2]=b;break}u=i[f>>1]|0;if(u<<16>>16>0){i[c>>1]=u;u=(u<<16>>16)*7|0;g=s+1310736+(u+-7<<2)|0;o[g>>2]=(o[g>>2]|0)+1;g=s+1310736+(u+-6<<2)|0;o[g>>2]=(o[g>>2]|0)+v;g=s+1310736+(u+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b;u=u+-3|0;if((o[s+1310736+(u<<2)>>2]|0)<(v|0))e=v;else break}else{u=n+1|0;if((n|0)>32767){u=50;break e}i[c>>1]=u;o[s+1179664+(n<<2)>>2]=u<<16>>16;g=n*7|0;o[s+1310736+(g<<2)>>2]=1;o[s+1310736+(g+1<<2)>>2]=v;o[s+1310736+(g+2<<2)>>2]=b;o[s+1310736+(g+3<<2)>>2]=v;o[s+1310736+(g+4<<2)>>2]=v;o[s+1310736+(g+5<<2)>>2]=b;n=u;e=b;u=g+6|0}o[s+1310736+(u<<2)>>2]=e;break}u=(g<<16>>16)+-1|0;d=s+1179664+(u<<2)|0;if(e){u=o[d>>2]|0;d=o[s+1179664+(m<<2)>>2]|0;t:do if((u|0)<=(d|0)){i[c>>1]=u;if((u|0)<(d|0)){e=h;f=0;while(1){if((f|0)>=(n|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=u;e=e+4|0;f=f+1|0}}}else{i[c>>1]=d;e=h;f=0;while(1){if((f|0)>=(n|0)){u=d;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(u<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;m=s+1310736+(g+-5<<2)|0;o[m>>2]=(o[m>>2]|0)+b;o[s+1310736+(g+-1<<2)>>2]=b;break}e=i[f>>1]|0;if(e<<16>>16<=0){i[c>>1]=g;u=u*7|0;e=s+1310736+(u<<2)|0;o[e>>2]=(o[e>>2]|0)+1;e=s+1310736+(u+1<<2)|0;o[e>>2]=(o[e>>2]|0)+v;e=s+1310736+(u+2<<2)|0;o[e>>2]=(o[e>>2]|0)+b;e=s+1310736+(u+3<<2)|0;if((o[e>>2]|0)>(v|0))o[e>>2]=v;o[s+1310736+(u+6<<2)>>2]=b;break}u=o[d>>2]|0;d=o[s+1179664+((e<<16>>16)+-1<<2)>>2]|0;t:do if((u|0)<=(d|0)){i[c>>1]=u;if((u|0)<(d|0)){e=h;f=0;while(1){if((f|0)>=(n|0))break t;if((o[e>>2]|0)==(d|0))o[e>>2]=u;e=e+4|0;f=f+1|0}}}else{i[c>>1]=d;e=h;f=0;while(1){if((f|0)>=(n|0)){u=d;break t}if((o[e>>2]|0)==(u|0))o[e>>2]=d;e=e+4|0;f=f+1|0}}while(0);g=(u<<16>>16)*7|0;m=s+1310736+(g+-7<<2)|0;o[m>>2]=(o[m>>2]|0)+1;m=s+1310736+(g+-6<<2)|0;o[m>>2]=(o[m>>2]|0)+v;g=s+1310736+(g+-5<<2)|0;o[g>>2]=(o[g>>2]|0)+b}else i[c>>1]=0;while(0);y=y+2|0;v=v+1|0;c=c+2|0}u=y+t+4|0;m=n;b=b+1|0;c=c+4|0}e:do if((u|0)==50){di(3,3212,A);n=-1}else if((u|0)==56){f=s+12|0;n=1;e=1;while(1){if((e|0)>(m|0))break;u=o[h>>2]|0;if((u|0)==(e|0))c=n+1|0;else{c=n;n=o[s+1179664+(u+-1<<2)>>2]|0}o[h>>2]=n;n=c;e=e+1|0;h=h+4|0}d=s+8|0;n=n+-1|0;o[d>>2]=n;if(!n)n=0;else{ld(f|0,0,n<<2|0)|0;ld(s+655376|0,0,n<<4|0)|0;u=0;while(1){if((u|0)>=(n|0)){e=0;break}n=u<<2;o[s+131084+(n<<2)>>2]=T;o[s+131084+((n|1)<<2)>>2]=0;o[s+131084+((n|2)<<2)>>2]=x;o[s+131084+((n|3)<<2)>>2]=0;u=u+1|0;n=o[d>>2]|0}while(1){if((e|0)>=(m|0)){n=0;break}c=(o[s+1179664+(e<<2)>>2]|0)+-1|0;h=e*7|0;n=s+12+(c<<2)|0;o[n>>2]=(o[n>>2]|0)+(o[s+1310736+(h<<2)>>2]|0);n=c<<1;u=s+655376+(n<<3)|0;l[u>>3]=+l[u>>3]+ +(o[s+1310736+(h+1<<2)>>2]|0);n=s+655376+((n|1)<<3)|0;l[n>>3]=+l[n>>3]+ +(o[s+1310736+(h+2<<2)>>2]|0);c=c<<2;n=s+131084+(c<<2)|0;u=o[s+1310736+(h+3<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;n=s+131084+((c|1)<<2)|0;u=o[s+1310736+(h+4<<2)>>2]|0;if((o[n>>2]|0)<(u|0))o[n>>2]=u;n=s+131084+((c|2)<<2)|0;u=o[s+1310736+(h+5<<2)>>2]|0;if((o[n>>2]|0)>(u|0))o[n>>2]=u;u=s+131084+((c|3)<<2)|0;n=o[s+1310736+(h+6<<2)>>2]|0;if((o[u>>2]|0)<(n|0))o[u>>2]=n;e=e+1|0}while(1){if((n|0)>=(o[d>>2]|0)){n=0;break e}x=s+12+(n<<2)|0;T=n<<1;A=s+655376+(T<<3)|0;l[A>>3]=+l[A>>3]/+(o[x>>2]|0);T=s+655376+((T|1)<<3)|0;l[T>>3]=+l[T>>3]/+(o[x>>2]|0);n=n+1|0}}}while(0);p=_;return n|0}function Ir(e,t,n,r,a,s,u){e=e|0;t=t|0;n=n|0;r=r|0;a=a|0;s=s|0;u=u|0;var c=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0;A=p;p=p+80032|0;m=A+16|0;d=A+8|0;c=A;M=A+40024|0;E=A+24|0;w=o[s+8>>2]|0;y=q(w,t)|0;n=o[s>>2]|0;s=o[s+4>>2]|0;b=n;n=e+(y+n<<1)|0;while(1){if((b|0)>(s|0)){f=6;break}y=i[n>>1]|0;if(y<<16>>16>0?(o[r+((y<<16>>16)+-1<<2)>>2]|0)==(a|0):0){f=7;break}b=b+1|0;n=n+2|0}do if((f|0)==6){di(3,3648,c);n=-1}else if((f|0)==7){g=u+24|0;o[g>>2]=1;v=u+28|0;o[v>>2]=b;y=u+40028|0;o[y>>2]=w;a=5;n=w;h=b;r=1;while(1){l=e+((q(n,t)|0)+h<<1)|0;c=0;n=a+5|0;while(1){a=(n|0)%8|0;s=424+(a<<2)|0;n=456+(a<<2)|0;if((c|0)>=8){f=12;break}n=o[n>>2]|0;x=q(n,t)|0;s=o[s>>2]|0;if((i[l+(x+s<<1)>>1]|0)>0)break;c=c+1|0;n=a+1|0}if((f|0)==12){f=0;if((c|0)==8){f=14;break}s=o[s>>2]|0;n=o[n>>2]|0}o[u+28+(r<<2)>>2]=s+h;c=o[g>>2]|0;o[u+40028+(c<<2)>>2]=n+(o[u+40028+(c+-1<<2)>>2]|0);c=o[g>>2]|0;s=u+28+(c<<2)|0;if((o[s>>2]|0)==(b|0)?(o[u+40028+(c<<2)>>2]|0)==(w|0):0){r=0;n=0;s=1;f=20;break}r=c+1|0;o[g>>2]=r;if((r|0)==9999){f=19;break}n=o[u+40028+(c<<2)>>2]|0;h=o[s>>2]|0}if((f|0)==14){di(3,3655,d);n=-1;break}else if((f|0)==19){di(3,3662,m);n=-1;break}else if((f|0)==20){while(1){if((s|0)>=(c|0)){n=0;break}f=(o[u+28+(s<<2)>>2]|0)-b|0;f=q(f,f)|0;x=(o[u+40028+(s<<2)>>2]|0)-w|0;f=(q(x,x)|0)+f|0;x=(f|0)>(n|0);r=x?s:r;n=x?f:n;s=s+1|0;f=20}while(1){if((n|0)>=(r|0)){s=r;n=c;break}o[M+(n<<2)>>2]=o[u+28+(n<<2)>>2];o[E+(n<<2)>>2]=o[u+40028+(n<<2)>>2];n=n+1|0}while(1){if((s|0)>=(n|0)){n=0;break}n=s-r|0;o[u+28+(n<<2)>>2]=o[u+28+(s<<2)>>2];o[u+40028+(n<<2)>>2]=o[u+40028+(s<<2)>>2];s=s+1|0;n=o[g>>2]|0}while(1){if((n|0)>=(r|0))break;x=n-r|0;o[u+28+((o[g>>2]|0)+x<<2)>>2]=o[M+(n<<2)>>2];o[u+40028+((o[g>>2]|0)+x<<2)>>2]=o[E+(n<<2)>>2];n=n+1|0}o[u+28+(o[g>>2]<<2)>>2]=o[v>>2];o[u+40028+(o[g>>2]<<2)>>2]=o[y>>2];o[g>>2]=(o[g>>2]|0)+1;n=0;break}}while(0);p=A;return n|0}function Or(e,t,n){e=e|0;t=t|0;n=+n;var r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0;y=p;p=p+96|0;m=y+56|0;l=y+48|0;g=y+8|0;h=y;f=t+28|0;c=o[f>>2]|0;d=t+40028|0;s=o[d>>2]|0;v=t+24|0;u=(o[v>>2]|0)+-1|0;i=1;a=0;r=0;while(1){if((i|0)>=(u|0))break;w=(o[t+28+(i<<2)>>2]|0)-c|0;w=q(w,w)|0;M=(o[t+40028+(i<<2)>>2]|0)-s|0;w=(q(M,M)|0)+w|0;M=(w|0)>(a|0);b=M?i:r;i=i+1|0;a=M?w:a;r=b}n=+(e|0)/.75*.01*n;o[l>>2]=0;o[h>>2]=0;e:do if((Rr(f,d,0,r,n,m,l)|0)>=0?(Rr(f,d,r,(o[v>>2]|0)+-1|0,n,g,h)|0)>=0:0){i=o[l>>2]|0;a=o[h>>2]|0;do if((i|0)==1&(a|0)==1){i=o[g>>2]|0;a=o[m>>2]|0}else{if((i|0)>1&(a|0)==0){i=(r|0)/2|0;o[h>>2]=0;o[l>>2]=0;if((Rr(f,d,0,i,n,m,l)|0)<0){r=-1;break e}if((Rr(f,d,i,r,n,g,h)|0)<0){r=-1;break e}if(!((o[l>>2]|0)==1&(o[h>>2]|0)==1)){r=-1;break e}i=r;a=o[m>>2]|0;r=o[g>>2]|0;break}if(!((i|0)==0&(a|0)>1)){r=-1;break e}i=(r+-1+(o[v>>2]|0)|0)/2|0;o[h>>2]=0;o[l>>2]=0;if((Rr(f,d,r,i,n,m,l)|0)<0){r=-1;break e}if((Rr(f,d,i,(o[v>>2]|0)+-1|0,n,g,h)|0)<0){r=-1;break e}if(!((o[l>>2]|0)==1&(o[h>>2]|0)==1)){r=-1;break e}i=o[g>>2]|0;a=r;r=o[m>>2]|0}while(0);o[t+80028>>2]=0;o[t+80032>>2]=a;o[t+80036>>2]=r;o[t+80040>>2]=i;o[t+80044>>2]=(o[v>>2]|0)+-1;r=0}else r=-1;while(0);p=y;return r|0}function Rr(e,t,n,r,i,a,s){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;a=a|0;s=s|0;var u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0;c=o[t+(r<<2)>>2]|0;g=o[t+(n<<2)>>2]|0;h=+(c-g|0);u=o[e+(n<<2)>>2]|0;v=o[e+(r<<2)>>2]|0;f=+(u-v|0);d=+((q(v,g)|0)-(q(u,c)|0)|0);c=n+1|0;u=c;l=0;while(1){if((c|0)>=(r|0))break;y=d+(h*+(o[e+(c<<2)>>2]|0)+f*+(o[t+(c<<2)>>2]|0));y=y*y;v=y>l;u=v?c:u;c=c+1|0;l=v?y:l}if(l/(h*h+f*f)>i)if(((Rr(e,t,n,u,i,a,s)|0)>=0?(p=o[s>>2]|0,(p|0)<=5):0)?(o[a+(p<<2)>>2]=u,o[s>>2]=(o[s>>2]|0)+1,(Rr(e,t,u,r,i,a,s)|0)>=0):0)m=8;else u=-1;else m=8;if((m|0)==8)u=0;return u|0}function jr(e,t,n,r,i,a,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;s=s|0;var u=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;x=p;p=p+16|0;y=x+4|0;b=x;A=Ki(2)|0;w=Ki(2)|0;M=yi(2,2)|0;u=0;e:while(1){if((u|0)>=4){v=10;break}h=u+1|0;v=o[r+(h<<2)>>2]|0;d=o[r+(u<<2)>>2]|0;g=+(v+1-d|0)*.05+.5;d=~~(+(d|0)+g);v=~~(+(v|0)-g)-d|0;E=yi(v+1|0,2)|0;n=0;while(1){if((n|0)>(v|0))break;T=n+d|0;if((Xi(i,+(o[e+(T<<2)>>2]|0),+(o[t+(T<<2)>>2]|0),y,b)|0)<0){v=6;break e}_=o[E>>2]|0;T=n<<1;l[_+(T<<3)>>3]=+c[y>>2];l[_+((T|1)<<3)>>3]=+c[b>>2];n=n+1|0}if((Ti(E,M,A,w)|0)<0){v=14;break}_=o[M>>2]|0;m=+l[_+8>>3];l[a+(u*24|0)>>3]=m;g=-+l[_>>3];l[a+(u*24|0)+8>>3]=g;_=o[w>>2]|0;l[a+(u*24|0)+16>>3]=-(m*+l[_>>3]+ +l[_+8>>3]*g);Ai(E)|0;u=h}e:do if((v|0)==6)v=14;else if((v|0)==10){Ai(M)|0;Zi(w)|0;Zi(A)|0;n=0;while(1){if((n|0)>=4){n=0;break e}u=(n+3|0)%4|0;h=a+(u*24|0)|0;f=+l[a+(n*24|0)+8>>3];d=a+(n*24|0)|0;m=+l[a+(u*24|0)+8>>3];g=+l[h>>3]*f-+l[d>>3]*m;if(+R(+g)<1e-4){n=-1;break e}_=a+(n*24|0)+16|0;T=a+(u*24|0)+16|0;l[s+(n<<4)>>3]=(m*+l[_>>3]-f*+l[T>>3])/g;l[s+(n<<4)+8>>3]=(+l[d>>3]*+l[T>>3]-+l[h>>3]*+l[_>>3])/g;n=n+1|0}}while(0);if((v|0)==14){Ai(E)|0;Ai(M)|0;Zi(w)|0;Zi(A)|0;n=-1}p=x;return n|0}function Pr(e,t,n,r,i,a,s,u,h,f,d,m,g,v){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;s=s|0;u=u|0;h=h|0;f=f|0;d=+d;m=m|0;g=g|0;v=v|0;var y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0;I=p;p=p+16|0;k=I+4|0;S=I;N=(h|1|0)==1;D=h>>>0<3;_=0;y=0;while(1){if((_|0)>=(a|0))break;o[m+(y<<8)>>2]=o[i+(_*80048|0)>>2];if((Xi(f,+l[i+(_*80048|0)+8>>3],+l[i+(_*80048|0)+16>>3],k,S)|0)>=0?(l[m+(y<<8)+56>>3]=+c[k>>2],l[m+(y<<8)+64>>3]=+c[S>>2],L=m+(y<<8)+168|0,(jr(i+(_*80048|0)+28|0,i+(_*80048|0)+40028|0,o[i+(_*80048|0)+24>>2]|0,i+(_*80048|0)+80028|0,f,m+(y<<8)+72|0,L)|0)>=0):0){w=m+(y<<8)+8|0;M=m+(y<<8)+20|0;E=m+(y<<8)+40|0;A=m+(y<<8)+12|0;x=m+(y<<8)+24|0;T=m+(y<<8)+48|0;switch(si(s,u,h,e,t,n,r,f,L,d,w,M,E,A,x,T,v,m+(y<<8)+240|0,m+(y<<8)+248|0)|0){case 0:{b=0;C=12;break}case-1:{b=2;C=12;break}case-2:{b=3;C=12;break}case-3:{b=4;C=12;break}case-4:{b=5;C=12;break}case-5:{b=9;C=12;break}case-6:{b=1;C=12;break}default:{}}if((C|0)==12){C=0;o[m+(y<<8)+236>>2]=b}if(D){o[m+(y<<8)+4>>2]=o[(N?w:A)>>2];o[m+(y<<8)+16>>2]=o[(N?M:x)>>2];l[m+(y<<8)+32>>3]=+l[(N?E:T)>>3]}y=y+1|0}_=_+1|0}o[g>>2]=y;p=I;return 0}function Ur(e,t,n,r){e=e|0;t=t|0;n=+n;r=r|0;var i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0;u=p;p=p+288|0;h=u+200|0;c=u+104|0;i=u+264|0;a=u+8|0;s=u;d=o[t+16>>2]|0;m=(4-d|0)%4|0;l[h>>3]=+l[t+168+(m<<4)>>3];l[h+8>>3]=+l[t+168+(m<<4)+8>>3];m=(5-d|0)%4|0;l[h+16>>3]=+l[t+168+(m<<4)>>3];l[h+24>>3]=+l[t+168+(m<<4)+8>>3];m=(6-d|0)%4|0;l[h+32>>3]=+l[t+168+(m<<4)>>3];l[h+40>>3]=+l[t+168+(m<<4)+8>>3];d=(7-d|0)%4|0;l[h+48>>3]=+l[t+168+(d<<4)>>3];l[h+56>>3]=+l[t+168+(d<<4)+8>>3];f=n*-.5;l[c>>3]=f;n=n*.5;l[c+8>>3]=n;l[c+16>>3]=0;l[c+24>>3]=n;l[c+32>>3]=n;l[c+40>>3]=0;l[c+48>>3]=n;l[c+56>>3]=f;l[c+64>>3]=0;l[c+72>>3]=f;l[c+80>>3]=f;l[c+88>>3]=0;o[i>>2]=h;o[i+4>>2]=c;o[i+8>>2]=4;if((bo(o[e>>2]|0,h,c,4,a)|0)<0)n=1e8;else{m=(po(o[e>>2]|0,i,a,r,s)|0)<0;n=m?1e8:+l[s>>3]}p=u;return+n}function Fr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=+r;i=i|0;var a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0;s=p;p=p+192|0;h=s+104|0;c=s+8|0;u=s+168|0;a=s;d=o[t+16>>2]|0;m=(4-d|0)%4|0;l[h>>3]=+l[t+168+(m<<4)>>3];l[h+8>>3]=+l[t+168+(m<<4)+8>>3];m=(5-d|0)%4|0;l[h+16>>3]=+l[t+168+(m<<4)>>3];l[h+24>>3]=+l[t+168+(m<<4)+8>>3];m=(6-d|0)%4|0;l[h+32>>3]=+l[t+168+(m<<4)>>3];l[h+40>>3]=+l[t+168+(m<<4)+8>>3];d=(7-d|0)%4|0;l[h+48>>3]=+l[t+168+(d<<4)>>3];l[h+56>>3]=+l[t+168+(d<<4)+8>>3];f=r*-.5;l[c>>3]=f;r=r*.5;l[c+8>>3]=r;l[c+16>>3]=0;l[c+24>>3]=r;l[c+32>>3]=r;l[c+40>>3]=0;l[c+48>>3]=r;l[c+56>>3]=f;l[c+64>>3]=0;l[c+72>>3]=f;l[c+80>>3]=f;l[c+88>>3]=0;o[u>>2]=h;o[u+4>>2]=c;o[u+8>>2]=4;i=(po(o[e>>2]|0,u,n,i,a)|0)<0;p=s;return+(i?1e8:+l[a>>3])}function zr(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var s=0,u=0,c=0,h=0,f=0,d=0,m=0;m=p;p=p+32|0;h=m+20|0;f=m;d=df(i<<4)|0;o[h>>2]=d;if(!d){di(3,4779,m+8|0);Tt(1)}u=df(i*24|0)|0;c=h+4|0;o[c>>2]=u;if(!u){di(3,4779,m+16|0);Tt(1)}else s=0;while(1){if((s|0)>=(i|0))break;l[d+(s<<4)>>3]=+l[n+(s<<4)>>3];l[d+(s<<4)+8>>3]=+l[n+(s<<4)+8>>3];l[u+(s*24|0)>>3]=+l[r+(s*24|0)>>3];l[u+(s*24|0)+8>>3]=+l[r+(s*24|0)+8>>3];l[u+(s*24|0)+16>>3]=+l[r+(s*24|0)+16>>3];s=s+1|0}o[h+8>>2]=i;if((po(o[e>>2]|0,h,t,a,f)|0)<0)l[f>>3]=1e8;pf(o[h>>2]|0);pf(o[c>>2]|0);p=m;return+ +l[f>>3]}function Br(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var s=0,u=0,c=0,h=0,f=0,d=0,m=0;m=p;p=p+32|0;h=m+20|0;f=m;d=df(i<<4)|0;o[h>>2]=d;if(!d){di(3,4779,m+8|0);Tt(1)}u=df(i*24|0)|0;c=h+4|0;o[c>>2]=u;if(!u){di(3,4779,m+16|0);Tt(1)}else s=0;while(1){if((s|0)>=(i|0))break;l[d+(s<<4)>>3]=+l[n+(s<<4)>>3];l[d+(s<<4)+8>>3]=+l[n+(s<<4)+8>>3];l[u+(s*24|0)>>3]=+l[r+(s*24|0)>>3];l[u+(s*24|0)+8>>3]=+l[r+(s*24|0)+8>>3];l[u+(s*24|0)+16>>3]=+l[r+(s*24|0)+16>>3];s=s+1|0}o[h+8>>2]=i;if((go(o[e>>2]|0,h,t,a,f)|0)<0)l[f>>3]=1e8;pf(o[h>>2]|0);pf(o[c>>2]|0);p=m;return+ +l[f>>3]}function Hr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=df(2080)|0;do if(i){o[i+2068>>2]=n;if(!r)switch(n|0){case 5:case 12:case 13:case 14:{n=0;break}default:a=4}else a=4;if((a|0)==4){a=df(q(t,e)|0)|0;o[i>>2]=a;if(!a){pf(i);i=0;break}else n=1}o[i+2076>>2]=n;o[i+2072>>2]=r;o[i+4>>2]=0;o[i+8>>2]=e;o[i+12>>2]=t}while(0);return i|0}function Vr(e){e=e|0;if(e|0){if(o[e+2076>>2]|0)pf(o[e>>2]|0);pf(o[e+4>>2]|0);pf(e)}return}function Gr(e,t){e=e|0;t=t|0;var n=0,i=0,s=0,u=0,c=0,l=0,h=0;l=p;p=p+16|0;s=l;i=o[e+2068>>2]|0;u=e+12|0;c=e+8|0;e:do switch(i|0){case 5:case 12:case 13:case 14:if(!(o[e+2072>>2]|0)){o[e>>2]=t;n=0;break e}else{pd(o[e>>2]|0,t|0,q(o[u>>2]|0,o[c>>2]|0)|0)|0;n=0;break e}default:{n=i|1;if((n|0)==3){n=0;i=0;while(1){if(i>>>0>=(q(o[u>>2]|0,o[c>>2]|0)|0)>>>0){n=0;break e}r[(o[e>>2]|0)+i>>0]=(((a[t+(n|1)>>0]|0)+(a[t+n>>0]|0)+(a[t+(n|2)>>0]|0)|0)>>>0)/3|0;n=n+4|0;i=i+1|0}}if((i|2|0)==6){n=0;i=0;while(1){if(i>>>0>=(q(o[u>>2]|0,o[c>>2]|0)|0)>>>0){n=0;break e}r[(o[e>>2]|0)+i>>0]=(((a[t+(n|2)>>0]|0)+(a[t+(n|1)>>0]|0)+(a[t+(n|3)>>0]|0)|0)>>>0)/3|0;n=n+4|0;i=i+1|0}}if((n|0)==1){n=0;i=0;while(1){if(i>>>0>=(q(o[u>>2]|0,o[c>>2]|0)|0)>>>0){n=0;break e}r[(o[e>>2]|0)+i>>0]=(((a[t+(n+1)>>0]|0)+(a[t+n>>0]|0)+(a[t+(n+2)>>0]|0)|0)>>>0)/3|0;n=n+3|0;i=i+1|0}}switch(i|0){case 8:{n=0;i=0;while(1){if(i>>>0>=(q(o[u>>2]|0,o[c>>2]|0)|0)>>>0){n=0;break e}r[(o[e>>2]|0)+i>>0]=r[t+n>>0]|0;n=n+2|0;i=i+1|0}}case 7:{n=0;i=0;while(1){if(i>>>0>=(q(o[u>>2]|0,o[c>>2]|0)|0)>>>0){n=0;break e}r[(o[e>>2]|0)+i>>0]=r[t+(n|1)>>0]|0;n=n+2|0;i=i+1|0}}case 9:{n=0;i=0;while(1){if(i>>>0>=(q(o[u>>2]|0,o[c>>2]|0)|0)>>>0){n=0;break e}h=a[t+n>>0]|0;s=a[t+(n|1)>>0]|0;r[(o[e>>2]|0)+i>>0]=(((h&248)+10+(h<<5&224)+(s>>>3&28)+(s<<3&248)|0)>>>0)/3|0;n=n+2|0;i=i+1|0}}case 10:{n=0;i=0;while(1){if(i>>>0>=(q(o[u>>2]|0,o[c>>2]|0)|0)>>>0){n=0;break e}s=a[t+n>>0]|0;h=a[t+(n|1)>>0]|0;r[(o[e>>2]|0)+i>>0]=(((s&248)+12+(s<<5&224)+(h>>>3&24)+(h<<2&248)|0)>>>0)/3|0;n=n+2|0;i=i+1|0}}case 11:{n=0;i=0;while(1){if(i>>>0>=(q(o[u>>2]|0,o[c>>2]|0)|0)>>>0){n=0;break e}h=a[t+n>>0]|0;r[(o[e>>2]|0)+i>>0]=(((h&240)+24+(h<<4&240)+(r[t+(n|1)>>0]&-16&255)|0)>>>0)/3|0;n=n+2|0;i=i+1|0}}default:{di(3,3669,s);n=-1;break e}}}}while(0);p=l;return n|0}function Yr(e,t){e=e|0;t=t|0;var n=0,r=0;e:do if((e|0)!=0&(t|0)!=0?(Gr(e,t)|0)>=0:0){ld(e+16|0,0,1024)|0;t=o[e>>2]|0;n=t+(q(o[e+12>>2]|0,o[e+8>>2]|0)|0)|0;while(1){if(t>>>0>=n>>>0){t=0;break e}r=e+16+((a[t>>0]|0)<<2)|0;o[r>>2]=(o[r>>2]|0)+1;t=t+1|0}}else t=-1;while(0);return t|0}function Qr(e,t){e=e|0;t=t|0;var n=0;t=Yr(e,t)|0;if((t|0)>=0){t=0;n=0;do{t=(o[e+16+(n<<2)>>2]|0)+t|0;o[e+1040+(n<<2)>>2]=t;n=n+1|0}while((n|0)!=256);t=0}return t|0}function Wr(e,t,n,i){e=e|0;t=t|0;n=+n;i=i|0;var a=0,s=0,u=0,c=0;if(!(n<0|n>1)){t=Qr(e,t)|0;if((t|0)>=0){u=~~(+(q(o[e+12>>2]|0,o[e+8>>2]|0)|0)*n)>>>0;t=0;while(1){c=t&255;a=o[e+1040+(c<<2)>>2]|0;if(a>>>0<u>>>0)t=t+1<<24>>24;else break}while(1){s=t+1<<24>>24;if((a|0)!=(u|0))break;t=s;a=o[e+1040+((s&255)<<2)>>2]|0}r[i>>0]=((t&255)+c|0)>>>1;t=0}}else t=-1;return t|0}function qr(e,t,n){e=e|0;t=t|0;n=n|0;return Wr(e,t,.5,n)|0}function Xr(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0;t=Yr(e,t)|0;if((t|0)>=0){f=0;t=1;do{f=f+ +((q(o[e+16+(t<<2)>>2]|0,t)|0)>>>0);t=t+1|0}while((t|0)!=256);l=+(q(o[e+12>>2]|0,o[e+8>>2]|0)|0);t=0;s=0;c=0;a=0;h=0;while(1){i=o[e+16+(h<<2)>>2]|0;c=c+ +(i>>>0);if(c!=0){u=l-c;if(u==0)break;a=a+ +((q(h,i)|0)>>>0);p=a/c-(f-a)/u;u=p*(c*u*p);d=u>s;i=h&255;t=d?i:t;s=d?u:s}else i=h&255;if(i<<24>>24==-1)break;else h=h+1|0}r[n>>0]=t;t=0}return t|0}function Kr(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0;t=Yr(e,t)|0;e:do if((t|0)>=0){v=e+4|0;y=e+8|0;g=e+12|0;if((o[v>>2]|0)==0?(m=df(q(o[g>>2]|0,o[y>>2]|0)|0)|0,o[v>>2]=m,(m|0)==0):0){t=-1;break}p=n>>1;m=0-p|0;d=0;while(1){t=o[g>>2]|0;if((d|0)<(t|0))l=0;else break;while(1){f=o[y>>2]|0;if((l|0)<(f|0)){h=m;s=0;t=0}else break;while(1){if((h|0)>(p|0))break;n=h+d|0;t:do if((n|0)>=0?(n|0)<(o[g>>2]|0):0){c=q(n,f)|0;u=m;n=s;while(1){if((u|0)>(p|0))break t;s=u+l|0;if((s|0)>-1&(s|0)<(f|0)){n=n+1|0;t=(a[(o[e>>2]|0)+(s+c)>>0]|0)+t|0}u=u+1|0}}else n=s;while(0);h=h+1|0;s=n}r[(o[v>>2]|0)+((q(f,d)|0)+l)>>0]=(t|0)/(s|0)|0;l=l+1|0}d=d+1|0}if(!i)t=0;else{n=0;while(1){if((n|0)>=(q(t,o[y>>2]|0)|0)){t=0;break e}t=(o[v>>2]|0)+n|0;r[t>>0]=(a[t>>0]|0)+i;n=n+1|0;t=o[g>>2]|0}}}while(0);return t|0}function Zr(e,t,n,r,i,o,a,s,u,c){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;a=a|0;s=s|0;u=u|0;c=c|0;var l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0;v=(c|0)!=0;y=(r|0)==9;b=(s|0)==1;w=(r|0)==8;M=(o|0)==0;m=(s|0)==0;s=(o|0)==1;o=(r|0)==11;l=(r|0)==7;h=(r|0)==10;d=r|1;f=(d|0)==1;d=(d|0)==3;p=(r|2|0)==6;e:do switch(i|0){case 0:{if(s){if(v){g=Tr(e,t,n,c,u)|0;break e}if(m){if(f){g=gr(e,t,n,a,u)|0;break e}if(d){g=yr(e,t,n,a,u)|0;break e}if(p){g=Mr(e,t,n,a,u)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{g=Er(e,t,n,a,u)|0;break e}default:{}}if(w){g=xr(e,t,n,a,u)|0;break e}if(l){g=Ar(e,t,n,a,u)|0;break e}if(y){g=vr(e,t,n,a,u)|0;break e}if(h){g=wr(e,t,n,a,u)|0;break e}if(o){g=br(e,t,n,a,u)|0;break e}else Tt(0)}if(!b)Tt(0);if(f){g=sr(e,t,n,a,u)|0;break e}if(d){g=cr(e,t,n,a,u)|0;break e}if(p){g=fr(e,t,n,a,u)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{g=dr(e,t,n,a,u)|0;break e}default:{}}if(w){g=mr(e,t,n,a,u)|0;break e}if(l){g=pr(e,t,n,a,u)|0;break e}if(y){g=ur(e,t,n,a,u)|0;break e}if(h){g=hr(e,t,n,a,u)|0;break e}if(o){g=lr(e,t,n,a,u)|0;break e}else Tt(0)}if(!M)Tt(0);if(v){g=Fn(e,t,n,c,u)|0;break e}if(m){if(f){g=Ln(e,t,n,a,u)|0;break e}if(d){g=Cn(e,t,n,a,u)|0;break e}if(p){g=Rn(e,t,n,a,u)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{g=jn(e,t,n,a,u)|0;break e}default:{}}if(w){g=Un(e,t,n,a,u)|0;break e}if(l){g=Pn(e,t,n,a,u)|0;break e}if(y){g=Dn(e,t,n,a,u)|0;break e}if(h){g=On(e,t,n,a,u)|0;break e}if(o){g=In(e,t,n,a,u)|0;break e}else Tt(0)}if(!b)Tt(0);if(f){g=_r(e,t,n,a,u)|0;break e}if(d){g=Sr(e,t,n,a,u)|0;break e}if(p){g=Dr(e,t,n,a,u)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{g=Cr(e,t,n,a,u)|0;break e}default:{}}if(w){g=Nn(e,t,n,a,u)|0;break e}if(l){g=Sn(e,t,n,a,u)|0;break e}if(y){g=kr(e,t,n,a,u)|0;break e}if(h){g=Lr(e,t,n,a,u)|0;break e}if(o){g=Nr(e,t,n,a,u)|0;break e}else Tt(0);break}case 1:{if(s){if(v){g=Rt(e,t,n,c,u)|0;break e}if(m){if(f){g=Xn(e,t,n,a,u)|0;break e}if(d){g=Zn(e,t,n,a,u)|0;break e}if(p){g=Dt(e,t,n,a,u)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{g=Ct(e,t,n,a,u)|0;break e}default:{}}if(w){g=Ot(e,t,n,a,u)|0;break e}if(l){g=It(e,t,n,a,u)|0;break e}if(y){g=Kn(e,t,n,a,u)|0;break e}if(h){g=$n(e,t,n,a,u)|0;break e}if(o){g=Jn(e,t,n,a,u)|0;break e}else Tt(0)}if(!b)Tt(0);if(f){g=zn(e,t,n,a,u)|0;break e}if(d){g=Hn(e,t,n,a,u)|0;break e}if(p){g=Yn(e,t,n,a,u)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{g=Qn(e,t,n,a,u)|0;break e}default:{}}if(w){g=qn(e,t,n,a,u)|0;break e}if(l){g=Wn(e,t,n,a,u)|0;break e}if(y){g=Bn(e,t,n,a,u)|0;break e}if(h){g=Gn(e,t,n,a,u)|0;break e}if(o){g=Vn(e,t,n,a,u)|0;break e}else Tt(0)}if(!M)Tt(0);if(v){g=en(e,t,n,c,u)|0;break e}if(m){if(f){g=Yt(e,t,n,a,u)|0;break e}if(d){g=Wt(e,t,n,a,u)|0;break e}if(p){g=Kt(e,t,n,a,u)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{g=Zt(e,t,n,a,u)|0;break e}default:{}}if(w){g=$t(e,t,n,a,u)|0;break e}if(l){g=Jt(e,t,n,a,u)|0;break e}if(y){g=Qt(e,t,n,a,u)|0;break e}if(h){g=Xt(e,t,n,a,u)|0;break e}if(o){g=qt(e,t,n,a,u)|0;break e}else Tt(0)}if(!b)Tt(0);if(f){g=jt(e,t,n,a,u)|0;break e}if(d){g=Ut(e,t,n,a,u)|0;break e}if(p){g=Bt(e,t,n,a,u)|0;break e}switch(r|0){case 5:case 12:case 13:case 14:{g=Ht(e,t,n,a,u)|0;break e}default:{}}if(w){g=Gt(e,t,n,a,u)|0;break e}if(l){g=Vt(e,t,n,a,u)|0;break e}if(y){g=Pt(e,t,n,a,u)|0;break e}if(h){g=zt(e,t,n,a,u)|0;break e}if(o){g=Ft(e,t,n,a,u)|0;break e}else Tt(0);break}default:Tt(0)}while(0);return g|0}function Jr(e,t){e=e|0;t=t|0;var n=0;if((e|0)!=0?(n=e+7062384|0,(o[n>>2]|0)==0):0){o[n>>2]=t;e=0}else e=-1;return e|0}function $r(e){e=e|0;var t=0;if((e|0)!=0?(t=e+7062384|0,(o[t>>2]|0)!=0):0){o[t>>2]=0;e=0}else e=-1;return e|0}function ei(){return ti(16,50)|0}function ti(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0;v=p;p=p+64|0;g=v+56|0;m=v+48|0;u=v+40|0;s=v+32|0;a=v+24|0;i=v+16|0;r=v+8|0;n=v;e:do if(!((e+-16|0)>>>0>48|(t|0)<1)){f=df(32)|0;if(!f){di(3,4779,n);Tt(1)}o[f>>2]=0;o[f+4>>2]=t;o[f+28>>2]=e;h=df(t<<2)|0;o[f+8>>2]=h;if(!h){di(3,4779,r);Tt(1)}n=t<<4;l=df(n)|0;o[f+12>>2]=l;if(!l){di(3,4779,i);Tt(1)}i=df(n)|0;c=f+20|0;o[c>>2]=i;if(!i){di(3,4779,a);Tt(1)}n=t<<5;a=df(n)|0;o[f+16>>2]=a;if(!a){di(3,4779,s);Tt(1)}s=df(n)|0;o[f+24>>2]=s;if(!s){di(3,4779,u);Tt(1)}a=q(e,e)|0;i=a*12|0;a=a<<2;r=0;t:while(1){if((r|0)>=(t|0)){d=f;break e}o[h+(r<<2)>>2]=0;e=r<<2;n=0;while(1){if((n|0)>=4)break;u=df(i)|0;s=n+e|0;o[l+(s<<2)>>2]=u;if(!u){n=19;break t}u=df(a)|0;o[(o[c>>2]|0)+(s<<2)>>2]=u;if(!u){n=21;break t}else n=n+1|0}r=r+1|0}if((n|0)==19){di(3,4779,m);Tt(1)}else if((n|0)==21){di(3,4779,g);Tt(1)}}else d=0;while(0);p=v;return d|0}function ni(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,s=0,u=0,c=0;if(!e)t=-1;else{i=e+4|0;a=e+8|0;s=e+12|0;u=e+20|0;n=0;while(1){if((n|0)>=(o[i>>2]|0))break;if(o[(o[a>>2]|0)+(n<<2)>>2]|0)fi(e,n)|0;r=n<<2;t=0;while(1){if((t|0)==4)break;c=t+r|0;pf(o[(o[s>>2]|0)+(c<<2)>>2]|0);pf(o[(o[u>>2]|0)+(c<<2)>>2]|0);t=t+1|0}n=n+1|0}pf(e);t=0}return t|0}function ri(e,t,n,i,s,u,c){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;u=u|0;c=c|0;var h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0;E=p;p=p+32|0;v=E+24|0;g=E+8|0;M=E;e:do if((t+-3|0)>>>0>5){o[n>>2]=-1;o[i>>2]=0;l[s>>3]=-1;h=-1}else{o[g>>2]=0;w=t+-1|0;o[g+4>>2]=q(w,t)|0;y=q(t,t)|0;o[g+8>>2]=y+-1;o[g+12>>2]=w;h=0;d=0;f=-1;while(1){if((h|0)==4)break;b=r[e+(o[g+(h<<2)>>2]|0)>>0]|0;h=h+1|0;d=(b&255)>(d&255)?b:d;f=(b&255)<(f&255)?b:f}f=f&255;h=d&255;if((h-f|0)<30){o[n>>2]=-1;o[i>>2]=0;l[s>>3]=-1;h=-2;break}m=(h+f|0)>>>1;h=0;while(1){if((h|0)==4){f=0;break}r[v+h>>0]=(a[e+(o[g+(h<<2)>>2]|0)>>0]|0)>>>0<m>>>0&1;
h=h+1|0}while(1){if((f|0)>=4){d=16;break}h=f+1|0;if((r[v+f>>0]|0)!=1){f=h;continue}if((r[v+((h|0)%4|0)>>0]|0)!=1){f=h;continue}if(!(r[v+((f+2|0)%4|0)>>0]|0)){d=15;break}else f=h}if((d|0)==15){o[i>>2]=f;b=255;h=0}else if((d|0)==16)if((f|0)==4){o[n>>2]=-1;o[i>>2]=0;l[s>>3]=-1;h=-3;break}else{b=255;h=0}while(1){if((h|0)>=(y|0))break;g=e+h|0;d=a[g>>0]|0;v=d-m|0;v=(v|0)<0?0-v|0:v;r[g>>0]=d>>>0<m>>>0&1;b=(v|0)<(b|0)?v:b;h=h+1|0}t:do switch(o[i>>2]|0){case 0:{f=0;d=0;h=0;while(1){if((f|0)>=(t|0))break t;g=(f|0)!=(w|0);v=q(f,t)|0;m=0;while(1){if((m|0)==(t|0))break;if((m|f|0)!=0?g|(m|0)!=0&(m|0)!=(w|0):0){d=hd(d|0,h|0,1)|0;d=(r[e+(m+v)>>0]|0)!=0|d;h=I}m=m+1|0}f=f+1|0}}case 1:{m=0;d=0;h=0;while(1){if((m|0)>=(t|0))break t;g=(m|0)!=0;v=(m|0)==(w|0);f=w;while(1){if((f|0)<=-1)break;i=(f|0)!=(w|0);if(g|i?!(v&((f|0)==0|i^1)):0){d=hd(d|0,h|0,1)|0;d=(r[e+((q(f,t)|0)+m)>>0]|0)!=0|d;h=I}f=f+-1|0}m=m+1|0}}case 2:{f=w;d=0;h=0;while(1){if((f|0)<=-1)break t;v=(f|0)==(w|0)|(f|0)==0;g=q(f,t)|0;m=w;while(1){if((m|0)<=-1)break;if(!(v&(m|0)==(w|0)|(m|f|0)==0)){d=hd(d|0,h|0,1)|0;d=(r[e+(m+g)>>0]|0)!=0|d;h=I}m=m+-1|0}f=f+-1|0}}case 3:{m=w;d=0;h=0;while(1){if((m|0)<=-1)break t;g=(m|0)==(w|0);v=(m|0)==0;f=0;while(1){if((f|0)>=(t|0))break;if(!(g&(f|0)==0|(f|m|0)==0|v&(f|0)==(w|0))){d=hd(d|0,h|0,1)|0;d=(r[e+((q(f,t)|0)+m)>>0]|0)!=0|d;h=I}f=f+1|0}m=m+-1|0}}default:{d=0;h=0}}while(0);l[s>>3]=(b|0)>30?1:+(b|0)/30;t:do if((u|0)==259){c=r[3859+d>>0]|0;w=c<<24>>24;u=M;o[u>>2]=w;o[u+4>>2]=((w|0)<0)<<31>>31;if(c<<24>>24<0){o[n>>2]=-1;l[s>>3]=-1;h=-4;break e}}else{f=(c|0)!=0;switch(u|0){case 515:{h=r[3731+d>>0]|0;w=h<<24>>24;u=M;o[u>>2]=w;o[u+4>>2]=((w|0)<0)<<31>>31;if(f)o[c>>2]=a[3795+d>>0];if(h<<24>>24>=0)break t;o[n>>2]=-1;l[s>>3]=-1;h=-4;break e}case 772:case 1028:{h=oi(u,d,h,0,M)|0;if((h|0)<0){o[n>>2]=-1;l[s>>3]=-1;h=-4;break e}if(!(f&(h|0)!=0))break t;o[c>>2]=h;break t}default:{c=M;o[c>>2]=d;o[c+4>>2]=h;break t}}}while(0);o[n>>2]=o[M>>2];h=0}while(0);p=E;return h|0}function ii(e,t,n,i,a,s,u){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;s=s|0;u=u|0;var c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;_=p;p=p+16|0;f=_+8|0;g=_;e:do if(!e){o[a>>2]=0;o[s>>2]=0;l[u>>3]=-1;i=-1}else{A=q(i,i)|0;x=e+8|0;v=+(i|0);switch(t|0){case 0:{E=A*3|0;M=df(A*12|0)|0;if(!M){di(3,4779,g);Tt(1)}else{d=0;m=0}while(1){if((d|0)>=(E|0))break;A=(~r[n+d>>0]&255)+m|0;d=d+1|0;m=A}c=(m|0)/(E|0)|0;i=0;t=0;while(1){if((t|0)>=(E|0))break;A=(~r[n+t>>0]&255)-c|0;o[M+(t<<2)>>2]=A;i=(q(A,A)|0)+i|0;t=t+1|0}w=+j(+ +(i|0));if(w/(v*1.7320508)<15){o[a>>2]=0;o[s>>2]=0;l[u>>3]=-1;pf(M);i=-2;break e}y=o[e>>2]|0;b=e+12|0;e=e+16|0;v=0;n=0;i=-1;h=-1;t=-1;while(1){if((n|0)>=(y|0))break;c=o[x>>2]|0;t:while(1){i=i+1|0;switch(o[c+(i<<2)>>2]|0){case 0:break;case 2:{c=h;break t}default:{T=17;break t}}}t:do if((T|0)==17){T=0;g=i<<2;m=0;c=h;while(1){if((m|0)==4)break t;d=m+g|0;h=0;f=0;while(1){if((f|0)>=(E|0))break;h=(q(o[(o[(o[b>>2]|0)+(d<<2)>>2]|0)+(f<<2)>>2]|0,o[M+(f<<2)>>2]|0)|0)+h|0;f=f+1|0}k=+(h|0)/+l[(o[e>>2]|0)+(d<<3)>>3]/w;d=k>v;A=d?m:t;m=m+1|0;v=d?k:v;c=d?i:c;t=A}}while(0);n=n+1|0;h=c}o[s>>2]=t;o[a>>2]=h;l[u>>3]=v;pf(M);i=0;break e}case 1:{M=df(A<<2)|0;if(!M){di(3,4779,f);Tt(1)}else{c=0;h=0}while(1){if((h|0)>=(A|0))break;c=(~r[n+h>>0]&255)+c|0;h=h+1|0}c=(c|0)/(A|0)|0;i=0;t=0;while(1){if((t|0)>=(A|0))break;E=(~r[n+t>>0]&255)-c|0;o[M+(t<<2)>>2]=E;i=(q(E,E)|0)+i|0;t=t+1|0}w=+j(+ +(i|0));if(w/v<15){o[a>>2]=0;o[s>>2]=0;l[u>>3]=-1;pf(M);i=-2;break e}y=o[e>>2]|0;b=e+20|0;e=e+24|0;n=0;i=-1;v=0;h=-1;t=-1;while(1){if((n|0)>=(y|0))break;c=o[x>>2]|0;t:while(1){i=i+1|0;switch(o[c+(i<<2)>>2]|0){case 0:break;case 2:{c=h;break t}default:{T=38;break t}}}t:do if((T|0)==38){T=0;g=i<<2;m=0;c=h;while(1){if((m|0)==4)break t;d=m+g|0;h=0;f=0;while(1){if((f|0)>=(A|0))break;h=(q(o[(o[(o[b>>2]|0)+(d<<2)>>2]|0)+(f<<2)>>2]|0,o[M+(f<<2)>>2]|0)|0)+h|0;f=f+1|0}k=+(h|0)/+l[(o[e>>2]|0)+(d<<3)>>3]/w;d=k>v;E=d?m:t;m=m+1|0;v=d?k:v;c=d?i:c;t=E}}while(0);n=n+1|0;h=c}o[s>>2]=t;o[a>>2]=h;l[u>>3]=v;pf(M);i=0;break e}default:{i=-1;break e}}}while(0);p=_;return i|0}function oi(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var u=0,c=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,O=0;O=p;p=p+2320|0;l=O+2304|0;x=O+864|0;E=O+784|0;C=O+704|0;A=O+624|0;b=O+548|0;D=O+40|0;N=O;switch(e|0){case 772:{u=9;c=1;h=3;break}case 1028:{u=5;c=2;h=3;break}case 2830:{y=1056;_=488;L=120;k=127;S=i;T=64;v=9;h=6;break}default:e=-1}e:do if((h|0)==3){i=0;e=n;while(1){if((i|0)==13){y=1568;_=996;L=13;k=15;S=l;T=u;v=c;h=6;break e}r[l+i>>0]=t&1;L=dd(t|0,e|0,1)|0;i=i+1|0;t=L;e=I}}while(0);e:do if((h|0)==6){g=v<<1;t=0;n=1;while(1){if((n|0)>(g|0))break;u=b+(n<<2)|0;o[u>>2]=0;i=0;e=0;while(1){if((i|0)>=(L|0))break;if(r[S+i>>0]|0){e=e^o[_+(((q(i,n)|0)%(k|0)|0)<<2)>>2];o[u>>2]=e}i=i+1|0}o[u>>2]=o[y+(e<<2)>>2];t=(e|0)==0?t:1;n=n+1|0}M=(t|0)!=0;t:do if(M){o[E>>2]=0;t=o[b+4>>2]|0;o[E+4>>2]=t;o[x>>2]=0;o[x+72>>2]=1;e=1;while(1){if((e|0)>=(g|0))break;o[x+(e<<2)>>2]=-1;o[x+72+(e<<2)>>2]=0;e=e+1|0}o[C>>2]=0;o[C+4>>2]=0;o[A>>2]=-1;o[A+4>>2]=0;m=0;d=0;while(1){e=m;m=m+1|0;c=e+2|0;l=C+(c<<2)|0;n:do if((t|0)==-1){o[l>>2]=d;e=0;while(1){if((e|0)>(d|0)){f=d;break n}f=x+(m*72|0)+(e<<2)|0;h=o[f>>2]|0;o[x+(c*72|0)+(e<<2)>>2]=h;o[f>>2]=o[y+(h<<2)>>2];e=e+1|0}}else{while(1){i=(e|0)>0;if(i&(o[E+(e<<2)>>2]|0)==-1)e=e+-1|0;else break}if(i){i=e;n=e;while(1){u=n;n=n+-1|0;if((o[E+(n<<2)>>2]|0)==-1)e=i;else e=(o[A+(i<<2)>>2]|0)<(o[A+(n<<2)>>2]|0)?n:i;if((u|0)<=1)break;else i=e}}n=C+(e<<2)|0;h=m-e|0;f=h+(o[n>>2]|0)|0;f=(d|0)>(f|0)?d:f;o[l>>2]=f;i=0;while(1){if((i|0)>=(g|0))break;o[x+(c*72|0)+(i<<2)>>2]=0;i=i+1|0}l=o[n>>2]|0;i=t+k|0;n=E+(e<<2)|0;t=0;while(1){if((t|0)>(l|0)){e=0;break}u=o[x+(e*72|0)+(t<<2)>>2]|0;if((u|0)!=-1)o[x+(c*72|0)+(h+t<<2)>>2]=o[_+(((i+u-(o[n>>2]|0)|0)%(k|0)|0)<<2)>>2];t=t+1|0}while(1){if((e|0)>(d|0))break n;h=x+(m*72|0)+(e<<2)|0;l=o[h>>2]|0;u=x+(c*72|0)+(e<<2)|0;o[u>>2]=o[u>>2]^l;o[h>>2]=o[y+(l<<2)>>2];e=e+1|0}}while(0);o[A+(c<<2)>>2]=m-f;if((m|0)>=(g|0))break;e=o[b+(c<<2)>>2]|0;if((e|0)==-1)e=0;else e=o[_+(e<<2)>>2]|0;n=E+(c<<2)|0;o[n>>2]=e;i=1;while(1){if((i|0)>(f|0))break;t=o[b+(c-i<<2)>>2]|0;if((t|0)!=-1?(w=o[x+(c*72|0)+(i<<2)>>2]|0,(w|0)!=0):0){e=e^o[_+((((o[y+(w<<2)>>2]|0)+t|0)%(k|0)|0)<<2)>>2];o[n>>2]=e}i=i+1|0}t=o[y+(e<<2)>>2]|0;o[n>>2]=t;if((f|0)>(v|0)){e=-1;break e}else d=f}if((f|0)>(v|0)){e=-1;break e}else e=0;while(1){if((e|0)>(f|0)){e=1;break}A=x+(c*72|0)+(e<<2)|0;o[A>>2]=o[y+(o[A>>2]<<2)>>2];e=e+1|0}while(1){if((e|0)>(f|0)){e=0;l=1;break}o[N+(e<<2)>>2]=o[x+(c*72|0)+(e<<2)>>2];e=e+1|0}while(1){if((k|0)<(l|0))break;else{u=1;t=1}while(1){if((u|0)>(f|0))break;i=N+(u<<2)|0;n=o[i>>2]|0;if((n|0)!=-1){x=(n+u|0)%(k|0)|0;o[i>>2]=x;t=o[_+(x<<2)>>2]^t}u=u+1|0}if(!t){o[D+(e<<2)>>2]=k-l;e=e+1|0}l=l+1|0}if((e|0)==(f|0))e=0;else{e=-1;break e}while(1){if((e|0)>=(f|0))break t;N=S+(o[D+(e<<2)>>2]|0)|0;r[N>>0]=r[N>>0]^1;e=e+1|0}}else c=0;while(0);e=s;o[e>>2]=0;o[e+4>>2]=0;e=L-T|0;t=1;i=0;n=0;u=0;while(1){if((e|0)>=(L|0))break;N=bd(a[S+e>>0]|0,0,t|0,i|0)|0;N=fd(N|0,I|0,n|0,u|0)|0;D=I;k=s;o[k>>2]=N;o[k+4>>2]=D;k=hd(t|0,i|0,1)|0;e=e+1|0;t=k;i=I;n=N;u=D}if(M)e=o[C+(c<<2)>>2]|0;else e=0}while(0);p=O;return e|0}function ai(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0;i=yi(8,8)|0;a=yi(8,1)|0;s=yi(8,1)|0;r=0;while(1){if((r|0)==4)break;p=e+(r<<4)|0;u=o[i>>2]|0;c=r<<4;l[u+(c<<3)>>3]=+l[p>>3];d=e+(r<<4)+8|0;l[u+((c|1)<<3)>>3]=+l[d>>3];l[u+((c|2)<<3)>>3]=1;l[u+((c|3)<<3)>>3]=0;l[u+((c|4)<<3)>>3]=0;l[u+((c|5)<<3)>>3]=0;f=t+(r<<4)|0;l[u+((c|6)<<3)>>3]=-(+l[p>>3]*+l[f>>3]);l[u+((c|7)<<3)>>3]=-(+l[d>>3]*+l[f>>3]);l[u+((c|8)<<3)>>3]=0;l[u+((c|9)<<3)>>3]=0;l[u+((c|10)<<3)>>3]=0;l[u+((c|11)<<3)>>3]=+l[p>>3];l[u+((c|12)<<3)>>3]=+l[d>>3];l[u+((c|13)<<3)>>3]=1;h=t+(r<<4)+8|0;l[u+((c|14)<<3)>>3]=-(+l[p>>3]*+l[h>>3]);l[u+((c|15)<<3)>>3]=-(+l[d>>3]*+l[h>>3]);c=o[a>>2]|0;u=r<<1;l[c+(u<<3)>>3]=+l[f>>3];l[c+((u|1)<<3)>>3]=+l[h>>3];r=r+1|0}Ii(i)|0;xi(s,i,a)|0;e=o[s>>2]|0;r=0;while(1){if((r|0)==2)break;p=r*3|0;l[n+(r*24|0)>>3]=+l[e+(p<<3)>>3];l[n+(r*24|0)+8>>3]=+l[e+(p+1<<3)>>3];l[n+(r*24|0)+16>>3]=+l[e+(p+2<<3)>>3];r=r+1|0}l[n+48>>3]=+l[e+48>>3];l[n+56>>3]=+l[e+56>>3];l[n+64>>3]=1;Ai(i)|0;Ai(a)|0;Ai(s)|0;return}function si(e,t,n,r,i,a,s,u,c,l,h,f,d,m,g,v,y,b,w){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;s=s|0;u=u|0;c=c|0;l=+l;h=h|0;f=f|0;d=d|0;m=m|0;g=g|0;v=v|0;y=y|0;b=b|0;w=w|0;var M=0,E=0,A=0,x=0;x=p;p=p+12304|0;A=x+8|0;M=x;do if((n+-2|0)>>>0<3){E=(w|0)!=0;if((y|0)!=2830){M=y&255;if((ui(t,2,M,M*3|0,r,i,a,s,u,c,l,A)|0)<0){o[m>>2]=-1;y=-6;break}M=ri(A,M,m,g,v,y,b)|0;if(!E){y=M;break}y=w;o[y>>2]=0;o[y+4>>2]=0;y=M;break}if((ui(t,2,14,42,r,i,a,s,u,c,.875,A)|0)<0){o[m>>2]=-1;y=-6;break}y=ci(A,M,g,v,b)|0;if((y|0)<0){o[m>>2]=-1;break}g=M;M=o[g>>2]|0;g=o[g+4>>2]|0;if((M|0)==-1&(g|0)==-1){o[m>>2]=-1;y=-5;break}o[m>>2]=(M&-32768|0)==0&0==0?M&32767:0;if(E){E=w;o[E>>2]=M;o[E+4>>2]=g}}else y=1;while(0);e:do switch(n|0){case 0:case 1:case 3:case 4:{if(!e){o[h>>2]=-1;M=-1;break e}M=e+28|0;g=o[M>>2]|0;v=g<<2;switch(n|0){case 0:case 3:if((ui(t,0,g,v,r,i,a,s,u,c,l,A)|0)<0){o[h>>2]=-1;M=-6;break e}else{M=ii(e,0,A,o[M>>2]|0,h,f,d)|0;break e}default:if((ui(t,1,g,v,r,i,a,s,u,c,l,A)|0)<0){o[h>>2]=-1;M=-6;break e}else{M=ii(e,1,A,o[M>>2]|0,h,f,d)|0;break e}}}default:M=1}while(0);if((y|0)!=1)M=(M|0)==1?y:(M&y|0)<0?M:0;p=x;return M|0}function ui(e,t,n,i,s,u,h,f,d,m,g,v){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;u=u|0;h=h|0;f=f|0;d=d|0;m=m|0;g=+g;v=v|0;var y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0,O=0,R=0,j=0,P=0,U=0,F=0,z=0,B=0,H=0,V=0,G=0,Y=0,Q=0,W=0,X=0,K=0,Z=0,J=0,$=0,ee=0,te=0;Z=p;p=p+240|0;T=Z+224|0;x=Z+216|0;k=Z+208|0;_=Z+200|0;b=Z+136|0;w=Z+72|0;Q=Z;W=Z+232|0;X=Z+228|0;l[b>>3]=100;l[b+8>>3]=100;l[b+16>>3]=110;l[b+24>>3]=100;l[b+32>>3]=110;l[b+40>>3]=110;l[b+48>>3]=100;l[b+56>>3]=110;y=0;while(1){if((y|0)==4)break;l[w+(y<<4)>>3]=+l[m+(y<<4)>>3];l[w+(y<<4)+8>>3]=+l[m+(y<<4)+8>>3];y=y+1|0}ai(b,w,Q);B=+l[w>>3];$=+l[w+16>>3];N=B-$;V=+l[w+8>>3];J=+l[w+24>>3];M=V-J;y=~~(N*N+M*M);M=+l[w+32>>3];N=+l[w+48>>3];te=M-N;A=+l[w+40>>3];O=+l[w+56>>3];ee=A-O;G=~~(te*te+ee*ee);M=$-M;A=J-A;w=~~(M*M+A*A);B=N-B;V=O-V;Y=~~(B*B+V*V);y=~~(+(((G|0)>(y|0)?G:y)|0)*g*g);w=~~(+(((Y|0)>(w|0)?Y:w)|0)*g*g);if(!e){b=n;while(1)if((b|0)<(i|0)&(q(b,b)|0)<(y|0))b=b<<1;else{y=n;break}while(1)if((y|0)<(i|0)&(q(y,y)|0)<(w|0))y=y<<1;else break}else{b=n;while(1)if((b|0)<(i|0)&(q(b<<2,b)|0)<(y|0))b=b<<1;else{y=n;break}while(1)if((y|0)<(i|0)&(q(y<<2,y)|0)<(w|0))y=y<<1;else break}G=(b|0)>(i|0)?i:b;U=(y|0)>(i|0)?i:y;F=(G|0)/(n|0)|0;z=(U|0)/(n|0)|0;B=g*10;S=q(n,n)|0;H=Q+16|0;m=(f|0)==7;i=(f|0)==9;V=+(U|0);Y=q(z,F)|0;E=(f|0)==8;N=(1-g)*.5*10+100;L=Q+8|0;b=(f|0)==10;D=Q+40|0;C=Q+56|0;I=Q+64|0;w=(f|0)==11;O=+(G|0);R=Q+32|0;j=Q+24|0;P=Q+48|0;e:do if(!t){t=S*3|0;y=mf(t,4)|0;if(!y){di(3,4779,_);Tt(1)}t:do switch(f|0){case 0:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=((q(b,u)|0)+w|0)*3|0;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f+2)>>0]|0);e=y+(S+1<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f+1)>>0]|0);S=y+(S+2<<2)|0;o[S>>2]=(o[S>>2]|0)+(a[s+f>>0]|0)}i=i+1|0}m=m+1|0}}case 1:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=((q(b,u)|0)+w|0)*3|0;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+f>>0]|0);e=y+(S+1<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f+1)>>0]|0);S=y+(S+2<<2)|0;o[S>>2]=(o[S>>2]|0)+(a[s+(f+2)>>0]|0)}i=i+1|0}m=m+1|0}}case 2:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=(q(b,u)|0)+w<<2;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f|2)>>0]|0);e=y+(S+1<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f|1)>>0]|0);S=y+(S+2<<2)|0;o[S>>2]=(o[S>>2]|0)+(a[s+f>>0]|0)}i=i+1|0}m=m+1|0}}case 3:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=(q(b,u)|0)+w<<2;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+f>>0]|0);e=y+(S+1<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f|1)>>0]|0);S=y+(S+2<<2)|0;o[S>>2]=(o[S>>2]|0)+(a[s+(f|2)>>0]|0)}i=i+1|0}m=m+1|0}}case 4:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=(q(b,u)|0)+w<<2;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f|1)>>0]|0);e=y+(S+1<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f|2)>>0]|0);S=y+(S+2<<2)|0;o[S>>2]=(o[S>>2]|0)+(a[s+(f|3)>>0]|0)}i=i+1|0}m=m+1|0}}case 5:case 12:case 13:case 14:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=a[s+((q(b,u)|0)+w)>>0]|0;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+f;e=y+(S+1<<2)|0;o[e>>2]=(o[e>>2]|0)+f;S=y+(S+2<<2)|0;o[S>>2]=(o[S>>2]|0)+f}i=i+1|0}m=m+1|0}}case 6:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=(q(b,u)|0)+w<<2;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f|3)>>0]|0);e=y+(S+1<<2)|0;o[e>>2]=(o[e>>2]|0)+(a[s+(f|2)>>0]|0);S=y+(S+2<<2)|0;o[S>>2]=(o[S>>2]|0)+(a[s+(f|1)>>0]|0)}i=i+1|0}m=m+1|0}}default:{if(m){E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){_=q(b,u)|0;k=(w&65534)+_<<1;$=+((a[s+k>>0]|0)+-128|0);te=+((a[s+(k+2)>>0]|0)+-128|0);ee=+((a[s+(_+w<<1|1)>>0]|0)+-16|0)*298.0820007324219;_=~~($*516.4110107421875+ee)>>8;k=~~(ee-$*100.29100036621094-te*208.1199951171875)>>8;f=~~(ee+te*408.5830078125)>>8;_=(_|0)>0?_:0;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=((_|0)<255?_:255)+(o[e>>2]|0);k=(k|0)>0?k:0;e=y+(S+1<<2)|0;o[e>>2]=((k|0)<255?k:255)+(o[e>>2]|0);f=(f|0)>0?f:0;S=y+(S+2<<2)|0;o[S>>2]=((f|0)<255?f:255)+(o[S>>2]|0)}i=i+1|0}m=m+1|0}}if(E){E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){_=q(b,u)|0;k=(w&65534)+_<<1;$=+((a[s+(k|1)>>0]|0)+-128|0);te=+((a[s+(k+3)>>0]|0)+-128|0);ee=+((a[s+(_+w<<1)>>0]|0)+-16|0)*298.0820007324219;_=~~(ee+$*516.4110107421875)>>8;k=~~(ee-$*100.29100036621094-te*208.1199951171875)>>8;f=~~(ee+te*408.5830078125)>>8;_=(_|0)>0?_:0;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=((_|0)<255?_:255)+(o[e>>2]|0);k=(k|0)>0?k:0;e=y+(S+1<<2)|0;o[e>>2]=((k|0)<255?k:255)+(o[e>>2]|0);f=(f|0)>0?f:0;S=y+(S+2<<2)|0;o[S>>2]=((f|0)<255?f:255)+(o[S>>2]|0)}i=i+1|0}m=m+1|0}}if(i){E=(e|0)==1;i=0;while(1){if((i|0)>=(U|0)){b=0;break t}A=N+B*(+(i|0)+.5)/V;m=0;while(1){if((m|0)>=(G|0))break;g=N+B*(+(m|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=(q(b,u)|0)+w<<1;k=r[s+(f|1)>>0]|0;S=((q((i|0)/(z|0)|0,n)|0)+((m|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+((k<<3&255|4)&255);f=r[s+f>>0]|0;e=y+(S+1<<2)|0;o[e>>2]=((f<<5&255|2)&255|(k&-32&255)>>>3)+(o[e>>2]|0);S=y+(S+2<<2)|0;o[S>>2]=((f&-8|4)&255)+(o[S>>2]|0)}m=m+1|0}i=i+1|0}}if(b){E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=(q(b,u)|0)+w<<1;k=r[s+(f|1)>>0]|0;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+((k<<2&255|4)&255);f=r[s+f>>0]|0;e=y+(S+1<<2)|0;o[e>>2]=((f<<5&255|4)&255|(k&-64&255)>>>3)+(o[e>>2]|0);S=y+(S+2<<2)|0;o[S>>2]=((f&-8|4)&255)+(o[S>>2]|0)}i=i+1|0}m=m+1|0}}if(!w){di(3,3923,k);K=309;break e}E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){f=(q(b,u)|0)+w<<1;S=((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)|0)*3|0;e=y+(S<<2)|0;o[e>>2]=(o[e>>2]|0)+((r[s+(f|1)>>0]&-16|8)&255);f=r[s+f>>0]|0;e=y+(S+1<<2)|0;o[e>>2]=((f<<4&255|8)&255)+(o[e>>2]|0);S=y+(S+2<<2)|0;o[S>>2]=((f&-16|8)&255)+(o[S>>2]|0)}i=i+1|0}m=m+1|0}}}while(0);while(1){if((b|0)>=(t|0))break;r[v+b>>0]=((o[y+(b<<2)>>2]|0)>>>0)/(Y>>>0)|0;b=b+1|0}pf(y);y=0}else{y=mf(S,4)|0;if(!y){di(3,4779,x);Tt(1)}t:do switch(f|1|0){case 1:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=((q(b,u)|0)+w|0)*3|0;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=(o[f>>2]|0)+((((a[s+(e+1)>>0]|0)+(a[s+e>>0]|0)+(a[s+(e+2)>>0]|0)|0)>>>0)/3|0)}i=i+1|0}m=m+1|0}}case 3:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=(q(b,u)|0)+w<<2;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=(o[f>>2]|0)+((((a[s+(e|1)>>0]|0)+(a[s+e>>0]|0)+(a[s+(e|2)>>0]|0)|0)>>>0)/3|0)}i=i+1|0}m=m+1|0}}default:{if((f|2|0)==6){E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=(q(b,u)|0)+w<<2;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=(o[f>>2]|0)+((((a[s+(e|2)>>0]|0)+(a[s+(e|1)>>0]|0)+(a[s+(e|3)>>0]|0)|0)>>>0)/3|0)}i=i+1|0}m=m+1|0}}switch(f|0){case 5:case 12:case 13:case 14:{E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=a[s+((q(b,u)|0)+w)>>0]|0;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=(o[f>>2]|0)+e}i=i+1|0}m=m+1|0}}default:{}}if(m){E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=a[s+((q(b,u)|0)+w<<1|1)>>0]|0;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=(o[f>>2]|0)+e}i=i+1|0}m=m+1|0}}if(E){E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=a[s+((q(b,u)|0)+w<<1)>>0]|0;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=(o[f>>2]|0)+e}i=i+1|0}m=m+1|0}}if(i){E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=(q(b,u)|0)+w<<1;k=a[s+e>>0]|0;e=a[s+(e|1)>>0]|0;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=((((e<<3&248|4)+(k&248|4)+(k<<5&224|e>>>3&28|2)|0)>>>0)/3|0)+(o[f>>2]|0)}i=i+1|0}m=m+1|0}}if(b){E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=(q(b,u)|0)+w<<1;k=a[s+e>>0]|0;e=a[s+(e|1)>>0]|0;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=((((e<<2&248|4)+(k&248|4)+(k<<5&224|e>>>3&24|4)|0)>>>0)/3|0)+(o[f>>2]|0)}i=i+1|0}m=m+1|0}}if(!w){di(3,3923,T);K=309;break e}E=(e|0)==1;m=0;while(1){if((m|0)>=(U|0)){b=0;break t}A=N+B*(+(m|0)+.5)/V;i=0;while(1){if((i|0)>=(G|0))break;g=N+B*(+(i|0)+.5)/O;M=+l[I>>3]+(g*+l[P>>3]+A*+l[C>>3]);if(M==0){K=309;break e}te=(+l[H>>3]+(g*+l[Q>>3]+A*+l[L>>3]))/M;c[W>>2]=te;g=(+l[D>>3]+(g*+l[j>>3]+A*+l[R>>3]))/M;c[X>>2]=g;qi(d,te,g,W,X)|0;g=+c[W>>2];M=+c[X>>2];if(E){w=((~~(g+1)|0)/2|0)<<1;b=((~~(M+1)|0)/2|0)<<1}else{w=~~(g+.5);b=~~(M+.5)}if((w|0)>-1?(b|0)<(h|0)&((b|0)>-1&(w|0)<(u|0)):0){e=(q(b,u)|0)+w<<1;k=a[s+e>>0]|0;f=y+((q((m|0)/(z|0)|0,n)|0)+((i|0)/(F|0)|0)<<2)|0;o[f>>2]=((((k<<4&240|8)+(k&240|8)+((r[s+(e|1)>>0]&-16|8)&255)|0)>>>0)/3|0)+(o[f>>2]|0)}i=i+1|0}m=m+1|0}}}while(0);while(1){if((b|0)>=(S|0))break;r[v+b>>0]=((o[y+(b<<2)>>2]|0)>>>0)/(Y>>>0)|0;b=b+1|0}pf(y);y=0}while(0);if((K|0)==309){pf(y);y=-1}p=Z;return y|0}function ci(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0;S=p;p=p+160|0;m=S+152|0;d=S+8|0;k=S;_=S+24|0;o[d>>2]=0;o[d+4>>2]=182;o[d+8>>2]=195;o[d+12>>2]=13;u=0;f=0;h=-1;while(1){if((u|0)==4)break;T=r[e+(o[d+(u<<2)>>2]|0)>>0]|0;u=u+1|0;f=(T&255)>(f&255)?T:f;h=(T&255)<(h&255)?T:h}h=h&255;u=f&255;e:do if((u-h|0)>=30){T=(u+h|0)>>>1;u=0;while(1){if((u|0)==4){x=0;break}r[m+u>>0]=(a[e+(o[d+(u<<2)>>2]|0)>>0]|0)>>>0<T>>>0&1;u=u+1|0}while(1){if((x|0)>=4)break;u=x+1|0;if((r[m+x>>0]|0)!=1){x=u;continue}if((r[m+((u|0)%4|0)>>0]|0)!=1){x=u;continue}if(!(r[m+((x+2|0)%4|0)>>0]|0))break;else x=u}t:do switch(x|0){case 4:{o[n>>2]=0;l[i>>3]=-1;u=-3;break e}case 0:{h=119;d=0;u=255;while(1){if((d|0)==14){g=52;break t}m=d+-3|0;g=(d&-2|0)!=12;v=d*14|0;f=0;while(1){if((f|0)==14)break;if(((f+-3|m)>>>0>=8?(M=f&-2,(f|d)>>>0>=2):0)?g|(M|0)!=0&(M|0)!=12:0){A=(a[e+(f+v)>>0]|0)-T|0;r[_+h>>0]=A>>>31;A=(A|0)>-1?A:0-A|0;h=h+-1|0;u=(A|0)<(u|0)?A:u}f=f+1|0}d=d+1|0}}case 1:{h=119;u=255;d=0;while(1){if((d|0)==14){g=52;break t}m=d+-3|0;v=d&-2;g=(v|0)!=0;v=(v|0)==12;f=13;while(1){if((f|0)<=-1)break;if(((f+-3|m)>>>0>=8?(E=f&-2,y=(E|0)!=12,g|y):0)?!(v&((E|0)==0|y^1)):0){A=(a[e+((f*14|0)+d)>>0]|0)-T|0;r[_+h>>0]=A>>>31;A=(A|0)>-1?A:0-A|0;h=h+-1|0;u=(A|0)<(u|0)?A:u}f=f+-1|0}d=d+1|0}}case 2:{f=13;h=119;u=255;while(1){if((f|0)<=-1){g=52;break t}d=f+-3|0;g=f&-2;v=(g|0)==12;g=(g|0)!=0;y=f*14|0;m=13;while(1){if((m|0)<=-1)break;if(((m+-3|d)>>>0>=8?(A=(m&-2|0)==12,!(v&A)):0)?(m|f)>>>0>1&(g|A^1):0){E=(a[e+(m+y)>>0]|0)-T|0;r[_+h>>0]=E>>>31;E=(E|0)>-1?E:0-E|0;h=h+-1|0;u=(E|0)<(u|0)?E:u}m=m+-1|0}f=f+-1|0}}case 3:{d=13;h=119;u=255;while(1){if((d|0)<=-1){g=52;break t}m=d+-3|0;v=d&-2;g=(v|0)!=12;v=(v|0)==0;f=0;while(1){if((f|0)==14)break;if(((f+-3|m)>>>0>=8?(w=f&-2,b=(w|0)!=0,g|b):0)?!(v&((w|0)==12|b^1)):0){A=(a[e+((f*14|0)+d)>>0]|0)-T|0;r[_+h>>0]=A>>>31;A=(A|0)>-1?A:0-A|0;h=h+-1|0;u=(A|0)<(u|0)?A:u}f=f+1|0}d=d+-1|0}}default:{o[n>>2]=x;c=1}}while(0);if((g|0)==52){o[n>>2]=x;c=(u|0)>30?1:+(u|0)/30}l[i>>3]=c;u=oi(2830,0,0,_,k)|0;if((u|0)<0)u=-4;else{if(s|0)o[s>>2]=u;s=k;k=o[s+4>>2]|0;u=t;o[u>>2]=o[s>>2];o[u+4>>2]=k;u=0}}else{o[n>>2]=0;l[i>>3]=-1;u=-2}while(0);p=S;return u|0}function li(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0;_=p;p=p+32|0;T=_+24|0;i=_+16|0;n=_+8|0;do if(e){if(!t){di(3,3982,n);n=-1;break}x=e+8|0;r=o[e+4>>2]|0;n=0;while(1){if((n|0)>=(r|0))break;if(!(o[(o[x>>2]|0)+(n<<2)>>2]|0))break;n=n+1|0}if((n|0)!=(r|0)){A=xh(t)|0;if(!A){di(3,4027,i);n=-1;break}g=e+28|0;v=e+12|0;y=n<<2;b=e+20|0;w=e+16|0;M=e+24|0;r=ff(A,4050)|0;m=0;e:while(1){if((m|0)>=4){r=35;break}E=m+y|0;t=0;d=0;while(1){if((d|0)>=3)break;h=(d|0)==0;f=(d|0)==2;c=0;i=o[g>>2]|0;while(1){if((c|0)<(i|0))u=0;else break;while(1){if((u|0)>=(i|0))break;if(!r){r=20;break e}i=cf(r)|0;r=ff(0,4050)|0;i=255-i|0;o[(o[(o[v>>2]|0)+(E<<2)>>2]|0)+((((q(o[g>>2]|0,c)|0)+u|0)*3|0)+d<<2)>>2]=i;a=o[(o[b>>2]|0)+(E<<2)>>2]|0;s=a+((q(o[g>>2]|0,c)|0)+u<<2)|0;if(!h){o[s>>2]=(o[s>>2]|0)+i;if(f){s=a+((q(o[g>>2]|0,c)|0)+u<<2)|0;o[s>>2]=(o[s>>2]|0)/3|0}}else o[s>>2]=i;u=u+1|0;t=i+t|0;i=o[g>>2]|0}c=c+1|0}d=d+1|0}s=o[g>>2]|0;u=(t|0)/(q(s*3|0,s)|0)|0;t=0;i=0;while(1){if((i|0)>=(q(s*3|0,s)|0))break;d=(o[(o[v>>2]|0)+(E<<2)>>2]|0)+(i<<2)|0;s=(o[d>>2]|0)-u|0;o[d>>2]=s;s=(q(s,s)|0)+t|0;t=s;i=i+1|0;s=o[g>>2]|0}k=+j(+ +(t|0));l[(o[w>>2]|0)+(E<<3)>>3]=k==0?1e-7:k;i=0;a=0;t=s;while(1){if((a|0)>=(q(t,t)|0))break;d=(o[(o[b>>2]|0)+(E<<2)>>2]|0)+(a<<2)|0;t=(o[d>>2]|0)-u|0;o[d>>2]=t;t=(q(t,t)|0)+i|0;i=t;a=a+1|0;t=o[g>>2]|0}k=+j(+ +(i|0));l[(o[M>>2]|0)+(E<<3)>>3]=k==0?1e-7:k;m=m+1|0}if((r|0)==20){di(3,4055,T);pf(A);n=-1;break}else if((r|0)==35){pf(A);o[(o[x>>2]|0)+(n<<2)>>2]=1;o[e>>2]=(o[e>>2]|0)+1;break}}else n=-1}else{di(3,3957,_);n=-1}while(0);p=_;return n|0}function hi(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,s=0,u=0,c=0;c=p;p=p+32|0;u=c+16|0;s=c+8|0;n=c;a=Nh(t,4162)|0;do if(a){qh(a,0,2)|0;n=sf(a)|0;qh(a,0,0)|0;i=df(n+1|0)|0;if(!i){di(3,4779,s);Rh(a)|0;n=-1;break}s=af(i,n,1,a)|0;Rh(a)|0;if(!s){o[u>>2]=t;di(3,4128,u);pf(i);n=-1;break}else{r[i+n>>0]=0;n=li(e,i)|0;pf(i);break}}else{o[n>>2]=t;di(3,4082,n);n=-1}while(0);p=c;return n|0}function fi(e,t){e=e|0;t=t|0;t=(o[e+8>>2]|0)+(t<<2)|0;if(!(o[t>>2]|0))t=-1;else{o[t>>2]=0;o[e>>2]=(o[e>>2]|0)+-1;t=1}return t|0}function di(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0;u=p;p=p+32|0;s=u+16|0;i=u;o[s>>2]=0;if((!((t|0)==0|(o[408]|0)>(e|0))?r[t>>0]|0:0)?(o[i>>2]=n,a=nf(s,t,i)|0,(a|0)>-1):0){e=o[3776]|0;do if(e){if(!(o[3777]|0)){sp[e&15](o[s>>2]|0);break}n=hl()|0;t=o[3779]|0;if((n|0)==(o[3778]|0)){if((t|0)>0){sp[o[3776]&15](o[3781]|0);o[3779]=0}sp[o[3776]&15](o[s>>2]|0);break}e=o[3780]|0;if((t|0)<(e|0)){i=(o[3781]|0)+t|0;if((a|0)<(-3-t+e|0)){Eh(i,o[s>>2]|0)|0;e=(o[3779]|0)+a|0}else{r[i>>0]=46;r[i+1>>0]=46;r[i+2>>0]=46;r[i+3>>0]=0}o[3779]=e}}else Th(o[s>>2]|0,o[499]|0)|0;while(0);pf(o[s>>2]|0)}p=u;return}function pi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,a=0,s=0;r=0;while(1){if((r|0)==3)break;o=e+(r<<5)|0;a=e+(r<<5)+8|0;s=e+(r<<5)+16|0;i=0;while(1){if((i|0)==4)break;l[n+(r<<5)+(i<<3)>>3]=+l[o>>3]*+l[t+(i<<3)>>3]+ +l[a>>3]*+l[t+32+(i<<3)>>3]+ +l[s>>3]*+l[t+64+(i<<3)>>3];i=i+1|0}s=n+(r<<5)+24|0;l[s>>3]=+l[e+(r<<5)+24>>3]+ +l[s>>3];r=r+1|0}return 0}function mi(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;a=yi(4,4)|0;n=0;while(1){if((n|0)==3)break;i=n<<2;r=0;while(1){if((r|0)==4)break;l[(o[a>>2]|0)+(r+i<<3)>>3]=+l[e+(n<<5)+(r<<3)>>3];r=r+1|0}n=n+1|0}n=o[a>>2]|0;i=n+96|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;o[i+16>>2]=0;o[i+20>>2]=0;l[n+120>>3]=1;Ii(a)|0;n=0;while(1){if((n|0)==3)break;e=n<<2;r=0;while(1){if((r|0)==4)break;l[t+(n<<5)+(r<<3)>>3]=+l[(o[a>>2]|0)+(r+e<<3)>>3];r=r+1|0}n=n+1|0}Ai(a)|0;return 0}function gi(e){e=e|0;switch(e|0){case 1:case 0:{e=3;break}case 6:case 4:case 3:case 2:{e=4;break}case 14:case 13:case 12:case 5:{e=1;break}case 11:case 10:case 9:case 8:case 7:{e=2;break}default:e=0}return e|0}function vi(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var o=0;do if((e|0)!=0&(t|0)!=0&(n|0)!=0){o=Zh(t,47)|0;if(!o)i=e;else{i=o+((i|0)!=0&1)-t|0;if((i+1|0)>>>0>n>>>0){e=0;break}$h(e,t,i)|0;i=e+i|0}r[i>>0]=0;
}else e=0;while(0);return e|0}function yi(e,t){e=e|0;t=t|0;var n=0,r=0;n=df(12)|0;do if(n){r=df(q(e<<3,t)|0)|0;o[n>>2]=r;if(!r){pf(n);n=0;break}else{o[n+4>>2]=e;o[n+8>>2]=t;break}}else n=0;while(0);return n|0}function bi(e){e=e|0;var t=0;t=yi(o[e+4>>2]|0,o[e+8>>2]|0)|0;if(t){if((Ei(t,e)|0)<0){Ai(t)|0;t=0}}else t=0;return t|0}function wi(e,t){e=e|0;t=t|0;var n=0;n=yi(o[e+4>>2]|0,o[t+8>>2]|0)|0;if(n){if((xi(n,e,t)|0)<0){Ai(n)|0;n=0}}else n=0;return n|0}function Mi(e){e=e|0;var t=0;t=yi(o[e+8>>2]|0,o[e+4>>2]|0)|0;if(t){if((Ri(t,e)|0)<0){Ai(t)|0;t=0}}else t=0;return t|0}function Ei(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0;a=o[e+4>>2]|0;e:do if((a|0)==(o[t+4>>2]|0)?(s=o[e+8>>2]|0,(s|0)==(o[t+8>>2]|0)):0){r=0;while(1){if((r|0)>=(a|0)){n=0;break e}i=q(r,s)|0;n=0;while(1){if((n|0)>=(s|0))break;u=n+i|0;l[(o[e>>2]|0)+(u<<3)>>3]=+l[(o[t>>2]|0)+(u<<3)>>3];n=n+1|0}r=r+1|0}}else n=-1;while(0);return n|0}function Ai(e){e=e|0;if(e|0){pf(o[e>>2]|0);pf(e)}return 0}function xi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0;d=o[t+8>>2]|0;e:do if(((d|0)==(o[n+4>>2]|0)?(p=o[e+4>>2]|0,(p|0)==(o[t+4>>2]|0)):0)?(f=o[e+8>>2]|0,(f|0)==(o[n+8>>2]|0)):0){e=o[e>>2]|0;c=0;while(1){if((c|0)>=(p|0)){e=0;break e}h=q(c,d)|0;u=0;while(1){if((u|0)>=(f|0))break;l[e>>3]=0;r=(o[n>>2]|0)+(u<<3)|0;i=(o[t>>2]|0)+(h<<3)|0;a=0;s=0;while(1){if((a|0)>=(d|0))break;m=s+ +l[i>>3]*+l[r>>3];l[e>>3]=m;r=r+(f<<3)|0;i=i+8|0;a=a+1|0;s=m}u=u+1|0;e=e+8|0}c=c+1|0}}else e=-1;while(0);return e|0}function Ti(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,s=0,u=0,c=0,h=0;s=o[e+4>>2]|0;u=o[e+8>>2]|0;i=(s|0)<(u|0)?s:u;e:do if(((((!((s|0)<2|(u|0)<2)?(o[t+8>>2]|0)==(u|0):0)?(o[t+4>>2]|0)==(i|0):0)?(c=n+4|0,(o[c>>2]|0)==(i|0)):0)?(o[r+4>>2]|0)==(u|0):0)?(h=bi(e)|0,(h|0)!=0):0){a=+j(+ +(s|0));if((_i(h,r)|0)<0){Ai(h)|0;e=-1;break}if((ki(h,r)|0)<0){Ai(h)|0;e=-1;break}i=q(u,s)|0;e=0;while(1){if((e|0)>=(i|0))break;u=(o[h>>2]|0)+(e<<3)|0;l[u>>3]=+l[u>>3]/a;e=e+1|0}e=Si(h,t,n)|0;Ai(h)|0;r=o[c>>2]|0;a=0;i=0;while(1){if((i|0)>=(r|0)){i=0;break}a=a+ +l[(o[n>>2]|0)+(i<<3)>>3];i=i+1|0}while(1){if((i|0)>=(r|0))break e;h=(o[n>>2]|0)+(i<<3)|0;l[h>>3]=+l[h>>3]/a;i=i+1|0}}else e=-1;while(0);return e|0}function _i(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0;u=o[e+4>>2]|0;c=o[e+8>>2]|0;e:do if(!((u|0)<1|(c|0)<1)?(o[t+4>>2]|0)==(c|0):0){n=0;while(1){if((n|0)==(c|0))break;l[(o[t>>2]|0)+(n<<3)>>3]=0;n=n+1|0}e=o[e>>2]|0;a=0;while(1){if((a|0)==(u|0))break;n=0;i=o[t>>2]|0;s=e;while(1){if((n|0)==(c|0))break;l[i>>3]=+l[s>>3]+ +l[i>>3];n=n+1|0;i=i+8|0;s=s+8|0}e=e+(c<<3)|0;a=a+1|0}r=+(u|0);n=0;while(1){if((n|0)==(c|0)){n=0;break e}u=(o[t>>2]|0)+(n<<3)|0;l[u>>3]=+l[u>>3]/r;n=n+1|0}}else n=-1;while(0);return n|0}function ki(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0;a=o[e+4>>2]|0;s=o[e+8>>2]|0;e:do if((o[t+4>>2]|0)==(s|0)){i=0;e=o[e>>2]|0;while(1){if((i|0)>=(a|0)){e=0;break e}n=0;r=o[t>>2]|0;while(1){if((n|0)>=(s|0))break;l[e>>3]=+l[e>>3]-+l[r>>3];n=n+1|0;r=r+8|0;e=e+8|0}i=i+1|0}}else e=-1;while(0);return e|0}function Si(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0;r=o[e+4>>2]|0;i=o[e+8>>2]|0;s=(i|0)<(r|0)?i:r;e:do if(((!((r|0)<2|(i|0)<2)?(o[t+8>>2]|0)==(i|0):0)?(o[t+4>>2]|0)==(s|0):0)?(o[n+4>>2]|0)==(s|0):0){a=yi(s,s)|0;if((o[a+4>>2]|0)==(s|0)?(o[a+8>>2]|0)==(s|0):0){r=(r|0)<(i|0);if(r){if((Ni(e,a)|0)<0){Ai(a)|0;r=-1;break}}else if((Li(e,a)|0)<0){Ai(a)|0;r=-1;break}if((Di(a,n)|0)<0){Ai(a)|0;r=-1;break}t:do if(r){if((Ci(e,a,t,n)|0)<0){Ai(a)|0;r=-1;break e}}else{e=0;i=o[a>>2]|0;r=o[t>>2]|0;while(1){if((e|0)>=(s|0))break;if(+l[(o[n>>2]|0)+(e<<3)>>3]<1e-16)break;else t=0;while(1){if((t|0)>=(s|0))break;l[r>>3]=+l[i>>3];t=t+1|0;i=i+8|0;r=r+8|0}e=e+1|0}while(1){if((e|0)>=(s|0))break t;l[(o[n>>2]|0)+(e<<3)>>3]=0;i=0;while(1){if((i|0)>=(s|0))break;l[r>>3]=0;i=i+1|0;r=r+8|0}e=e+1|0}}while(0);Ai(a)|0;r=0;break}Ai(a)|0;r=-1}else r=-1;while(0);return r|0}function Ni(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0;d=o[e+4>>2]|0;p=o[e+8>>2]|0;e:do if((o[t+4>>2]|0)==(d|0)?(o[t+8>>2]|0)==(d|0):0){c=o[t>>2]|0;r=0;a=c;while(1){if((r|0)>=(d|0)){t=0;break e}h=q(r,p)|0;n=0;u=a;while(1){if((n|0)==(d|0))break;t:do if((n|0)<(r|0))l[u>>3]=+l[c+((q(n,d)|0)+r<<3)>>3];else{i=o[e>>2]|0;s=i+((q(n,p)|0)<<3)|0;l[u>>3]=0;t=0;i=i+(h<<3)|0;f=0;while(1){if((t|0)>=(p|0))break t;m=f+ +l[i>>3]*+l[s>>3];l[u>>3]=m;t=t+1|0;i=i+8|0;s=s+8|0;f=m}}while(0);n=n+1|0;u=u+8|0}r=r+1|0;a=a+(d<<3)|0}}else t=-1;while(0);return t|0}function Li(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0;f=o[e+4>>2]|0;d=o[e+8>>2]|0;e:do if((o[t+4>>2]|0)==(d|0)?(o[t+8>>2]|0)==(d|0):0){c=o[t>>2]|0;r=0;a=c;while(1){if((r|0)<(d|0)){n=0;u=a}else{t=0;break e}while(1){if((n|0)==(d|0))break;t:do if((n|0)<(r|0))l[u>>3]=+l[c+((q(n,d)|0)+r<<3)>>3];else{s=o[e>>2]|0;l[u>>3]=0;t=0;i=s+(r<<3)|0;s=s+(n<<3)|0;h=0;while(1){if((t|0)>=(f|0))break t;p=h+ +l[i>>3]*+l[s>>3];l[u>>3]=p;t=t+1|0;i=i+(d<<3)|0;s=s+(d<<3)|0;h=p}}while(0);n=n+1|0;u=u+8|0}r=r+1|0;a=a+(d<<3)|0}}else t=-1;while(0);return t|0}function Di(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0,O=0;L=p;p=p+16|0;n=L;N=o[e+4>>2]|0;do if((!((N|0)<2?1:(N|0)!=(o[e+8>>2]|0))?(o[t+4>>2]|0)==(N|0):0)?(k=Ki(N)|0,(k|0)!=0):0){S=N+-1|0;o[n+4>>2]=S;o[n>>2]=(o[k>>2]|0)+8;if((eo(e,t,n)|0)<0){Zi(k)|0;n=-1;break}_=o[k>>2]|0;l[_>>3]=0;x=S;e:while(1){if((x|0)>0)T=x;else{n=0;break}while(1){if((T|0)<=0)break;m=+R(+ +l[_+(T<<3)>>3]);A=o[t>>2]|0;n=T+-1|0;g=+R(+ +l[A+(n<<3)>>3]);if(m>(g+ +R(+ +l[A+(T<<3)>>3]))*1e-6)T=n;else break}w=x+-1|0;if((T|0)==(x|0)){x=w;continue}M=_+(x<<3)|0;E=_+(T+1<<3)|0;n=0;while(1){A=n+1|0;if((n|0)>99){x=w;continue e}v=o[t>>2]|0;y=v+(w<<3)|0;b=v+(x<<3)|0;u=+l[b>>3];d=(+l[y>>3]-u)*.5;f=+l[M>>3];f=f*f;g=+j(+(f+d*d));h=T;m=+l[E>>3];g=+l[v+(T<<3)>>3]-u+f/(d+(d<0?-g:g));while(1){if((h|0)>=(x|0))break;a=+R(+g);if(a>=+R(+m)){u=-m/g;if(a>1e-16){f=1/+j(+(u*u+1));d=f;f=u*f}else{d=1;f=0}}else{d=-g/m;f=1/+j(+(d*d+1));d=d*f}i=v+(h<<3)|0;C=+l[i>>3];s=h+1|0;n=v+(s<<3)|0;D=+l[n>>3];a=C-D;c=_+(s<<3)|0;u=f*(f*a+d*2*+l[c>>3]);l[i>>3]=C-u;l[n>>3]=D+u;n=_+(h<<3)|0;if((h|0)>(T|0))l[n>>3]=d*+l[n>>3]-m*f;u=+l[c>>3];l[c>>3]=u+f*(d*a-f*2*u);r=q(h,N)|0;i=q(s,N)|0;n=0;a=m;u=g;while(1){if((n|0)==(N|0))break;I=o[e>>2]|0;O=I+(n+r<<3)|0;u=+l[O>>3];I=I+(n+i<<3)|0;a=+l[I>>3];l[O>>3]=d*u-f*a;l[I>>3]=f*u+d*a;n=n+1|0}if((h|0)>=(w|0)){h=s;m=a;g=u;continue}g=+l[c>>3];O=_+(h+2<<3)|0;m=+l[O>>3];l[O>>3]=d*m;h=s;m=-(f*m)}D=+R(+ +l[M>>3]);C=+R(+ +l[y>>3]);if(D>(C+ +R(+ +l[b>>3]))*1e-6)n=A;else{x=w;continue e}}}e:while(1){if((n|0)==(S|0))break;i=o[t>>2]|0;s=i+(n<<3)|0;u=+l[s>>3];h=n+1|0;a=u;c=n;r=h;while(1){if((r|0)>=(N|0))break;C=+l[i+(r<<3)>>3];O=C>a;a=O?C:a;c=O?r:c;r=r+1|0}l[i+(c<<3)>>3]=u;l[s>>3]=a;r=o[e>>2]|0;i=r+((q(n,N)|0)<<3)|0;n=r+((q(c,N)|0)<<3)|0;r=0;while(1){if((r|0)==(N|0)){n=h;continue e}C=+l[n>>3];l[n>>3]=+l[i>>3];l[i>>3]=C;i=i+8|0;n=n+8|0;r=r+1|0}}Zi(k)|0;n=0}else n=-1;while(0);p=L;return n|0}function Ci(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0;m=o[e+4>>2]|0;g=o[e+8>>2]|0;e:do if(((((!((m|0)<1|(g|0)<1)?(o[t+4>>2]|0)==(m|0):0)?(o[t+8>>2]|0)==(m|0):0)?(o[n+4>>2]|0)==(m|0):0)?(o[n+8>>2]|0)==(g|0):0)?(o[r+4>>2]|0)==(m|0):0){a=0;n=o[n>>2]|0;while(1){if((a|0)>=(m|0))break;s=+l[(o[r>>2]|0)+(a<<3)>>3];if(s<1e-16)break;d=1/+j(+ +R(+s));p=q(a,m)|0;u=0;f=n;while(1){if((u|0)==(g|0))break;i=0;c=(o[t>>2]|0)+(p<<3)|0;s=0;h=(o[e>>2]|0)+(u<<3)|0;while(1){if((i|0)==(m|0))break;v=s+ +l[c>>3]*+l[h>>3];i=i+1|0;c=c+8|0;s=v;h=h+(g<<3)|0}l[f>>3]=d*s;u=u+1|0;f=f+8|0}a=a+1|0;n=n+(g<<3)|0}while(1){if((a|0)>=(m|0)){n=0;break e}l[(o[r>>2]|0)+(a<<3)>>3]=0;i=0;while(1){if((i|0)>=(g|0))break;l[n>>3]=0;i=i+1|0;n=n+8|0}a=a+1|0}}else n=-1;while(0);return n|0}function Ii(e){e=e|0;var t=0;t=o[e+4>>2]|0;return((Oi(o[e>>2]|0,t,t)|0)==0)<<31>>31|0}function Oi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0;b=p;p=p+2e3|0;y=b;e:do if((t|0)>500)e=0;else{switch(t|0){case 0:{e=0;break e}case 1:{l[e>>3]=1/+l[e>>3];break e}default:r=0}while(1){if((r|0)>=(t|0))break;o[y+(r<<2)>>2]=r;r=r+1|0}v=e+(t+-1<<3)|0;r=0;d=0;g=v;while(1){if((d|0)>=(t|0)){u=0;break}m=e+((q(d,n)|0)<<3)|0;c=0;i=m;a=d;f=r;while(1){if((a|0)==(t|0))break;h=+R(+ +l[i>>3]);s=c<h;u=s?a:f;c=s?h:c;i=i+(n<<3)|0;a=a+1|0;f=u}if(c<=1e-10){e=0;break e}a=y+(f<<2)|0;i=o[a>>2]|0;r=y+(d<<2)|0;o[a>>2]=o[r>>2];o[r>>2]=i;r=m;i=0;a=e+((q(f,n)|0)<<3)|0;while(1){if((i|0)==(t|0))break;h=+l[a>>3];l[a>>3]=+l[r>>3];l[r>>3]=h;r=r+8|0;i=i+1|0;a=a+8|0}c=+l[m>>3];r=1;i=m;while(1){if((r|0)==(t|0))break;u=i+8|0;l[i>>3]=+l[u>>3]/c;r=r+1|0;i=u}l[g>>3]=1/c;i=0;u=v;while(1){if((i|0)==(t|0))break;if((i|0)!=(d|0)){s=e+((q(i,n)|0)<<3)|0;c=+l[s>>3];r=m;a=1;while(1){h=+l[r>>3];if((a|0)==(t|0))break;w=s+8|0;l[s>>3]=+l[w>>3]-c*h;r=r+8|0;a=a+1|0;s=w}l[u>>3]=-(c*h)}i=i+1|0;u=u+(n<<3)|0}r=f;d=d+1|0;g=g+(n<<3)|0}while(1){if((u|0)<(t|0))s=u;else break e;while(1){r=y+(s<<2)|0;if((s|0)>=(t|0))break;if((o[r>>2]|0)==(u|0))break;s=s+1|0}o[r>>2]=o[y+(u<<2)>>2];i=e+(u<<3)|0;a=0;r=e+(s<<3)|0;while(1){if((a|0)>=(t|0))break;h=+l[r>>3];l[r>>3]=+l[i>>3];l[i>>3]=h;i=i+(n<<3)|0;a=a+1|0;r=r+(n<<3)|0}u=u+1|0}}while(0);p=b;return e|0}function Ri(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0;a=o[e+4>>2]|0;e:do if((a|0)==(o[t+8>>2]|0)?(s=o[e+8>>2]|0,(s|0)==(o[t+4>>2]|0)):0){e=o[e>>2]|0;i=0;while(1){if((i|0)>=(a|0)){e=0;break e}n=(o[t>>2]|0)+(i<<3)|0;r=0;while(1){if((r|0)>=(s|0))break;l[e>>3]=+l[n>>3];n=n+(a<<3)|0;r=r+1|0;e=e+8|0}i=i+1|0}}else e=-1;while(0);return e|0}function ji(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=0,w=0;b=+(t|0)/+(o[e>>2]|0);y=+(n|0)/+(o[e+4>>2]|0);o[r>>2]=t;o[r+4>>2]=n;t=0;while(1){if((t|0)==4)break;l[r+8+(t<<3)>>3]=b*+l[e+8+(t<<3)>>3];l[r+40+(t<<3)>>3]=y*+l[e+40+(t<<3)>>3];l[r+72+(t<<3)>>3]=+l[e+72+(t<<3)>>3];t=t+1|0}v=o[e+176>>2]|0;t=e+128|0;n=r+136|0;s=e+112|0;u=r+112|0;c=e+120|0;h=r+128|0;f=r+104|0;d=e+144|0;p=e+104|0;m=e+136|0;g=r+120|0;e:do if((v|0)==4){l[f>>3]=+l[p>>3];l[u>>3]=+l[s>>3];l[g>>3]=+l[c>>3];l[h>>3]=+l[t>>3];l[n>>3]=b*+l[m>>3];l[r+144>>3]=y*+l[d>>3];l[r+152>>3]=b*+l[e+152>>3];l[r+160>>3]=y*+l[e+160>>3];i=+l[e+168>>3];t=8;w=10}else{i=y*(b*b*y);a=b*y;switch(v|0){case 3:{l[f>>3]=b*+l[p>>3];l[u>>3]=y*+l[s>>3];l[g>>3]=+l[c>>3];l[h>>3]=+l[t>>3];l[n>>3]=+l[m>>3]/a;i=+l[d>>3]/i;t=5;w=10;break e}case 2:{l[f>>3]=b*+l[p>>3];l[u>>3]=y*+l[s>>3];l[g>>3]=+l[c>>3];l[h>>3]=+l[t>>3]/a;i=+l[m>>3]/i;t=4;w=10;break e}case 1:{l[f>>3]=b*+l[p>>3];l[u>>3]=y*+l[s>>3];l[g>>3]=+l[c>>3];i=+l[t>>3]/a;t=3;w=10;break e}default:{t=-1;break e}}}while(0);if((w|0)==10){l[r+104+(t<<3)>>3]=i;o[r+176>>2]=v;t=0}return t|0}function Pi(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0;a=p;p=p+96|0;o=a;e:do if(!(+l[e+88>>3]>=0)){r=0;while(1){if((r|0)==3){r=0;break e}else i=0;while(1){if((i|0)==4)break;l[o+(r<<5)+(i<<3)>>3]=-+l[e+(r<<5)+(i<<3)>>3];i=i+1|0}r=r+1|0}}else{r=0;while(1){if((r|0)==3){r=0;break e}else i=0;while(1){if((i|0)==4)break;l[o+(r<<5)+(i<<3)>>3]=+l[e+(r<<5)+(i<<3)>>3];i=i+1|0}r=r+1|0}}while(0);while(1){if((r|0)==3)break;else i=0;while(1){if((i|0)==4)break;l[t+(r<<5)+(i<<3)>>3]=0;i=i+1|0}r=r+1|0}s=+l[o+64>>3];d=+l[o+72>>3];m=+l[o+80>>3];A=+Ui(s,d,m);e=t+80|0;l[e>>3]=A;A=s/A;M=n+64|0;l[M>>3]=A;d=d/+l[e>>3];b=n+72|0;l[b>>3]=d;m=m/+l[e>>3];g=n+80|0;l[g>>3]=m;f=n+88|0;l[f>>3]=+l[o+88>>3]/+l[e>>3];s=+l[o+32>>3];u=+l[o+40>>3];y=+l[o+48>>3];m=+Fi(A,d,m,s,u,y);h=t+48|0;l[h>>3]=m;s=s-m*+l[M>>3];u=u-m*+l[b>>3];m=y-m*+l[g>>3];y=+Ui(s,u,m);c=t+40|0;l[c>>3]=y;E=n+32|0;l[E>>3]=s/y;w=n+40|0;l[w>>3]=u/+l[c>>3];v=n+48|0;l[v>>3]=m/+l[c>>3];m=+l[o>>3];u=+l[o+8>>3];y=+l[o+16>>3];s=+Fi(+l[M>>3],+l[b>>3],+l[g>>3],m,u,y);r=t+16|0;l[r>>3]=s;d=+Fi(+l[E>>3],+l[w>>3],+l[v>>3],m,u,y);i=t+8|0;l[i>>3]=d;m=m-d*+l[E>>3]-s*+l[M>>3];u=u-d*+l[w>>3]-s*+l[b>>3];s=y-d*+l[v>>3]-s*+l[g>>3];d=+Ui(m,u,s);l[t>>3]=d;l[n>>3]=m/d;l[n+8>>3]=u/+l[t>>3];l[n+16>>3]=s/+l[t>>3];s=+l[f>>3];u=(+l[o+56>>3]-+l[h>>3]*s)/+l[c>>3];l[n+56>>3]=u;l[n+24>>3]=(+l[o+24>>3]-u*+l[i>>3]-+l[r>>3]*s)/+l[t>>3];r=0;while(1){if((r|0)==3)break;else i=0;while(1){if((i|0)==3)break;E=t+(r<<5)+(i<<3)|0;l[E>>3]=+l[E>>3]/+l[e>>3];i=i+1|0}r=r+1|0}p=a;return 0}function Ui(e,t,n){e=+e;t=+t;n=+n;return+ +j(+(e*e+t*t+n*n))}function Fi(e,t,n,r,i,o){e=+e;t=+t;n=+n;r=+r;i=+i;o=+o;return+(e*r+t*i+n*o)}function zi(e,t,n,r,i,o){e=e|0;t=+t;n=+n;r=r|0;i=i|0;o=o|0;var a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0;m=e+24|0;v=e+40|0;N=e+8|0;L=e+16|0;g=e+32|0;switch(o|0){case 4:{S=+l[e>>3];k=+l[N>>3];T=+l[L>>3];M=+l[m>>3];_=+l[g>>3];E=+l[v>>3];A=+l[e+48>>3];x=+l[e+56>>3];w=+l[e+64>>3];b=(t-A)/_;h=(n-x)/E;f=T*2;d=M*6;p=M*2;y=T*6;a=b;s=h;c=b*b;t=h*h;o=1;while(1){if(!(t!=0|c!=0)){n=0;t=0;break}I=t+c;C=S*I+1+I*(k*I);n=c*3;D=t*n;n=a-(M*(I+c*2)+(s*(f*a)+a*C)-b)/(d*a+(f*s+(S*(t+n)+1+k*(t*t+(c*(c*5)+D)))));a=p*n;t=s-(T*(t*2+I)+s*C+s*a-h)/(y*s+(S*(c+t*3)+1+k*(t*(t*5)+(c*c+D)))+a);if((o|0)==4)break;a=n;s=t;c=n*n;t=t*t;o=o+1|0}l[r>>3]=A+_*n/w;t=x+E*t/w;u=22;break}case 3:{y=+l[e>>3];t=(t-y)/+l[m>>3];n=n-+l[N>>3];p=+l[g>>3]/1e8;c=+l[v>>3]/1e8/1e5;a=t*t+n*n;h=+j(+a);f=p*3;d=c*5;o=1;s=h;while(1){if(!(s!=0)){n=0;t=0;break}I=s-(s*(1-p*a-a*(c*a))-h)/(1-f*a-a*(d*a));t=t*I/s;n=n*I/s;if((o|0)==3)break;s=t*t+n*n;a=s;o=o+1|0;s=+j(+s)}l[r>>3]=y+t/+l[L>>3];t=n/+l[L>>3]+ +l[N>>3];u=22;break}case 2:{y=+l[e>>3];t=t-y;n=n-+l[N>>3];p=+l[m>>3]/1e8;c=+l[g>>3]/1e8/1e5;a=t*t+n*n;h=+j(+a);f=p*3;d=c*5;o=1;s=h;while(1){if(!(s!=0)){n=0;t=0;break}I=s-(s*(1-p*a-a*(c*a))-h)/(1-f*a-a*(d*a));t=t*I/s;n=n*I/s;if((o|0)==3)break;a=t*t+n*n;o=o+1|0;s=+j(+a)}l[r>>3]=y+t/+l[L>>3];t=n/+l[L>>3]+ +l[N>>3];u=22;break}case 1:{d=+l[e>>3];t=t-d;n=n-+l[N>>3];c=+l[m>>3]/1e8;a=t*t+n*n;h=+j(+a);f=c*3;o=1;s=h;while(1){if(!(s!=0)){n=0;t=0;break}I=s-(s*(1-c*a)-h)/(1-f*a);t=t*I/s;n=n*I/s;if((o|0)==3)break;a=t*t+n*n;o=o+1|0;s=+j(+a)}l[r>>3]=d+t/+l[L>>3];t=n/+l[L>>3]+ +l[N>>3];u=22;break}default:o=-1}if((u|0)==22){l[i>>3]=t;o=0}return o|0}function Bi(e,t,n,r,i,o){e=e|0;t=+t;n=+n;r=r|0;i=i|0;o=o|0;var a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=0,w=0;c=e+40|0;d=e+8|0;p=e+24|0;h=e+16|0;f=e+32|0;e:do switch(o|0){case 4:{a=+l[h>>3];g=+l[p>>3];b=+l[f>>3];v=+l[c>>3];w=+l[e+48>>3];y=+l[e+56>>3];s=+l[e+64>>3];m=(t-w)*s/b;n=(n-y)*s/v;s=m*m+n*n;t=+l[e>>3]*s+1+s*(+l[d>>3]*s);l[r>>3]=w+b*(g*(s+m*(m*2))+(n*(a*2*m)+m*t));t=y+v*(n*(g*2*m)+(a*(s+n*(n*2))+n*t));u=12;break}case 3:{s=+l[e>>3];w=+l[h>>3];a=(t-s)*w;t=w*(n-+l[d>>3]);if(a==0&t==0){l[r>>3]=s;t=+l[d>>3];u=12;break e}else{w=a*a+t*t;w=1-w*(+l[f>>3]/1e8)-w*(w*(+l[c>>3]/1e8/1e5));l[r>>3]=s+ +l[p>>3]*(a*w);t=+l[d>>3]+t*w;u=12;break e}}case 2:{s=+l[e>>3];w=+l[h>>3];a=(t-s)*w;t=w*(n-+l[d>>3]);if(a==0&t==0){l[r>>3]=s;t=+l[d>>3];u=12;break e}else{w=a*a+t*t;w=1-w*(+l[p>>3]/1e8)-w*(w*(+l[f>>3]/1e8/1e5));l[r>>3]=s+a*w;t=+l[d>>3]+t*w;u=12;break e}}case 1:{s=+l[e>>3];w=+l[h>>3];a=(t-s)*w;t=w*(n-+l[d>>3]);if(a==0&t==0){l[r>>3]=s;t=+l[d>>3];u=12;break e}else{w=1-(a*a+t*t)*(+l[p>>3]/1e8);l[r>>3]=s+a*w;t=+l[d>>3]+t*w;u=12;break e}}default:e=-1}while(0);if((u|0)==12){l[i>>3]=t;e=0}return e|0}function Hi(e){e=e|0;var t=0,n=0,r=0,i=0,a=0;a=p;p=p+192|0;i=a;Vi(e,i);Vi(e+4|0,i+4|0);t=0;while(1){if((t|0)==3)break;else n=0;while(1){if((n|0)==4)break;Gi(e+8+(t<<5)+(n<<3)|0,i+8+(t<<5)+(n<<3)|0);n=n+1|0}t=t+1|0}n=e+176|0;t=0;while(1){r=o[n>>2]|0;if((t|0)>=(o[1636+(r+-1<<3)>>2]|0))break;Gi(e+104+(t<<3)|0,i+104+(t<<3)|0);t=t+1|0}o[i+176>>2]=r;pd(e|0,i|0,184)|0;p=a;return}function Vi(e,t){e=e|0;t=t|0;var n=0;n=0;while(1){if((n|0)==4)break;r[t+n>>0]=r[e+(3-n)>>0]|0;n=n+1|0}return}function Gi(e,t){e=e|0;t=t|0;var n=0;n=0;while(1){if((n|0)==8)break;r[t+n>>0]=r[e+(7-n)>>0]|0;n=n+1|0}return}function Yi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0;b=p;p=p+256|0;d=b+232|0;h=b+224|0;c=b+216|0;u=b+208|0;s=b+200|0;a=b+192|0;i=b+184|0;g=b+240|0;v=b;do if((e|0)!=0&(t|0)>0&(n|0)!=0){y=Nh(e,4162)|0;if(!y){o[i>>2]=o[(cl()|0)>>2];o[i+4>>2]=e;di(3,4165,i);e=Ol(o[(cl()|0)>>2]|0)|0;o[a>>2]=15760;o[a+4>>2]=e;di(3,4669,a);e=-1;break}qh(y,0,2)|0;e:do if(!(Fh(y)|0)){a=sf(y)|0;uf(y);i=0;while(1){if((i|0)>=4){m=9;break}e=o[1636+(i<<3)+4>>2]|0;i=i+1|0;if(!((a|0)%(e|0)|0)){f=i;break}}do if((m|0)==9)if((i|0)==4){di(3,4279,c);e=-1;break e}else{f=0;e=o[1636+(0<<3)+4>>2]|0;break}while(0);if((af(v,e,1,y)|0)!=1){o[h>>2]=o[(cl()|0)>>2];di(3,4359,h);e=Ol(o[(cl()|0)>>2]|0)|0;o[d>>2]=15760;o[d+4>>2]=e;di(3,4669,d);e=-1;break}s=v+176|0;o[s>>2]=f;Hi(v);u=(f|0)==1;c=v+128|0;h=v+120|0;if(u){w=+l[h>>3];l[h>>3]=+l[c>>3];l[c>>3]=w}pd(n|0,v|0,184)|0;o[g>>2]=r;i=n+176|0;e=1;while(1){if((e|0)>=(t|0)){e=0;break e}r=(o[g>>2]|0)+(4-1)&~(4-1);a=o[r>>2]|0;o[g>>2]=r+4;o[a+176>>2]=o[i>>2];if((af(v,o[1636+((o[i>>2]|0)+-1<<3)+4>>2]|0,1,y)|0)!=1){e=-1;break e}o[s>>2]=f;Hi(v);if(u){w=+l[h>>3];l[h>>3]=+l[c>>3];l[c>>3]=w}pd(a|0,v|0,184)|0;e=e+1|0}}else{o[s>>2]=o[(cl()|0)>>2];di(3,4234,s);e=Ol(o[(cl()|0)>>2]|0)|0;o[u>>2]=15760;o[u+4>>2]=e;di(3,4669,u);e=-1}while(0);Rh(y)|0}else e=-1;while(0);p=b;return e|0}function Qi(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0;b=p;p=p+64|0;d=b+24|0;m=b+16|0;g=b+8|0;v=b;y=df(208)|0;if(!y){di(3,4779,b+32|0);Tt(1)}pd(y|0,e|0,184)|0;f=t<<1;h=(o[e>>2]|0)+f|0;o[y+192>>2]=h;f=(o[e+4>>2]|0)+f|0;o[y+196>>2]=f;o[y+200>>2]=t;o[y+204>>2]=t;n=q(h<<3,f)|0;r=df(n)|0;o[y+184>>2]=r;if(!r){di(3,4779,b+40|0);Tt(1)}n=df(n)|0;o[y+188>>2]=n;if(!n){di(3,4779,b+48|0);Tt(1)}u=e+104|0;s=o[e+176>>2]|0;a=0;e=r;while(1){if((a|0)>=(f|0))break;i=+(a-t|0);r=0;while(1){if((r|0)>=(h|0))break;w=+(r-t|0);Bi(u,w,i,g,v,s)|0;c[e>>2]=+l[g>>3];c[e+4>>2]=+l[v>>3];zi(u,w,i,d,m,s)|0;c[n>>2]=+l[d>>3];c[n+4>>2]=+l[m>>3];r=r+1|0;n=n+8|0;e=e+8|0}a=a+1|0}p=b;return y|0}function Wi(e){e=e|0;var t=0;if((e|0)!=0?(t=o[e>>2]|0,(t|0)!=0):0){pf(o[t+184>>2]|0);pf(o[(o[e>>2]|0)+188>>2]|0);pf(o[e>>2]|0);o[e>>2]=0;e=0}else e=-1;return e|0}function qi(e,t,n,r,i){e=e|0;t=+t;n=+n;r=r|0;i=i|0;var a=0,s=0,u=0;s=(o[e+16>>2]|0)+~~(t+.5)|0;a=(o[e+20>>2]|0)+~~(n+.5)|0;if(((s|0)>=0?(u=o[e+8>>2]|0,!((a|0)<0|(s|0)>=(u|0))):0)?(a|0)<(o[e+12>>2]|0):0){a=(o[e>>2]|0)+((q(u,a)|0)+s<<1<<2)|0;o[r>>2]=o[a>>2];o[i>>2]=o[a+4>>2];a=0}else a=-1;return a|0}function Xi(e,t,n,r,i){e=e|0;t=+t;n=+n;r=r|0;i=i|0;var a=0,s=0,u=0;s=(o[e+16>>2]|0)+~~(t+.5)|0;a=(o[e+20>>2]|0)+~~(n+.5)|0;if(((s|0)>=0?(u=o[e+8>>2]|0,!((a|0)<0|(s|0)>=(u|0))):0)?(a|0)<(o[e+12>>2]|0):0){a=(o[e+4>>2]|0)+((q(u,a)|0)+s<<1<<2)|0;o[r>>2]=o[a>>2];o[i>>2]=o[a+4>>2];a=0}else a=-1;return a|0}function Ki(e){e=e|0;var t=0,n=0;t=df(8)|0;do if(t){n=df(e<<3)|0;o[t>>2]=n;if(!n){pf(t);t=0;break}else{o[t+4>>2]=e;break}}else t=0;while(0);return t|0}function Zi(e){e=e|0;pf(o[e>>2]|0);pf(e);return 0}function Ji(e){e=e|0;var t=0,n=0,r=0,i=0,a=0;t=+j(+ +$i(e,e));e:do if(t!=0){i=o[e>>2]|0;r=+l[i>>3];t=r<0?-t:t;r=r+t;l[i>>3]=r;r=1/+j(+(t*r));n=o[e+4>>2]|0;e=0;while(1){if((e|0)>=(n|0))break e;a=i+(e<<3)|0;l[a>>3]=r*+l[a>>3];e=e+1|0}}while(0);return+-t}function $i(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;i=o[e+4>>2]|0;if((i|0)!=(o[t+4>>2]|0))Tt(0);n=0;r=0;while(1){if((n|0)>=(i|0))break;a=r+ +l[(o[e>>2]|0)+(n<<3)>>3]*+l[(o[t>>2]|0)+(n<<3)>>3];n=n+1|0;r=a}return+r}function eo(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0;T=p;p=p+16|0;E=T+8|0;A=T;x=o[e+8>>2]|0;e:do if(((x|0)==(o[e+4>>2]|0)?(x|0)==(o[t+4>>2]|0):0)?(x|0)==((o[n+4>>2]|0)+1|0):0){b=x+-2|0;w=E+4|0;M=A+4|0;h=0;t:while(1){if((h|0)>=(b|0))break;d=(o[e>>2]|0)+((q(h,x)|0)<<3)|0;l[(o[t>>2]|0)+(h<<3)>>3]=+l[d+(h<<3)>>3];s=x-h+-1|0;o[w>>2]=s;v=h+1|0;u=d+(v<<3)|0;o[E>>2]=u;g=+Ji(E);l[(o[n>>2]|0)+(h<<3)>>3]=g;if(g==0){h=v;continue}c=o[t>>2]|0;a=v;while(1){if((a|0)<(x|0)){r=v;f=0}else break;while(1){if((r|0)>=(a|0))break;g=+l[(o[e>>2]|0)+((q(r,x)|0)+a<<3)>>3];g=f+g*+l[d+(r<<3)>>3];r=r+1|0;f=g}i=q(a,x)|0;r=a;while(1){if((r|0)>=(x|0))break;g=f+ +l[(o[e>>2]|0)+(r+i<<3)>>3]*+l[d+(r<<3)>>3];r=r+1|0;f=g}l[c+(a<<3)>>3]=f;a=a+1|0}o[M>>2]=s;o[w>>2]=s;o[E>>2]=u;o[A>>2]=c+(v<<3);g=+$i(E,A)*.5;r=x;n:while(1){r=r+-1|0;if((r|0)<=(h|0)){h=v;continue t}f=+l[d+(r<<3)>>3];a=o[t>>2]|0;s=a+(r<<3)|0;m=+l[s>>3]-g*f;l[s>>3]=m;s=q(r,x)|0;i=r;while(1){if((i|0)>=(x|0))continue n;c=(o[e>>2]|0)+(i+s<<3)|0;l[c>>3]=+l[c>>3]-(f*+l[a+(i<<3)>>3]+m*+l[d+(i<<3)>>3]);i=i+1|0}}}a=x+-1|0;if((x|0)<=1){if((x|0)==1){i=o[e>>2]|0;r=o[t>>2]|0;y=24}}else{i=o[e>>2]|0;y=q(b,x)|0;r=o[t>>2]|0;l[r+(b<<3)>>3]=+l[i+(y+b<<3)>>3];l[(o[n>>2]|0)+(b<<3)>>3]=+l[i+(y+a<<3)>>3];y=24}if((y|0)==24)l[r+(a<<3)>>3]=+l[i+((q(a,x)|0)+a<<3)>>3];while(1){if((a|0)<=-1){r=0;break e}d=(o[e>>2]|0)+((q(a,x)|0)<<3)|0;t:do if((a|0)<(b|0)){s=a+1|0;u=x-a+-1|0;c=d+(s<<3)|0;r=s;while(1){if((r|0)>=(x|0)){r=0;break t}o[M>>2]=u;o[w>>2]=u;o[E>>2]=c;h=q(r,x)|0;o[A>>2]=(o[e>>2]|0)+(s+h<<3);f=+$i(E,A);i=s;while(1){if((i|0)>=(x|0))break;y=(o[e>>2]|0)+(i+h<<3)|0;l[y>>3]=+l[y>>3]-f*+l[d+(i<<3)>>3];i=i+1|0}r=r+1|0}}else r=0;while(0);while(1){if((r|0)>=(x|0))break;l[d+(r<<3)>>3]=0;r=r+1|0}l[d+(a<<3)>>3]=1;a=a+-1|0}}else r=-1;while(0);p=T;return r|0}function to(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,a=0,s=0;o=+l[n>>3];a=+l[n+8>>3];i=+l[n+16>>3];r=+l[t+88>>3]+(o*+l[t+64>>3]+a*+l[t+72>>3]+i*+l[t+80>>3]);if(r==0)n=-1;else{s=+l[t+56>>3]+(o*+l[t+32>>3]+a*+l[t+40>>3]+i*+l[t+48>>3]);l[e>>3]=(+l[t+24>>3]+(o*+l[t>>3]+a*+l[t+8>>3]+i*+l[t+16>>3]))/r;l[e+8>>3]=s/r;n=0}return n|0}function no(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0,a=0,s=0,u=0,c=0;u=p;p=p+224|0;a=u+72|0;s=u+24|0;o=u;ro(a,o,n,r);e:do if((io(s,t,o)|0)<0){di(3,4397,u+216|0);t=-1}else{n=0;while(1){if((n|0)==2){t=0;break e}else r=0;while(1){if((r|0)==6)break;o=e+(n*48|0)+(r<<3)|0;l[o>>3]=0;t=0;i=0;while(1){if((t|0)==3)break;c=i+ +l[s+(n*24|0)+(t<<3)>>3]*+l[a+(t*48|0)+(r<<3)>>3];l[o>>3]=c;t=t+1|0;i=c}r=r+1|0}n=n+1|0}}while(0);p=u;return t|0}function ro(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0;u=p;p=p+864|0;a=u+576|0;s=u;A=n+8|0;g=r+8|0;c=+l[g>>3];E=n+16|0;x=r+16|0;h=+l[x>>3];l[t>>3]=+l[n+24>>3]+(+l[n>>3]*+l[r>>3]+ +l[A>>3]*c+ +l[E>>3]*h);M=n+32|0;o=+l[r>>3];w=n+40|0;b=n+48|0;l[t+8>>3]=+l[n+56>>3]+(+l[M>>3]*o+c*+l[w>>3]+h*+l[b>>3]);y=n+64|0;v=n+72|0;c=+l[g>>3];i=n+80|0;l[t+16>>3]=+l[n+88>>3]+(o*+l[y>>3]+ +l[v>>3]*c+h*+l[i>>3]);h=+l[n>>3];l[a>>3]=o*h;l[a+8>>3]=c*h;f=+l[x>>3];l[a+16>>3]=h*f;m=+l[A>>3];l[a+24>>3]=o*m;l[a+32>>3]=c*m;l[a+40>>3]=f*m;d=+l[E>>3];l[a+48>>3]=o*d;l[a+56>>3]=c*d;l[a+64>>3]=f*d;l[a+72>>3]=h;l[a+80>>3]=m;l[a+88>>3]=d;d=+l[M>>3];l[a+96>>3]=d*o;l[a+104>>3]=d*c;l[a+112>>3]=d*f;m=+l[w>>3];l[a+120>>3]=m*o;l[a+128>>3]=m*c;l[a+136>>3]=m*f;h=+l[b>>3];l[a+144>>3]=h*o;l[a+152>>3]=h*c;l[a+160>>3]=h*f;l[a+168>>3]=d;l[a+176>>3]=m;l[a+184>>3]=h;h=+l[y>>3];m=+l[r>>3];l[a+192>>3]=h*m;l[a+200>>3]=h*c;l[a+208>>3]=h*f;c=+l[v>>3];l[a+216>>3]=c*m;d=+l[g>>3];l[a+224>>3]=c*d;l[a+232>>3]=c*f;o=+l[i>>3];l[a+240>>3]=o*m;l[a+248>>3]=o*d;l[a+256>>3]=o*f;l[a+264>>3]=h;l[a+272>>3]=c;l[a+280>>3]=o;oo(s);n=0;while(1){if((n|0)==3)break;else r=0;while(1){if((r|0)==6)break;i=e+(n*48|0)+(r<<3)|0;l[i>>3]=0;t=0;o=0;while(1){if((t|0)==12)break;m=o+ +l[a+(n*96|0)+(t<<3)>>3]*+l[s+(t*48|0)+(r<<3)>>3];l[i>>3]=m;t=t+1|0;o=m}r=r+1|0}n=n+1|0}p=u;return}function io(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,o=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0;p=+l[t>>3];v=+l[n>>3];m=t+8|0;g=+l[n+8>>3];d=t+16|0;r=+l[n+16>>3];i=+l[t+24>>3]+(p*v+ +l[m>>3]*g+ +l[d>>3]*r);n=t+32|0;o=t+40|0;a=t+48|0;s=+l[t+56>>3]+(v*+l[n>>3]+g*+l[o>>3]+r*+l[a>>3]);u=t+64|0;c=+l[u>>3];h=t+72|0;f=t+80|0;r=+l[t+88>>3]+(v*c+g*+l[h>>3]+r*+l[f>>3]);if(r==0)n=-1;else{v=r*r;l[e>>3]=(p*r-i*c)/v;l[e+8>>3]=(r*+l[m>>3]-i*+l[h>>3])/v;l[e+16>>3]=(r*+l[d>>3]-i*+l[f>>3])/v;l[e+24>>3]=(r*+l[n>>3]-s*+l[u>>3])/v;l[e+32>>3]=(r*+l[o>>3]-s*+l[h>>3])/v;l[e+40>>3]=(r*+l[a>>3]-s*+l[f>>3])/v;n=0}return n|0}function oo(e){e=e|0;var t=0,n=0,r=0;t=e+64|0;n=e;r=n+64|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));l[t>>3]=-1;t=e+72|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;l[e+104>>3]=1;t=e+160|0;n=e+112|0;r=n+48|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));l[t>>3]=1;t=e+240|0;n=e+168|0;r=n+72|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));l[t>>3]=-1;t=e+296|0;n=e+248|0;r=n+48|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));l[t>>3]=-1;t=e+304|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;l[e+336>>3]=1;t=e+456|0;n=e+344|0;r=n+112|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));l[t>>3]=1;t=e+512|0;n=e+464|0;r=n+48|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));l[t>>3]=1;t=e+568|0;n=e+520|0;r=n+48|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));l[t>>3]=1;return}function ao(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,s=0,u=0;u=p;p=p+48|0;s=u+24|0;a=u+12|0;i=u;o[s+4>>2]=6;o[s+8>>2]=1;o[s>>2]=e;o[a+4>>2]=r;o[a+8>>2]=1;o[a>>2]=t;o[i+4>>2]=r;o[i+8>>2]=6;o[i>>2]=n;n=Mi(i)|0;do if(n){t=wi(n,i)|0;if(!t){Ai(n)|0;e=-1;break}e=wi(n,a)|0;if(!e){Ai(n)|0;Ai(t)|0;e=-1;break}if((Ii(t)|0)<0){Ai(n)|0;Ai(t)|0;Ai(e)|0;e=-1;break}else{xi(s,t,e)|0;Ai(n)|0;Ai(t)|0;Ai(e)|0;e=0;break}}else e=-1;while(0);p=u;return e|0}function so(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,a=0,s=0,u=0;u=p;p=p+256|0;o=u+192|0;a=u+96|0;s=u;uo(o,t);co(a,o);t=0;while(1){if((t|0)==3){t=0;break}r=e+(t<<5)|0;i=e+(t<<5)+8|0;o=e+(t<<5)+16|0;n=0;while(1){if((n|0)==4)break;l[s+(t<<5)+(n<<3)>>3]=+l[r>>3]*+l[a+(n<<3)>>3]+ +l[i>>3]*+l[a+32+(n<<3)>>3]+ +l[o>>3]*+l[a+64+(n<<3)>>3];n=n+1|0}o=s+(t<<5)+24|0;l[o>>3]=+l[e+(t<<5)+24>>3]+ +l[o>>3];t=t+1|0}while(1){if((t|0)==3)break;else n=0;while(1){if((n|0)==4)break;l[e+(t<<5)+(n<<3)>>3]=+l[s+(t<<5)+(n<<3)>>3];n=n+1|0}t=t+1|0}p=u;return 0}function uo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,a=0,s=0;r=+l[t>>3];o=t+8|0;s=+l[o>>3];a=t+16|0;n=+l[a>>3];n=r*r+s*s+n*n;i=e+8|0;if(n==0){l[e>>3]=1;l[i>>3]=0;r=0;n=0}else{n=+j(+n);l[e>>3]=r/n;l[i>>3]=+l[o>>3]/n;r=n;n=+l[a>>3]/n}l[e+16>>3]=n;l[e+24>>3]=r;l[e+32>>3]=+l[t+24>>3];l[e+40>>3]=+l[t+32>>3];l[e+48>>3]=+l[t+40>>3];return}function co(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0,a=0,s=0;n=+l[t+24>>3];i=+U(+n);r=1-i;n=+F(+n);s=+l[t>>3];l[e>>3]=i+r*(s*s);a=t+8|0;o=t+16|0;l[e+8>>3]=r*(+l[t>>3]*+l[a>>3])-n*+l[o>>3];l[e+16>>3]=r*(+l[t>>3]*+l[o>>3])+n*+l[a>>3];l[e+24>>3]=+l[t+32>>3];l[e+32>>3]=r*(+l[a>>3]*+l[t>>3])+n*+l[o>>3];s=+l[a>>3];l[e+40>>3]=i+r*(s*s);l[e+48>>3]=r*(+l[a>>3]*+l[o>>3])-n*+l[t>>3];l[e+56>>3]=+l[t+40>>3];l[e+64>>3]=r*(+l[o>>3]*+l[t>>3])-n*+l[a>>3];l[e+72>>3]=r*(+l[o>>3]*+l[a>>3])+n*+l[t>>3];n=+l[o>>3];l[e+80>>3]=i+r*(n*n);l[e+88>>3]=+l[t+48>>3];return}function lo(e){e=e|0;var t=0,n=0,r=0;t=df(136)|0;if(!t)t=0;else{n=0;while(1){if((n|0)==3)break;else r=0;while(1){if((r|0)==4)break;l[t+(n<<5)+(r<<3)>>3]=+l[e+(n<<5)+(r<<3)>>3];r=r+1|0}n=n+1|0}o[t+96>>2]=10;l[t+104>>3]=.10000000149011612;l[t+112>>3]=.9900000095367432;l[t+120>>3]=4;l[t+128>>3]=.5}return t|0}function ho(e){e=e|0;var t=0;t=o[e>>2]|0;if(!t)e=-1;else{pf(t);o[e>>2]=0;e=0}return e|0}function fo(e,t){e=e|0;t=+t;if(!e)e=-1;else{l[e+128>>3]=t;e=0}return e|0}function po(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0;x=p;p=p+176|0;u=x+168|0;s=x+160|0;b=x+144|0;w=x+48|0;M=x;E=t+8|0;a=o[E>>2]|0;do if((a|0)>=3){A=df(a*96|0)|0;if(!A){di(3,4417,s);a=-1;break}y=df(a<<4)|0;if(!y){di(3,4417,u);pf(A);a=-1;break}else a=0;while(1){if((a|0)==3)break;else s=0;while(1){if((s|0)==4)break;l[r+(a<<5)+(s<<3)>>3]=+l[n+(a<<5)+(s<<3)>>3];s=s+1|0}a=a+1|0}n=t+4|0;f=b+8|0;d=e+104|0;m=e+120|0;g=e+112|0;v=e+96|0;h=0;u=0;e:while(1){pi(e,r,w)|0;c=0;s=0;while(1){a=o[E>>2]|0;if((s|0)>=(a|0))break;if((to(b,w,(o[n>>2]|0)+(s*24|0)|0)|0)<0){s=14;break e}a=o[t>>2]|0;_=+l[a+(s<<4)>>3]-+l[b>>3];T=+l[a+(s<<4)+8>>3]-+l[f>>3];a=s<<1;l[y+(a<<3)>>3]=_;l[y+((a|1)<<3)>>3]=T;c=c+(_*_+T*T);s=s+1|0}c=c/+(a|0);if(c<+l[d>>3]){s=28;break}if(((u|0)>0?c<+l[m>>3]:0)?c/h>+l[g>>3]:0){s=28;break}if((u|0)==(o[v>>2]|0)){s=28;break}else s=0;while(1){if((s|0)>=(a|0))break;if((no(A+(s*12<<3)|0,e,r,(o[n>>2]|0)+(s*24|0)|0)|0)<0){s=24;break e}s=s+1|0;a=o[E>>2]|0}if((ao(M,y,A,a<<1)|0)<0){s=26;break}so(r,M)|0;h=c;u=u+1|0}if((s|0)==14){mo(A,y);a=-1;break}else if((s|0)==24){mo(A,y);a=-1;break}else if((s|0)==26){mo(A,y);a=-1;break}else if((s|0)==28){l[i>>3]=c;pf(A);pf(y);a=0;break}}else a=-1;while(0);p=x;return a|0}function mo(e,t){e=e|0;t=t|0;pf(e);pf(t);return}function go(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0;C=p;p=p+192|0;h=C+184|0;c=C+176|0;u=C+168|0;a=C+160|0;k=C+144|0;S=C+48|0;N=C;L=t+8|0;s=o[L>>2]|0;do if((s|0)>=4){f=~~(+(s|0)*+l[e+128>>3])+-1|0;f=(f|0)>3?f:3;D=df(s*96|0)|0;if(!D){di(3,4417,a);a=-1;break}_=df(s<<4)|0;if(!_){di(3,4417,u);pf(D);a=-1;break}a=s<<3;T=df(a)|0;if(!T){di(3,4417,c);pf(D);pf(_);a=-1;break}x=df(a)|0;if(!x){di(3,4417,h);pf(D);pf(_);pf(T);a=-1;break}else a=0;while(1){if((a|0)==3)break;else s=0;while(1){if((s|0)==4)break;l[r+(a<<5)+(s<<3)>>3]=+l[n+(a<<5)+(s<<3)>>3];s=s+1|0}a=a+1|0}E=t+4|0;A=k+8|0;n=x+(f<<3)|0;f=e+104|0;b=e+120|0;w=e+112|0;M=e+96|0;v=0;h=0;e:while(1){pi(e,r,S)|0;a=0;while(1){s=o[L>>2]|0;if((a|0)>=(s|0))break;if((to(k,S,(o[E>>2]|0)+(a*24|0)|0)|0)<0){s=18;break e}c=o[t>>2]|0;g=+l[c+(a<<4)>>3]-+l[k>>3];y=+l[c+(a<<4)+8>>3]-+l[A>>3];c=a<<1;l[_+(c<<3)>>3]=g;l[_+((c|1)<<3)>>3]=y;y=g*g+y*y;l[x+(a<<3)>>3]=y;l[T+(a<<3)>>3]=y;a=a+1|0}$l(x,s,8,1);y=+l[n>>3]*4;y=y<16?16:y;s=o[L>>2]|0;g=y/6;m=0;a=0;while(1){if((a|0)>=(s|0))break;d=+l[x+(a<<3)>>3];if(d>y)d=g;else{d=1-d/y;d=g*(1-d*(d*d))}m=m+d;a=a+1|0}m=m/+(s|0);if(m<+l[f>>3]){s=41;break}if(((h|0)>0?m<+l[b>>3]:0)?m/v>+l[w>>3]:0){s=41;break}if((h|0)==(o[M>>2]|0)){s=41;break}else{a=0;c=0}while(1){if((c|0)>=(s|0))break;d=+l[T+(c<<3)>>3];if(d<=y){u=a*6|0;s=D+(u<<3)|0;if((no(s,e,r,(o[E>>2]|0)+(c*24|0)|0)|0)<0){s=33;break e}v=1-d/y;v=v*v;l[s>>3]=+l[s>>3]*v;s=D+((u|1)<<3)|0;l[s>>3]=+l[s>>3]*v;s=D+(u+2<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+3<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+4<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+5<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+6<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+7<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+8<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+9<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+10<<3)|0;l[s>>3]=v*+l[s>>3];s=D+(u+11<<3)|0;l[s>>3]=v*+l[s>>3];s=c<<1;l[_+(a<<3)>>3]=v*+l[_+(s<<3)>>3];l[_+(a+1<<3)>>3]=v*+l[_+((s|1)<<3)>>3];a=a+2|0;s=o[L>>2]|0}c=c+1|0}if((a|0)<6){s=37;break}if((ao(N,_,D,a)|0)<0){s=39;break}so(r,N)|0;v=m;h=h+1|0}if((s|0)==18){vo(D,_,T,x);a=-1;break}else if((s|0)==33){vo(D,_,T,x);a=-1;break}else if((s|0)==37){vo(D,_,T,x);a=-1;break}else if((s|0)==39){vo(D,_,T,x);a=-1;break}else if((s|0)==41){l[i>>3]=m;pf(D);pf(_);pf(T);pf(x);a=0;break}}else a=-1;while(0);p=C;return a|0}function vo(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;pf(e);pf(t);pf(n);pf(r);return}function yo(e,t){e=e|0;t=t|0;var n=0;n=+l[e>>3]-+l[t>>3];return(n<0?-1:n>0&1)|0}function bo(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0,O=0,R=0,P=0,U=0;L=p;p=p+128|0;x=L+120|0;A=L+112|0;E=L+104|0;M=L+96|0;w=L+88|0;y=L+80|0;g=L+72|0;N=L;e:do if((r|0)>=4){a=0;while(1){if((a|0)>=(r|0))break;if(+l[n+(a*24|0)+16>>3]!=0){a=-1;break e}else a=a+1|0}if((((((((!(+l[e>>3]==0)?!(+l[e+32>>3]!=0):0)?(_=e+40|0,!(+l[_>>3]==0)):0)?!(+l[e+64>>3]!=0):0)?!(+l[e+72>>3]!=0):0)?!(+l[e+80>>3]!=1):0)?!(+l[e+24>>3]!=0):0)?!(+l[e+56>>3]!=0):0)?!(+l[e+88>>3]!=0):0){a=r<<1;S=yi(a,8)|0;if(!S){di(3,4432,g);a=-1;break}k=yi(a,1)|0;if(!k){Ai(S)|0;di(3,4458,y);a=-1;break}a=0;while(1){if((a|0)==(r|0))break;O=n+(a*24|0)|0;y=o[S>>2]|0;g=a<<4;l[y+(g<<3)>>3]=+l[O>>3];I=n+(a*24|0)+8|0;l[y+((g|1)<<3)>>3]=+l[I>>3];l[y+((g|2)<<3)>>3]=1;l[y+((g|3)<<3)>>3]=0;l[y+((g|4)<<3)>>3]=0;l[y+((g|5)<<3)>>3]=0;C=t+(a<<4)|0;l[y+((g|6)<<3)>>3]=-(+l[O>>3]*+l[C>>3]);l[y+((g|7)<<3)>>3]=-(+l[I>>3]*+l[C>>3]);l[y+((g|8)<<3)>>3]=0;l[y+((g|9)<<3)>>3]=0;l[y+((g|10)<<3)>>3]=0;l[y+((g|11)<<3)>>3]=+l[O>>3];l[y+((g|12)<<3)>>3]=+l[I>>3];l[y+((g|13)<<3)>>3]=1;D=t+(a<<4)+8|0;l[y+((g|14)<<3)>>3]=-(+l[O>>3]*+l[D>>3]);l[y+((g|15)<<3)>>3]=-(+l[I>>3]*+l[D>>3]);g=o[k>>2]|0;y=a<<1;l[g+(y<<3)>>3]=+l[C>>3];l[g+((y|1)<<3)>>3]=+l[D>>3];a=a+1|0}t=Mi(S)|0;if(!t){
Ai(S)|0;Ai(k)|0;di(3,4484,w);a=-1;break}y=wi(t,S)|0;if(!y){Ai(S)|0;Ai(k)|0;Ai(t)|0;di(3,4510,M);a=-1;break}g=wi(t,k)|0;if(!g){Ai(S)|0;Ai(k)|0;Ai(t)|0;Ai(y)|0;di(3,4536,E);a=-1;break}if((Ii(y)|0)<0){Ai(S)|0;Ai(k)|0;Ai(t)|0;Ai(y)|0;Ai(g)|0;di(3,4562,A);a=-1;break}a=wi(y,g)|0;if(!a){Ai(S)|0;Ai(k)|0;Ai(t)|0;Ai(y)|0;Ai(g)|0;di(3,4588,x);a=-1;break}O=o[a>>2]|0;h=+l[O+48>>3];E=N+16|0;R=+l[e+48>>3];T=+l[_>>3];c=(+l[O+24>>3]-h*R)/T;M=N+8|0;v=+l[e+16>>3];b=+l[e+8>>3];u=+l[e>>3];s=(+l[O>>3]-v*h-c*b)/u;m=+l[O+56>>3];n=N+40|0;d=(+l[O+32>>3]-R*m)/T;r=N+32|0;f=(+l[O+8>>3]-v*m-b*d)/u;w=N+24|0;T=(+l[O+40>>3]-R)/T;u=(+l[O+16>>3]-v-b*T)/u;Ai(S)|0;Ai(k)|0;Ai(t)|0;Ai(y)|0;Ai(g)|0;Ai(a)|0;b=+j(+(s*s+c*c+h*h));v=+j(+(f*f+d*d+m*m));s=s/b;l[N>>3]=s;c=c/b;l[M>>3]=c;h=h/b;l[E>>3]=h;f=f/v;l[w>>3]=f;d=d/v;l[r>>3]=d;m=m/v;l[n>>3]=m;v=(b+v)*.5;u=u/v;b=1/v;if(b<0){l[N>>3]=-s;l[M>>3]=-c;l[E>>3]=-h;l[w>>3]=-f;l[r>>3]=-d;l[n>>3]=-m;u=-u;s=-b}else s=T/v;wo(N);c=+l[M>>3];m=+l[n>>3];h=+l[E>>3];d=+l[r>>3];v=c*m-h*d;f=+l[w>>3];P=+l[N>>3];T=h*f-m*P;U=d*P-c*f;R=+j(+(U*U+(v*v+T*T)));v=v/R;l[N+48>>3]=v;T=T/R;l[N+56>>3]=T;R=U/R;l[N+64>>3]=R;l[i>>3]=P;l[i+32>>3]=c;l[i+64>>3]=h;l[i+8>>3]=f;l[i+40>>3]=d;l[i+72>>3]=m;l[i+16>>3]=v;l[i+48>>3]=T;l[i+80>>3]=R;l[i+24>>3]=u;l[i+56>>3]=s;l[i+88>>3]=b;a=0}else a=-1}else a=-1;while(0);p=L;return a|0}function wo(e){e=e|0;var t=0,n=0,r=0,i=0,o=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0,O=0,R=0,P=0,U=0,F=0;s=+l[e>>3];I=e+8|0;c=+l[I>>3];O=e+16|0;a=+l[O>>3];P=e+24|0;A=+l[P>>3];U=e+32|0;x=+l[U>>3];R=e+40|0;o=+l[R>>3];t=c*o-a*x;n=a*A-s*o;r=s*x-c*A;i=+j(+(r*r+(t*t+n*n)));if(!(i==0)){u=t/i;n=n/i;t=r/i;T=s*A+c*x+a*o;T=T<0?-T:T;T=(+j(+(T+1))+ +j(+(1-T)))*.5;if(s*n-c*u!=0){f=0;m=u;h=s;d=c;p=n}else{F=s*t-a*u!=0;f=F?1:2;m=F?u:t;h=F?s:a;d=F?a:c;p=F?t:n;a=F?c:s;t=F?n:u}n=h*p;r=d*m;i=n-r;if(!(i==0)?(g=(d*t-a*p)/i,v=T*p/i,b=r-n,y=(h*t-a*m)/b,b=T*m/b,w=g*g+y*y+1,M=g*v+y*b,E=M*M-w*(v*v+b*b+-1),!(E<0)):0){E=+j(+E);d=(E-M)/w;h=v+g*d;c=b+y*d;M=(-M-E)/w;E=v+g*M;g=b+y*M;F=(f|0)==1;n=F?p:t;r=F?t:p;v=F?d:c;d=F?c:d;y=F?M:g;p=F?g:M;F=(f|0)==2;t=F?m:n;n=F?n:m;m=F?d:h;d=F?h:d;g=F?p:E;p=F?E:p;if(A*r-x*n!=0){f=0;a=n;s=A;u=x;c=r}else{F=A*t-o*n!=0;f=F?1:2;a=F?n:t;s=F?A:o;u=F?o:x;c=F?t:r;o=F?x:A;t=F?r:n}n=s*c;r=u*a;i=n-r;if(!(i==0)?(_=(u*t-o*c)/i,k=T*c/i,N=r-n,S=(s*t-o*a)/N,N=T*a/N,L=_*_+S*S+1,D=_*k+S*N,C=D*D-L*(k*k+N*N+-1),!(C<0)):0){c=+j(+C);t=(c-D)/L;u=k+_*t;h=N+S*t;c=(-D-c)/L;s=k+_*c;r=N+S*c;F=(f|0)==1;n=F?t:h;t=F?h:t;h=F?c:r;c=F?r:c;f=(f|0)==2;r=f?t:u;t=f?u:t;u=f?c:s;c=f?s:c;s=d*t+(v*n+m*r);s=s<0?-s:s;a=d*c+(v*h+m*u);a=a<0?-a:a;o=p*t+(y*n+g*r);o=o<0?-o:o;i=p*c+(y*h+g*u);i=i<0?-i:i;f=o<i;do if(s<a){if(!(s<o)){l[e>>3]=g;l[I>>3]=y;l[O>>3]=p;r=f?r:u;n=f?n:h;t=f?t:c;break}if(s<i){l[e>>3]=m;l[I>>3]=v;l[O>>3]=d;break}else{l[e>>3]=g;l[I>>3]=y;l[O>>3]=p;r=u;n=h;t=c;break}}else{if(!(a<o)){l[e>>3]=g;l[I>>3]=y;l[O>>3]=p;r=f?r:u;n=f?n:h;t=f?t:c;break}if(a<i){l[e>>3]=m;l[I>>3]=v;l[O>>3]=d;r=u;n=h;t=c;break}else{l[e>>3]=g;l[I>>3]=y;l[O>>3]=p;r=u;n=h;t=c;break}}while(0);l[P>>3]=r;l[U>>3]=n;l[R>>3]=t}}}return}function Mo(e){e=e|0;pf(o[e>>2]|0);pf(e);return 0}function Eo(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return+ +Ao(e,t,n,r,0)}function Ao(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0;N=p;p=p+208|0;A=N+200|0;E=N+192|0;T=N+96|0;x=N;_=r+4|0;s=o[_>>2]|0;M=r+112|0;g=r+120|0;m=0;while(1){if((m|0)>=(s|0))break;u=o[r>>2]|0;v=u+(m*320|0)+304|0;y=u+(m*320|0)|0;if(!(o[u+(m*320|0)+4>>2]|0)){u=-1;c=0;while(1){if((c|0)>=(n|0))break;if((o[t+(c<<8)+8>>2]|0)==(o[y>>2]|0)?(h=+l[t+(c<<8)+40>>3],!(h<+l[M>>3])):0)if(!((u|0)!=-1?!(+l[t+(u<<8)+40>>3]<h):0))u=c;c=c+1|0}o[v>>2]=u;if((u|0)>-1)o[t+(u<<8)+16>>2]=o[t+(u<<8)+20>>2]}else{d=u+(m*320|0)+312|0;f=0;u=-1;while(1){if((f|0)>=(n|0))break;c=o[t+(f<<8)+12>>2]|0;if((c|0)==0?(w=t+(f<<8)+248|0,b=o[w>>2]|0,w=o[w+4>>2]|0,!((b|0)==0&(w|0)==0)):0){c=d;if((b|0)==(o[c>>2]|0)?(w|0)==(o[c+4>>2]|0):0)S=20}else if((c|0)==(o[y>>2]|0))S=20;if((S|0)==20){S=0;a=+l[t+(f<<8)+48>>3];if(!(a<+l[g>>3]))if(!((u|0)!=-1?!(+l[t+(u<<8)+48>>3]<a):0))u=f}f=f+1|0}o[v>>2]=u;if((u|0)>-1)o[t+(u<<8)+16>>2]=o[t+(u<<8)+24>>2]}m=m+1|0}c=0;g=0;u=0;v=0;while(1){m=(c|0)==0;if((v|0)>=(s|0))break;s=o[r>>2]|0;f=o[s+(v*320|0)+304>>2]|0;do if((f|0)<0)s=g;else{d=t+(f<<8)|0;if(+Ur(e,d,+l[s+(v*320|0)+8>>3],x)>4){o[(o[r>>2]|0)+(v*320|0)+304>>2]=-1;s=t+(f<<8)+236|0;if(o[s>>2]|0){s=g;break}o[s>>2]=7;s=g;break}f=o[d>>2]|0;e:do if(m|(g|0)<(f|0)){s=0;while(1){if((s|0)==3){s=f;u=v;break e}else u=0;while(1){if((u|0)==4)break;l[T+(s<<5)+(u<<3)>>3]=+l[x+(s<<5)+(u<<3)>>3];u=u+1|0}s=s+1|0}}else s=g;while(0);c=c+1|0}while(0);g=s;v=v+1|0;s=o[_>>2]|0}y=r+104|0;e:do if(!m?(c|0)>=(o[r+128>>2]|0):0){pi(T,(o[r>>2]|0)+(u*320|0)+112|0,x)|0;m=c<<2;v=df(c<<6)|0;if(!v){di(3,4779,E);Tt(1)}g=df(c*96|0)|0;if(!g){di(3,4779,A);Tt(1)}d=o[_>>2]|0;f=0;s=0;while(1){if((f|0)>=(d|0))break;u=o[r>>2]|0;c=o[u+(f*320|0)+304>>2]|0;if((c|0)>=0){E=o[t+(c<<8)+16>>2]|0;M=(4-E|0)%4|0;A=s<<3;l[v+(A<<3)>>3]=+l[t+(c<<8)+168+(M<<4)>>3];l[v+((A|1)<<3)>>3]=+l[t+(c<<8)+168+(M<<4)+8>>3];M=(5-E|0)%4|0;l[v+((A|2)<<3)>>3]=+l[t+(c<<8)+168+(M<<4)>>3];l[v+((A|3)<<3)>>3]=+l[t+(c<<8)+168+(M<<4)+8>>3];M=(6-E|0)%4|0;l[v+((A|4)<<3)>>3]=+l[t+(c<<8)+168+(M<<4)>>3];l[v+((A|5)<<3)>>3]=+l[t+(c<<8)+168+(M<<4)+8>>3];E=(7-E|0)%4|0;l[v+((A|6)<<3)>>3]=+l[t+(c<<8)+168+(E<<4)>>3];l[v+((A|7)<<3)>>3]=+l[t+(c<<8)+168+(E<<4)+8>>3];A=s*12|0;l[g+(A<<3)>>3]=+l[u+(f*320|0)+208>>3];l[g+((A|1)<<3)>>3]=+l[u+(f*320|0)+216>>3];l[g+((A|2)<<3)>>3]=+l[u+(f*320|0)+224>>3];l[g+((A|3)<<3)>>3]=+l[u+(f*320|0)+232>>3];l[g+(A+4<<3)>>3]=+l[u+(f*320|0)+240>>3];l[g+(A+5<<3)>>3]=+l[u+(f*320|0)+248>>3];l[g+(A+6<<3)>>3]=+l[u+(f*320|0)+256>>3];l[g+(A+7<<3)>>3]=+l[u+(f*320|0)+264>>3];l[g+(A+8<<3)>>3]=+l[u+(f*320|0)+272>>3];l[g+(A+9<<3)>>3]=+l[u+(f*320|0)+280>>3];E=o[r>>2]|0;l[g+(A+10<<3)>>3]=+l[E+(f*320|0)+288>>3];l[g+(A+11<<3)>>3]=+l[E+(f*320|0)+296>>3];s=s+1|0}f=f+1|0}u=(i|0)!=0;if(!(o[y>>2]|0)){s=r+8|0;a=+zr(e,x,v,g,m,s);if(u&a>=20){fo(o[e>>2]|0,.8)|0;a=+Br(e,x,v,g,m,s);if(a>=20){fo(o[e>>2]|0,.6)|0;a=+Br(e,x,v,g,m,s);if(a>=20){fo(o[e>>2]|0,.4)|0;a=+Br(e,x,v,g,m,s);if(a>=20){fo(o[e>>2]|0,0)|0;a=+Br(e,x,v,g,m,s)}}}}pf(g);pf(v)}else{a=+zr(e,x,v,g,m,T);c=r+8|0;h=+zr(e,c,v,g,m,c);s=a<h;t:do if(u){n:do if(s){u=0;while(1){if((u|0)==3)break n;else s=0;while(1){if((s|0)==4)break;l[r+8+(u<<5)+(s<<3)>>3]=+l[T+(u<<5)+(s<<3)>>3];s=s+1|0}u=u+1|0}}else a=h;while(0);if(a>=20){fo(o[e>>2]|0,.8)|0;a=+Br(e,x,v,g,m,T);h=+Br(e,c,v,g,m,c);n:do if(a<h){u=0;while(1){if((u|0)==3)break n;else s=0;while(1){if((s|0)==4)break;l[r+8+(u<<5)+(s<<3)>>3]=+l[T+(u<<5)+(s<<3)>>3];s=s+1|0}u=u+1|0}}else a=h;while(0);if(a>=20){fo(o[e>>2]|0,.6)|0;a=+Br(e,x,v,g,m,T);h=+Br(e,c,v,g,m,c);n:do if(a<h){u=0;while(1){if((u|0)==3)break n;else s=0;while(1){if((s|0)==4)break;l[r+8+(u<<5)+(s<<3)>>3]=+l[T+(u<<5)+(s<<3)>>3];s=s+1|0}u=u+1|0}}else a=h;while(0);if(a>=20){fo(o[e>>2]|0,.4)|0;a=+Br(e,x,v,g,m,T);h=+Br(e,c,v,g,m,c);n:do if(a<h){u=0;while(1){if((u|0)==3)break n;else s=0;while(1){if((s|0)==4)break;l[r+8+(u<<5)+(s<<3)>>3]=+l[T+(u<<5)+(s<<3)>>3];s=s+1|0}u=u+1|0}}else a=h;while(0);if(a>=20){fo(o[e>>2]|0,0)|0;a=+Br(e,x,v,g,m,T);h=+Br(e,c,v,g,m,c);if(a<h){u=0;while(1){if((u|0)==3)break t;else s=0;while(1){if((s|0)==4)break;l[r+8+(u<<5)+(s<<3)>>3]=+l[T+(u<<5)+(s<<3)>>3];s=s+1|0}u=u+1|0}}else a=h}}}}}else if(s){s=0;while(1){if((s|0)==3)break t;else u=0;while(1){if((u|0)==4)break;l[r+8+(s<<5)+(u<<3)>>3]=+l[T+(s<<5)+(u<<3)>>3];u=u+1|0}s=s+1|0}}else a=h;while(0);pf(g);pf(v)}if(a<20){s=1;S=101}else{o[y>>2]=0;u=o[_>>2]|0;s=0;while(1){if((s|0)>=(u|0))break e;c=o[(o[r>>2]|0)+(s*320|0)+304>>2]|0;if((c|0)>=0?(k=t+(c<<8)+236|0,(o[k>>2]|0)==0):0)o[k>>2]=8;s=s+1|0}}}else{a=-1;s=0;S=101}while(0);if((S|0)==101)o[y>>2]=s;p=N;return+a}function xo(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return+ +Ao(e,t,n,r,1)}function To(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0,O=0,R=0,j=0,P=0,U=0,F=0,z=0,B=0,H=0,V=0,G=0,Y=0,Q=0,W=0,q=0,X=0;W=p;p=p+2528|0;Q=W+208|0;V=W+200|0;O=W+184|0;H=W+176|0;I=W+168|0;C=W+152|0;B=W+144|0;D=W+136|0;z=W+128|0;F=W+120|0;U=W+112|0;L=W+104|0;a=W+96|0;i=W+88|0;R=W+80|0;r=W+72|0;n=W+64|0;k=W;j=W+2272|0;P=W+224|0;S=W+220|0;G=W+216|0;N=W+212|0;Y=Nh(e,4614)|0;do if(!Y){o[n>>2]=e;di(3,4616,n);n=Ol(o[(cl()|0)>>2]|0)|0;o[r>>2]=15760;o[r+4>>2]=n;di(3,4669,r);n=0}else{_o(j,Y);o[R>>2]=G;if((zh(j,4675,R)|0)!=1){o[i>>2]=e;di(3,4678,i);Rh(Y)|0;n=0;break}n=o[G>>2]|0;_=df(n*320|0)|0;if(!_){di(3,4779,a);Tt(1)}y=k+8|0;b=k+16|0;w=k+24|0;M=k+32|0;E=k+40|0;A=k+48|0;x=k+56|0;T=(t|0)==0;v=0;a=0;e:while(1){if((v|0)>=(n|0)){n=30;break}_o(j,Y);n=_+(v*320|0)|0;r=_+(v*320|0)+312|0;o[L>>2]=r;o[L+4>>2]=S;i=_+(v*320|0)+4|0;if((zh(j,4796,L)|0)!=1){if(T){n=12;break}if(!(vi(P,e,2048,1)|0)){n=14;break}hf(P,j,2047-(vh(P)|0)|0)|0;g=hi(t,P)|0;o[n>>2]=g;if((g|0)<0){n=16;break}else{n=1;r=0}}else{r=o[r>>2]|0;o[n>>2]=(r&-32768|0)==0&0==0?r&32767:0;n=2;r=1}o[i>>2]=r;a=n|a;_o(j,Y);r=_+(v*320|0)+8|0;o[D>>2]=r;g=v+1|0;if((zh(j,5092,D)|0)!=1){n=19;break}_o(j,Y);f=_+(v*320|0)+16|0;d=_+(v*320|0)+24|0;m=_+(v*320|0)+40|0;o[C>>2]=f;o[C+4>>2]=d;o[C+8>>2]=_+(v*320|0)+32;o[C+12>>2]=m;if((zh(j,5201,C)|0)==4)n=1;else{o[I>>2]=R;o[I+4>>2]=N;if((zh(j,5217,I)|0)!=2){n=23;break}n=0}do{_o(j,Y);o[O>>2]=_+(v*320|0)+16+(n<<5);o[O+4>>2]=_+(v*320|0)+16+(n<<5)+8;o[O+8>>2]=_+(v*320|0)+16+(n<<5)+16;o[O+12>>2]=_+(v*320|0)+16+(n<<5)+24;if((zh(j,5201,O)|0)!=4){n=25;break e}n=n+1|0}while((n|0)<3);mi(f,_+(v*320|0)+112|0)|0;X=+l[r>>3];q=X*-.5;l[k>>3]=q;X=X*.5;l[y>>3]=X;l[b>>3]=X;l[w>>3]=X;l[M>>3]=X;l[E>>3]=q;l[A>>3]=q;l[x>>3]=q;r=_+(v*320|0)+48|0;i=_+(v*320|0)+56|0;s=_+(v*320|0)+72|0;u=_+(v*320|0)+80|0;c=_+(v*320|0)+88|0;h=_+(v*320|0)+104|0;n=0;while(1){if((n|0)==4)break;q=+l[k+(n<<4)>>3];X=+l[k+(n<<4)+8>>3];l[_+(v*320|0)+208+(n*24|0)>>3]=+l[m>>3]+(+l[f>>3]*q+ +l[d>>3]*X);l[_+(v*320|0)+208+(n*24|0)+8>>3]=+l[s>>3]+(q*+l[r>>3]+X*+l[i>>3]);l[_+(v*320|0)+208+(n*24|0)+16>>3]=+l[h>>3]+(q*+l[u>>3]+X*+l[c>>3]);n=n+1|0}v=g;n=o[G>>2]|0}if((n|0)==12){o[U>>2]=e;o[U+4>>2]=j;di(3,4803,U)}else if((n|0)==14){o[F>>2]=e;di(3,4931,F)}else if((n|0)==16){o[z>>2]=e;o[z+4>>2]=P;di(3,5015,z)}else if((n|0)==19){o[B>>2]=e;o[B+4>>2]=g;di(3,5096,B)}else if((n|0)==23){o[H>>2]=e;o[H+4>>2]=g;di(3,5223,H)}else if((n|0)==25){o[V>>2]=e;o[V+4>>2]=g;di(3,5223,V)}else if((n|0)==30){Rh(Y)|0;n=df(136)|0;if(!n){di(3,4779,Q);Tt(1)}else{o[n>>2]=_;o[n+4>>2]=o[G>>2];o[n+104>>2]=0;o[n+108>>2]=(a&3|0)==3?2:a&1^1;l[n+112>>3]=.5;l[n+120>>3]=.5;break}}Rh(Y)|0;pf(_);n=0}while(0);p=W;return n|0}function _o(e,t){e=e|0;t=t|0;var n=0,i=0;e:while(1){if(!(Uh(e,256,t)|0))break;n=vh(e)|0;t:while(1){if(!n)break;n=n+-1|0;i=e+n|0;switch(r[i>>0]|0){case 13:case 10:break;default:break t}r[i>>0]=0}switch(r[e>>0]|0){case 0:case 35:break;default:break e}}return}function ko(e,t,n,r){e=e|0;t=+t;n=+n;r=r|0;var i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0;v=p;p=p+400|0;h=v+296|0;m=v+200|0;f=v+128|0;g=v;d=o[e>>2]|0;i=o[e+4>>2]|0;e:do if((Pi(e+8|0,h,m)|0)<0)di(3,5332,v+392|0);else{s=+(i+-1|0);e=0;while(1){if((e|0)==4)break;i=h+32+(e<<3)|0;l[i>>3]=s*+l[h+64+(e<<3)>>3]-+l[i>>3];e=e+1|0}a=+l[h+80>>3];i=0;while(1){if((i|0)==3)break;else e=0;while(1){if((e|0)==3)break;l[f+(i*24|0)+(e<<3)>>3]=+l[h+(i<<5)+(e<<3)>>3]/a;e=e+1|0}i=i+1|0}a=+(d+-1|0);l[g>>3]=+l[f>>3]*2/a;l[g+8>>3]=+l[f+8>>3]*2/a;l[g+16>>3]=+l[f+16>>3]*2/a+-1;i=g+24|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;l[g+40>>3]=+l[f+32>>3]*2/s;l[g+48>>3]=+l[f+40>>3]*2/s+-1;i=g+56|0;a=n-t;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;o[i+16>>2]=0;o[i+20>>2]=0;l[g+80>>3]=(t+n)/a;l[g+88>>3]=n*-2*t/a;i=g+96|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;l[g+112>>3]=1;l[g+120>>3]=0;a=+l[m+24>>3];s=+l[m+56>>3];t=+l[m+88>>3];i=0;while(1){if((i|0)==4)break e;n=+l[g+(i<<5)>>3];u=+l[g+(i<<5)+16>>3];c=+l[g+(i<<5)+8>>3];e=0;while(1){if((e|0)==3)break;l[r+((e<<2)+i<<3)>>3]=n*+l[m+(e<<3)>>3]+c*+l[m+32+(e<<3)>>3]+u*+l[m+64+(e<<3)>>3];e=e+1|0}l[r+(i+12<<3)>>3]=+l[g+(i<<5)+24>>3]+(n*a+c*s+u*t);i=i+1|0}}while(0);p=v;return}function So(){No();Lo();Do();return}function No(){o[3782]=0;o[3783]=0;o[3784]=0;o[3785]=0;c[3786]=1;ht(10,15128,v|0)|0;return}function Lo(){o[3787]=0;o[3788]=0;o[3789]=0;o[3790]=0;c[3791]=1;ht(11,15148,v|0)|0;return}function Do(){Co(0);return}function Co(e){e=e|0;var t=0;e=p;p=p+16|0;t=e;Oo(5400,7);jo(5406,3);Uo(5415,2);Uo(5426,3);Bo(5442,4);jo(5460,4);Go(5480,5);Oo(5492,8);Bo(5509,5);Oo(5529,9);Oo(5547,10);Bo(5569,6);Bo(5592,7);jo(5621,6);jo(5634,7);Oo(5647,11);Bo(5666,8);Bo(5676,9);jo(5689,8);jo(5702,9);oa(5721,12);sa(5733,1);ca(5745,1);ha(5768,1);ca(5791,2);ha(5813,2);ma(5835,1);jo(5852,10);ma(5869,2);jo(5882,11);ma(5895,3);jo(5919,12);Ea(5943,3);ha(5956,3);ma(5969,4);jo(5987,13);ma(6005,5);jo(6021,14);ma(6037,6);jo(6054,15);La(6071,1668);La(6100,1672);La(6128,1676);o[t>>2]=0;La(6161,t);o[t>>2]=1;La(6178,t);o[t>>2]=0;La(6194,t);o[t>>2]=0;La(6216,t);o[t>>2]=1;La(6241,t);o[t>>2]=1;La(6266,t);o[t>>2]=100;La(6291,t);o[t>>2]=0;La(6318,t);o[t>>2]=1;La(6344,t);o[t>>2]=0;La(6370,t);o[t>>2]=0;La(6397,t);o[t>>2]=1;La(6424,t);o[t>>2]=2;La(6450,t);o[t>>2]=3;La(6475,t);o[t>>2]=4;La(6513,t);o[t>>2]=0;La(6550,t);o[t>>2]=0;La(6584,t);o[t>>2]=1;La(6608,t);o[t>>2]=2;La(6634,t);o[t>>2]=2;La(6661,t);o[t>>2]=5;La(6695,t);l[t>>3]=.5;Da(6713,t);o[t>>2]=0;La(6734,t);o[t>>2]=1;La(6753,t);o[t>>2]=2;La(6771,t);o[t>>2]=3;La(6789,t);o[t>>2]=4;La(6808,t);o[t>>2]=3;La(6830,t);o[t>>2]=515;La(6849,t);o[t>>2]=259;La(6878,t);o[t>>2]=4;La(6906,t);o[t>>2]=772;La(6925,t);o[t>>2]=1028;La(6955,t);o[t>>2]=0;La(6985,t);o[t>>2]=1;La(7016,t);o[t>>2]=2;La(7052,t);o[t>>2]=3;La(7086,t);o[t>>2]=0;La(7124,t);o[t>>2]=1;La(7157,t);o[t>>2]=2;La(7204,t);o[t>>2]=3;La(7246,t);o[t>>2]=4;La(7289,t);o[t>>2]=5;La(7341,t);o[t>>2]=6;La(7392,t);o[t>>2]=7;La(7437,t);o[t>>2]=8;La(7476,t);o[t>>2]=9;La(7521,t);p=e;return}function Io(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0,u=0;s=p;p=p+16|0;a=s+8|0;r=s+12|0;i=o[3793]|0;o[3793]=i+1;o[r>>2]=i;i=Ba(15128,r)|0;o[i>>2]=o[r>>2];o[i+204>>2]=e;o[i+208>>2]=t;u=q(e<<2,t)|0;e=i+200|0;o[e>>2]=u;t=i+196|0;o[t>>2]=df(u)|0;u=ei()|0;o[i+216>>2]=u;if(!u)di(3,9758,s);bu(o[r>>2]|0,n)|0;o[a>>2]=o[e>>2];di(1,9795,a);ct(0,o[i>>2]|0,o[t>>2]|0,o[e>>2]|0,i+264|0,15008)|0;p=s;return o[i>>2]|0}function Oo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=pu(r)|0;r=mu(r)|0;je(e|0,i|0,r|0,gu()|0,1,t|0);p=n;return}function Ro(e){e=e|0;var t=0,n=0,r=0,i=0,a=0;a=p;p=p+16|0;n=a;o[n>>2]=e;if(!(za(15128,n)|0))e=-1;else{i=Ba(15128,n)|0;e=i+196|0;t=o[e>>2]|0;if(t|0){pf(t);o[e>>2]=0;o[i+200>>2]=0}lu(i);ni(o[i+216>>2]|0)|0;hu(15128,n)|0;t=i+248|0;n=i+252|0;e=0;while(1){r=o[t>>2]|0;if(e>>>0>=(o[n>>2]|0)-r>>3>>>0)break;Mo(o[r+(e<<3)+4>>2]|0)|0;e=e+1|0}Qa(t);xf(t);Ya(i);xf(i);e=0}p=a;return e|0}function jo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=au(r)|0;r=su(r)|0;je(e|0,i|0,r|0,Ds()|0,10,t|0);p=n;return}function Po(e,t){e=e|0;t=t|0;var n=0,i=0,a=0;a=p;p=p+16|0;i=a;n=a+4|0;o[n>>2]=e;do if(za(15128,n)|0){n=Ba(15128,n)|0;if((r[t+11>>0]|0)<0)t=o[t>>2]|0;e=n+260|0;if(!(ou(t,e,n+216|0)|0)){di(3,9662,i);e=-1;break}else{e=o[e>>2]|0;break}}else e=-1;while(0);p=a;return e|0}function Uo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=tu(r)|0;r=nu(r)|0;je(e|0,i|0,r|0,Bs()|0,12,t|0);p=n;return}function Fo(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,s=0,u=0,c=0;c=p;p=p+32|0;a=c+8|0;s=c+16|0;n=c+12|0;u=c;o[n>>2]=e;do if(!(za(15128,n)|0))e=-1;else{i=Ba(15128,n)|0;if((r[t+11>>0]|0)<0)e=o[t>>2]|0;else e=t;t=i+220|0;if(!(Gs(e,o[i+212>>2]|0,i+216|0,t)|0)){di(3,9586,a);e=-1;break}e=i+248|0;n=i+252|0;a=o[n>>2]|0;o[u>>2]=a-(o[e>>2]|0)>>3;o[u+4>>2]=o[t>>2];if((a|0)==(o[i+256>>2]|0))Ws(e,u);else{Ys(s,e,1);t=u;i=o[t+4>>2]|0;a=o[n>>2]|0;o[a>>2]=o[t>>2];o[a+4>>2]=i;Qs(s);o[n>>2]=(o[n>>2]|0)+8}e=o[u>>2]|0}while(0);p=c;return e|0}function zo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;a=p;p=p+16|0;r=a;o[r>>2]=e;if(((za(15128,r)|0)!=0?(i=Ba(15128,r)|0,(t|0)>=0):0)?(n=o[i+248>>2]|0,(o[i+252>>2]|0)-n>>3>>>0>t>>>0):0)e=o[(o[n+(t<<3)+4>>2]|0)+4>>2]|0;else e=-1;p=a;return e|0}function Bo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=Fs(r)|0;r=zs(r)|0;je(e|0,i|0,r|0,Bs()|0,13,t|0);p=n;return}function Ho(e){e=e|0;var t=0,n=0;n=p;p=p+16|0;t=n;o[t>>2]=e;if(!(za(15128,t)|0))e=-1;else{e=Ba(15128,t)|0;e=(o[e+252>>2]|0)-(o[e+248>>2]|0)>>3}p=n;return e|0}function Vo(e){e=e|0;var t=0,n=0,i=0,a=0,s=0,u=0;u=p;p=p+208|0;s=u+192|0;a=u+184|0;t=u;n=e+11|0;if((r[n>>0]|0)<0)i=o[e>>2]|0;else i=e;if((Yi(i,1,t,a)|0)<0){if((r[n>>0]|0)<0)e=o[e>>2]|0;o[s>>2]=e;di(3,9522,s);e=-1}else{e=o[3792]|0;o[3792]=e+1;o[a>>2]=e;pd(Rs(15148,a)|0,t|0,184)|0;e=o[a>>2]|0}p=u;return e|0}function Go(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=Ns(r)|0;r=Ls(r)|0;je(e|0,i|0,r|0,Ds()|0,11,t|0);p=n;return}function Yo(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=p;p=p+16|0;r=i;o[r>>2]=e;do if(za(15128,r)|0){e=o[(Ba(15128,r)|0)+212>>2]|0;if((o[e+44>>2]|0)>(t|0)){o[((t|0)<0?14752:e+48+(t<<8)|0)+16>>2]=n;e=0;break}else{e=o[419]|0;break}}else e=o[417]|0;while(0);p=i;return e|0}function Qo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0,d=0;r=p;p=p+16|0;n=r;o[n>>2]=e;do if(za(15128,n)|0){e=o[(Ba(15128,n)|0)+212>>2]|0;if((o[e+44>>2]|0)>(t|0)){e=(t|0)<0?14752:e+48+(t<<8)|0;d=+l[1876];l[e+168>>3]=d;u=+l[1877];l[e+176>>3]=u;f=+l[1878];l[e+184>>3]=f;s=+l[1879];l[e+192>>3]=s;h=+l[1880];l[e+200>>3]=h;a=+l[1881];l[e+208>>3]=a;c=+l[1882];l[e+216>>3]=c;i=+l[1883];l[e+224>>3]=i;l[e+56>>3]=(d+f+h+c)*.25;l[e+64>>3]=(u+s+a+i)*.25;e=0;break}else{e=o[419]|0;break}}else e=o[417]|0;while(0);p=r;return e|0}function Wo(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=p;p=p+16|0;r=i;o[r>>2]=e;do if(za(15128,r)|0){e=Ba(15128,r)|0;r=o[e+212>>2]|0;if((o[r+44>>2]|0)>(t|0)){+Ur(o[e+224>>2]|0,(t|0)<0?14752:r+48+(t<<8)|0,+(n|0),15008);e=0;break}else{e=o[419]|0;break}}else e=o[417]|0;while(0);p=i;return e|0}function qo(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=p;p=p+16|0;r=i;o[r>>2]=e;do if(za(15128,r)|0){e=Ba(15128,r)|0;r=o[e+212>>2]|0;if((o[r+44>>2]|0)>(t|0)){+Fr(o[e+224>>2]|0,(t|0)<0?14752:r+48+(t<<8)|0,15008,+(n|0),15008);e=0;break}else{e=o[419]|0;break}}else e=o[417]|0;while(0);p=i;return e|0}function Xo(e,t){e=e|0;t=t|0;var n=0,r=0;r=p;p=p+16|0;n=r;o[n>>2]=e;do if(za(15128,n)|0){n=Ba(15128,n)|0;e=o[n+248>>2]|0;if((t|0)<0?1:(o[n+252>>2]|0)-e>>3>>>0<=t>>>0){e=o[418]|0;break}else{e=o[e+(t<<3)+4>>2]|0;t=o[n+212>>2]|0;+Eo(o[n+224>>2]|0,t+48|0,o[t+44>>2]|0,e);Ss(e+8|0,15008);e=0;break}}else e=o[417]|0;while(0);p=r;return e|0}function Ko(e,t){e=e|0;t=t|0;var n=0,r=0;r=p;p=p+16|0;n=r;o[n>>2]=e;do if(za(15128,n)|0){n=Ba(15128,n)|0;e=o[n+248>>2]|0;if((t|0)<0?1:(o[n+252>>2]|0)-e>>3>>>0<=t>>>0){e=o[418]|0;break}else{e=o[e+(t<<3)+4>>2]|0;t=o[n+212>>2]|0;+xo(o[n+224>>2]|0,t+48|0,o[t+44>>2]|0,e);Ss(e+8|0,15008);e=0;break}}else e=o[417]|0;while(0);p=r;return e|0}function Zo(e){e=e|0;var t=0,n=0;n=p;p=p+16|0;t=n;o[t>>2]=e;if(!(za(15128,t)|0))e=o[417]|0;else{e=Ba(15128,t)|0;e=Tn(o[e+212>>2]|0,o[e+196>>2]|0)|0}p=n;return e|0}function Jo(e){e=e|0;var t=0,n=0;n=p;p=p+16|0;t=n;o[t>>2]=e;if(!(za(15128,t)|0))e=1668;else e=(o[(Ba(15128,t)|0)+212>>2]|0)+44|0;p=n;return o[e>>2]|0}function $o(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=p;p=p+16|0;r=i;o[r>>2]=e;do if(za(15128,r)|0){r=Ba(15128,r)|0;e=o[r+248>>2]|0;if((t|0)<0?1:(o[r+252>>2]|0)-e>>3>>>0<=t>>>0){e=o[418]|0;break}e=o[e+(t<<3)+4>>2]|0;if((n|0)<0?1:(o[e+4>>2]|0)<=(n|0)){e=o[419]|0;break}else{e=o[e>>2]|0;Ss(e+(n*320|0)+16|0,15008);Ee(1,o[e+(n*320|0)+304>>2]|0,o[e+(n*320|0)>>2]|0,o[e+(n*320|0)+4>>2]|0,+ +l[e+(n*320|0)+8>>3])|0;e=0;break}}else e=o[417]|0;while(0);p=i;return e|0}function ea(e,t){e=e|0;t=t|0;var n=0,r=0;r=p;p=p+16|0;n=r;o[n>>2]=e;do if(za(15128,n)|0){e=o[(Ba(15128,n)|0)+212>>2]|0;if((o[e+44>>2]|0)>(t|0)){e=(t|0)<0?14752:e+48+(t<<8)|0;$e(2,o[e>>2]|0,o[e+4>>2]|0,o[e+8>>2]|0,o[e+12>>2]|0,o[e+16>>2]|0,o[e+20>>2]|0,o[e+24>>2]|0,+ +l[e+32>>3],+ +l[e+40>>3],+ +l[e+48>>3],+ +l[e+56>>3],+ +l[e+64>>3],+ +l[e+72>>3],+ +l[e+80>>3],+ +l[e+88>>3],+ +l[e+96>>3],+ +l[e+104>>3],+ +l[e+112>>3],+ +l[e+120>>3],+ +l[e+128>>3],+ +l[e+136>>3],+ +l[e+144>>3],+ +l[e+152>>3],+ +l[e+160>>3],+ +l[e+168>>3],+ +l[e+176>>3],+ +l[e+184>>3],+ +l[e+192>>3],+ +l[e+200>>3],+ +l[e+208>>3],+ +l[e+216>>3],+ +l[e+224>>3],o[e+240>>2]|0)|0;e=0;break}else{e=o[419]|0;break}}else e=o[417]|0;while(0);p=r;return e|0}function ta(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=p;p=p+16|0;r=i;n=i+4|0;o[n>>2]=e;if(!(za(15128,n)|0))t=0;else{e=(t|0)!=0;sn(o[(Ba(15128,n)|0)+212>>2]|0,e&1)|0;o[r>>2]=e?7777:7781;di(1,7786,r)}p=i;return t|0}function na(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;t=r;n=r+4|0;o[t>>2]=e;if(!(za(15128,t)|0))e=0;else{hn(o[(Ba(15128,t)|0)+212>>2]|0,n)|0;e=o[n>>2]|0}p=r;return e|0}function ra(e){e=e|0;var t=0,n=0;n=p;p=p+16|0;t=n;o[t>>2]=e;if(!(za(15128,t)|0))e=0;else e=o[(o[(Ba(15128,t)|0)+212>>2]|0)+4834148>>2]|0;p=n;return e|0}function ia(e){e=e|0;o[408]=e;return}function oa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=As(r)|0;r=xs(r)|0;je(e|0,i|0,r|0,Ts()|0,7,t|0);p=n;return}function aa(){return o[408]|0}function sa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=ys(r)|0;r=bs(r)|0;je(e|0,i|0,r|0,ws()|0,16,t|0);p=n;return}function ua(e,t){e=e|0;t=+t;var n=0,r=0;r=p;p=p+16|0;n=r;o[n>>2]=e;if(za(15128,n)|0)l[(Ba(15128,n)|0)+232>>3]=t;p=r;return}function ca(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=fs(r)|0;r=ds(r)|0;je(e|0,i|0,r|0,ps()|0,1,t|0);p=n;return}function la(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;n=r;o[n>>2]=e;if(!(za(15128,n)|0))t=-1;else t=+l[(Ba(15128,n)|0)+232>>3];p=r;return+t}function ha(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=ss(r)|0;r=us(r)|0;je(e|0,i|0,r|0,cs()|0,1,t|0);p=n;return}function fa(e,t){e=e|0;t=+t;var n=0,r=0;r=p;p=p+16|0;n=r;o[n>>2]=e;if(za(15128,n)|0)l[(Ba(15128,n)|0)+240>>3]=t;p=r;return}function da(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;n=r;o[n>>2]=e;if(!(za(15128,n)|0))t=-1;else t=+l[(Ba(15128,n)|0)+240>>3];p=r;return+t}function pa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=p;p=p+16|0;r=i;n=i+4|0;o[n>>2]=e;if(za(15128,n)|0?(un(o[(Ba(15128,n)|0)+212>>2]|0,t)|0)==0:0){o[r>>2]=t;di(1,7735,r)}p=i;return}function ma(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=ns(r)|0;r=rs(r)|0;je(e|0,i|0,r|0,is()|0,1,t|0);p=n;return}function ga(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;t=r;n=r+4|0;o[t>>2]=e;if(!(za(15128,t)|0))e=-1;else{e=(gn(o[(Ba(15128,t)|0)+212>>2]|0,n)|0)==0;e=e?o[n>>2]|0:-1}p=r;return e|0}function va(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;a=p;p=p+16|0;i=a;n=a+4|0;o[n>>2]=e;if((za(15128,n)|0?(r=Ba(15128,n)|0,t>>>0<=255):0)?(pn(o[r+212>>2]|0,t)|0)==0:0){o[i>>2]=t;di(1,7709,i)}p=a;return}function ya(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;t=r;n=r+4|0;o[t>>2]=e;if(!(za(15128,t)|0))e=-1;else{e=(mn(o[(Ba(15128,t)|0)+212>>2]|0,n)|0)==0;e=e?o[n>>2]|0:-1}p=r;return e|0}function ba(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=p;p=p+16|0;r=i;n=i+4|0;o[n>>2]=e;if(za(15128,n)|0?(bn(o[(Ba(15128,n)|0)+212>>2]|0,t)|0)==0:0){o[r>>2]=t;di(1,7674,r)}p=i;return}function wa(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;t=r;n=r+4|0;o[t>>2]=e;if(!(za(15128,t)|0))e=-1;else{e=(En(o[(Ba(15128,t)|0)+212>>2]|0,n)|0)==0;e=e?o[n>>2]|0:-1}p=r;return e|0}function Ma(e,t){e=e|0;t=+t;var n=0,r=0,i=0,a=0,s=0,u=0;u=p;p=p+16|0;s=u;r=u+8|0;o[r>>2]=e;if(((za(15128,r)|0?(i=Ba(15128,r)|0,!(t<=0|t>=1)):0)?(a=t,n=o[i+212>>2]|0,n|0):0)?(An(n,a)|0)==0:0){l[s>>3]=a;di(1,7643,s)}p=u;return}function Ea(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;r=n;i=Xa(r)|0;r=Ka(r)|0;je(e|0,i|0,r|0,Za()|0,2,t|0);p=n;return}function Aa(e){e=e|0;var t=0,n=0,r=0,i=0;i=p;p=p+16|0;n=i+8|0;r=i;o[n>>2]=e;if(!(za(15128,n)|0))t=-1;else{e=o[(Ba(15128,n)|0)+212>>2]|0;if(!e)t=-1;else{n=(xn(e,r)|0)==0;t=n?+l[r>>3]:-1}}p=i;return+t}function xa(e,t){e=e|0;t=t|0;var n=0,r=0;r=p;p=p+16|0;n=r;o[n>>2]=e;if(za(15128,n)|0)wn(o[(Ba(15128,n)|0)+212>>2]|0,t)|0;p=r;return}function Ta(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;t=r;n=r+4|0;o[t>>2]=e;if(!(za(15128,t)|0))e=-1;else{Mn(o[(Ba(15128,t)|0)+212>>2]|0,n)|0;e=o[n>>2]|0}p=r;return e|0}function _a(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=p;p=p+16|0;r=i;n=i+4|0;o[n>>2]=e;if(za(15128,n)|0?(fn(o[(Ba(15128,n)|0)+212>>2]|0,t)|0)==0:0){o[r>>2]=t;di(1,7613,r)}p=i;return}function ka(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;t=r;n=r+4|0;o[t>>2]=e;if(!(za(15128,t)|0))e=-1;else{e=(dn(o[(Ba(15128,t)|0)+212>>2]|0,n)|0)==0;e=e?o[n>>2]|0:-1}p=r;return e|0}function Sa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=p;p=p+16|0;r=i;n=i+4|0;o[n>>2]=e;if(za(15128,n)|0?(vn(o[(Ba(15128,n)|0)+212>>2]|0,t)|0)==0:0){o[r>>2]=t;di(1,7584,r)}p=i;return}function Na(e){e=e|0;var t=0,n=0,r=0;r=p;p=p+16|0;t=r;n=r+4|0;o[t>>2]=e;if(!(za(15128,t)|0))e=-1;else{e=(yn(o[(Ba(15128,t)|0)+212>>2]|0,n)|0)==0;e=e?o[n>>2]|0:-1}p=r;return e|0}function La(e,t){e=e|0;t=t|0;var n=0;n=ja()|0;yt(e|0,n|0,Ua(Pa(t)|0)|0);return}function Da(e,t){e=e|0;t=t|0;var n=0;n=Ca()|0;yt(e|0,n|0,Oa(+Ia(t))|0);return}function Ca(){return Ra()|0}function Ia(e){e=e|0;return+ +l[e>>3]}function Oa(e){e=+e;return~~e>>>0|0}function Ra(){return 384}function ja(){return Fa()|0}function Pa(e){e=e|0;return o[e>>2]|0}function Ua(e){e=e|0;return e|0}function Fa(){return 344}function za(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0;r=o[t>>2]|0;i=o[e+4>>2]|0;e:do if(i){a=i+-1|0;s=(a&i|0)==0;if(s)n=a&r;else n=(r>>>0)%(i>>>0)|0;t=o[(o[e>>2]|0)+(n<<2)>>2]|0;if(t){do{t=o[t>>2]|0;if(!t){t=0;break e}e=o[t+4>>2]|0;if(s)e=e&a;else e=(e>>>0)%(i>>>0)|0;if((e|0)!=(n|0)){t=0;break e}}while((o[t+8>>2]|0)!=(r|0))}else t=0}else t=0;while(0);return t|0}function Ba(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0;b=p;p=p+32|0;y=b+4|0;h=b;f=b+16|0;o[h>>2]=t;v=o[t>>2]|0;m=e+4|0;s=o[m>>2]|0;g=(s|0)==0;e:do if(!g){l=s+-1|0;r=(l&s|0)==0;if(r)u=l&v;else u=(v>>>0)%(s>>>0)|0;t=o[(o[e>>2]|0)+(u<<2)>>2]|0;if(!t){t=u;d=12}else do{t=o[t>>2]|0;if(!t){t=u;d=12;break e}n=o[t+4>>2]|0;if(r)n=n&l;else n=(n>>>0)%(s>>>0)|0;if((n|0)!=(u|0)){t=u;d=12;break e}}while((o[t+8>>2]|0)!=(v|0))}else{t=0;d=12}while(0);if((d|0)==12){Ha(y,e,v,15761,h,f);u=e+12|0;i=+(((o[u>>2]|0)+1|0)>>>0);a=+c[e+16>>2];do if(g|i>+(s>>>0)*a){t=(s>>>0<3|(s+-1&s|0)!=0)&1|s<<1;n=~~+W(+(i/a))>>>0;Va(e,t>>>0<n>>>0?n:t);t=o[m>>2]|0;n=t+-1|0;if(!(n&t)){s=t;t=n&v;break}else{s=t;t=(v>>>0)%(t>>>0)|0;break}}while(0);n=o[(o[e>>2]|0)+(t<<2)>>2]|0;if(!n){r=e+8|0;o[o[y>>2]>>2]=o[r>>2];o[r>>2]=o[y>>2];o[(o[e>>2]|0)+(t<<2)>>2]=r;r=o[y>>2]|0;t=o[r>>2]|0;if(!t)t=y;else{t=o[t+4>>2]|0;n=s+-1|0;if(!(n&s))t=t&n;else t=(t>>>0)%(s>>>0)|0;o[(o[e>>2]|0)+(t<<2)>>2]=r;t=y}}else{o[o[y>>2]>>2]=o[n>>2];o[n>>2]=o[y>>2];t=y}y=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+1;o[t>>2]=0;t=y}p=b;return t+16|0}function Ha(e,t,n,i,a,s){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;s=s|0;s=Af(408)|0;o[e>>2]=s;o[e+4>>2]=t+8;o[s+8>>2]=o[o[a>>2]>>2];s=s+16|0;ld(s|0,0,392)|0;qa(s);r[e+8>>0]=1;s=o[e>>2]|0;o[s+4>>2]=n;o[s>>2]=0;return}function Va(e,t){e=e|0;t=t|0;var n=0,r=0;if((t|0)!=1){if(t+-1&t)t=bf(t)|0}else t=2;r=o[e+4>>2]|0;if(t>>>0<=r>>>0){if(t>>>0<r>>>0){n=~~+W(+(+((o[e+12>>2]|0)>>>0)/+c[e+16>>2]))>>>0;if(r>>>0>2&(r+-1&r|0)==0)n=1<<32-(Z(n+-1|0)|0);else n=bf(n)|0;t=t>>>0<n>>>0?n:t;if(t>>>0<r>>>0)Wa(e,t)}}else Wa(e,t);return}function Ga(e){e=e|0;Ya(e+8|0);return}function Ya(e){e=e|0;Qa(e+248|0);return}function Qa(e){e=e|0;var t=0,n=0,r=0;n=o[e>>2]|0;if(n|0){e=e+4|0;t=o[e>>2]|0;while(1){if((t|0)==(n|0))break;r=t+-8|0;o[e>>2]=r;t=r}xf(n)}return}function Wa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0;r=e+4|0;e:do if(t){if(t>>>0>1073741823){e=ze(4)|0;ad(e);dt(e|0,256,6)}h=Af(t<<2)|0;n=o[e>>2]|0;o[e>>2]=h;if(n|0)xf(n);o[r>>2]=t;n=0;while(1){if((n|0)==(t|0))break;o[(o[e>>2]|0)+(n<<2)>>2]=0;n=n+1|0}i=e+8|0;n=o[i>>2]|0;if(n|0){r=o[n+4>>2]|0;l=t+-1|0;h=(l&t|0)==0;if(h)r=r&l;else r=(r>>>0)%(t>>>0)|0;o[(o[e>>2]|0)+(r<<2)>>2]=i;while(1){c=n;t:while(1)while(1){n=o[c>>2]|0;if(!n)break e;i=o[n+4>>2]|0;if(h)u=i&l;else u=(i>>>0)%(t>>>0)|0;if((u|0)==(r|0)){c=n;continue t}i=(o[e>>2]|0)+(u<<2)|0;if(!(o[i>>2]|0))break t;a=n+8|0;i=n;while(1){s=o[i>>2]|0;if(!s)break;if((o[a>>2]|0)==(o[s+8>>2]|0))i=s;else break}o[c>>2]=s;o[i>>2]=o[o[(o[e>>2]|0)+(u<<2)>>2]>>2];o[o[(o[e>>2]|0)+(u<<2)>>2]>>2]=n}o[i>>2]=c;r=u}}}else{n=o[e>>2]|0;o[e>>2]=0;if(n|0)xf(n);o[r>>2]=0}while(0);return}function qa(e){e=e|0;var t=0;o[e+192>>2]=0;o[e+196>>2]=0;t=e+204|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[t+16>>2]=0;l[e+232>>3]=1e-4;l[e+240>>3]=1e3;e=e+248|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return}function Xa(e){e=e|0;return 3}function Ka(e){e=e|0;return ts()|0}function Za(){return 7638}function Ja(e,t,n){e=e|0;t=t|0;n=+n;t=$a(t)|0;n=+es(n);ip[e&3](t,n);return}function $a(e){e=e|0;return e|0}function es(e){e=+e;return+e}function ts(){return 1680}function ns(e){e=e|0;return 3}function rs(e){e=e|0;return as()|0}function is(){return 7730}function os(e,t,n){e=e|0;t=t|0;n=n|0;t=$a(t)|0;n=$a(n)|0;up[e&7](t,n);return}function as(){return 1692}function ss(e){e=e|0;return 2}function us(e){e=e|0;return hs()|0}function cs(){return 7761}function ls(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;r=p;p=p+16|0;i=r;t=$a(t)|0;l[i>>3]=+op[e&3](t);n=+Ia(i);p=r;return+n}function hs(){return 1704}function fs(e){e=e|0;return 3}function ds(e){e=e|0;return vs()|0}function ps(){return 7765}function ms(e,t,n){e=e|0;t=t|0;n=+n;t=$a(t)|0;n=+gs(n);ip[e&3](t,n);return}function gs(e){e=+e;return+e}function vs(){return 1712}function ys(e){e=e|0;return 1}function bs(e){e=e|0;return Es()|0}function ws(){return 7770}function Ms(e){e=e|0;var t=0,n=0;t=p;p=p+16|0;n=t;o[n>>2]=ap[e&1]()|0;e=Pa(n)|0;p=t;return e|0}function Es(){return 1724}function As(e){e=e|0;return 2}function xs(e){e=e|0;return ks()|0}function Ts(){return 7773}function _s(e,t){e=e|0;t=t|0;t=$a(t)|0;sp[e&15](t);return}function ks(){return 1728}function Ss(e,t){e=e|0;t=t|0;var n=0,r=0;r=0;while(1){if((r|0)==3)break;else n=0;while(1){if((n|0)==4)break;l[t+(r<<5)+(n<<3)>>3]=+l[e+(r<<5)+(n<<3)>>3];n=n+1|0}r=r+1|0}return}function Ns(e){e=e|0;return 2}function Ls(e){e=e|0;return Os()|0}function Ds(){return 9417}function Cs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=p;p=p+16|0;i=n+12|0;r=n;Is(r,t);o[i>>2]=cp[e&31](r)|0;t=Pa(i)|0;Sf(r);p=n;return t|0}function Is(e,t){e=e|0;t=t|0;var n=0;n=o[t>>2]|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;_f(e,t+4|0,n);return}function Os(){return 1736}function Rs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0;b=p;p=p+32|0;y=b+4|0;h=b;f=b+16|0;o[h>>2]=t;v=o[t>>2]|0;m=e+4|0;s=o[m>>2]|0;g=(s|0)==0;e:do if(!g){l=s+-1|0;r=(l&s|0)==0;if(r)u=l&v;else u=(v>>>0)%(s>>>0)|0;t=o[(o[e>>2]|0)+(u<<2)>>2]|0;if(!t){t=u;d=12}else do{t=o[t>>2]|0;if(!t){t=u;d=12;break e}n=o[t+4>>2]|0;if(r)n=n&l;else n=(n>>>0)%(s>>>0)|0;if((n|0)!=(u|0)){t=u;d=12;break e}}while((o[t+8>>2]|0)!=(v|0))}else{t=0;d=12}while(0);if((d|0)==12){js(y,e,v,15761,h,f);u=e+12|0;i=+(((o[u>>2]|0)+1|0)>>>0);a=+c[e+16>>2];do if(g|i>+(s>>>0)*a){t=(s>>>0<3|(s+-1&s|0)!=0)&1|s<<1;n=~~+W(+(i/a))>>>0;Ps(e,t>>>0<n>>>0?n:t);t=o[m>>2]|0;n=t+-1|0;if(!(n&t)){s=t;t=n&v;break}else{s=t;t=(v>>>0)%(t>>>0)|0;break}}while(0);n=o[(o[e>>2]|0)+(t<<2)>>2]|0;if(!n){r=e+8|0;o[o[y>>2]>>2]=o[r>>2];o[r>>2]=o[y>>2];o[(o[e>>2]|0)+(t<<2)>>2]=r;r=o[y>>2]|0;t=o[r>>2]|0;if(!t)t=y;else{t=o[t+4>>2]|0;n=s+-1|0;if(!(n&s))t=t&n;else t=(t>>>0)%(s>>>0)|0;o[(o[e>>2]|0)+(t<<2)>>2]=r;t=y}}else{o[o[y>>2]>>2]=o[n>>2];o[n>>2]=o[y>>2];t=y}y=o[t>>2]|0;o[u>>2]=(o[u>>2]|0)+1;o[t>>2]=0;t=y}p=b;return t+16|0}function js(e,t,n,i,a,s){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;s=s|0;s=Af(200)|0;o[e>>2]=s;o[e+4>>2]=t+8;o[s+8>>2]=o[o[a>>2]>>2];ld(s+16|0,0,184)|0;r[e+8>>0]=1;s=o[e>>2]|0;o[s+4>>2]=n;o[s>>2]=0;return}function Ps(e,t){e=e|0;t=t|0;var n=0,r=0;if((t|0)!=1){if(t+-1&t)t=bf(t)|0}else t=2;r=o[e+4>>2]|0;if(t>>>0<=r>>>0){if(t>>>0<r>>>0){n=~~+W(+(+((o[e+12>>2]|0)>>>0)/+c[e+16>>2]))>>>0;if(r>>>0>2&(r+-1&r|0)==0)n=1<<32-(Z(n+-1|0)|0);else n=bf(n)|0;t=t>>>0<n>>>0?n:t;if(t>>>0<r>>>0)Us(e,t)}}else Us(e,t);return}function Us(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0;r=e+4|0;e:do if(t){if(t>>>0>1073741823){e=ze(4)|0;ad(e);dt(e|0,256,6)}h=Af(t<<2)|0;n=o[e>>2]|0;o[e>>2]=h;if(n|0)xf(n);o[r>>2]=t;n=0;while(1){if((n|0)==(t|0))break;o[(o[e>>2]|0)+(n<<2)>>2]=0;n=n+1|0}i=e+8|0;n=o[i>>2]|0;if(n|0){r=o[n+4>>2]|0;l=t+-1|0;h=(l&t|0)==0;
if(h)r=r&l;else r=(r>>>0)%(t>>>0)|0;o[(o[e>>2]|0)+(r<<2)>>2]=i;while(1){c=n;t:while(1)while(1){n=o[c>>2]|0;if(!n)break e;i=o[n+4>>2]|0;if(h)u=i&l;else u=(i>>>0)%(t>>>0)|0;if((u|0)==(r|0)){c=n;continue t}i=(o[e>>2]|0)+(u<<2)|0;if(!(o[i>>2]|0))break t;a=n+8|0;i=n;while(1){s=o[i>>2]|0;if(!s)break;if((o[a>>2]|0)==(o[s+8>>2]|0))i=s;else break}o[c>>2]=s;o[i>>2]=o[o[(o[e>>2]|0)+(u<<2)>>2]>>2];o[o[(o[e>>2]|0)+(u<<2)>>2]>>2]=n}o[i>>2]=c;r=u}}}else{n=o[e>>2]|0;o[e>>2]=0;if(n|0)xf(n);o[r>>2]=0}while(0);return}function Fs(e){e=e|0;return 3}function zs(e){e=e|0;return Vs()|0}function Bs(){return 9581}function Hs(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;r=p;p=p+16|0;i=r;t=$a(t)|0;n=$a(n)|0;o[i>>2]=mp[e&15](t,n)|0;n=Pa(i)|0;p=r;return n|0}function Vs(){return 1744}function Gs(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=p;p=p+16|0;e=To(e,o[n>>2]|0)|0;o[r>>2]=e;e:do if(!e){di(3,9635,i);ni(o[n>>2]|0)|0;e=0}else switch(o[e+108>>2]|0){case 0:{bn(t,0)|0;e=1;break e}case 1:{bn(t,2)|0;e=1;break e}default:{bn(t,3)|0;e=1;break e}}while(0);p=i;return e|0}function Ys(e,t,n){e=e|0;t=t|0;n=n|0;return}function Qs(e){e=e|0;return}function Ws(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0;s=p;p=p+32|0;r=s;i=e+4|0;a=((o[i>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=qs(e)|0;if(n>>>0<a>>>0)Ef(e);u=o[e>>2]|0;l=(o[e+8>>2]|0)-u|0;c=l>>2;Xs(r,l>>3>>>0<n>>>1>>>0?c>>>0<a>>>0?a:c:n,(o[i>>2]|0)-u>>3,e+8|0);a=r+8|0;n=o[t+4>>2]|0;i=o[a>>2]|0;o[i>>2]=o[t>>2];o[i+4>>2]=n;o[a>>2]=(o[a>>2]|0)+8;Ks(e,r);Zs(r);p=s;return}function qs(e){e=e|0;return 536870911}function Xs(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;o[e+12>>2]=0;o[e+16>>2]=r;do if(t)if(t>>>0>536870911){n=ze(4)|0;ad(n);dt(n|0,256,6)}else{r=Af(t<<3)|0;break}else r=0;while(0);o[e>>2]=r;n=r+(n<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function Ks(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0;Js(e);r=o[e>>2]|0;s=e+4|0;a=t+4|0;i=(o[s>>2]|0)-r|0;n=(o[a>>2]|0)+(0-(i>>3)<<3)|0;o[a>>2]=n;if((i|0)>0){pd(n|0,r|0,i|0)|0;r=a;n=o[a>>2]|0}else r=a;a=o[e>>2]|0;o[e>>2]=n;o[r>>2]=a;n=t+8|0;a=o[s>>2]|0;o[s>>2]=o[n>>2];o[n>>2]=a;n=e+8|0;a=t+12|0;i=o[n>>2]|0;o[n>>2]=o[a>>2];o[a>>2]=i;o[t>>2]=o[r>>2];$s(e,(o[s>>2]|0)-(o[e>>2]|0)>>3);return}function Zs(e){e=e|0;var t=0,n=0,r=0,i=0;t=o[e+4>>2]|0;n=e+8|0;r=o[n>>2]|0;while(1){if((r|0)==(t|0))break;i=r+-8|0;o[n>>2]=i;r=i}e=o[e>>2]|0;if(e|0)xf(e);return}function Js(e){e=e|0;var t=0,n=0,r=0;r=o[e>>2]|0;n=r;t=r+((o[e+8>>2]|0)-n>>3<<3)|0;eu(e,r,t,r+((o[e+4>>2]|0)-n>>3<<3)|0,t);return}function $s(e,t){e=e|0;t=t|0;var n=0,r=0;n=o[e>>2]|0;r=n+((o[e+8>>2]|0)-n>>3<<3)|0;eu(e,n,r,r,n+(t<<3)|0);return}function eu(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;return}function tu(e){e=e|0;return 3}function nu(e){e=e|0;return iu()|0}function ru(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;r=p;p=p+16|0;a=r+12|0;i=r;t=$a(t)|0;Is(i,n);o[a>>2]=mp[e&15](t,i)|0;n=Pa(a)|0;Sf(i);p=r;return n|0}function iu(){return 1756}function ou(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;i=p;p=p+16|0;r=i;a=hi(o[n>>2]|0,e)|0;o[t>>2]=a;if((a|0)<0){o[r>>2]=e;di(3,9706,r);ni(o[n>>2]|0)|0;e=0}else e=1;p=i;return e|0}function au(e){e=e|0;return 2}function su(e){e=e|0;return cu()|0}function uu(e,t){e=e|0;t=t|0;var n=0,r=0;n=p;p=p+16|0;r=n;t=$a(t)|0;o[r>>2]=cp[e&31](t)|0;t=Pa(r)|0;p=n;return t|0}function cu(){return 1768}function lu(e){e=e|0;var t=0,n=0;t=e+212|0;n=o[t>>2]|0;if(n|0){$r(n)|0;ln(o[t>>2]|0)|0;o[t>>2]=0}t=e+224|0;if(o[t>>2]|0){rn(t)|0;o[t>>2]=0}t=e+192|0;if(o[t>>2]|0){Wi(t)|0;o[t>>2]=0}return}function hu(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=p;p=p+16|0;n=i+4|0;r=i;t=za(e,t)|0;if(!t)t=0;else{o[r>>2]=t;o[n>>2]=o[r>>2];fu(e,n)|0;t=1}p=i;return t|0}function fu(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,s=0,u=0;a=p;p=p+32|0;s=a+16|0;i=a+4|0;u=a;t=o[t>>2]|0;n=o[t>>2]|0;o[u>>2]=t;o[s>>2]=o[u>>2];du(i,e,s);t=o[i>>2]|0;o[i>>2]=0;if(t|0){if(r[i+8>>0]|0)Ga(t+8|0);xf(t)}p=a;return n|0}function du(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0;d=o[n>>2]|0;l=o[t+4>>2]|0;n=o[d+4>>2]|0;h=l+-1|0;s=(h&l|0)==0;if(s)u=h&n;else u=(n>>>0)%(l>>>0)|0;a=(o[t>>2]|0)+(u<<2)|0;f=o[a>>2]|0;while(1){n=o[f>>2]|0;if((n|0)==(d|0))break;else f=n}c=t+8|0;if((f|0)!=(c|0)){n=o[f+4>>2]|0;if(s)n=n&h;else n=(n>>>0)%(l>>>0)|0;if((n|0)!=(u|0))i=11}else i=11;do if((i|0)==11){n=o[d>>2]|0;if(n|0){n=o[n+4>>2]|0;if(s)n=n&h;else n=(n>>>0)%(l>>>0)|0;if((n|0)==(u|0))break}o[a>>2]=0}while(0);i=o[d>>2]|0;n=i;if(i){i=o[i+4>>2]|0;if(s)i=i&h;else i=(i>>>0)%(l>>>0)|0;if((i|0)!=(u|0)){o[(o[t>>2]|0)+(i<<2)>>2]=f;n=o[d>>2]|0}}o[f>>2]=n;o[d>>2]=0;t=t+12|0;o[t>>2]=(o[t>>2]|0)+-1;o[e>>2]=d;o[e+4>>2]=c;r[e+8>>0]=1;return}function pu(e){e=e|0;return 4}function mu(e){e=e|0;return yu()|0}function gu(){return 9752}function vu(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=p;p=p+16|0;a=i;t=$a(t)|0;n=$a(n)|0;r=$a(r)|0;o[a>>2]=tp[e&15](t,n,r)|0;r=Pa(a)|0;p=i;return r|0}function yu(){return 1776}function bu(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,h=0,f=0;f=p;p=p+48|0;h=f+24|0;c=f+16|0;s=f+8|0;i=f;n=f+32|0;r=f+28|0;o[n>>2]=e;o[r>>2]=t;do if((za(15128,n)|0)!=0?(u=Ba(15128,n)|0,(wu(15148,r)|0)!=0):0){a=u+8|0;pd(a|0,Rs(15148,r)|0,184)|0;e=o[a>>2]|0;t=u+204|0;n=o[u+12>>2]|0;r=u+208|0;if(!((e|0)==(o[t>>2]|0)?(n|0)==(o[r>>2]|0):0)){o[i>>2]=e;o[i+4>>2]=n;di(2,10064,i);ji(a,o[t>>2]|0,o[r>>2]|0,a)|0}lu(u);e=Qi(a,15)|0;n=u+192|0;o[n>>2]=e;if(!e){di(3,10111,s);e=-1;break}e=on(e)|0;t=u+212|0;o[t>>2]=e;if(!e){di(3,10149,c);e=-1;break}an(e,2)|0;c=tn(a)|0;o[u+224>>2]=c;if(!c){di(3,10186,h);e=-1;break}else{Jr(o[t>>2]|0,o[u+216>>2]|0)|0;ko(o[n>>2]|0,+l[u+232>>3],+l[u+240>>3],u+264|0);e=0;break}}else e=-1;while(0);p=f;return e|0}function wu(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0;r=o[t>>2]|0;i=o[e+4>>2]|0;e:do if(i){a=i+-1|0;s=(a&i|0)==0;if(s)n=a&r;else n=(r>>>0)%(i>>>0)|0;t=o[(o[e>>2]|0)+(n<<2)>>2]|0;if(t){do{t=o[t>>2]|0;if(!t){t=0;break e}e=o[t+4>>2]|0;if(s)e=e&a;else e=(e>>>0)%(i>>>0)|0;if((e|0)!=(n|0)){t=0;break e}}while((o[t+8>>2]|0)!=(r|0))}else t=0}else t=0;while(0);return t|0}function Mu(e){e=e|0;Eu(e);return}function Eu(e){e=e|0;var t=0;Au(e,o[e+8>>2]|0);t=o[e>>2]|0;o[e>>2]=0;if(t|0)xf(t);return}function Au(e,t){e=e|0;t=t|0;while(1){if(!t)break;e=o[t>>2]|0;xf(t);t=e}return}function xu(e){e=e|0;Tu(e);return}function Tu(e){e=e|0;var t=0;_u(e,o[e+8>>2]|0);t=o[e>>2]|0;o[e>>2]=0;if(t|0)xf(t);return}function _u(e,t){e=e|0;t=t|0;while(1){if(!t)break;e=o[t>>2]|0;Ga(t+8|0);xf(t);t=e}return}function ku(){Su();return}function Su(){Nu(0);return}function Nu(e){e=e|0;De(Lu()|0,10224);He(Du()|0,10229,1,1,0);Cu();Iu();Ou();Ru();ju();Pu();Uu();Fu();zu();Bu();Hu();_t(Vu()|0,10234);_t(Gu()|0,10246);We(Yu()|0,4,10279);Xe(Qu()|0,10292);Wu();qu(10308);Xu(10345);Ku(10384);Zu(10415);Ju(10455);$u(10484);ec();tc();qu(10522);Xu(10554);Ku(10587);Zu(10620);Ju(10654);$u(10687);nc();rc();ic();return}function Lu(){return nl()|0}function Du(){return tl()|0}function Cu(){tt($c()|0,11533,1,-128,127);return}function Iu(){tt(Zc()|0,11521,1,-128,127);return}function Ou(){tt(Xc()|0,11507,1,0,255);return}function Ru(){tt(Wc()|0,11501,2,-32768,32767);return}function ju(){tt(Yc()|0,11486,2,0,65535);return}function Pu(){tt(Vc()|0,11482,4,-2147483648,2147483647);return}function Uu(){tt(Bc()|0,11469,4,0,-1);return}function Fu(){tt(Fc()|0,11464,4,-2147483648,2147483647);return}function zu(){tt(Pc()|0,11450,4,0,-1);return}function Bu(){nt(Rc()|0,11444,4);return}function Hu(){nt(Ic()|0,11437,8);return}function Vu(){return Cc()|0}function Gu(){return Dc()|0}function Yu(){return Lc()|0}function Qu(){return Nc()|0}function Wu(){Ae(kc()|0,0,11231);return}function qu(e){e=e|0;Ae(Tc()|0,0,e|0);return}function Xu(e){e=e|0;Ae(Ac()|0,1,e|0);return}function Ku(e){e=e|0;Ae(Mc()|0,2,e|0);return}function Zu(e){e=e|0;Ae(bc()|0,3,e|0);return}function Ju(e){e=e|0;Ae(vc()|0,4,e|0);return}function $u(e){e=e|0;Ae(mc()|0,5,e|0);return}function ec(){Ae(dc()|0,4,10984);return}function tc(){Ae(hc()|0,5,10914);return}function nc(){Ae(cc()|0,6,10852);return}function rc(){Ae(sc()|0,7,10789);return}function ic(){Ae(oc()|0,7,10721);return}function oc(){return ac()|0}function ac(){return 40}function sc(){return uc()|0}function uc(){return 48}function cc(){return lc()|0}function lc(){return 56}function hc(){return fc()|0}function fc(){return 64}function dc(){return pc()|0}function pc(){return 72}function mc(){return gc()|0}function gc(){return 80}function vc(){return yc()|0}function yc(){return 88}function bc(){return wc()|0}function wc(){return 96}function Mc(){return Ec()|0}function Ec(){return 104}function Ac(){return xc()|0}function xc(){return 112}function Tc(){return _c()|0}function _c(){return 120}function kc(){return Sc()|0}function Sc(){return 128}function Nc(){return 136}function Lc(){return 144}function Dc(){return 168}function Cc(){return 8}function Ic(){return Oc()|0}function Oc(){return 384}function Rc(){return jc()|0}function jc(){return 376}function Pc(){return Uc()|0}function Uc(){return 368}function Fc(){return zc()|0}function zc(){return 360}function Bc(){return Hc()|0}function Hc(){return 352}function Vc(){return Gc()|0}function Gc(){return 344}function Yc(){return Qc()|0}function Qc(){return 336}function Wc(){return qc()|0}function qc(){return 328}function Xc(){return Kc()|0}function Kc(){return 312}function Zc(){return Jc()|0}function Jc(){return 320}function $c(){return el()|0}function el(){return 304}function tl(){return 296}function nl(){return 288}function rl(e){e=e|0;return xh(o[e+4>>2]|0)|0}function il(){return 15176}function ol(e){e=e|0;var t=0,n=0;t=p;p=p+16|0;n=t;o[n>>2]=fl(o[e+60>>2]|0)|0;e=ul(mt(6,n|0)|0)|0;p=t;return e|0}function al(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,m=0;f=p;p=p+48|0;l=f+16|0;a=f;i=f+32|0;u=e+28|0;r=o[u>>2]|0;o[i>>2]=r;c=e+20|0;r=(o[c>>2]|0)-r|0;o[i+4>>2]=r;o[i+8>>2]=t;o[i+12>>2]=n;r=r+n|0;s=e+60|0;o[a>>2]=o[s>>2];o[a+4>>2]=i;o[a+8>>2]=2;a=ul(Nt(146,a|0)|0)|0;e:do if((r|0)!=(a|0)){t=2;while(1){if((a|0)<0)break;r=r-a|0;m=o[i+4>>2]|0;d=a>>>0>m>>>0;i=d?i+8|0:i;t=(d<<31>>31)+t|0;m=a-(d?m:0)|0;o[i>>2]=(o[i>>2]|0)+m;d=i+4|0;o[d>>2]=(o[d>>2]|0)-m;o[l>>2]=o[s>>2];o[l+4>>2]=i;o[l+8>>2]=t;a=ul(Nt(146,l|0)|0)|0;if((r|0)==(a|0)){h=3;break e}}o[e+16>>2]=0;o[u>>2]=0;o[c>>2]=0;o[e>>2]=o[e>>2]|32;if((t|0)==2)n=0;else n=n-(o[i+4>>2]|0)|0}else h=3;while(0);if((h|0)==3){m=o[e+44>>2]|0;o[e+16>>2]=m+(o[e+48>>2]|0);o[u>>2]=m;o[c>>2]=m}p=f;return n|0}function sl(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;i=p;p=p+32|0;a=i;r=i+20|0;o[a>>2]=o[e+60>>2];o[a+4>>2]=0;o[a+8>>2]=t;o[a+12>>2]=r;o[a+16>>2]=n;if((ul(At(140,a|0)|0)|0)<0){o[r>>2]=-1;e=-1}else e=o[r>>2]|0;p=i;return e|0}function ul(e){e=e|0;if(e>>>0>4294963200){o[(cl()|0)>>2]=0-e;e=-1}return e|0}function cl(){return(ll()|0)+64|0}function ll(){return hl()|0}function hl(){return 2124}function fl(e){e=e|0;return e|0}function dl(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0,c=0,l=0,h=0;l=p;p=p+32|0;i=l;u=l+16|0;o[u>>2]=t;a=u+4|0;c=e+48|0;h=o[c>>2]|0;o[a>>2]=n-((h|0)!=0&1);s=e+44|0;o[u+8>>2]=o[s>>2];o[u+12>>2]=h;o[i>>2]=o[e+60>>2];o[i+4>>2]=u;o[i+8>>2]=2;i=ul(St(145,i|0)|0)|0;if((i|0)>=1){u=o[a>>2]|0;if(i>>>0>u>>>0){a=o[s>>2]|0;s=e+4|0;o[s>>2]=a;o[e+8>>2]=a+(i-u);if(!(o[c>>2]|0))i=n;else{o[s>>2]=a+1;r[t+(n+-1)>>0]=r[a>>0]|0;i=n}}}else o[e>>2]=o[e>>2]|i&48^16;p=l;return i|0}function pl(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0;a=p;p=p+32|0;i=a;o[e+36>>2]=1;if((o[e>>2]&64|0)==0?(o[i>>2]=o[e+60>>2],o[i+4>>2]=21523,o[i+8>>2]=a+16,Oe(54,i|0)|0):0)r[e+75>>0]=-1;i=al(e,t,n)|0;p=a;return i|0}function ml(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;o[e+104>>2]=t;n=o[e+8>>2]|0;r=o[e+4>>2]|0;i=n-r|0;o[e+108>>2]=i;o[e+100>>2]=(t|0)!=0&(i|0)>(t|0)?r+t|0:n;return}function gl(e,t,n,i,s){e=e|0;t=t|0;n=n|0;i=i|0;s=s|0;var u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0;e:do if(t>>>0>36){o[(cl()|0)>>2]=22;s=0;i=0}else{v=e+4|0;g=e+100|0;do{u=o[v>>2]|0;if(u>>>0<(o[g>>2]|0)>>>0){o[v>>2]=u+1;u=a[u>>0]|0}else u=vl(e)|0}while((yl(u)|0)!=0);t:do switch(u|0){case 43:case 45:{u=((u|0)==45)<<31>>31;c=o[v>>2]|0;if(c>>>0<(o[g>>2]|0)>>>0){o[v>>2]=c+1;m=u;u=a[c>>0]|0;break t}else{m=u;u=vl(e)|0;break t}}default:m=0}while(0);c=(t|0)==0;do if((t|16|0)==16&(u|0)==48){u=o[v>>2]|0;if(u>>>0<(o[g>>2]|0)>>>0){o[v>>2]=u+1;u=a[u>>0]|0}else u=vl(e)|0;if((u|32|0)!=120)if(c){t=8;d=46;break}else{d=32;break}u=o[v>>2]|0;if(u>>>0<(o[g>>2]|0)>>>0){o[v>>2]=u+1;u=a[u>>0]|0}else u=vl(e)|0;if((a[11539+u>>0]|0)>15){i=(o[g>>2]|0)!=0;if(i)o[v>>2]=(o[v>>2]|0)+-1;if(!n){ml(e,0);s=0;i=0;break e}if(!i){s=0;i=0;break e}o[v>>2]=(o[v>>2]|0)+-1;s=0;i=0;break e}else{t=16;d=46}}else{t=c?10:t;if((a[11539+u>>0]|0)>>>0<t>>>0)d=32;else{if(o[g>>2]|0)o[v>>2]=(o[v>>2]|0)+-1;ml(e,0);o[(cl()|0)>>2]=22;s=0;i=0;break e}}while(0);t:do if((d|0)==32)if((t|0)==10){t=u+-48|0;if(t>>>0<10){u=0;c=t;do{u=(u*10|0)+c|0;t=o[v>>2]|0;if(t>>>0<(o[g>>2]|0)>>>0){o[v>>2]=t+1;t=a[t>>0]|0}else t=vl(e)|0;c=t+-48|0}while(c>>>0<10&u>>>0<429496729);n=0}else{t=u;u=0;n=0}l=t+-48|0;if(l>>>0<10){c=t;do{t=bd(u|0,n|0,10,0)|0;h=I;f=((l|0)<0)<<31>>31;p=~f;if(h>>>0>p>>>0|(h|0)==(p|0)&t>>>0>~l>>>0){t=10;d=72;break t}u=fd(t|0,h|0,l|0,f|0)|0;n=I;t=o[v>>2]|0;if(t>>>0<(o[g>>2]|0)>>>0){o[v>>2]=t+1;c=a[t>>0]|0}else c=vl(e)|0;l=c+-48|0}while(l>>>0<10&(n>>>0<429496729|(n|0)==429496729&u>>>0<2576980378));if(l>>>0>9){c=m;t=n}else{t=10;d=72}}else{c=m;t=n}}else d=46;while(0);t:do if((d|0)==46){if(!(t+-1&t)){d=r[11795+((t*23|0)>>>5&7)>>0]|0;n=r[11539+u>>0]|0;c=n&255;if(c>>>0<t>>>0){u=0;l=c;do{u=l|u<<d;c=o[v>>2]|0;if(c>>>0<(o[g>>2]|0)>>>0){o[v>>2]=c+1;c=a[c>>0]|0}else c=vl(e)|0;n=r[11539+c>>0]|0;l=n&255}while(u>>>0<134217728&l>>>0<t>>>0);l=0}else{c=u;l=0;u=0}h=dd(-1,-1,d|0)|0;f=I;if((n&255)>>>0>=t>>>0|(l>>>0>f>>>0|(l|0)==(f|0)&u>>>0>h>>>0)){n=l;d=72;break}else c=l;while(1){u=hd(u|0,c|0,d|0)|0;l=I;u=n&255|u;c=o[v>>2]|0;if(c>>>0<(o[g>>2]|0)>>>0){o[v>>2]=c+1;c=a[c>>0]|0}else c=vl(e)|0;n=r[11539+c>>0]|0;if((n&255)>>>0>=t>>>0|(l>>>0>f>>>0|(l|0)==(f|0)&u>>>0>h>>>0)){n=l;d=72;break t}else c=l}}n=r[11539+u>>0]|0;c=n&255;if(c>>>0<t>>>0){u=0;l=c;do{u=l+(q(u,t)|0)|0;c=o[v>>2]|0;if(c>>>0<(o[g>>2]|0)>>>0){o[v>>2]=c+1;c=a[c>>0]|0}else c=vl(e)|0;n=r[11539+c>>0]|0;l=n&255}while(u>>>0<119304647&l>>>0<t>>>0);l=0}else{c=u;u=0;l=0}if((n&255)>>>0<t>>>0){d=vd(-1,-1,t|0,0)|0;p=I;f=l;while(1){if(f>>>0>p>>>0|(f|0)==(p|0)&u>>>0>d>>>0){n=f;d=72;break t}l=bd(u|0,f|0,t|0,0)|0;h=I;n=n&255;if(h>>>0>4294967295|(h|0)==-1&l>>>0>~n>>>0){n=f;d=72;break t}u=fd(n|0,0,l|0,h|0)|0;l=I;c=o[v>>2]|0;if(c>>>0<(o[g>>2]|0)>>>0){o[v>>2]=c+1;c=a[c>>0]|0}else c=vl(e)|0;n=r[11539+c>>0]|0;if((n&255)>>>0>=t>>>0){n=l;d=72;break}else f=l}}else{n=l;d=72}}while(0);if((d|0)==72)if((a[11539+c>>0]|0)>>>0<t>>>0){do{u=o[v>>2]|0;if(u>>>0<(o[g>>2]|0)>>>0){o[v>>2]=u+1;u=a[u>>0]|0}else u=vl(e)|0}while((a[11539+u>>0]|0)>>>0<t>>>0);o[(cl()|0)>>2]=34;c=(i&1|0)==0&0==0?m:0;t=s;u=i}else{c=m;t=n}if(o[g>>2]|0)o[v>>2]=(o[v>>2]|0)+-1;if(!(t>>>0<s>>>0|(t|0)==(s|0)&u>>>0<i>>>0)){if(!((i&1|0)!=0|0!=0|(c|0)!=0)){o[(cl()|0)>>2]=34;i=fd(i|0,s|0,-1,-1)|0;s=I;break}if(t>>>0>s>>>0|(t|0)==(s|0)&u>>>0>i>>>0){o[(cl()|0)>>2]=34;break}}i=((c|0)<0)<<31>>31;i=cd(u^c|0,t^i|0,c|0,i|0)|0;s=I}while(0);I=s;return i|0}function vl(e){e=e|0;var t=0,n=0,i=0,s=0,u=0,c=0,l=0;n=e+104|0;c=o[n>>2]|0;if((c|0)!=0?(o[e+108>>2]|0)>=(c|0):0)l=4;else{t=bl(e)|0;if((t|0)>=0){i=o[n>>2]|0;n=e+8|0;if(i){u=o[n>>2]|0;n=o[e+4>>2]|0;s=e+108|0;i=i-(o[s>>2]|0)|0;c=u;if((u-n|0)<(i|0)){u=c;i=c}else{u=n+(i+-1)|0;i=c}}else{i=o[n>>2]|0;s=e+108|0;u=i;n=o[e+4>>2]|0}o[e+100>>2]=u;if(i|0)o[s>>2]=i+1-n+(o[s>>2]|0);n=n+-1|0;if((a[n>>0]|0|0)!=(t|0))r[n>>0]=t}else l=4}if((l|0)==4){o[e+100>>2]=0;t=-1}return t|0}function yl(e){e=e|0;return((e|0)==32|(e+-9|0)>>>0<5)&1|0}function bl(e){e=e|0;var t=0,n=0;n=p;p=p+16|0;t=n;if((wl(e)|0)==0?(tp[o[e+32>>2]&15](e,t,1)|0)==1:0)e=a[t>>0]|0;else e=-1;p=n;return e|0}function wl(e){e=e|0;var t=0,n=0;t=e+74|0;n=r[t>>0]|0;r[t>>0]=n+255|n;t=e+20|0;n=e+28|0;if((o[t>>2]|0)>>>0>(o[n>>2]|0)>>>0)tp[o[e+36>>2]&15](e,0,0)|0;o[e+16>>2]=0;o[n>>2]=0;o[t>>2]=0;t=o[e>>2]|0;if(!(t&4)){n=(o[e+44>>2]|0)+(o[e+48>>2]|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;t=t<<27>>31}else{o[e>>2]=t|32;t=-1}return t|0}function Ml(e,t){e=+e;t=+t;var n=0,r=0;l[f>>3]=e;r=o[f>>2]|0;n=o[f+4>>2]|0;l[f>>3]=t;n=o[f+4>>2]&-2147483648|n&2147483647;o[f>>2]=r;o[f+4>>2]=n;return+ +l[f>>3]}function El(e,t){e=e|0;t=t|0;var n=0,i=0;n=r[e>>0]|0;i=r[t>>0]|0;if(n<<24>>24==0?1:n<<24>>24!=i<<24>>24)e=i;else{do{e=e+1|0;t=t+1|0;n=r[e>>0]|0;i=r[t>>0]|0}while(!(n<<24>>24==0?1:n<<24>>24!=i<<24>>24));e=i}return(n&255)-(e&255)|0}function Al(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var a=0,s=0,u=0,c=0,l=0,h=0,f=0;f=p;p=p+128|0;a=f+124|0;h=f;s=h;u=2496;c=s+124|0;do{o[s>>2]=o[u>>2];s=s+4|0;u=u+4|0}while((s|0)<(c|0));if((t+-1|0)>>>0>2147483646)if(!t){e=a;t=1;l=4}else{o[(cl()|0)>>2]=75;t=-1}else l=4;if((l|0)==4){l=-2-e|0;l=t>>>0>l>>>0?l:t;o[h+48>>2]=l;a=h+20|0;o[a>>2]=e;o[h+44>>2]=e;t=e+l|0;e=h+16|0;o[e>>2]=t;o[h+28>>2]=t;t=xl(h,n,i)|0;if(l){h=o[a>>2]|0;r[h+(((h|0)==(o[e>>2]|0))<<31>>31)>>0]=0}}p=f;return t|0}function xl(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0;y=p;p=p+224|0;f=y+120|0;d=y+80|0;g=y;v=y+136|0;i=d;a=i+40|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(a|0));o[f>>2]=o[n>>2];if((Tl(0,t,f,g,d)|0)<0)n=-1;else{if((o[e+76>>2]|0)>-1)m=_l(e)|0;else m=0;n=o[e>>2]|0;h=n&32;if((r[e+74>>0]|0)<1)o[e>>2]=n&-33;i=e+48|0;if(!(o[i>>2]|0)){a=e+44|0;s=o[a>>2]|0;o[a>>2]=v;u=e+28|0;o[u>>2]=v;c=e+20|0;o[c>>2]=v;o[i>>2]=80;l=e+16|0;o[l>>2]=v+80;n=Tl(e,t,f,g,d)|0;if(s){tp[o[e+36>>2]&15](e,0,0)|0;n=(o[c>>2]|0)==0?-1:n;o[a>>2]=s;o[i>>2]=0;o[l>>2]=0;o[u>>2]=0;o[c>>2]=0}}else n=Tl(e,t,f,g,d)|0;i=o[e>>2]|0;o[e>>2]=i|h;if(m|0)kl(e);n=(i&32|0)==0?n:-1}p=y;return n|0}function Tl(e,t,n,a,s){e=e|0;t=t|0;n=n|0;a=a|0;s=s|0;var u=0,c=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0;C=p;p=p+64|0;S=C+16|0;N=C;_=C+24|0;L=C+8|0;D=C+20|0;o[S>>2]=t;A=(e|0)!=0;x=_+40|0;T=x;_=_+39|0;k=L+4|0;c=0;u=0;m=0;e:while(1){do if((u|0)>-1)if((c|0)>(2147483647-u|0)){o[(cl()|0)>>2]=75;u=-1;break}else{u=c+u|0;break}while(0);c=r[t>>0]|0;if(!(c<<24>>24)){E=87;break}else h=t;t:while(1){switch(c<<24>>24){case 37:{c=h;E=9;break t}case 0:{c=h;break t}default:{}}M=h+1|0;o[S>>2]=M;c=r[M>>0]|0;h=M}t:do if((E|0)==9)while(1){E=0;if((r[h+1>>0]|0)!=37)break t;c=c+1|0;h=h+2|0;o[S>>2]=h;if((r[h>>0]|0)==37)E=9;else break}while(0);c=c-t|0;if(A)Sl(e,t,c);if(c|0){t=h;continue}f=h+1|0;c=(r[f>>0]|0)+-48|0;if(c>>>0<10){M=(r[h+2>>0]|0)==36;w=M?c:-1;m=M?1:m;f=M?h+3|0:f}else w=-1;o[S>>2]=f;c=r[f>>0]|0;h=(c<<24>>24)+-32|0;t:do if(h>>>0<32){d=0;g=c;while(1){c=1<<h;if(!(c&75913)){c=g;break t}d=c|d;f=f+1|0;o[S>>2]=f;c=r[f>>0]|0;h=(c<<24>>24)+-32|0;if(h>>>0>=32)break;else g=c}}else d=0;while(0);if(c<<24>>24==42){h=f+1|0;c=(r[h>>0]|0)+-48|0;if(c>>>0<10?(r[f+2>>0]|0)==36:0){o[s+(c<<2)>>2]=10;c=o[a+((r[h>>0]|0)+-48<<3)>>2]|0;m=1;f=f+3|0}else{if(m|0){u=-1;break}if(A){m=(o[n>>2]|0)+(4-1)&~(4-1);c=o[m>>2]|0;o[n>>2]=m+4;m=0;f=h}else{c=0;m=0;f=h}}o[S>>2]=f;M=(c|0)<0;c=M?0-c|0:c;d=M?d|8192:d}else{c=Nl(S)|0;if((c|0)<0){u=-1;break}f=o[S>>2]|0}do if((r[f>>0]|0)==46){if((r[f+1>>0]|0)!=42){o[S>>2]=f+1;h=Nl(S)|0;f=o[S>>2]|0;break}g=f+2|0;h=(r[g>>0]|0)+-48|0;if(h>>>0<10?(r[f+3>>0]|0)==36:0){o[s+(h<<2)>>2]=10;h=o[a+((r[g>>0]|0)+-48<<3)>>2]|0;f=f+4|0;o[S>>2]=f;break}if(m|0){u=-1;break e}if(A){M=(o[n>>2]|0)+(4-1)&~(4-1);h=o[M>>2]|0;o[n>>2]=M+4}else h=0;o[S>>2]=g;f=g}else h=-1;while(0);b=0;while(1){if(((r[f>>0]|0)+-65|0)>>>0>57){u=-1;break e}M=f+1|0;o[S>>2]=M;g=r[(r[f>>0]|0)+-65+(11804+(b*58|0))>>0]|0;v=g&255;if((v+-1|0)>>>0<8){b=v;f=M}else break}if(!(g<<24>>24)){u=-1;break}y=(w|0)>-1;do if(g<<24>>24==19)if(y){u=-1;break e}else E=49;else{if(y){o[s+(w<<2)>>2]=v;y=a+(w<<3)|0;w=o[y+4>>2]|0;E=N;o[E>>2]=o[y>>2];o[E+4>>2]=w;E=49;break}if(!A){u=0;break e}Ll(N,v,n)}while(0);if((E|0)==49?(E=0,!A):0){c=0;t=M;continue}f=r[f>>0]|0;f=(b|0)!=0&(f&15|0)==3?f&-33:f;y=d&-65537;w=(d&8192|0)==0?d:y;t:do switch(f|0){case 110:switch((b&255)<<24>>24){case 0:{o[o[N>>2]>>2]=u;c=0;t=M;continue e}case 1:{o[o[N>>2]>>2]=u;c=0;t=M;continue e}case 2:{c=o[N>>2]|0;o[c>>2]=u;o[c+4>>2]=((u|0)<0)<<31>>31;c=0;t=M;continue e}case 3:{i[o[N>>2]>>1]=u;c=0;t=M;continue e}case 4:{r[o[N>>2]>>0]=u;c=0;t=M;continue e}case 6:{o[o[N>>2]>>2]=u;c=0;t=M;continue e}case 7:{c=o[N>>2]|0;o[c>>2]=u;o[c+4>>2]=((u|0)<0)<<31>>31;c=0;t=M;continue e}default:{c=0;t=M;continue e}}case 112:{f=120;h=h>>>0>8?h:8;t=w|8;E=61;break}case 88:case 120:{t=w;E=61;break}case 111:{f=N;t=o[f>>2]|0;f=o[f+4>>2]|0;v=Cl(t,f,x)|0;y=T-v|0;d=0;g=12268;h=(w&8|0)==0|(h|0)>(y|0)?h:y+1|0;y=w;E=67;break}case 105:case 100:{f=N;t=o[f>>2]|0;f=o[f+4>>2]|0;if((f|0)<0){t=cd(0,0,t|0,f|0)|0;f=I;d=N;o[d>>2]=t;o[d+4>>2]=f;d=1;g=12268;E=66;break t}else{d=(w&2049|0)!=0&1;g=(w&2048|0)==0?(w&1|0)==0?12268:12270:12269;E=66;break t}}case 117:{f=N;d=0;g=12268;t=o[f>>2]|0;f=o[f+4>>2]|0;E=66;break}case 99:{r[_>>0]=o[N>>2];t=_;d=0;g=12268;v=x;f=1;h=y;break}case 109:{f=Ol(o[(cl()|0)>>2]|0)|0;E=71;break}case 115:{f=o[N>>2]|0;f=f|0?f:12278;E=71;break}case 67:{o[L>>2]=o[N>>2];o[k>>2]=0;o[N>>2]=L;v=-1;f=L;E=75;break}case 83:{t=o[N>>2]|0;if(!h){jl(e,32,c,0,w);t=0;E=84}else{v=h;f=t;E=75}break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{c=Ul(e,+l[N>>3],c,h,w,f)|0;t=M;continue e}default:{d=0;g=12268;v=x;f=h;h=w}}while(0);t:do if((E|0)==61){w=N;b=o[w>>2]|0;w=o[w+4>>2]|0;v=Dl(b,w,x,f&32)|0;g=(t&8|0)==0|(b|0)==0&(w|0)==0;d=g?0:2;g=g?12268:12268+(f>>4)|0;y=t;t=b;f=w;E=67}else if((E|0)==66){v=Il(t,f,x)|0;y=w;E=67}else if((E|0)==71){E=0;w=Rl(f,0,h)|0;b=(w|0)==0;t=f;d=0;g=12268;v=b?f+h|0:w;f=b?h:w-f|0;h=y}else if((E|0)==75){E=0;g=f;t=0;h=0;while(1){d=o[g>>2]|0;if(!d)break;h=Pl(D,d)|0;if((h|0)<0|h>>>0>(v-t|0)>>>0)break;t=h+t|0;if(v>>>0>t>>>0)g=g+4|0;else break}if((h|0)<0){u=-1;break e}jl(e,32,c,t,w);if(!t){t=0;E=84}else{d=0;while(1){h=o[f>>2]|0;if(!h){E=84;break t}h=Pl(D,h)|0;d=h+d|0;if((d|0)>(t|0)){E=84;break t}Sl(e,D,h);if(d>>>0>=t>>>0){E=84;break}else f=f+4|0}}}while(0);if((E|0)==67){E=0;f=(t|0)!=0|(f|0)!=0;w=(h|0)!=0|f;f=((f^1)&1)+(T-v)|0;t=w?v:x;v=x;f=w?(h|0)>(f|0)?h:f:h;h=(h|0)>-1?y&-65537:y}else if((E|0)==84){E=0;jl(e,32,c,t,w^8192);c=(c|0)>(t|0)?c:t;t=M;continue}b=v-t|0;y=(f|0)<(b|0)?b:f;w=y+d|0;c=(c|0)<(w|0)?w:c;jl(e,32,c,w,h);Sl(e,g,d);jl(e,48,c,w,h^65536);jl(e,48,y,b,0);Sl(e,t,b);jl(e,32,c,w,h^8192);t=M}e:do if((E|0)==87)if(!e)if(!m)u=0;else{u=1;while(1){t=o[s+(u<<2)>>2]|0;if(!t)break;Ll(a+(u<<3)|0,t,n);u=u+1|0;if((u|0)>=10){u=1;break e}}while(1){if(o[s+(u<<2)>>2]|0){u=-1;break e}u=u+1|0;if((u|0)>=10){u=1;break}}}while(0);p=C;return u|0}function _l(e){e=e|0;return 0}function kl(e){e=e|0;return}function Sl(e,t,n){e=e|0;t=t|0;n=n|0;if(!(o[e>>2]&32))Kl(t,n,e)|0;return}function Nl(e){e=e|0;var t=0,n=0,i=0;n=o[e>>2]|0;i=(r[n>>0]|0)+-48|0;if(i>>>0<10){t=0;do{t=i+(t*10|0)|0;n=n+1|0;o[e>>2]=n;i=(r[n>>0]|0)+-48|0}while(i>>>0<10)}else t=0;return t|0}function Ll(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;e:do if(t>>>0<=20)do switch(t|0){case 9:{r=(o[n>>2]|0)+(4-1)&~(4-1);t=o[r>>2]|0;o[n>>2]=r+4;o[e>>2]=t;break e}case 10:{r=(o[n>>2]|0)+(4-1)&~(4-1);t=o[r>>2]|0;o[n>>2]=r+4;r=e;o[r>>2]=t;o[r+4>>2]=((t|0)<0)<<31>>31;break e}case 11:{r=(o[n>>2]|0)+(4-1)&~(4-1);t=o[r>>2]|0;o[n>>2]=r+4;r=e;o[r>>2]=t;o[r+4>>2]=0;break e}case 12:{r=(o[n>>2]|0)+(8-1)&~(8-1);t=r;i=o[t>>2]|0;t=o[t+4>>2]|0;o[n>>2]=r+8;r=e;o[r>>2]=i;o[r+4>>2]=t;break e}case 13:{i=(o[n>>2]|0)+(4-1)&~(4-1);r=o[i>>2]|0;o[n>>2]=i+4;r=(r&65535)<<16>>16;i=e;o[i>>2]=r;o[i+4>>2]=((r|0)<0)<<31>>31;break e}case 14:{i=(o[n>>2]|0)+(4-1)&~(4-1);r=o[i>>2]|0;o[n>>2]=i+4;i=e;o[i>>2]=r&65535;o[i+4>>2]=0;break e}case 15:{i=(o[n>>2]|0)+(4-1)&~(4-1);r=o[i>>2]|0;o[n>>2]=i+4;r=(r&255)<<24>>24;i=e;o[i>>2]=r;o[i+4>>2]=((r|0)<0)<<31>>31;break e}case 16:{i=(o[n>>2]|0)+(4-1)&~(4-1);r=o[i>>2]|0;o[n>>2]=i+4;i=e;o[i>>2]=r&255;o[i+4>>2]=0;break e}case 17:{i=(o[n>>2]|0)+(8-1)&~(8-1);a=+l[i>>3];o[n>>2]=i+8;l[e>>3]=a;break e}case 18:{i=(o[n>>2]|0)+(8-1)&~(8-1);a=+l[i>>3];o[n>>2]=i+8;l[e>>3]=a;break e}default:break e}while(0);while(0);return}function Dl(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;if(!((e|0)==0&(t|0)==0))do{n=n+-1|0;r[n>>0]=a[12316+(e&15)>>0]|0|i;e=dd(e|0,t|0,4)|0;t=I}while(!((e|0)==0&(t|0)==0));return n|0}function Cl(e,t,n){e=e|0;t=t|0;n=n|0;if(!((e|0)==0&(t|0)==0))do{n=n+-1|0;r[n>>0]=e&7|48;e=dd(e|0,t|0,3)|0;t=I}while(!((e|0)==0&(t|0)==0));return n|0}function Il(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295){while(1){i=Md(e|0,t|0,10,0)|0;n=n+-1|0;r[n>>0]=i&255|48;i=e;e=vd(e|0,t|0,10,0)|0;if(!(t>>>0>9|(t|0)==9&i>>>0>4294967295))break;else t=I}t=e}else t=e;if(t)while(1){n=n+-1|0;r[n>>0]=(t>>>0)%10|0|48;if(t>>>0<10)break;else t=(t>>>0)/10|0}return n|0}function Ol(e){e=e|0;return Yl(e,o[(Gl()|0)+188>>2]|0)|0}function Rl(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0;s=t&255;i=(n|0)!=0;e:do if(i&(e&3|0)!=0){a=t&255;while(1){if((r[e>>0]|0)==a<<24>>24){u=6;break e}e=e+1|0;n=n+-1|0;i=(n|0)!=0;if(!(i&(e&3|0)!=0)){u=5;break}}}else u=5;while(0);if((u|0)==5)if(i)u=6;else n=0;e:do if((u|0)==6){a=t&255;if((r[e>>0]|0)!=a<<24>>24){i=q(s,16843009)|0;t:do if(n>>>0>3)while(1){s=o[e>>2]^i;if((s&-2139062144^-2139062144)&s+-16843009|0)break;e=e+4|0;n=n+-4|0;if(n>>>0<=3){u=11;break t}}else u=11;while(0);if((u|0)==11)if(!n){n=0;break}while(1){if((r[e>>0]|0)==a<<24>>24)break e;e=e+1|0;n=n+-1|0;if(!n){n=0;break}}}}while(0);return(n|0?e:0)|0}function jl(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var o=0,a=0;a=p;p=p+256|0;o=a;if((n|0)>(r|0)&(i&73728|0)==0){i=n-r|0;ld(o|0,t|0,(i>>>0<256?i:256)|0)|0;if(i>>>0>255){t=n-r|0;do{Sl(e,o,256);i=i+-256|0}while(i>>>0>255);i=t&255}Sl(e,o,i)}p=a;return}function Pl(e,t){e=e|0;t=t|0;if(!e)e=0;else e=Hl(e,t,0)|0;return e|0}function Ul(e,t,n,i,s,u){e=e|0;t=+t;n=n|0;i=i|0;s=s|0;u=u|0;var c=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0;C=p;p=p+560|0;h=C+8|0;w=C;D=C+524|0;L=D;f=C+512|0;o[w>>2]=0;N=f+12|0;Fl(t)|0;if((I|0)<0){t=-t;k=1;_=12285}else{k=(s&2049|0)!=0&1;_=(s&2048|0)==0?(s&1|0)==0?12286:12291:12288}Fl(t)|0;S=I&2146435072;do if(S>>>0<2146435072|(S|0)==2146435072&0<0){v=+zl(t,w)*2;c=v!=0;if(c)o[w>>2]=(o[w>>2]|0)+-1;E=u|32;if((E|0)==97){y=u&32;g=(y|0)==0?_:_+9|0;m=k|2;c=12-i|0;do if(!(i>>>0>11|(c|0)==0)){t=8;do{c=c+-1|0;t=t*16}while((c|0)!=0);if((r[g>>0]|0)==45){t=-(t+(-v-t));break}else{t=v+t-t;break}}else t=v;while(0);l=o[w>>2]|0;c=(l|0)<0?0-l|0:l;c=Il(c,((c|0)<0)<<31>>31,N)|0;if((c|0)==(N|0)){c=f+11|0;r[c>>0]=48}r[c+-1>>0]=(l>>31&2)+43;d=c+-2|0;r[d>>0]=u+15;f=(i|0)<1;h=(s&8|0)==0;c=D;do{S=~~t;l=c+1|0;r[c>>0]=a[12316+S>>0]|y;t=(t-+(S|0))*16;if((l-L|0)==1?!(h&(f&t==0)):0){r[l>>0]=46;c=c+2|0}else c=l}while(t!=0);S=c-L|0;L=N-d|0;N=(i|0)!=0&(S+-2|0)<(i|0)?i+2|0:S;c=L+m+N|0;jl(e,32,n,c,s);Sl(e,g,m);jl(e,48,n,c,s^65536);Sl(e,D,S);jl(e,48,N-S|0,0,0);Sl(e,d,L);jl(e,32,n,c,s^8192);break}l=(i|0)<0?6:i;if(c){c=(o[w>>2]|0)+-28|0;o[w>>2]=c;t=v*268435456}else{t=v;c=o[w>>2]|0}S=(c|0)<0?h:h+288|0;h=S;do{x=~~t>>>0;o[h>>2]=x;h=h+4|0;t=(t-+(x>>>0))*1e9}while(t!=0);if((c|0)>0){f=S;m=h;while(1){d=(c|0)<29?c:29;c=m+-4|0;if(c>>>0>=f>>>0){h=0;do{A=hd(o[c>>2]|0,0,d|0)|0;A=fd(A|0,I|0,h|0,0)|0;x=I;M=Md(A|0,x|0,1e9,0)|0;o[c>>2]=M;h=vd(A|0,x|0,1e9,0)|0;c=c+-4|0}while(c>>>0>=f>>>0);if(h){f=f+-4|0;o[f>>2]=h}}h=m;while(1){if(h>>>0<=f>>>0)break;c=h+-4|0;if(!(o[c>>2]|0))h=c;else break}c=(o[w>>2]|0)-d|0;o[w>>2]=c;if((c|0)>0)m=h;else break}}else f=S;if((c|0)<0){i=((l+25|0)/9|0)+1|0;b=(E|0)==102;do{y=0-c|0;y=(y|0)<9?y:9;if(f>>>0<h>>>0){d=(1<<y)+-1|0;m=1e9>>>y;g=0;c=f;do{x=o[c>>2]|0;o[c>>2]=(x>>>y)+g;g=q(x&d,m)|0;c=c+4|0}while(c>>>0<h>>>0);c=(o[f>>2]|0)==0?f+4|0:f;if(!g){f=c;c=h}else{o[h>>2]=g;f=c;c=h+4|0}}else{f=(o[f>>2]|0)==0?f+4|0:f;c=h}h=b?S:f;h=(c-h>>2|0)>(i|0)?h+(i<<2)|0:c;c=(o[w>>2]|0)+y|0;o[w>>2]=c}while((c|0)<0);c=f;i=h}else{c=f;i=h}x=S;if(c>>>0<i>>>0){h=(x-c>>2)*9|0;d=o[c>>2]|0;if(d>>>0>=10){f=10;do{f=f*10|0;h=h+1|0}while(d>>>0>=f>>>0)}}else h=0;b=(E|0)==103;M=(l|0)!=0;f=l-((E|0)!=102?h:0)+((M&b)<<31>>31)|0;if((f|0)<(((i-x>>2)*9|0)+-9|0)){f=f+9216|0;y=S+4+(((f|0)/9|0)+-1024<<2)|0;f=((f|0)%9|0)+1|0;if((f|0)<9){d=10;do{d=d*10|0;f=f+1|0}while((f|0)!=9)}else d=10;m=o[y>>2]|0;g=(m>>>0)%(d>>>0)|0;f=(y+4|0)==(i|0);if(!(f&(g|0)==0)){v=(((m>>>0)/(d>>>0)|0)&1|0)==0?9007199254740992:9007199254740994;A=(d|0)/2|0;t=g>>>0<A>>>0?.5:f&(g|0)==(A|0)?1:1.5;if(k){A=(r[_>>0]|0)==45;t=A?-t:t;v=A?-v:v}f=m-g|0;o[y>>2]=f;if(v+t!=v){A=f+d|0;o[y>>2]=A;if(A>>>0>999999999){h=y;while(1){f=h+-4|0;o[h>>2]=0;if(f>>>0<c>>>0){c=c+-4|0;o[c>>2]=0}A=(o[f>>2]|0)+1|0;o[f>>2]=A;if(A>>>0>999999999)h=f;else break}}else f=y;h=(x-c>>2)*9|0;m=o[c>>2]|0;if(m>>>0>=10){d=10;do{d=d*10|0;h=h+1|0}while(m>>>0>=d>>>0)}}else f=y}else f=y;f=f+4|0;f=i>>>0>f>>>0?f:i;A=c}else{f=i;A=c}E=f;while(1){if(E>>>0<=A>>>0){w=0;break}c=E+-4|0;if(!(o[c>>2]|0))E=c;else{w=1;break}}i=0-h|0;do if(b){c=((M^1)&1)+l|0;if((c|0)>(h|0)&(h|0)>-5){d=u+-1|0;l=c+-1-h|0}else{d=u+-2|0;l=c+-1|0}c=s&8;if(!c){if(w?(T=o[E+-4>>2]|0,(T|0)!=0):0)if(!((T>>>0)%10|0)){f=0;c=10;do{c=c*10|0;f=f+1|0}while(!((T>>>0)%(c>>>0)|0|0))}else f=0;else f=9;c=((E-x>>2)*9|0)+-9|0;if((d|32|0)==102){y=c-f|0;y=(y|0)>0?y:0;l=(l|0)<(y|0)?l:y;y=0;break}else{y=c+h-f|0;y=(y|0)>0?y:0;l=(l|0)<(y|0)?l:y;y=0;break}}else y=c}else{d=u;y=s&8}while(0);b=l|y;m=(b|0)!=0&1;g=(d|32|0)==102;if(g){M=0;c=(h|0)>0?h:0}else{c=(h|0)<0?i:h;c=Il(c,((c|0)<0)<<31>>31,N)|0;f=N;if((f-c|0)<2)do{c=c+-1|0;r[c>>0]=48}while((f-c|0)<2);r[c+-1>>0]=(h>>31&2)+43;c=c+-2|0;r[c>>0]=d;M=c;c=f-c|0}c=k+1+l+m+c|0;jl(e,32,n,c,s);Sl(e,_,k);jl(e,48,n,c,s^65536);if(g){d=A>>>0>S>>>0?S:A;y=D+9|0;m=y;g=D+8|0;f=d;do{h=Il(o[f>>2]|0,0,y)|0;if((f|0)==(d|0)){if((h|0)==(y|0)){r[g>>0]=48;h=g}}else if(h>>>0>D>>>0){ld(D|0,48,h-L|0)|0;do h=h+-1|0;while(h>>>0>D>>>0)}Sl(e,h,m-h|0);f=f+4|0}while(f>>>0<=S>>>0);if(b|0)Sl(e,12332,1);if(f>>>0<E>>>0&(l|0)>0)while(1){h=Il(o[f>>2]|0,0,y)|0;if(h>>>0>D>>>0){ld(D|0,48,h-L|0)|0;do h=h+-1|0;while(h>>>0>D>>>0)}Sl(e,h,(l|0)<9?l:9);f=f+4|0;h=l+-9|0;if(!(f>>>0<E>>>0&(l|0)>9)){l=h;break}else l=h}jl(e,48,l+9|0,9,0)}else{b=w?E:A+4|0;if((l|0)>-1){w=D+9|0;y=(y|0)==0;i=w;m=0-L|0;g=D+8|0;d=A;do{h=Il(o[d>>2]|0,0,w)|0;if((h|0)==(w|0)){r[g>>0]=48;h=g}do if((d|0)==(A|0)){f=h+1|0;Sl(e,h,1);if(y&(l|0)<1){h=f;break}Sl(e,12332,1);h=f}else{if(h>>>0<=D>>>0)break;ld(D|0,48,h+m|0)|0;do h=h+-1|0;while(h>>>0>D>>>0)}while(0);L=i-h|0;Sl(e,h,(l|0)>(L|0)?L:l);l=l-L|0;d=d+4|0}while(d>>>0<b>>>0&(l|0)>-1)}jl(e,48,l+18|0,18,0);Sl(e,M,N-M|0)}jl(e,32,n,c,s^8192)}else{D=(u&32|0)!=0;c=k+3|0;jl(e,32,n,c,s&-65537);Sl(e,_,k);Sl(e,t!=t|0!=0?D?14235:12312:D?12304:12308,3);jl(e,32,n,c,s^8192)}while(0);p=C;return((c|0)<(n|0)?n:c)|0}function Fl(e){e=+e;var t=0;l[f>>3]=e;t=o[f>>2]|0;I=o[f+4>>2]|0;return t|0}function zl(e,t){e=+e;t=t|0;return+ +Bl(e,t)}function Bl(e,t){e=+e;t=t|0;var n=0,r=0,i=0;l[f>>3]=e;n=o[f>>2]|0;r=o[f+4>>2]|0;i=dd(n|0,r|0,52)|0;switch(i&2047){case 0:{if(e!=0){e=+Bl(e*0x10000000000000000,t);n=(o[t>>2]|0)+-64|0}else n=0;o[t>>2]=n;break}case 2047:break;default:{o[t>>2]=(i&2047)+-1022;o[f>>2]=n;o[f+4>>2]=r&-2146435073|1071644672;e=+l[f>>3]}}return+e}function Hl(e,t,n){e=e|0;t=t|0;n=n|0;do if(e){if(t>>>0<128){r[e>>0]=t;e=1;break}if(!(o[o[(Vl()|0)+188>>2]>>2]|0))if((t&-128|0)==57216){r[e>>0]=t;e=1;break}else{o[(cl()|0)>>2]=84;e=-1;break}if(t>>>0<2048){r[e>>0]=t>>>6|192;r[e+1>>0]=t&63|128;e=2;break}if(t>>>0<55296|(t&-8192|0)==57344){r[e>>0]=t>>>12|224;r[e+1>>0]=t>>>6&63|128;r[e+2>>0]=t&63|128;e=3;break}if((t+-65536|0)>>>0<1048576){r[e>>0]=t>>>18|240;r[e+1>>0]=t>>>12&63|128;r[e+2>>0]=t>>>6&63|128;r[e+3>>0]=t&63|128;e=4;break}else{o[(cl()|0)>>2]=84;e=-1;break}}else e=1;while(0);return e|0}function Vl(){return hl()|0}function Gl(){return hl()|0}function Yl(e,t){e=e|0;t=t|0;var n=0,i=0;i=0;while(1){if((a[12334+i>>0]|0)==(e|0)){e=2;break}n=i+1|0;if((n|0)==87){n=12422;i=87;e=5;break}else i=n}if((e|0)==2)if(!i)n=12422;else{n=12422;e=5}if((e|0)==5)while(1){do{e=n;n=n+1|0}while((r[e>>0]|0)!=0);i=i+-1|0;if(!i)break;else e=5}return Ql(n,o[t+20>>2]|0)|0}function Ql(e,t){e=e|0;t=t|0;return Wl(e,t)|0}function Wl(e,t){e=e|0;t=t|0;if(!t)t=0;else t=ql(o[t>>2]|0,o[t+4>>2]|0,e)|0;return(t|0?t:e)|0}function ql(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0;p=(o[e>>2]|0)+1794895138|0;s=Xl(o[e+8>>2]|0,p)|0;i=Xl(o[e+12>>2]|0,p)|0;a=Xl(o[e+16>>2]|0,p)|0;e:do if((s>>>0<t>>>2>>>0?(d=t-(s<<2)|0,i>>>0<d>>>0&a>>>0<d>>>0):0)?((a|i)&3|0)==0:0){d=i>>>2;f=a>>>2;h=0;while(1){c=s>>>1;l=h+c|0;u=l<<1;a=u+d|0;i=Xl(o[e+(a<<2)>>2]|0,p)|0;
a=Xl(o[e+(a+1<<2)>>2]|0,p)|0;if(!(a>>>0<t>>>0&i>>>0<(t-a|0)>>>0)){i=0;break e}if(r[e+(a+i)>>0]|0){i=0;break e}i=El(n,e+a|0)|0;if(!i)break;i=(i|0)<0;if((s|0)==1){i=0;break e}else{h=i?h:l;s=i?c:s-c|0}}i=u+f|0;a=Xl(o[e+(i<<2)>>2]|0,p)|0;i=Xl(o[e+(i+1<<2)>>2]|0,p)|0;if(i>>>0<t>>>0&a>>>0<(t-i|0)>>>0)i=(r[e+(i+a)>>0]|0)==0?e+i|0:0;else i=0}else i=0;while(0);return i|0}function Xl(e,t){e=e|0;t=t|0;var n=0;n=Ed(e|0)|0;return((t|0)==0?e:n)|0}function Kl(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0,c=0;i=n+16|0;a=o[i>>2]|0;if(!a)if(!(Zl(n)|0)){a=o[i>>2]|0;s=5}else i=0;else s=5;e:do if((s|0)==5){c=n+20|0;u=o[c>>2]|0;i=u;if((a-u|0)>>>0<t>>>0){i=tp[o[n+36>>2]&15](n,e,t)|0;break}t:do if((r[n+75>>0]|0)>-1){u=t;while(1){if(!u){s=0;a=e;break t}a=u+-1|0;if((r[e+a>>0]|0)==10)break;else u=a}i=tp[o[n+36>>2]&15](n,e,u)|0;if(i>>>0<u>>>0)break e;s=u;a=e+u|0;t=t-u|0;i=o[c>>2]|0}else{s=0;a=e}while(0);pd(i|0,a|0,t|0)|0;o[c>>2]=(o[c>>2]|0)+t;i=s+t|0}while(0);return i|0}function Zl(e){e=e|0;var t=0,n=0;t=e+74|0;n=r[t>>0]|0;r[t>>0]=n+255|n;t=o[e>>2]|0;if(!(t&8)){o[e+8>>2]=0;o[e+4>>2]=0;n=o[e+44>>2]|0;o[e+28>>2]=n;o[e+20>>2]=n;o[e+16>>2]=n+(o[e+48>>2]|0);e=0}else{o[e>>2]=t|32;e=-1}return e|0}function Jl(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;r=e+20|0;i=o[r>>2]|0;e=(o[e+16>>2]|0)-i|0;e=e>>>0>n>>>0?n:e;pd(i|0,t|0,e|0)|0;o[r>>2]=(o[r>>2]|0)+e;return n|0}function $l(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0;h=p;p=p+208|0;c=h+8|0;l=h;s=q(n,t)|0;u=l;o[u>>2]=1;o[u+4>>2]=0;e:do if(s|0){u=0-n|0;o[c+4>>2]=n;o[c>>2]=n;i=2;t=n;a=n;while(1){t=t+n+a|0;o[c+(i<<2)>>2]=t;if(t>>>0<s>>>0){f=a;i=i+1|0;a=t;t=f}else break}a=e+s+u|0;if(a>>>0>e>>>0){s=a;i=1;t=1;do{do if((t&3|0)!=3){t=i+-1|0;if((o[c+(t<<2)>>2]|0)>>>0<(s-e|0)>>>0)eh(e,n,r,i,c);else nh(e,n,r,l,i,0,c);if((i|0)==1){rh(l,1);i=0;break}else{rh(l,t);i=1;break}}else{eh(e,n,r,i,c);th(l,2);i=i+2|0}while(0);t=o[l>>2]|1;o[l>>2]=t;e=e+n|0}while(e>>>0<a>>>0)}else{i=1;t=1}nh(e,n,r,l,i,0,c);a=l+4|0;while(1){if((i|0)==1&(t|0)==1){if(!(o[a>>2]|0))break e}else if((i|0)>=2){rh(l,2);f=i+-2|0;o[l>>2]=o[l>>2]^7;th(l,1);nh(e+(0-(o[c+(f<<2)>>2]|0))+u|0,n,r,l,i+-1|0,1,c);rh(l,1);t=o[l>>2]|1;o[l>>2]=t;s=e+u|0;nh(s,n,r,l,f,1,c);e=s;i=f;continue}t=ih(l)|0;th(l,t);e=e+u|0;i=t+i|0;t=o[l>>2]|0}}while(0);p=h;return}function eh(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,s=0,u=0,c=0,l=0,h=0,f=0;f=p;p=p+240|0;h=f;o[h>>2]=e;e:do if((r|0)>1){l=0-t|0;a=e;c=r;r=1;while(1){s=a+l|0;u=c+-2|0;a=s+(0-(o[i+(u<<2)>>2]|0))|0;if((mp[n&15](e,a)|0)>-1?(mp[n&15](e,s)|0)>-1:0)break e;e=r+1|0;r=h+(r<<2)|0;if((mp[n&15](a,s)|0)>-1){o[r>>2]=a;r=c+-1|0}else{o[r>>2]=s;a=s;r=u}if((r|0)<=1){r=e;break e}c=r;r=e;e=o[h>>2]|0}}else r=1;while(0);ah(t,h,r);p=f;return}function th(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=e+4|0;if(t>>>0>31){r=o[i>>2]|0;o[e>>2]=r;o[i>>2]=0;t=t+-32|0;n=0}else{n=o[i>>2]|0;r=o[e>>2]|0}o[e>>2]=n<<32-t|r>>>t;o[i>>2]=n>>>t;return}function nh(e,t,n,r,i,a,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;s=s|0;var u=0,c=0,l=0,h=0,f=0,d=0,m=0,g=0;m=p;p=p+240|0;f=m+232|0;d=m;g=o[r>>2]|0;o[f>>2]=g;c=o[r+4>>2]|0;l=f+4|0;o[l>>2]=c;o[d>>2]=e;e:do if((g|0)!=1|(c|0)!=0?(h=0-t|0,u=e+(0-(o[s+(i<<2)>>2]|0))|0,(mp[n&15](u,e)|0)>=1):0){r=1;a=(a|0)==0;c=u;while(1){if(a&(i|0)>1){a=e+h|0;u=o[s+(i+-2<<2)>>2]|0;if((mp[n&15](a,c)|0)>-1){u=10;break e}if((mp[n&15](a+(0-u)|0,c)|0)>-1){u=10;break e}}a=r+1|0;o[d+(r<<2)>>2]=c;g=ih(f)|0;th(f,g);i=g+i|0;if(!((o[f>>2]|0)!=1|(o[l>>2]|0)!=0)){r=a;e=c;u=10;break e}e=c+(0-(o[s+(i<<2)>>2]|0))|0;if((mp[n&15](e,o[d>>2]|0)|0)<1){e=c;r=a;a=0;u=9;break}else{g=c;r=a;a=1;c=e;e=g}}}else{r=1;u=9}while(0);if((u|0)==9?(a|0)==0:0)u=10;if((u|0)==10){ah(t,d,r);eh(e,t,n,i,s)}p=m;return}function rh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=e+4|0;if(t>>>0>31){r=o[e>>2]|0;o[i>>2]=r;o[e>>2]=0;t=t+-32|0;n=0}else{n=o[e>>2]|0;r=o[i>>2]|0}o[i>>2]=n>>>(32-t|0)|r<<t;o[e>>2]=n<<t;return}function ih(e){e=e|0;var t=0;t=oh((o[e>>2]|0)+-1|0)|0;if(!t){t=oh(o[e+4>>2]|0)|0;return((t|0)==0?0:t+32|0)|0}else return t|0;return 0}function oh(e){e=e|0;var t=0;if(e)if(!(e&1)){t=e;e=0;do{e=e+1|0;t=t>>>1}while(!(t&1|0))}else e=0;else e=32;return e|0}function ah(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0,u=0;s=p;p=p+256|0;r=s;e:do if((n|0)>=2?(a=t+(n<<2)|0,o[a>>2]=r,e|0):0)while(1){i=e>>>0<256?e:256;pd(r|0,o[t>>2]|0,i|0)|0;r=0;do{u=t+(r<<2)|0;r=r+1|0;pd(o[u>>2]|0,o[t+(r<<2)>>2]|0,i|0)|0;o[u>>2]=(o[u>>2]|0)+i}while((r|0)!=(n|0));e=e-i|0;if(!e)break e;r=o[a>>2]|0}while(0);p=s;return}function sh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0;switch(t|0){case 0:{h=-149;f=24;c=4;break}case 1:{h=-1074;f=53;c=4;break}case 2:{h=-1074;f=53;c=4;break}default:i=0}e:do if((c|0)==4){p=e+4|0;d=e+100|0;do{t=o[p>>2]|0;if(t>>>0<(o[d>>2]|0)>>>0){o[p>>2]=t+1;t=a[t>>0]|0}else t=vl(e)|0}while((yl(t)|0)!=0);t:do switch(t|0){case 43:case 45:{u=1-(((t|0)==45&1)<<1)|0;t=o[p>>2]|0;if(t>>>0<(o[d>>2]|0)>>>0){o[p>>2]=t+1;s=a[t>>0]|0;break t}else{s=vl(e)|0;break t}}default:{s=t;u=1}}while(0);t=0;do{if((s|32|0)!=(r[14226+t>>0]|0))break;do if(t>>>0<7){s=o[p>>2]|0;if(s>>>0<(o[d>>2]|0)>>>0){o[p>>2]=s+1;s=a[s>>0]|0;break}else{s=vl(e)|0;break}}while(0);t=t+1|0}while(t>>>0<8);t:do switch(t|0){case 8:break;case 3:{c=23;break}default:{l=(n|0)!=0;if(l&t>>>0>3)if((t|0)==8)break t;else{c=23;break t}n:do if(!t){t=0;do{if((s|32|0)!=(r[14235+t>>0]|0))break n;do if(t>>>0<2){s=o[p>>2]|0;if(s>>>0<(o[d>>2]|0)>>>0){o[p>>2]=s+1;s=a[s>>0]|0;break}else{s=vl(e)|0;break}}while(0);t=t+1|0}while(t>>>0<3)}while(0);switch(t|0){case 3:{t=o[p>>2]|0;if(t>>>0<(o[d>>2]|0)>>>0){o[p>>2]=t+1;t=a[t>>0]|0}else t=vl(e)|0;if((t|0)==40)t=1;else{if(!(o[d>>2]|0)){i=E;break e}o[p>>2]=(o[p>>2]|0)+-1;i=E;break e}while(1){s=o[p>>2]|0;if(s>>>0<(o[d>>2]|0)>>>0){o[p>>2]=s+1;s=a[s>>0]|0}else s=vl(e)|0;if(!((s+-48|0)>>>0<10|(s+-65|0)>>>0<26)?!((s|0)==95|(s+-97|0)>>>0<26):0)break;t=t+1|0}if((s|0)==41){i=E;break e}s=(o[d>>2]|0)==0;if(!s)o[p>>2]=(o[p>>2]|0)+-1;if(!l){o[(cl()|0)>>2]=22;ml(e,0);i=0;break e}if(!t){i=E;break e}while(1){t=t+-1|0;if(!s)o[p>>2]=(o[p>>2]|0)+-1;if(!t){i=E;break e}}}case 0:{if((s|0)==48){t=o[p>>2]|0;if(t>>>0<(o[d>>2]|0)>>>0){o[p>>2]=t+1;t=a[t>>0]|0}else t=vl(e)|0;if((t|32|0)==120){i=+uh(e,f,h,u,n);break e}if(!(o[d>>2]|0))t=48;else{o[p>>2]=(o[p>>2]|0)+-1;t=48}}else t=s;i=+ch(e,t,f,h,u,n);break e}default:{if(o[d>>2]|0)o[p>>2]=(o[p>>2]|0)+-1;o[(cl()|0)>>2]=22;ml(e,0);i=0;break e}}}}while(0);if((c|0)==23){s=(o[d>>2]|0)==0;if(!s)o[p>>2]=(o[p>>2]|0)+-1;if((n|0)!=0&t>>>0>3)do{if(!s)o[p>>2]=(o[p>>2]|0)+-1;t=t+-1|0}while(t>>>0>3)}i=+(u|0)*A}while(0);return+i}function uh(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0;E=e+4|0;u=o[E>>2]|0;M=e+100|0;if(u>>>0<(o[M>>2]|0)>>>0){o[E>>2]=u+1;u=a[u>>0]|0;c=0}else{u=vl(e)|0;c=0}e:while(1){switch(u|0){case 46:{d=8;break e}case 48:break;default:{y=0;b=0;m=1;s=0;w=0;v=c;c=0;g=0;f=0;h=0;break e}}u=o[E>>2]|0;if(u>>>0<(o[M>>2]|0)>>>0){o[E>>2]=u+1;u=a[u>>0]|0;c=1;continue}else{u=vl(e)|0;c=1;continue}}if((d|0)==8){u=o[E>>2]|0;if(u>>>0<(o[M>>2]|0)>>>0){o[E>>2]=u+1;u=a[u>>0]|0}else u=vl(e)|0;if((u|0)==48){h=0;c=0;do{u=o[E>>2]|0;if(u>>>0<(o[M>>2]|0)>>>0){o[E>>2]=u+1;u=a[u>>0]|0}else u=vl(e)|0;h=fd(h|0,c|0,-1,-1)|0;c=I}while((u|0)==48);y=1;b=0;m=1;s=0;w=0;v=1;g=0;f=0}else{y=1;b=0;m=1;s=0;w=0;v=c;c=0;g=0;f=0;h=0}}while(1){d=u+-48|0;p=(u|0)==46;if(d>>>0>=10?!(p|((u|32)+-97|0)>>>0<6):0)break;if(p)if(!y){y=1;d=b;l=m;u=w;h=f;c=g}else{u=46;break}else{u=(u|0)>57?(u|32)+-87|0:d;do if(!((g|0)<0|(g|0)==0&f>>>0<8))if((g|0)<0|(g|0)==0&f>>>0<14){m=m*.0625;d=b;l=m;s=s+m*+(u|0);u=w;break}else{u=(b|0)!=0|(u|0)==0;d=u?b:1;l=m;s=u?s:s+m*.5;u=w;break}else{d=b;l=m;u=u+(w<<4)|0}while(0);f=fd(f|0,g|0,1,0)|0;v=1;g=I}p=o[E>>2]|0;if(p>>>0<(o[M>>2]|0)>>>0){o[E>>2]=p+1;b=d;m=l;w=u;u=a[p>>0]|0;continue}else{b=d;m=l;w=u;u=vl(e)|0;continue}}do if(!v){u=o[M>>2]|0;c=(u|0)!=0;if(c)o[E>>2]=(o[E>>2]|0)+-1;if(i){if(c)o[E>>2]=(o[E>>2]|0)+-1;if(!((y|0)==0|(u|0)==0))o[E>>2]=(o[E>>2]|0)+-1}else ml(e,0);s=+(r|0)*0}else{d=(y|0)==0;p=d?f:h;d=d?g:c;if((g|0)<0|(g|0)==0&f>>>0<8){c=w;h=g;do{c=c<<4;f=fd(f|0,h|0,1,0)|0;h=I}while((h|0)<0|(h|0)==0&f>>>0<8);f=c}else f=w;if((u|32|0)==112){c=lh(e,i)|0;u=I;if((c|0)==0&(u|0)==-2147483648){if(!i){ml(e,0);s=0;break}if(!(o[M>>2]|0)){c=0;u=0}else{o[E>>2]=(o[E>>2]|0)+-1;c=0;u=0}}}else if(!(o[M>>2]|0)){c=0;u=0}else{o[E>>2]=(o[E>>2]|0)+-1;c=0;u=0}h=hd(p|0,d|0,2)|0;h=fd(h|0,I|0,-32,-1)|0;h=fd(h|0,I|0,c|0,u|0)|0;u=I;if(!f){s=+(r|0)*0;break}E=0-n|0;i=((E|0)<0)<<31>>31;if((u|0)>(i|0)|(u|0)==(i|0)&h>>>0>E>>>0){o[(cl()|0)>>2]=34;s=+(r|0)*1.7976931348623157e308*1.7976931348623157e308;break}E=n+-106|0;i=((E|0)<0)<<31>>31;if((u|0)<(i|0)|(u|0)==(i|0)&h>>>0<E>>>0){o[(cl()|0)>>2]=34;s=+(r|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if((f|0)>-1){c=f;do{E=!(s>=.5);c=c<<1|(E^1)&1;s=s+(E?s:s+-1);h=fd(h|0,u|0,-1,-1)|0;u=I}while((c|0)>-1);m=s;f=c}else m=s;E=((t|0)<0)<<31>>31;n=cd(32,0,n|0,((n|0)<0)<<31>>31|0)|0;u=fd(n|0,I|0,h|0,u|0)|0;n=I;if((E|0)>(n|0)|(E|0)==(n|0)&t>>>0>u>>>0)if((u|0)>0)d=59;else{c=0;u=84;d=61}else{u=t;d=59}if((d|0)==59)if((u|0)<53){c=u;u=84-u|0;d=61}else{l=0;s=+(r|0)}if((d|0)==61){s=+(r|0);l=+fh(+hh(1,u),s);u=c}r=(f&1|0)==0&(m!=0&(u|0)<32);s=s*(r?0:m)+(l+s*+(((r&1)+f|0)>>>0))-l;if(!(s!=0))o[(cl()|0)>>2]=34;s=+ph(s,h)}while(0);return+s}function ch(e,t,n,r,i,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;s=s|0;var u=0,c=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,O=0,j=0;O=p;p=p+512|0;L=O;D=r+n|0;C=0-D|0;k=e+4|0;S=e+100|0;l=0;e:while(1){switch(t|0){case 46:{T=6;break e}case 48:break;default:{M=0;m=l;g=0;d=0;break e}}t=o[k>>2]|0;if(t>>>0<(o[S>>2]|0)>>>0){o[k>>2]=t+1;t=a[t>>0]|0;l=1;continue}else{t=vl(e)|0;l=1;continue}}if((T|0)==6){t=o[k>>2]|0;if(t>>>0<(o[S>>2]|0)>>>0){o[k>>2]=t+1;t=a[t>>0]|0}else t=vl(e)|0;if((t|0)==48){l=0;t=0;while(1){l=fd(l|0,t|0,-1,-1)|0;d=I;t=o[k>>2]|0;if(t>>>0<(o[S>>2]|0)>>>0){o[k>>2]=t+1;t=a[t>>0]|0}else t=vl(e)|0;if((t|0)==48)t=d;else{M=1;m=1;g=l;break}}}else{M=1;m=l;g=0;d=0}}o[L>>2]=0;f=t+-48|0;h=(t|0)==46;e:do if(h|f>>>0<10){_=L+496|0;E=0;l=0;w=0;A=M;x=m;T=f;m=0;f=0;t:while(1){do if(h)if(!A){A=1;g=m;d=f}else break t;else{m=fd(m|0,f|0,1,0)|0;f=I;M=(t|0)!=48;if((l|0)>=125){if(!M)break;o[_>>2]=o[_>>2]|1;break}h=L+(l<<2)|0;if(!E)t=T;else t=t+-48+((o[h>>2]|0)*10|0)|0;o[h>>2]=t;E=E+1|0;x=(E|0)==9;E=x?0:E;l=(x&1)+l|0;w=M?m:w;x=1}while(0);t=o[k>>2]|0;if(t>>>0<(o[S>>2]|0)>>>0){o[k>>2]=t+1;t=a[t>>0]|0}else t=vl(e)|0;T=t+-48|0;h=(t|0)==46;if(!(h|T>>>0<10)){M=A;h=x;T=29;break e}}t=E;h=(x|0)!=0;T=37}else{E=0;l=0;w=0;h=m;m=0;f=0;T=29}while(0);do if((T|0)==29){_=(M|0)==0;g=_?m:g;d=_?f:d;h=(h|0)!=0;if(!(h&(t|32|0)==101))if((t|0)>-1){t=E;T=37;break}else{t=E;T=39;break}h=lh(e,s)|0;t=I;if((h|0)==0&(t|0)==-2147483648){if(!s){ml(e,0);u=0;break}if(!(o[S>>2]|0)){h=0;t=0}else{o[k>>2]=(o[k>>2]|0)+-1;h=0;t=0}}x=fd(h|0,t|0,g|0,d|0)|0;t=E;d=I;T=41}while(0);if((T|0)==37)if(o[S>>2]|0){o[k>>2]=(o[k>>2]|0)+-1;if(h){x=g;T=41}else T=40}else T=39;if((T|0)==39)if(h){x=g;T=41}else T=40;do if((T|0)==40){o[(cl()|0)>>2]=22;ml(e,0);u=0}else if((T|0)==41){h=o[L>>2]|0;if(!h){u=+(i|0)*0;break}if(((f|0)<0|(f|0)==0&m>>>0<10)&((x|0)==(m|0)&(d|0)==(f|0))?(n|0)>30|(h>>>n|0)==0:0){u=+(i|0)*+(h>>>0);break}e=(r|0)/-2|0;S=((e|0)<0)<<31>>31;if((d|0)>(S|0)|(d|0)==(S|0)&x>>>0>e>>>0){o[(cl()|0)>>2]=34;u=+(i|0)*1.7976931348623157e308*1.7976931348623157e308;break}e=r+-106|0;S=((e|0)<0)<<31>>31;if((d|0)<(S|0)|(d|0)==(S|0)&x>>>0<e>>>0){o[(cl()|0)>>2]=34;u=+(i|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if(t){if((t|0)<9){f=L+(l<<2)|0;h=o[f>>2]|0;do{h=h*10|0;t=t+1|0}while((t|0)!=9);o[f>>2]=h}l=l+1|0}if((w|0)<9?(w|0)<=(x|0)&(x|0)<18:0){t=o[L>>2]|0;if((x|0)==9){u=+(i|0)*+(t>>>0);break}if((x|0)<9){u=+(i|0)*+(t>>>0)/+(o[2620+(8-x<<2)>>2]|0);break}e=n+27+(q(x,-3)|0)|0;if((e|0)>30|(t>>>e|0)==0){u=+(i|0)*+(t>>>0)*+(o[2620+(x+-10<<2)>>2]|0);break}}t=(x|0)%9|0;if(!t){t=0;f=0}else{w=(x|0)>-1?t:t+9|0;m=o[2620+(8-w<<2)>>2]|0;if(l){g=1e9/(m|0)|0;f=0;d=0;h=x;t=0;do{k=L+(t<<2)|0;S=o[k>>2]|0;e=((S>>>0)/(m>>>0)|0)+f|0;o[k>>2]=e;f=q(g,(S>>>0)%(m>>>0)|0)|0;e=(t|0)==(d|0)&(e|0)==0;h=e?h+-9|0:h;d=e?d+1&127:d;t=t+1|0}while((t|0)!=(l|0));if(!f)f=d;else{o[L+(l<<2)>>2]=f;f=d;l=l+1|0}}else{f=0;l=0;h=x}t=0;x=9-w+h|0}e:while(1){w=(x|0)<18;M=(x|0)==18;E=L+(f<<2)|0;while(1){if(!w){if(!M){h=x;break e}if((o[E>>2]|0)>>>0>=9007199){h=18;break e}}h=0;A=l;l=l+127|0;while(1){d=l&127;m=L+(d<<2)|0;l=hd(o[m>>2]|0,0,29)|0;l=fd(l|0,I|0,h|0,0)|0;h=I;if(h>>>0>0|(h|0)==0&l>>>0>1e9){g=vd(l|0,h|0,1e9,0)|0;l=Md(l|0,h|0,1e9,0)|0}else g=0;o[m>>2]=l;e=(d|0)==(f|0);A=(l|0)==0&(((d|0)!=(A+127&127|0)|e)^1)?d:A;if(e)break;else{h=g;l=d+-1|0}}t=t+-29|0;if(g|0)break;else l=A}f=f+127&127;l=A+127&127;h=L+((A+126&127)<<2)|0;if((f|0)==(A|0))o[h>>2]=o[h>>2]|o[L+(l<<2)>>2];else l=A;o[L+(f<<2)>>2]=g;x=x+9|0}e:while(1){E=l+1&127;A=L+((l+127&127)<<2)|0;while(1){g=(h|0)==18;M=(h|0)>27?9:1;x=f;while(1){f=0;while(1){d=f+x&127;if((d|0)==(l|0)){N=2;T=88;break}d=o[L+(d<<2)>>2]|0;m=o[2652+(f<<2)>>2]|0;if(d>>>0<m>>>0){N=2;T=88;break}if(d>>>0>m>>>0)break;f=f+1|0;if((f|0)>=2){N=f;T=88;break}}if((T|0)==88?(T=0,g&(N|0)==2):0){u=0;d=0;break e}t=M+t|0;if((x|0)==(l|0))x=l;else break}g=(1<<M)+-1|0;w=1e9>>>M;m=0;f=x;d=x;do{k=L+(d<<2)|0;S=o[k>>2]|0;e=(S>>>M)+m|0;o[k>>2]=e;m=q(S&g,w)|0;e=(d|0)==(f|0)&(e|0)==0;h=e?h+-9|0:h;f=e?f+1&127:f;d=d+1&127}while((d|0)!=(l|0));if(!m)continue;if((E|0)!=(f|0))break;o[A>>2]=o[A>>2]|1}o[L+(l<<2)>>2]=m;l=E}do{f=d+x&127;h=l+1&127;if((f|0)==(l|0)){o[L+(h+-1<<2)>>2]=0;l=h}u=u*1e9+ +((o[L+(f<<2)>>2]|0)>>>0);d=d+1|0}while((d|0)!=2);b=+(i|0);c=b*u;d=t+53|0;m=d-r|0;g=(m|0)<(n|0);f=g?(m|0)>0?m:0:n;if((f|0)<53){j=+fh(+hh(1,105-f|0),c);v=+dh(c,+hh(1,53-f|0));y=j;u=v;v=j+(c-v)}else{y=0;u=0;v=c}h=x+2&127;if((h|0)!=(l|0)){h=o[L+(h<<2)>>2]|0;do if(h>>>0>=5e8){if((h|0)!=5e8){u=b*.75+u;break}if((x+3&127|0)==(l|0)){u=b*.5+u;break}else{u=b*.75+u;break}}else{if((h|0)==0?(x+3&127|0)==(l|0):0)break;u=b*.25+u}while(0);if((53-f|0)>1?!(+dh(u,1)!=0):0)c=u+1;else c=u}else c=u;u=v+c-y;do if((d&2147483647|0)>(-2-D|0)){D=!(+R(+u)>=9007199254740992);t=((D^1)&1)+t|0;u=D?u:u*.5;if((t+50|0)<=(C|0)?!(c!=0&(g&((f|0)!=(m|0)|D))):0)break;o[(cl()|0)>>2]=34}while(0);u=+ph(u,t)}while(0);p=O;return+u}function lh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,s=0,u=0,c=0,l=0;l=e+4|0;n=o[l>>2]|0;c=e+100|0;if(n>>>0<(o[c>>2]|0)>>>0){o[l>>2]=n+1;n=a[n>>0]|0}else n=vl(e)|0;switch(n|0){case 43:case 45:{r=(n|0)==45&1;n=o[l>>2]|0;if(n>>>0<(o[c>>2]|0)>>>0){o[l>>2]=n+1;n=a[n>>0]|0}else n=vl(e)|0;if((t|0)!=0&(n+-48|0)>>>0>9?(o[c>>2]|0)!=0:0)o[l>>2]=(o[l>>2]|0)+-1;break}default:r=0}if((n+-48|0)>>>0>9)if(!(o[c>>2]|0)){r=-2147483648;n=0}else{o[l>>2]=(o[l>>2]|0)+-1;r=-2147483648;n=0}else{i=0;do{i=n+-48+(i*10|0)|0;n=o[l>>2]|0;if(n>>>0<(o[c>>2]|0)>>>0){o[l>>2]=n+1;n=a[n>>0]|0}else n=vl(e)|0}while((n+-48|0)>>>0<10&(i|0)<214748364);t=((i|0)<0)<<31>>31;if((n+-48|0)>>>0<10){do{t=bd(i|0,t|0,10,0)|0;i=I;n=fd(n|0,((n|0)<0)<<31>>31|0,-48,-1)|0;i=fd(n|0,I|0,t|0,i|0)|0;t=I;n=o[l>>2]|0;if(n>>>0<(o[c>>2]|0)>>>0){o[l>>2]=n+1;n=a[n>>0]|0}else n=vl(e)|0}while((n+-48|0)>>>0<10&((t|0)<21474836|(t|0)==21474836&i>>>0<2061584302));s=n;u=i}else{s=n;u=i}n=o[c>>2]|0;if((s+-48|0)>>>0<10)do{i=o[l>>2]|0;if(i>>>0<n>>>0){o[l>>2]=i+1;i=a[i>>0]|0}else{i=vl(e)|0;n=o[c>>2]|0}}while((i+-48|0)>>>0<10);if(n|0)o[l>>2]=(o[l>>2]|0)+-1;l=(r|0)!=0;n=cd(0,0,u|0,t|0)|0;r=l?I:t;n=l?n:u}I=r;return n|0}function hh(e,t){e=+e;t=t|0;var n=0,r=0;if((t|0)<=1023){if((t|0)<-1022){e=e*2.2250738585072014e-308;n=t+1022|0;r=(n|0)<-1022;t=t+2044|0;e=r?e*2.2250738585072014e-308:e;t=r?(t|0)>-1022?t:-1022:n}}else{e=e*8.98846567431158e307;r=t+-1023|0;n=(r|0)>1023;t=t+-2046|0;e=n?e*8.98846567431158e307:e;t=n?(t|0)<1023?t:1023:r}n=hd(t+1023|0,0,52)|0;r=I;o[f>>2]=n;o[f+4>>2]=r;return+(e*+l[f>>3])}function fh(e,t){e=+e;t=+t;return+ +Ml(e,t)}function dh(e,t){e=+e;t=+t;return+ +mh(e,t)}function ph(e,t){e=+e;t=t|0;return+ +hh(e,t)}function mh(e,t){e=+e;t=+t;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,h=0,d=0,p=0,m=0,g=0;l[f>>3]=e;s=o[f>>2]|0;c=o[f+4>>2]|0;l[f>>3]=t;d=o[f>>2]|0;p=o[f+4>>2]|0;r=dd(s|0,c|0,52)|0;r=r&2047;h=dd(d|0,p|0,52)|0;h=h&2047;m=c&-2147483648;a=hd(d|0,p|0,1)|0;u=I;e:do if(!((a|0)==0&(u|0)==0)?(i=gh(t)|0,n=I&2147483647,!((r|0)==2047|(n>>>0>2146435072|(n|0)==2146435072&i>>>0>0))):0){n=hd(s|0,c|0,1)|0;i=I;if(!(i>>>0>u>>>0|(i|0)==(u|0)&n>>>0>a>>>0))return+((n|0)==(a|0)&(i|0)==(u|0)?e*0:e);if(!r){n=hd(s|0,c|0,12)|0;i=I;if((i|0)>-1|(i|0)==-1&n>>>0>4294967295){r=0;do{r=r+-1|0;n=hd(n|0,i|0,1)|0;i=I}while((i|0)>-1|(i|0)==-1&n>>>0>4294967295)}else r=0;s=hd(s|0,c|0,1-r|0)|0;a=I}else a=c&1048575|1048576;if(!h){i=hd(d|0,p|0,12)|0;u=I;if((u|0)>-1|(u|0)==-1&i>>>0>4294967295){n=0;do{n=n+-1|0;i=hd(i|0,u|0,1)|0;u=I}while((u|0)>-1|(u|0)==-1&i>>>0>4294967295)}else n=0;d=hd(d|0,p|0,1-n|0)|0;h=n;c=I}else c=p&1048575|1048576;i=cd(s|0,a|0,d|0,c|0)|0;n=I;u=(n|0)>-1|(n|0)==-1&i>>>0>4294967295;t:do if((r|0)>(h|0)){while(1){if(u){if((i|0)==0&(n|0)==0)break}else{i=s;n=a}s=hd(i|0,n|0,1)|0;a=I;r=r+-1|0;i=cd(s|0,a|0,d|0,c|0)|0;n=I;u=(n|0)>-1|(n|0)==-1&i>>>0>4294967295;if((r|0)<=(h|0))break t}t=e*0;break e}while(0);if(u){if((i|0)==0&(n|0)==0){t=e*0;break}}else{n=a;i=s}if(n>>>0<1048576|(n|0)==1048576&i>>>0<0)do{i=hd(i|0,n|0,1)|0;n=I;r=r+-1|0}while(n>>>0<1048576|(n|0)==1048576&i>>>0<0);if((r|0)>0){p=fd(i|0,n|0,0,-1048576)|0;n=I;r=hd(r|0,0,52)|0;n=n|I;r=p|r}else{r=dd(i|0,n|0,1-r|0)|0;n=I}o[f>>2]=r;o[f+4>>2]=n|m;t=+l[f>>3]}else g=3;while(0);if((g|0)==3){t=e*t;t=t/t}return+t}function gh(e){e=+e;var t=0;l[f>>3]=e;t=o[f>>2]|0;I=o[f+4>>2]|0;return t|0}function vh(e){e=e|0;var t=0,n=0,i=0;i=e;e:do if(!(i&3))n=4;else{t=i;while(1){if(!(r[e>>0]|0)){e=t;break e}e=e+1|0;t=e;if(!(t&3)){n=4;break}}}while(0);if((n|0)==4){while(1){t=o[e>>2]|0;if(!((t&-2139062144^-2139062144)&t+-16843009))e=e+4|0;else break}if((t&255)<<24>>24)do e=e+1|0;while((r[e>>0]|0)!=0)}return e-i|0}function yh(e,t){e=e|0;t=t|0;e=bh(e,t)|0;return((r[e>>0]|0)==(t&255)<<24>>24?e:0)|0}function bh(e,t){e=e|0;t=t|0;var n=0,i=0,a=0;i=t&255;e:do if(!i)e=e+(vh(e)|0)|0;else{if(e&3){n=t&255;do{a=r[e>>0]|0;if(a<<24>>24==0?1:a<<24>>24==n<<24>>24)break e;e=e+1|0}while((e&3|0)!=0)}i=q(i,16843009)|0;n=o[e>>2]|0;t:do if(!((n&-2139062144^-2139062144)&n+-16843009))do{a=n^i;if((a&-2139062144^-2139062144)&a+-16843009|0)break t;e=e+4|0;n=o[e>>2]|0}while(!((n&-2139062144^-2139062144)&n+-16843009|0));while(0);n=t&255;while(1){a=r[e>>0]|0;if(a<<24>>24==0?1:a<<24>>24==n<<24>>24)break;else e=e+1|0}}while(0);return e|0}function wh(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var a=0,s=0,u=0,c=0,l=0,h=0;l=p;p=p+16|0;a=l;u=(i|0)==0?15240:i;i=o[u>>2]|0;e:do if(!t)if(!i)i=0;else c=17;else{s=(e|0)==0?a:e;if(!n)i=-2;else{if(!i){i=r[t>>0]|0;if(i<<24>>24>-1){o[s>>2]=i&255;i=i<<24>>24!=0&1;break}a=(o[o[(Mh()|0)+188>>2]>>2]|0)==0;i=r[t>>0]|0;if(a){o[s>>2]=i<<24>>24&57343;i=1;break}i=(i&255)+-194|0;if(i>>>0>50){c=17;break}i=o[1792+(i<<2)>>2]|0;a=n+-1|0;if(a){t=t+1|0;c=11}}else{a=n;c=11}t:do if((c|0)==11){e=r[t>>0]|0;h=(e&255)>>>3;if((h+-16|h+(i>>26))>>>0>7){c=17;break e}while(1){t=t+1|0;i=(e&255)+-128|i<<6;a=a+-1|0;if((i|0)>=0)break;if(!a)break t;e=r[t>>0]|0;if((e&-64)<<24>>24!=-128){c=17;break e}}o[u>>2]=0;o[s>>2]=i;i=n-a|0;break e}while(0);o[u>>2]=i;i=-2}}while(0);if((c|0)==17){o[u>>2]=0;o[(cl()|0)>>2]=84;i=-1}p=l;return i|0}function Mh(){return hl()|0}function Eh(e,t){e=e|0;t=t|0;Ah(e,t)|0;return e|0}function Ah(e,t){e=e|0;t=t|0;var n=0,i=0;n=t;e:do if(!((n^e)&3)){if(n&3)do{n=r[t>>0]|0;r[e>>0]=n;if(!(n<<24>>24))break e;t=t+1|0;e=e+1|0}while((t&3|0)!=0);n=o[t>>2]|0;if(!((n&-2139062144^-2139062144)&n+-16843009)){i=e;while(1){t=t+4|0;e=i+4|0;o[i>>2]=n;n=o[t>>2]|0;if((n&-2139062144^-2139062144)&n+-16843009|0)break;else i=e}}i=8}else i=8;while(0);if((i|0)==8){i=r[t>>0]|0;r[e>>0]=i;if(i<<24>>24)do{t=t+1|0;e=e+1|0;i=r[t>>0]|0;r[e>>0]=i}while(i<<24>>24!=0)}return e|0}function xh(e){e=e|0;var t=0,n=0;n=(vh(e)|0)+1|0;t=df(n)|0;if(!t)t=0;else pd(t|0,e|0,n|0)|0;return t|0}function Th(e,t){e=e|0;t=t|0;var n=0;n=vh(e)|0;return((_h(e,1,n,t)|0)!=(n|0))<<31>>31|0}function _h(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=q(n,t)|0;n=(t|0)==0?0:n;if((o[r+76>>2]|0)>-1){a=(_l(r)|0)==0;e=Kl(e,i,r)|0;if(!a)kl(r)}else e=Kl(e,i,r)|0;if((e|0)!=(i|0))n=(e>>>0)/(t>>>0)|0;return n|0}function kh(e){e=e|0;var t=0;if(o[e+68>>2]|0){t=o[e+116>>2]|0;e=e+112|0;if(t|0)o[t+112>>2]=o[e>>2];e=o[e>>2]|0;if(!e)e=(Sh()|0)+232|0;else e=e+116|0;o[e>>2]=t}return}function Sh(){return hl()|0}function Nh(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,s=0,u=0;u=p;p=p+48|0;s=u+32|0;a=u+16|0;n=u;if(Rl(14239,r[t>>0]|0,4)|0){i=Lh(t)|0;o[n>>2]=e;o[n+4>>2]=i|32768;o[n+8>>2]=438;n=ul(gt(5,n|0)|0)|0;if((n|0)>=0){if(i&524288|0){o[a>>2]=n;o[a+4>>2]=2;o[a+8>>2]=1;be(221,a|0)|0}e=Dh(n,t)|0;if(!e){o[s>>2]=n;mt(6,s|0)|0;e=0}}else e=0}else{o[(cl()|0)>>2]=22;e=0}p=u;return e|0}function Lh(e){e=e|0;var t=0,n=0,i=0;n=(yh(e,43)|0)==0;t=r[e>>0]|0;n=n?t<<24>>24!=114&1:2;i=(yh(e,120)|0)==0;n=i?n:n|128;e=(yh(e,101)|0)==0;e=e?n:n|524288;e=t<<24>>24==114?e:e|64;e=t<<24>>24==119?e|512:e;return(t<<24>>24==97?e|1024:e)|0}function Dh(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0;d=p;p=p+64|0;f=d+40|0;l=d+24|0;c=d+16|0;a=d;h=d+56|0;i=r[t>>0]|0;if(Rl(14239,i<<24>>24,4)|0){n=df(1156)|0;if(!n)n=0;else{s=n;u=s+124|0;do{o[s>>2]=0;s=s+4|0}while((s|0)<(u|0));if(!(yh(t,43)|0))o[n>>2]=i<<24>>24==114?8:4;if(yh(t,101)|0){o[a>>2]=e;o[a+4>>2]=2;o[a+8>>2]=1;be(221,a|0)|0;i=r[t>>0]|0}if(i<<24>>24==97){o[c>>2]=e;o[c+4>>2]=3;i=be(221,c|0)|0;if(!(i&1024)){o[l>>2]=e;o[l+4>>2]=4;o[l+8>>2]=i|1024;be(221,l|0)|0}t=o[n>>2]|128;o[n>>2]=t}else t=o[n>>2]|0;o[n+60>>2]=e;o[n+44>>2]=n+132;o[n+48>>2]=1024;i=n+75|0;r[i>>0]=-1;if((t&8|0)==0?(o[f>>2]=e,o[f+4>>2]=21523,o[f+8>>2]=h,(Oe(54,f|0)|0)==0):0)r[i>>0]=10;o[n+32>>2]=14;o[n+36>>2]=1;o[n+40>>2]=2;o[n+12>>2]=1;if(!(o[3795]|0))o[n+76>>2]=-1;Ch(n)|0}}else{o[(cl()|0)>>2]=22;n=0}p=d;return n|0}function Ch(e){e=e|0;var t=0,n=0;t=Ih()|0;o[e+56>>2]=o[t>>2];n=o[t>>2]|0;if(n|0)o[n+52>>2]=e;o[t>>2]=e;Oh();return e|0}function Ih(){pt(15244);return 15252}function Oh(){ot(15244);return}function Rh(e){e=e|0;var t=0,n=0,r=0,i=0,a=0;if((o[e+76>>2]|0)>-1)i=_l(e)|0;else i=0;kh(e);a=(o[e>>2]&1|0)!=0;if(!a){r=Ih()|0;n=o[e+52>>2]|0;t=e+56|0;if(n|0)o[n+56>>2]=o[t>>2];t=o[t>>2]|0;if(t|0)o[t+52>>2]=n;if((o[r>>2]|0)==(e|0))o[r>>2]=t;Oh()}t=jh(e)|0;t=cp[o[e+12>>2]&31](e)|0|t;n=o[e+92>>2]|0;if(n|0)pf(n);if(a){if(i|0)kl(e)}else pf(e);return t|0}function jh(e){e=e|0;var t=0,n=0;do if(e){if((o[e+76>>2]|0)<=-1){t=Ph(e)|0;break}n=(_l(e)|0)==0;t=Ph(e)|0;if(!n)kl(e)}else{if(!(o[623]|0))t=0;else t=jh(o[623]|0)|0;e=o[(Ih()|0)>>2]|0;if(e)do{if((o[e+76>>2]|0)>-1)n=_l(e)|0;else n=0;if((o[e+20>>2]|0)>>>0>(o[e+28>>2]|0)>>>0)t=Ph(e)|0|t;if(n|0)kl(e);e=o[e+56>>2]|0}while((e|0)!=0);Oh()}while(0);return t|0}function Ph(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,s=0;t=e+20|0;s=e+28|0;if((o[t>>2]|0)>>>0>(o[s>>2]|0)>>>0?(tp[o[e+36>>2]&15](e,0,0)|0,(o[t>>2]|0)==0):0)e=-1;else{n=e+4|0;r=o[n>>2]|0;i=e+8|0;a=o[i>>2]|0;if(r>>>0<a>>>0)tp[o[e+40>>2]&15](e,r-a|0,1)|0;o[e+16>>2]=0;o[s>>2]=0;o[t>>2]=0;o[i>>2]=0;o[n>>2]=0;e=0}return e|0}function Uh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0;if((o[n+76>>2]|0)>-1)h=_l(n)|0;else h=0;s=t+-1|0;i=(s|0)!=0;if((t|0)<2){f=n+74|0;l=r[f>>0]|0;r[f>>0]=l+255|l;if(h|0)kl(n);if(i)e=0;else r[e>>0]=0}else{e:do if(i){c=n+4|0;l=n+8|0;t=e;while(1){i=o[c>>2]|0;p=i;m=(o[l>>2]|0)-p|0;d=Rl(i,10,m)|0;u=(d|0)==0;d=u?m:1-p+d|0;d=d>>>0<s>>>0?d:s;pd(t|0,i|0,d|0)|0;i=(o[c>>2]|0)+d|0;o[c>>2]=i;t=t+d|0;s=s-d|0;if(!(u&(s|0)!=0)){f=17;break e}if(i>>>0>=(o[l>>2]|0)>>>0){i=bl(n)|0;if((i|0)<0)break}else{o[c>>2]=i+1;i=a[i>>0]|0}s=s+-1|0;u=t+1|0;r[t>>0]=i;if(!((s|0)!=0&(i&255|0)!=10)){t=u;f=17;break e}else t=u}if((t|0)!=(e|0)?(o[n>>2]&16|0)!=0:0)f=17;else e=0}else{t=e;f=17}while(0);if((f|0)==17)if(!e)e=0;else r[t>>0]=0;if(h)kl(n)}return e|0}function Fh(e){e=e|0;var t=0;if((o[e+76>>2]|0)>-1){t=(_l(e)|0)==0;e=(o[e>>2]|0)>>>5&1}else e=(o[e>>2]|0)>>>5&1;return e|0}function zh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;r=p;p=p+16|0;i=r;o[i>>2]=n;n=Bh(e,t,i)|0;p=r;return n|0}function Bh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0;a=p;p=p+128|0;r=a;i=r;s=i+124|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(s|0));o[r+32>>2]=15;o[r+44>>2]=e;o[r+76>>2]=-1;o[r+84>>2]=e;s=Vh(r,t,n)|0;p=a;return s|0}function Hh(e,t,n){e=e|0;t=t|0;n=n|0;return Wh(e,t,n)|0}function Vh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,s=0,u=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,O=0,R=0,j=0,P=0,U=0,F=0,z=0,B=0,H=0;H=p;p=p+288|0;j=H+8|0;P=H+17|0;U=H;F=H+16|0;if((o[e+76>>2]|0)>-1)B=_l(e)|0;else B=0;i=r[t>>0]|0;e:do if(i<<24>>24){T=e+4|0;_=e+100|0;k=e+108|0;S=e+8|0;N=P+10|0;L=P+33|0;x=j+4|0;D=P+46|0;C=P+94|0;O=P+1|0;R=P+1|0;h=t;w=0;t=0;u=0;s=0;t:while(1){n:do if(!(yl(i&255)|0)){i=i<<24>>24==37;r:do if(i){m=h+1|0;f=r[m>>0]|0;i:do switch(f<<24>>24){case 37:break r;case 42:{A=0;h=h+2|0;break}default:{i=(f&255)+-48|0;if(i>>>0<10?(r[h+2>>0]|0)==36:0){A=Gh(n,i)|0;h=h+3|0;break i}h=(o[n>>2]|0)+(4-1)&~(4-1);A=o[h>>2]|0;o[n>>2]=h+4;h=m}}while(0);i=r[h>>0]|0;f=i&255;if((f+-48|0)>>>0<10){m=0;do{m=(m*10|0)+-48+f|0;h=h+1|0;i=r[h>>0]|0;f=i&255}while((f+-48|0)>>>0<10)}else m=0;i=i<<24>>24==109;E=(A|0)!=0;u=i?0:u;s=i?0:s;h=i?h+1|0:h;i=E&i;f=h+1|0;switch(r[h>>0]|0){case 104:{M=(r[f>>0]|0)==104;g=M?-2:-1;h=M?h+2|0:f;break}case 108:{M=(r[f>>0]|0)==108;g=M?3:1;h=M?h+2|0:f;break}case 106:{g=3;h=f;break}case 116:case 122:{g=1;h=f;break}case 76:{g=2;h=f;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{g=0;break}default:{z=137;break t}}y=a[h>>0]|0;b=(y&47|0)==3;y=b?y|32:y;b=b?1:g;v=y&255;switch(v<<24>>24){case 99:{m=(m|0)>1?m:1;break}case 91:break;case 110:{Yh(A,b,w,((w|0)<0)<<31>>31);f=w;break n}default:{ml(e,0);do{f=o[T>>2]|0;if(f>>>0<(o[_>>2]|0)>>>0){o[T>>2]=f+1;f=a[f>>0]|0}else f=vl(e)|0}while((yl(f)|0)!=0);if(!(o[_>>2]|0))f=o[T>>2]|0;else{f=(o[T>>2]|0)+-1|0;o[T>>2]=f}w=(o[k>>2]|0)+w+f-(o[S>>2]|0)|0}}ml(e,m);f=o[T>>2]|0;g=o[_>>2]|0;if(f>>>0<g>>>0)o[T>>2]=f+1;else{if((vl(e)|0)<0){z=137;break t}g=o[_>>2]|0}if(g|0)o[T>>2]=(o[T>>2]|0)+-1;i:do switch(v<<24>>24){case 91:case 99:case 115:{M=(y|0)==99;o:do if((y|16|0)==115){ld(O|0,-1,256)|0;r[P>>0]=0;if((y|0)==115){r[L>>0]=0;r[N>>0]=0;r[N+1>>0]=0;r[N+2>>0]=0;r[N+3>>0]=0;r[N+4>>0]=0}}else{f=h+1|0;y=(r[f>>0]|0)==94;v=y&1;h=y?h+2|0:f;ld(R|0,y&1|0,256)|0;r[P>>0]=0;switch(r[h>>0]|0){case 45:{f=D;z=64;break}case 93:{f=C;z=64;break}default:y=(v^1)&255}if((z|0)==64){z=0;y=(v^1)&255;r[f>>0]=y;h=h+1|0}while(1){f=r[h>>0]|0;a:do switch(f<<24>>24){case 0:{z=137;break t}case 93:break o;case 45:{v=h+1|0;f=r[v>>0]|0;switch(f<<24>>24){case 93:case 0:{f=45;break a}default:{}}h=r[h+-1>>0]|0;if((h&255)<(f&255)){h=h&255;do{h=h+1|0;r[P+h>>0]=y;f=r[v>>0]|0}while((h|0)<(f&255|0));h=v}else h=v;break}default:{}}while(0);r[P+((f&255)+1)>>0]=y;h=h+1|0}}while(0);f=M?m+1|0:31;y=(b|0)==1;o:do if(y){if(i){s=df(f<<2)|0;if(!s){u=0;s=0;i=1;z=137;break t}}else s=A;o[j>>2]=0;o[x>>2]=0;v=f;u=0;a:while(1){g=(s|0)==0;do{s:while(1){f=o[T>>2]|0;if(f>>>0<(o[_>>2]|0)>>>0){o[T>>2]=f+1;f=a[f>>0]|0}else f=vl(e)|0;if(!(r[P+(f+1)>>0]|0))break a;r[F>>0]=f;switch(wh(U,F,1,j)|0){case-1:{u=0;z=137;break t}case-2:break;default:break s}}if(!g){o[s+(u<<2)>>2]=o[U>>2];u=u+1|0}}while(!(i&(u|0)==(v|0)));u=v<<1|1;f=gf(s,u<<2)|0;if(!f){u=0;i=1;z=137;break t}else{b=v;v=u;s=f;u=b}}if(!(Qh(j)|0)){u=0;z=137;break t}else{f=u;u=0;v=s}}else{if(i){u=df(f)|0;if(!u){u=0;s=0;i=1;z=137;break t}else{g=f;s=0}while(1){do{f=o[T>>2]|0;if(f>>>0<(o[_>>2]|0)>>>0){o[T>>2]=f+1;f=a[f>>0]|0}else f=vl(e)|0;if(!(r[P+(f+1)>>0]|0)){f=s;v=0;s=0;break o}r[u+s>>0]=f;s=s+1|0}while((s|0)!=(g|0));s=g<<1|1;f=gf(u,s)|0;if(!f){s=0;i=1;z=137;break t}else{b=g;g=s;u=f;s=b}}}if(!A){u=g;while(1){s=o[T>>2]|0;if(s>>>0<u>>>0){o[T>>2]=s+1;s=a[s>>0]|0}else s=vl(e)|0;if(!(r[P+(s+1)>>0]|0)){f=0;u=0;v=0;s=0;break o}u=o[_>>2]|0}}else{f=0;u=g;while(1){s=o[T>>2]|0;if(s>>>0<u>>>0){o[T>>2]=s+1;s=a[s>>0]|0}else s=vl(e)|0;if(!(r[P+(s+1)>>0]|0)){u=A;v=0;s=0;break o}r[A+f>>0]=s;f=f+1|0;u=o[_>>2]|0}}}while(0);if(!(o[_>>2]|0))g=o[T>>2]|0;else{g=(o[T>>2]|0)+-1|0;o[T>>2]=g}g=g-(o[S>>2]|0)+(o[k>>2]|0)|0;if(!g){z=139;break t}if(!((g|0)==(m|0)|M^1)){z=139;break t}do if(i)if(y){o[A>>2]=v;break}else{o[A>>2]=u;break}while(0);if(!M){if(v|0)o[v+(f<<2)>>2]=0;if(!u){u=0;break i}r[u+f>>0]=0}break}case 120:case 88:case 112:{f=16;z=125;break}case 111:{f=8;z=125;break}case 117:case 100:{f=10;z=125;break}case 105:{f=0;z=125;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{d=+sh(e,b,0);if((o[k>>2]|0)==((o[S>>2]|0)-(o[T>>2]|0)|0)){z=139;break t}if(A)switch(b|0){case 0:{c[A>>2]=d;break i}case 1:{l[A>>3]=d;break i}case 2:{l[A>>3]=d;break i}default:break i}break}default:{}}while(0);do if((z|0)==125){z=0;f=gl(e,f,0,-1,-1)|0;if((o[k>>2]|0)==((o[S>>2]|0)-(o[T>>2]|0)|0)){z=139;break t}if(E&(y|0)==112){o[A>>2]=f;break}else{Yh(A,b,f,I);break}}while(0);t=(E&1)+t|0;f=(o[k>>2]|0)+w+(o[T>>2]|0)-(o[S>>2]|0)|0;break n}while(0);h=h+(i&1)|0;ml(e,0);i=o[T>>2]|0;if(i>>>0<(o[_>>2]|0)>>>0){o[T>>2]=i+1;i=a[i>>0]|0}else i=vl(e)|0;if((i|0)!=(a[h>>0]|0)){z=22;break t}f=w+1|0}else{while(1){i=h+1|0;if(!(yl(a[i>>0]|0)|0))break;else h=i}ml(e,0);do{i=o[T>>2]|0;if(i>>>0<(o[_>>2]|0)>>>0){o[T>>2]=i+1;i=a[i>>0]|0}else i=vl(e)|0}while((yl(i)|0)!=0);if(!(o[_>>2]|0))i=o[T>>2]|0;else{i=(o[T>>2]|0)+-1|0;o[T>>2]=i}f=(o[k>>2]|0)+w+i-(o[S>>2]|0)|0}while(0);h=h+1|0;i=r[h>>0]|0;if(!(i<<24>>24))break e;else w=f}if((z|0)==22){if(o[_>>2]|0)o[T>>2]=(o[T>>2]|0)+-1;if((t|0)!=0|(i|0)>-1)break;else{i=0;z=138}}else if((z|0)==137){i=i&1;if(!t)z=138}else if((z|0)==139)i=i&1;if((z|0)==138)t=-1;if(i){pf(u);pf(s)}}else t=0;while(0);if(B|0)kl(e);p=H;return t|0}function Gh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;r=p;p=p+16|0;n=r;o[n>>2]=o[e>>2];while(1){i=(o[n>>2]|0)+(4-1)&~(4-1);e=o[i>>2]|0;o[n>>2]=i+4;if(t>>>0>1)t=t+-1|0;else break}p=r;return e|0}function Yh(e,t,n,a){e=e|0;t=t|0;n=n|0;a=a|0;e:do if(e|0)switch(t|0){case-2:{r[e>>0]=n;break e}case-1:{i[e>>1]=n;break e}case 0:{o[e>>2]=n;break e}case 1:{o[e>>2]=n;break e}case 3:{t=e;o[t>>2]=n;o[t+4>>2]=a;break e}default:break e}while(0);return}function Qh(e){e=e|0;if(!e)e=1;else e=(o[e>>2]|0)==0;return e&1|0}function Wh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0;r=e+84|0;a=o[r>>2]|0;s=n+256|0;i=Rl(a,0,s)|0;i=(i|0)==0?s:i-a|0;n=i>>>0<n>>>0?i:n;pd(t|0,a|0,n|0)|0;o[e+4>>2]=a+n;t=a+i|0;o[e+8>>2]=t;o[r>>2]=t;return n|0}function qh(e,t,n){e=e|0;t=t|0;n=n|0;return Xh(e,t,n)|0}function Xh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if((o[e+76>>2]|0)>-1){r=(_l(e)|0)==0;t=Kh(e,t,n)|0;if(!r)kl(e)}else t=Kh(e,t,n)|0;return t|0}function Kh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;if((n|0)==1)t=t-(o[e+8>>2]|0)+(o[e+4>>2]|0)|0;r=e+20|0;i=e+28|0;if((o[r>>2]|0)>>>0>(o[i>>2]|0)>>>0?(tp[o[e+36>>2]&15](e,0,0)|0,(o[r>>2]|0)==0):0)t=-1;else{o[e+16>>2]=0;o[i>>2]=0;o[r>>2]=0;if((tp[o[e+40>>2]&15](e,t,n)|0)<0)t=-1;else{o[e+8>>2]=0;o[e+4>>2]=0;o[e>>2]=o[e>>2]&-17;t=0}}return t|0}function Zh(e,t){e=e|0;t=t|0;return Jh(e,t,(vh(e)|0)+1|0)|0}function Jh(e,t,n){e=e|0;t=t|0;n=n|0;var i=0;i=t&255;do{if(!n){t=0;break}n=n+-1|0;t=e+n|0}while((r[t>>0]|0)!=i<<24>>24);return t|0}function $h(e,t,n){e=e|0;t=t|0;n=n|0;ef(e,t,n)|0;return e|0}function ef(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0;a=t;do if(!((a^e)&3)){i=(n|0)!=0;e:do if(i&(a&3|0)!=0)while(1){a=r[t>>0]|0;r[e>>0]=a;if(!(a<<24>>24))break e;n=n+-1|0;t=t+1|0;e=e+1|0;i=(n|0)!=0;if(!(i&(t&3|0)!=0)){s=5;break}}else s=5;while(0);if((s|0)==5)if(!i){n=0;break}if(r[t>>0]|0){e:do if(n>>>0>3){i=t;while(1){t=o[i>>2]|0;if((t&-2139062144^-2139062144)&t+-16843009|0){t=i;break e}o[e>>2]=t;n=n+-4|0;t=i+4|0;e=e+4|0;if(n>>>0>3)i=t;else break}}while(0);s=11}}else s=11;while(0);e:do if((s|0)==11)if(!n)n=0;else while(1){s=r[t>>0]|0;r[e>>0]=s;if(!(s<<24>>24))break e;n=n+-1|0;e=e+1|0;if(!n){n=0;break}else t=t+1|0}while(0);ld(e|0,0,n|0)|0;return e|0}function tf(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,s=0;a=p;p=p+32|0;i=a;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;o[i+16>>2]=0;o[i+20>>2]=0;o[i+24>>2]=0;o[i+28>>2]=0;n=r[t>>0]|0;do if(!(n<<24>>24))t=0;else{if(!(r[t+1>>0]|0)){t=e;while(1)if((r[t>>0]|0)==n<<24>>24)t=t+1|0;else break;t=t-e|0;break}do{s=i+(((n&255)>>>5&255)<<2)|0;o[s>>2]=o[s>>2]|1<<(n&31);
t=t+1|0;n=r[t>>0]|0}while(n<<24>>24!=0);n=r[e>>0]|0;e:do if(!(n<<24>>24))t=e;else{t=e;do{if(!(o[i+(((n&255)>>>5&255)<<2)>>2]&1<<(n&31)))break e;t=t+1|0;n=r[t>>0]|0}while(n<<24>>24!=0)}while(0);t=t-e|0}while(0);p=a;return t|0}function nf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0;s=p;p=p+16|0;r=s;o[r>>2]=o[n>>2];r=Al(0,0,t,r)|0;if((r|0)>=0?(i=r+1|0,a=df(i)|0,o[e>>2]=a,(a|0)!=0):0)e=Al(a,i,t,n)|0;else e=-1;p=s;return e|0}function rf(e){e=e|0;var t=0;if((o[e+76>>2]|0)>-1){t=(_l(e)|0)==0;e=of(e)|0}else e=of(e)|0;return e|0}function of(e){e=e|0;var t=0;if(!(o[e>>2]&128))t=1;else t=(o[e+20>>2]|0)>>>0>(o[e+28>>2]|0)>>>0?2:1;t=tp[o[e+40>>2]&15](e,0,t)|0;if((t|0)>=0)t=t-(o[e+8>>2]|0)+(o[e+4>>2]|0)+(o[e+20>>2]|0)-(o[e+28>>2]|0)|0;return t|0}function af(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var a=0,s=0,u=0,c=0,l=0,h=0,f=0;l=q(n,t)|0;n=(t|0)==0?0:n;if((o[i+76>>2]|0)>-1)c=_l(i)|0;else c=0;a=i+74|0;s=r[a>>0]|0;r[a>>0]=s+255|s;a=i+4|0;s=o[a>>2]|0;f=(o[i+8>>2]|0)-s|0;u=f>>>0<l>>>0?f:l;if((f|0)>0){pd(e|0,s|0,u|0)|0;o[a>>2]=s+u;a=l-u|0;e=e+u|0}else a=l;e:do if(!a)h=13;else{u=i+32|0;while(1){if(wl(i)|0)break;s=tp[o[u>>2]&15](i,e,a)|0;if((s+1|0)>>>0<2)break;a=a-s|0;if(!a){h=13;break e}else e=e+s|0}if(c|0)kl(i);n=((l-a|0)>>>0)/(t>>>0)|0}while(0);if((h|0)==13)if(c)kl(i);return n|0}function sf(e){e=e|0;return rf(e)|0}function uf(e){e=e|0;var t=0;if((o[e+76>>2]|0)>-1){t=(_l(e)|0)==0;Kh(e,0,0)|0;o[e>>2]=o[e>>2]&-33;if(!t)kl(e)}else{Kh(e,0,0)|0;o[e>>2]=o[e>>2]&-33}return}function cf(e){e=e|0;var t=0,n=0,i=0,o=0,a=0,s=0;while(1){i=r[e>>0]|0;t=i<<24>>24;o=e+1|0;if(!(yl(t)|0))break;else e=o}switch(t|0){case 45:{e=1;a=5;break}case 43:{e=0;a=5;break}default:{s=0;n=e;e=i}}if((a|0)==5){s=e;n=o;e=r[o>>0]|0}t=(e<<24>>24)+-48|0;if(t>>>0<10){e=0;do{n=n+1|0;e=(e*10|0)-t|0;t=(r[n>>0]|0)+-48|0}while(t>>>0<10)}else e=0;return(s|0?e:0-e|0)|0}function lf(e,t){e=e|0;t=t|0;var n=0,i=0,a=0,s=0,u=0;s=p;p=p+32|0;i=s;n=r[t>>0]|0;e:do if(n<<24>>24!=0?(r[t+1>>0]|0)!=0:0){o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;o[i+16>>2]=0;o[i+20>>2]=0;o[i+24>>2]=0;o[i+28>>2]=0;do{u=i+(((n&255)>>>5&255)<<2)|0;o[u>>2]=o[u>>2]|1<<(n&31);t=t+1|0;n=r[t>>0]|0}while(n<<24>>24!=0);n=r[e>>0]|0;if(!(n<<24>>24))t=e;else{t=e;do{if(o[i+(((n&255)>>>5&255)<<2)>>2]&1<<(n&31)|0)break e;t=t+1|0;n=r[t>>0]|0}while(n<<24>>24!=0)}}else a=3;while(0);if((a|0)==3)t=bh(e,n<<24>>24)|0;p=s;return t-e|0}function hf(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,o=0,a=0;i=e+(vh(e)|0)|0;e:do if(n)while(1){a=r[t>>0]|0;if(!(a<<24>>24))break e;n=n+-1|0;o=i+1|0;r[i>>0]=a;if(!n){i=o;break}else{t=t+1|0;i=o}}while(0);r[i>>0]=0;return e|0}function ff(e,t){e=e|0;t=t|0;var n=0;if(!e){e=o[3814]|0;if(!e)e=0;else n=3}else n=3;do if((n|0)==3){e=e+(tf(e,t)|0)|0;if(!(r[e>>0]|0)){o[3814]=0;e=0;break}t=e+(lf(e,t)|0)|0;o[3814]=t;if(!(r[t>>0]|0)){o[3814]=0;break}else{o[3814]=t+1;r[t>>0]=0;break}}while(0);return e|0}function df(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,M=0,E=0,A=0,x=0,T=0,_=0,k=0,S=0,N=0,L=0,D=0,C=0,I=0,O=0,R=0,j=0;j=p;p=p+16|0;d=j;do if(e>>>0<245){m=e>>>0<11?16:e+11&-8;e=m>>>3;b=o[3815]|0;n=b>>>e;if(n&3|0){e=(n&1^1)+e|0;n=15300+(e<<1<<2)|0;r=n+8|0;i=o[r>>2]|0;a=i+8|0;s=o[a>>2]|0;do if((n|0)!=(s|0)){if(s>>>0<(o[3819]|0)>>>0)_e();t=s+12|0;if((o[t>>2]|0)==(i|0)){o[t>>2]=n;o[r>>2]=s;break}else _e()}else o[3815]=b&~(1<<e);while(0);R=e<<3;o[i+4>>2]=R|3;R=i+R+4|0;o[R>>2]=o[R>>2]|1;R=a;p=j;return R|0}y=o[3817]|0;if(m>>>0>y>>>0){if(n|0){u=2<<e;e=n<<e&(u|0-u);e=(e&0-e)+-1|0;u=e>>>12&16;e=e>>>u;r=e>>>5&8;e=e>>>r;a=e>>>2&4;e=e>>>a;n=e>>>1&2;e=e>>>n;t=e>>>1&1;t=(r|u|a|n|t)+(e>>>t)|0;e=15300+(t<<1<<2)|0;n=e+8|0;a=o[n>>2]|0;u=a+8|0;r=o[u>>2]|0;do if((e|0)!=(r|0)){if(r>>>0<(o[3819]|0)>>>0)_e();i=r+12|0;if((o[i>>2]|0)==(a|0)){o[i>>2]=e;o[n>>2]=r;c=b;break}else _e()}else{c=b&~(1<<t);o[3815]=c}while(0);s=(t<<3)-m|0;o[a+4>>2]=m|3;r=a+m|0;o[r+4>>2]=s|1;o[r+s>>2]=s;if(y|0){i=o[3820]|0;t=y>>>3;n=15300+(t<<1<<2)|0;t=1<<t;if(c&t){t=n+8|0;e=o[t>>2]|0;if(e>>>0<(o[3819]|0)>>>0)_e();else{l=e;h=t}}else{o[3815]=c|t;l=n;h=n+8|0}o[h>>2]=i;o[l+12>>2]=i;o[i+8>>2]=l;o[i+12>>2]=n}o[3817]=s;o[3820]=r;R=u;p=j;return R|0}l=o[3816]|0;if(l){e=(l&0-l)+-1|0;O=e>>>12&16;e=e>>>O;I=e>>>5&8;e=e>>>I;R=e>>>2&4;e=e>>>R;n=e>>>1&2;e=e>>>n;t=e>>>1&1;t=o[15564+((I|O|R|n|t)+(e>>>t)<<2)>>2]|0;e=(o[t+4>>2]&-8)-m|0;n=o[t+16+(((o[t+16>>2]|0)==0&1)<<2)>>2]|0;if(!n){c=t;s=e}else{do{O=(o[n+4>>2]&-8)-m|0;R=O>>>0<e>>>0;e=R?O:e;t=R?n:t;n=o[n+16+(((o[n+16>>2]|0)==0&1)<<2)>>2]|0}while((n|0)!=0);c=t;s=e}i=o[3819]|0;if(c>>>0<i>>>0)_e();u=c+m|0;if(c>>>0>=u>>>0)_e();a=o[c+24>>2]|0;n=o[c+12>>2]|0;do if((n|0)==(c|0)){e=c+20|0;t=o[e>>2]|0;if(!t){e=c+16|0;t=o[e>>2]|0;if(!t){f=0;break}}while(1){n=t+20|0;r=o[n>>2]|0;if(r|0){t=r;e=n;continue}n=t+16|0;r=o[n>>2]|0;if(!r)break;else{t=r;e=n}}if(e>>>0<i>>>0)_e();else{o[e>>2]=0;f=t;break}}else{r=o[c+8>>2]|0;if(r>>>0<i>>>0)_e();t=r+12|0;if((o[t>>2]|0)!=(c|0))_e();e=n+8|0;if((o[e>>2]|0)==(c|0)){o[t>>2]=n;o[e>>2]=r;f=n;break}else _e()}while(0);e:do if(a|0){t=o[c+28>>2]|0;e=15564+(t<<2)|0;do if((c|0)==(o[e>>2]|0)){o[e>>2]=f;if(!f){o[3816]=l&~(1<<t);break e}}else if(a>>>0>=(o[3819]|0)>>>0){o[a+16+(((o[a+16>>2]|0)!=(c|0)&1)<<2)>>2]=f;if(!f)break e;else break}else _e();while(0);e=o[3819]|0;if(f>>>0<e>>>0)_e();o[f+24>>2]=a;t=o[c+16>>2]|0;do if(t|0)if(t>>>0<e>>>0)_e();else{o[f+16>>2]=t;o[t+24>>2]=f;break}while(0);t=o[c+20>>2]|0;if(t|0)if(t>>>0<(o[3819]|0)>>>0)_e();else{o[f+20>>2]=t;o[t+24>>2]=f;break}}while(0);if(s>>>0<16){R=s+m|0;o[c+4>>2]=R|3;R=c+R+4|0;o[R>>2]=o[R>>2]|1}else{o[c+4>>2]=m|3;o[u+4>>2]=s|1;o[u+s>>2]=s;if(y|0){r=o[3820]|0;t=y>>>3;n=15300+(t<<1<<2)|0;t=1<<t;if(b&t){t=n+8|0;e=o[t>>2]|0;if(e>>>0<(o[3819]|0)>>>0)_e();else{g=e;v=t}}else{o[3815]=b|t;g=n;v=n+8|0}o[v>>2]=r;o[g+12>>2]=r;o[r+8>>2]=g;o[r+12>>2]=n}o[3817]=s;o[3820]=u}R=c+8|0;p=j;return R|0}}}else if(e>>>0<=4294967231){e=e+11|0;m=e&-8;l=o[3816]|0;if(l){r=0-m|0;e=e>>>8;if(e)if(m>>>0>16777215)u=31;else{v=(e+1048320|0)>>>16&8;S=e<<v;g=(S+520192|0)>>>16&4;S=S<<g;u=(S+245760|0)>>>16&2;u=14-(g|v|u)+(S<<u>>>15)|0;u=m>>>(u+7|0)&1|u<<1}else u=0;n=o[15564+(u<<2)>>2]|0;e:do if(!n){n=0;e=0;S=81}else{e=0;s=m<<((u|0)==31?0:25-(u>>>1)|0);a=0;while(1){i=(o[n+4>>2]&-8)-m|0;if(i>>>0<r>>>0)if(!i){e=n;r=0;i=n;S=85;break e}else{e=n;r=i}i=o[n+20>>2]|0;n=o[n+16+(s>>>31<<2)>>2]|0;a=(i|0)==0|(i|0)==(n|0)?a:i;i=(n|0)==0;if(i){n=a;S=81;break}else s=s<<((i^1)&1)}}while(0);if((S|0)==81){if((n|0)==0&(e|0)==0){e=2<<u;e=l&(e|0-e);if(!e)break;v=(e&0-e)+-1|0;h=v>>>12&16;v=v>>>h;c=v>>>5&8;v=v>>>c;f=v>>>2&4;v=v>>>f;g=v>>>1&2;v=v>>>g;n=v>>>1&1;e=0;n=o[15564+((c|h|f|g|n)+(v>>>n)<<2)>>2]|0}if(!n){c=e;u=r}else{i=n;S=85}}if((S|0)==85)while(1){S=0;n=(o[i+4>>2]&-8)-m|0;v=n>>>0<r>>>0;n=v?n:r;e=v?i:e;i=o[i+16+(((o[i+16>>2]|0)==0&1)<<2)>>2]|0;if(!i){c=e;u=n;break}else{r=n;S=85}}if((c|0)!=0?u>>>0<((o[3817]|0)-m|0)>>>0:0){i=o[3819]|0;if(c>>>0<i>>>0)_e();s=c+m|0;if(c>>>0>=s>>>0)_e();a=o[c+24>>2]|0;n=o[c+12>>2]|0;do if((n|0)==(c|0)){e=c+20|0;t=o[e>>2]|0;if(!t){e=c+16|0;t=o[e>>2]|0;if(!t){y=0;break}}while(1){n=t+20|0;r=o[n>>2]|0;if(r|0){t=r;e=n;continue}n=t+16|0;r=o[n>>2]|0;if(!r)break;else{t=r;e=n}}if(e>>>0<i>>>0)_e();else{o[e>>2]=0;y=t;break}}else{r=o[c+8>>2]|0;if(r>>>0<i>>>0)_e();t=r+12|0;if((o[t>>2]|0)!=(c|0))_e();e=n+8|0;if((o[e>>2]|0)==(c|0)){o[t>>2]=n;o[e>>2]=r;y=n;break}else _e()}while(0);e:do if(a){t=o[c+28>>2]|0;e=15564+(t<<2)|0;do if((c|0)==(o[e>>2]|0)){o[e>>2]=y;if(!y){b=l&~(1<<t);o[3816]=b;break e}}else if(a>>>0>=(o[3819]|0)>>>0){o[a+16+(((o[a+16>>2]|0)!=(c|0)&1)<<2)>>2]=y;if(!y){b=l;break e}else break}else _e();while(0);e=o[3819]|0;if(y>>>0<e>>>0)_e();o[y+24>>2]=a;t=o[c+16>>2]|0;do if(t|0)if(t>>>0<e>>>0)_e();else{o[y+16>>2]=t;o[t+24>>2]=y;break}while(0);t=o[c+20>>2]|0;if(t)if(t>>>0<(o[3819]|0)>>>0)_e();else{o[y+20>>2]=t;o[t+24>>2]=y;b=l;break}else b=l}else b=l;while(0);do if(u>>>0>=16){o[c+4>>2]=m|3;o[s+4>>2]=u|1;o[s+u>>2]=u;t=u>>>3;if(u>>>0<256){n=15300+(t<<1<<2)|0;e=o[3815]|0;t=1<<t;if(e&t){t=n+8|0;e=o[t>>2]|0;if(e>>>0<(o[3819]|0)>>>0)_e();else{A=e;x=t}}else{o[3815]=e|t;A=n;x=n+8|0}o[x>>2]=s;o[A+12>>2]=s;o[s+8>>2]=A;o[s+12>>2]=n;break}t=u>>>8;if(t)if(u>>>0>16777215)t=31;else{O=(t+1048320|0)>>>16&8;R=t<<O;I=(R+520192|0)>>>16&4;R=R<<I;t=(R+245760|0)>>>16&2;t=14-(I|O|t)+(R<<t>>>15)|0;t=u>>>(t+7|0)&1|t<<1}else t=0;n=15564+(t<<2)|0;o[s+28>>2]=t;e=s+16|0;o[e+4>>2]=0;o[e>>2]=0;e=1<<t;if(!(b&e)){o[3816]=b|e;o[n>>2]=s;o[s+24>>2]=n;o[s+12>>2]=s;o[s+8>>2]=s;break}e=u<<((t|0)==31?0:25-(t>>>1)|0);r=o[n>>2]|0;while(1){if((o[r+4>>2]&-8|0)==(u|0)){S=139;break}n=r+16+(e>>>31<<2)|0;t=o[n>>2]|0;if(!t){S=136;break}else{e=e<<1;r=t}}if((S|0)==136)if(n>>>0<(o[3819]|0)>>>0)_e();else{o[n>>2]=s;o[s+24>>2]=r;o[s+12>>2]=s;o[s+8>>2]=s;break}else if((S|0)==139){t=r+8|0;e=o[t>>2]|0;R=o[3819]|0;if(e>>>0>=R>>>0&r>>>0>=R>>>0){o[e+12>>2]=s;o[t>>2]=s;o[s+8>>2]=e;o[s+12>>2]=r;o[s+24>>2]=0;break}else _e()}}else{R=u+m|0;o[c+4>>2]=R|3;R=c+R+4|0;o[R>>2]=o[R>>2]|1}while(0);R=c+8|0;p=j;return R|0}}}else m=-1;while(0);n=o[3817]|0;if(n>>>0>=m>>>0){t=n-m|0;e=o[3820]|0;if(t>>>0>15){R=e+m|0;o[3820]=R;o[3817]=t;o[R+4>>2]=t|1;o[R+t>>2]=t;o[e+4>>2]=m|3}else{o[3817]=0;o[3820]=0;o[e+4>>2]=n|3;R=e+n+4|0;o[R>>2]=o[R>>2]|1}R=e+8|0;p=j;return R|0}s=o[3818]|0;if(s>>>0>m>>>0){I=s-m|0;o[3818]=I;R=o[3821]|0;O=R+m|0;o[3821]=O;o[O+4>>2]=I|1;o[R+4>>2]=m|3;R=R+8|0;p=j;return R|0}if(!(o[3933]|0)){o[3935]=4096;o[3934]=4096;o[3936]=-1;o[3937]=-1;o[3938]=0;o[3926]=0;e=d&-16^1431655768;o[d>>2]=e;o[3933]=e;e=4096}else e=o[3935]|0;u=m+48|0;c=m+47|0;a=e+c|0;i=0-e|0;l=a&i;if(l>>>0<=m>>>0){R=0;p=j;return R|0}e=o[3925]|0;if(e|0?(A=o[3923]|0,x=A+l|0,x>>>0<=A>>>0|x>>>0>e>>>0):0){R=0;p=j;return R|0}e:do if(!(o[3926]&4)){n=o[3821]|0;t:do if(n){r=15708;while(1){e=o[r>>2]|0;if(e>>>0<=n>>>0?(E=r+4|0,(e+(o[E>>2]|0)|0)>>>0>n>>>0):0)break;e=o[r+8>>2]|0;if(!e){S=163;break t}else r=e}t=a-s&i;if(t>>>0<2147483647){e=wd(t|0)|0;if((e|0)==((o[r>>2]|0)+(o[E>>2]|0)|0)){if((e|0)!=(-1|0)){s=t;a=e;S=180;break e}}else{r=e;S=171}}else t=0}else S=163;while(0);do if((S|0)==163){n=wd(0)|0;if((n|0)!=(-1|0)?(t=n,w=o[3934]|0,M=w+-1|0,t=((M&t|0)==0?0:(M+t&0-w)-t|0)+l|0,w=o[3923]|0,M=t+w|0,t>>>0>m>>>0&t>>>0<2147483647):0){x=o[3925]|0;if(x|0?M>>>0<=w>>>0|M>>>0>x>>>0:0){t=0;break}e=wd(t|0)|0;if((e|0)==(n|0)){s=t;a=n;S=180;break e}else{r=e;S=171}}else t=0}while(0);do if((S|0)==171){n=0-t|0;if(!(u>>>0>t>>>0&(t>>>0<2147483647&(r|0)!=(-1|0))))if((r|0)==(-1|0)){t=0;break}else{s=t;a=r;S=180;break e}e=o[3935]|0;e=c-t+e&0-e;if(e>>>0>=2147483647){s=t;a=r;S=180;break e}if((wd(e|0)|0)==(-1|0)){wd(n|0)|0;t=0;break}else{s=e+t|0;a=r;S=180;break e}}while(0);o[3926]=o[3926]|4;S=178}else{t=0;S=178}while(0);if(((S|0)==178?l>>>0<2147483647:0)?(k=wd(l|0)|0,x=wd(0)|0,T=x-k|0,_=T>>>0>(m+40|0)>>>0,!((k|0)==(-1|0)|_^1|k>>>0<x>>>0&((k|0)!=(-1|0)&(x|0)!=(-1|0))^1)):0){s=_?T:t;a=k;S=180}if((S|0)==180){t=(o[3923]|0)+s|0;o[3923]=t;if(t>>>0>(o[3924]|0)>>>0)o[3924]=t;l=o[3821]|0;do if(l){t=15708;while(1){e=o[t>>2]|0;n=t+4|0;r=o[n>>2]|0;if((a|0)==(e+r|0)){S=190;break}i=o[t+8>>2]|0;if(!i)break;else t=i}if(((S|0)==190?(o[t+12>>2]&8|0)==0:0)?l>>>0<a>>>0&l>>>0>=e>>>0:0){o[n>>2]=r+s;R=l+8|0;R=(R&7|0)==0?0:0-R&7;O=l+R|0;R=(o[3818]|0)+(s-R)|0;o[3821]=O;o[3818]=R;o[O+4>>2]=R|1;o[O+R+4>>2]=40;o[3822]=o[3937];break}t=o[3819]|0;if(a>>>0<t>>>0){o[3819]=a;u=a}else u=t;n=a+s|0;t=15708;while(1){if((o[t>>2]|0)==(n|0)){S=198;break}e=o[t+8>>2]|0;if(!e)break;else t=e}if((S|0)==198?(o[t+12>>2]&8|0)==0:0){o[t>>2]=a;f=t+4|0;o[f>>2]=(o[f>>2]|0)+s;f=a+8|0;f=a+((f&7|0)==0?0:0-f&7)|0;t=n+8|0;t=n+((t&7|0)==0?0:0-t&7)|0;h=f+m|0;c=t-f-m|0;o[f+4>>2]=m|3;do if((t|0)!=(l|0)){if((t|0)==(o[3820]|0)){R=(o[3817]|0)+c|0;o[3817]=R;o[3820]=h;o[h+4>>2]=R|1;o[h+R>>2]=R;break}e=o[t+4>>2]|0;if((e&3|0)==1){s=e&-8;i=e>>>3;e:do if(e>>>0>=256){a=o[t+24>>2]|0;r=o[t+12>>2]|0;do if((r|0)==(t|0)){r=t+16|0;n=r+4|0;e=o[n>>2]|0;if(!e){e=o[r>>2]|0;if(!e){I=0;break}else n=r}while(1){r=e+20|0;i=o[r>>2]|0;if(i|0){e=i;n=r;continue}r=e+16|0;i=o[r>>2]|0;if(!i)break;else{e=i;n=r}}if(n>>>0<u>>>0)_e();else{o[n>>2]=0;I=e;break}}else{i=o[t+8>>2]|0;if(i>>>0<u>>>0)_e();e=i+12|0;if((o[e>>2]|0)!=(t|0))_e();n=r+8|0;if((o[n>>2]|0)==(t|0)){o[e>>2]=r;o[n>>2]=i;I=r;break}else _e()}while(0);if(!a)break;e=o[t+28>>2]|0;n=15564+(e<<2)|0;do if((t|0)!=(o[n>>2]|0))if(a>>>0>=(o[3819]|0)>>>0){o[a+16+(((o[a+16>>2]|0)!=(t|0)&1)<<2)>>2]=I;if(!I)break e;else break}else _e();else{o[n>>2]=I;if(I|0)break;o[3816]=o[3816]&~(1<<e);break e}while(0);r=o[3819]|0;if(I>>>0<r>>>0)_e();o[I+24>>2]=a;e=t+16|0;n=o[e>>2]|0;do if(n|0)if(n>>>0<r>>>0)_e();else{o[I+16>>2]=n;o[n+24>>2]=I;break}while(0);e=o[e+4>>2]|0;if(!e)break;if(e>>>0<(o[3819]|0)>>>0)_e();else{o[I+20>>2]=e;o[e+24>>2]=I;break}}else{n=o[t+8>>2]|0;r=o[t+12>>2]|0;e=15300+(i<<1<<2)|0;do if((n|0)!=(e|0)){if(n>>>0<u>>>0)_e();if((o[n+12>>2]|0)==(t|0))break;_e()}while(0);if((r|0)==(n|0)){o[3815]=o[3815]&~(1<<i);break}do if((r|0)==(e|0))L=r+8|0;else{if(r>>>0<u>>>0)_e();e=r+8|0;if((o[e>>2]|0)==(t|0)){L=e;break}_e()}while(0);o[n+12>>2]=r;o[L>>2]=n}while(0);t=t+s|0;i=s+c|0}else i=c;t=t+4|0;o[t>>2]=o[t>>2]&-2;o[h+4>>2]=i|1;o[h+i>>2]=i;t=i>>>3;if(i>>>0<256){n=15300+(t<<1<<2)|0;e=o[3815]|0;t=1<<t;do if(!(e&t)){o[3815]=e|t;O=n;R=n+8|0}else{t=n+8|0;e=o[t>>2]|0;if(e>>>0>=(o[3819]|0)>>>0){O=e;R=t;break}_e()}while(0);o[R>>2]=h;o[O+12>>2]=h;o[h+8>>2]=O;o[h+12>>2]=n;break}t=i>>>8;do if(!t)t=0;else{if(i>>>0>16777215){t=31;break}O=(t+1048320|0)>>>16&8;R=t<<O;I=(R+520192|0)>>>16&4;R=R<<I;t=(R+245760|0)>>>16&2;t=14-(I|O|t)+(R<<t>>>15)|0;t=i>>>(t+7|0)&1|t<<1}while(0);r=15564+(t<<2)|0;o[h+28>>2]=t;e=h+16|0;o[e+4>>2]=0;o[e>>2]=0;e=o[3816]|0;n=1<<t;if(!(e&n)){o[3816]=e|n;o[r>>2]=h;o[h+24>>2]=r;o[h+12>>2]=h;o[h+8>>2]=h;break}e=i<<((t|0)==31?0:25-(t>>>1)|0);r=o[r>>2]|0;while(1){if((o[r+4>>2]&-8|0)==(i|0)){S=265;break}n=r+16+(e>>>31<<2)|0;t=o[n>>2]|0;if(!t){S=262;break}else{e=e<<1;r=t}}if((S|0)==262)if(n>>>0<(o[3819]|0)>>>0)_e();else{o[n>>2]=h;o[h+24>>2]=r;o[h+12>>2]=h;o[h+8>>2]=h;break}else if((S|0)==265){t=r+8|0;e=o[t>>2]|0;R=o[3819]|0;if(e>>>0>=R>>>0&r>>>0>=R>>>0){o[e+12>>2]=h;o[t>>2]=h;o[h+8>>2]=e;o[h+12>>2]=r;o[h+24>>2]=0;break}else _e()}}else{R=(o[3818]|0)+c|0;o[3818]=R;o[3821]=h;o[h+4>>2]=R|1}while(0);R=f+8|0;p=j;return R|0}t=15708;while(1){e=o[t>>2]|0;if(e>>>0<=l>>>0?(N=e+(o[t+4>>2]|0)|0,N>>>0>l>>>0):0)break;t=o[t+8>>2]|0}i=N+-47|0;e=i+8|0;e=i+((e&7|0)==0?0:0-e&7)|0;i=l+16|0;e=e>>>0<i>>>0?l:e;t=e+8|0;n=a+8|0;n=(n&7|0)==0?0:0-n&7;R=a+n|0;n=s+-40-n|0;o[3821]=R;o[3818]=n;o[R+4>>2]=n|1;o[R+n+4>>2]=40;o[3822]=o[3937];n=e+4|0;o[n>>2]=27;o[t>>2]=o[3927];o[t+4>>2]=o[3928];o[t+8>>2]=o[3929];o[t+12>>2]=o[3930];o[3927]=a;o[3928]=s;o[3930]=0;o[3929]=t;t=e+24|0;do{R=t;t=t+4|0;o[t>>2]=7}while((R+8|0)>>>0<N>>>0);if((e|0)!=(l|0)){a=e-l|0;o[n>>2]=o[n>>2]&-2;o[l+4>>2]=a|1;o[e>>2]=a;t=a>>>3;if(a>>>0<256){n=15300+(t<<1<<2)|0;e=o[3815]|0;t=1<<t;if(e&t){t=n+8|0;e=o[t>>2]|0;if(e>>>0<(o[3819]|0)>>>0)_e();else{D=e;C=t}}else{o[3815]=e|t;D=n;C=n+8|0}o[C>>2]=l;o[D+12>>2]=l;o[l+8>>2]=D;o[l+12>>2]=n;break}t=a>>>8;if(t)if(a>>>0>16777215)n=31;else{O=(t+1048320|0)>>>16&8;R=t<<O;I=(R+520192|0)>>>16&4;R=R<<I;n=(R+245760|0)>>>16&2;n=14-(I|O|n)+(R<<n>>>15)|0;n=a>>>(n+7|0)&1|n<<1}else n=0;r=15564+(n<<2)|0;o[l+28>>2]=n;o[l+20>>2]=0;o[i>>2]=0;t=o[3816]|0;e=1<<n;if(!(t&e)){o[3816]=t|e;o[r>>2]=l;o[l+24>>2]=r;o[l+12>>2]=l;o[l+8>>2]=l;break}e=a<<((n|0)==31?0:25-(n>>>1)|0);r=o[r>>2]|0;while(1){if((o[r+4>>2]&-8|0)==(a|0)){S=292;break}n=r+16+(e>>>31<<2)|0;t=o[n>>2]|0;if(!t){S=289;break}else{e=e<<1;r=t}}if((S|0)==289)if(n>>>0<(o[3819]|0)>>>0)_e();else{o[n>>2]=l;o[l+24>>2]=r;o[l+12>>2]=l;o[l+8>>2]=l;break}else if((S|0)==292){t=r+8|0;e=o[t>>2]|0;R=o[3819]|0;if(e>>>0>=R>>>0&r>>>0>=R>>>0){o[e+12>>2]=l;o[t>>2]=l;o[l+8>>2]=e;o[l+12>>2]=r;o[l+24>>2]=0;break}else _e()}}}else{R=o[3819]|0;if((R|0)==0|a>>>0<R>>>0)o[3819]=a;o[3927]=a;o[3928]=s;o[3930]=0;o[3824]=o[3933];o[3823]=-1;t=0;do{R=15300+(t<<1<<2)|0;o[R+12>>2]=R;o[R+8>>2]=R;t=t+1|0}while((t|0)!=32);R=a+8|0;R=(R&7|0)==0?0:0-R&7;O=a+R|0;R=s+-40-R|0;o[3821]=O;o[3818]=R;o[O+4>>2]=R|1;o[O+R+4>>2]=40;o[3822]=o[3937]}while(0);t=o[3818]|0;if(t>>>0>m>>>0){I=t-m|0;o[3818]=I;R=o[3821]|0;O=R+m|0;o[3821]=O;o[O+4>>2]=I|1;o[R+4>>2]=m|3;R=R+8|0;p=j;return R|0}}o[(cl()|0)>>2]=12;R=0;p=j;return R|0}function pf(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0;if(!e)return;n=e+-8|0;s=o[3819]|0;if(n>>>0<s>>>0)_e();e=o[e+-4>>2]|0;t=e&3;if((t|0)==1)_e();r=e&-8;p=n+r|0;e:do if(!(e&1)){e=o[n>>2]|0;if(!t)return;l=n+(0-e)|0;c=e+r|0;if(l>>>0<s>>>0)_e();if((l|0)==(o[3820]|0)){e=p+4|0;t=o[e>>2]|0;if((t&3|0)!=3){v=l;i=c;f=l;break}o[3817]=c;o[e>>2]=t&-2;o[l+4>>2]=c|1;o[l+c>>2]=c;return}r=e>>>3;if(e>>>0<256){t=o[l+8>>2]|0;n=o[l+12>>2]|0;e=15300+(r<<1<<2)|0;if((t|0)!=(e|0)){if(t>>>0<s>>>0)_e();if((o[t+12>>2]|0)!=(l|0))_e()}if((n|0)==(t|0)){o[3815]=o[3815]&~(1<<r);v=l;i=c;f=l;break}if((n|0)!=(e|0)){if(n>>>0<s>>>0)_e();e=n+8|0;if((o[e>>2]|0)==(l|0))a=e;else _e()}else a=n+8|0;o[t+12>>2]=n;o[a>>2]=t;v=l;i=c;f=l;break}a=o[l+24>>2]|0;n=o[l+12>>2]|0;do if((n|0)==(l|0)){n=l+16|0;t=n+4|0;e=o[t>>2]|0;if(!e){e=o[n>>2]|0;if(!e){u=0;break}else t=n}while(1){n=e+20|0;r=o[n>>2]|0;if(r|0){e=r;t=n;continue}n=e+16|0;r=o[n>>2]|0;if(!r)break;else{e=r;t=n}}if(t>>>0<s>>>0)_e();else{o[t>>2]=0;u=e;break}}else{r=o[l+8>>2]|0;if(r>>>0<s>>>0)_e();e=r+12|0;if((o[e>>2]|0)!=(l|0))_e();t=n+8|0;if((o[t>>2]|0)==(l|0)){o[e>>2]=n;o[t>>2]=r;u=n;break}else _e()}while(0);if(a){e=o[l+28>>2]|0;t=15564+(e<<2)|0;do if((l|0)==(o[t>>2]|0)){o[t>>2]=u;if(!u){o[3816]=o[3816]&~(1<<e);v=l;i=c;f=l;break e}}else if(a>>>0>=(o[3819]|0)>>>0){o[a+16+(((o[a+16>>2]|0)!=(l|0)&1)<<2)>>2]=u;if(!u){v=l;i=c;f=l;break e}else break}else _e();while(0);n=o[3819]|0;if(u>>>0<n>>>0)_e();o[u+24>>2]=a;e=l+16|0;t=o[e>>2]|0;do if(t|0)if(t>>>0<n>>>0)_e();else{o[u+16>>2]=t;o[t+24>>2]=u;break}while(0);e=o[e+4>>2]|0;if(e)if(e>>>0<(o[3819]|0)>>>0)_e();else{o[u+20>>2]=e;o[e+24>>2]=u;v=l;i=c;f=l;break}else{v=l;i=c;f=l}}else{v=l;i=c;f=l}}else{v=n;i=r;f=n}while(0);if(f>>>0>=p>>>0)_e();e=p+4|0;t=o[e>>2]|0;if(!(t&1))_e();if(!(t&2)){e=o[3820]|0;if((p|0)==(o[3821]|0)){g=(o[3818]|0)+i|0;o[3818]=g;o[3821]=v;o[v+4>>2]=g|1;if((v|0)!=(e|0))return;o[3820]=0;o[3817]=0;return}if((p|0)==(e|0)){g=(o[3817]|0)+i|0;o[3817]=g;o[3820]=f;o[v+4>>2]=g|1;o[f+g>>2]=g;return}i=(t&-8)+i|0;r=t>>>3;e:do if(t>>>0>=256){a=o[p+24>>2]|0;e=o[p+12>>2]|0;do if((e|0)==(p|0)){n=p+16|0;t=n+4|0;e=o[t>>2]|0;if(!e){e=o[n>>2]|0;if(!e){d=0;break}else t=n}while(1){n=e+20|0;r=o[n>>2]|0;if(r|0){e=r;t=n;continue}n=e+16|0;r=o[n>>2]|0;if(!r)break;else{e=r;t=n}}if(t>>>0<(o[3819]|0)>>>0)_e();else{o[t>>2]=0;d=e;break}}else{t=o[p+8>>2]|0;if(t>>>0<(o[3819]|0)>>>0)_e();n=t+12|0;if((o[n>>2]|0)!=(p|0))_e();r=e+8|0;if((o[r>>2]|0)==(p|0)){o[n>>2]=e;o[r>>2]=t;d=e;break}else _e()}while(0);if(a|0){e=o[p+28>>2]|0;t=15564+(e<<2)|0;do if((p|0)==(o[t>>2]|0)){o[t>>2]=d;if(!d){o[3816]=o[3816]&~(1<<e);break e}}else if(a>>>0>=(o[3819]|0)>>>0){o[a+16+(((o[a+16>>2]|0)!=(p|0)&1)<<2)>>2]=d;if(!d)break e;else break}else _e();while(0);n=o[3819]|0;if(d>>>0<n>>>0)_e();o[d+24>>2]=a;e=p+16|0;t=o[e>>2]|0;do if(t|0)if(t>>>0<n>>>0)_e();else{o[d+16>>2]=t;o[t+24>>2]=d;break}while(0);e=o[e+4>>2]|0;if(e|0)if(e>>>0<(o[3819]|0)>>>0)_e();else{o[d+20>>2]=e;o[e+24>>2]=d;break}}}else{t=o[p+8>>2]|0;n=o[p+12>>2]|0;e=15300+(r<<1<<2)|0;if((t|0)!=(e|0)){if(t>>>0<(o[3819]|0)>>>0)_e();if((o[t+12>>2]|0)!=(p|0))_e()}if((n|0)==(t|0)){o[3815]=o[3815]&~(1<<r);break}if((n|0)!=(e|0)){if(n>>>0<(o[3819]|0)>>>0)_e();e=n+8|0;if((o[e>>2]|0)==(p|0))h=e;else _e()}else h=n+8|0;o[t+12>>2]=n;o[h>>2]=t}while(0);o[v+4>>2]=i|1;o[f+i>>2]=i;if((v|0)==(o[3820]|0)){o[3817]=i;return}}else{o[e>>2]=t&-2;o[v+4>>2]=i|1;o[f+i>>2]=i}e=i>>>3;if(i>>>0<256){n=15300+(e<<1<<2)|0;t=o[3815]|0;e=1<<e;if(t&e){e=n+8|0;t=o[e>>2]|0;if(t>>>0<(o[3819]|0)>>>0)_e();else{m=t;g=e}}else{o[3815]=t|e;m=n;g=n+8|0}o[g>>2]=v;o[m+12>>2]=v;o[v+8>>2]=m;o[v+12>>2]=n;return}e=i>>>8;if(e)if(i>>>0>16777215)e=31;else{m=(e+1048320|0)>>>16&8;g=e<<m;p=(g+520192|0)>>>16&4;g=g<<p;e=(g+245760|0)>>>16&2;e=14-(p|m|e)+(g<<e>>>15)|0;e=i>>>(e+7|0)&1|e<<1}else e=0;r=15564+(e<<2)|0;o[v+28>>2]=e;o[v+20>>2]=0;o[v+16>>2]=0;t=o[3816]|0;n=1<<e;do if(t&n){t=i<<((e|0)==31?0:25-(e>>>1)|0);r=o[r>>2]|0;while(1){if((o[r+4>>2]&-8|0)==(i|0)){e=124;break}n=r+16+(t>>>31<<2)|0;e=o[n>>2]|0;if(!e){e=121;break}else{t=t<<1;r=e}}if((e|0)==121)if(n>>>0<(o[3819]|0)>>>0)_e();else{o[n>>2]=v;o[v+24>>2]=r;o[v+12>>2]=v;o[v+8>>2]=v;break}else if((e|0)==124){e=r+8|0;t=o[e>>2]|0;g=o[3819]|0;if(t>>>0>=g>>>0&r>>>0>=g>>>0){o[t+12>>2]=v;o[e>>2]=v;o[v+8>>2]=t;o[v+12>>2]=r;o[v+24>>2]=0;break}else _e()}}else{o[3816]=t|n;o[r>>2]=v;o[v+24>>2]=r;o[v+12>>2]=v;o[v+8>>2]=v}while(0);v=(o[3823]|0)+-1|0;o[3823]=v;if(!v)e=15716;else return;while(1){e=o[e>>2]|0;if(!e)break;else e=e+8|0}o[3823]=-1;return}function mf(e,t){e=e|0;t=t|0;var n=0;if(e){n=q(t,e)|0;if((t|e)>>>0>65535)n=((n>>>0)/(e>>>0)|0|0)==(t|0)?n:-1}else n=0;e=df(n)|0;if(!e)return e|0;if(!(o[e+-4>>2]&3))return e|0;ld(e|0,0,n|0)|0;return e|0}function gf(e,t){e=e|0;t=t|0;var n=0,r=0;if(!e){t=df(t)|0;return t|0}if(t>>>0>4294967231){o[(cl()|0)>>2]=12;t=0;return t|0}n=vf(e+-8|0,t>>>0<11?16:t+11&-8)|0;if(n|0){t=n+8|0;return t|0}n=df(t)|0;if(!n){t=0;return t|0}r=o[e+-4>>2]|0;r=(r&-8)-((r&3|0)==0?8:4)|0;pd(n|0,e|0,(r>>>0<t>>>0?r:t)|0)|0;pf(e);t=n;return t|0}function vf(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0;p=e+4|0;d=o[p>>2]|0;n=d&-8;l=e+n|0;u=o[3819]|0;r=d&3;if(!((r|0)!=1&e>>>0>=u>>>0&e>>>0<l>>>0))_e();i=o[l+4>>2]|0;if(!(i&1))_e();if(!r){if(t>>>0<256){e=0;return e|0}if(n>>>0>=(t+4|0)>>>0?(n-t|0)>>>0<=o[3935]<<1>>>0:0)return e|0;e=0;return e|0}if(n>>>0>=t>>>0){n=n-t|0;if(n>>>0<=15)return e|0;f=e+t|0;o[p>>2]=d&1|t|2;o[f+4>>2]=n|3;p=f+n+4|0;o[p>>2]=o[p>>2]|1;yf(f,n);return e|0}if((l|0)==(o[3821]|0)){f=(o[3818]|0)+n|0;n=f-t|0;r=e+t|0;if(f>>>0<=t>>>0){e=0;return e|0}o[p>>2]=d&1|t|2;o[r+4>>2]=n|1;o[3821]=r;o[3818]=n;return e|0}if((l|0)==(o[3820]|0)){i=(o[3817]|0)+n|0;if(i>>>0<t>>>0){e=0;return e|0}n=i-t|0;r=d&1;if(n>>>0>15){d=e+t|0;f=d+n|0;o[p>>2]=r|t|2;o[d+4>>2]=n|1;o[f>>2]=n;r=f+4|0;o[r>>2]=o[r>>2]&-2;r=d}else{o[p>>2]=r|i|2;r=e+i+4|0;o[r>>2]=o[r>>2]|1;r=0;n=0}o[3817]=n;o[3820]=r;return e|0}if(i&2|0){e=0;return e|0}h=(i&-8)+n|0;if(h>>>0<t>>>0){e=0;return e|0}f=h-t|0;a=i>>>3;e:do if(i>>>0>=256){s=o[l+24>>2]|0;i=o[l+12>>2]|0;do if((i|0)==(l|0)){i=l+16|0;r=i+4|0;n=o[r>>2]|0;if(!n){n=o[i>>2]|0;if(!n){c=0;break}else r=i}while(1){i=n+20|0;a=o[i>>2]|0;if(a|0){n=a;r=i;continue}i=n+16|0;a=o[i>>2]|0;if(!a)break;else{n=a;r=i}}if(r>>>0<u>>>0)_e();else{o[r>>2]=0;c=n;break}}else{a=o[l+8>>2]|0;if(a>>>0<u>>>0)_e();n=a+12|0;if((o[n>>2]|0)!=(l|0))_e();r=i+8|0;if((o[r>>2]|0)==(l|0)){o[n>>2]=i;o[r>>2]=a;c=i;break}else _e()}while(0);if(s|0){n=o[l+28>>2]|0;r=15564+(n<<2)|0;do if((l|0)==(o[r>>2]|0)){o[r>>2]=c;if(!c){o[3816]=o[3816]&~(1<<n);break e}}else if(s>>>0>=(o[3819]|0)>>>0){o[s+16+(((o[s+16>>2]|0)!=(l|0)&1)<<2)>>2]=c;if(!c)break e;else break}else _e();while(0);i=o[3819]|0;if(c>>>0<i>>>0)_e();o[c+24>>2]=s;n=l+16|0;r=o[n>>2]|0;do if(r|0)if(r>>>0<i>>>0)_e();else{o[c+16>>2]=r;o[r+24>>2]=c;break}while(0);n=o[n+4>>2]|0;if(n|0)if(n>>>0<(o[3819]|0)>>>0)_e();else{o[c+20>>2]=n;o[n+24>>2]=c;break}}}else{r=o[l+8>>2]|0;i=o[l+12>>2]|0;n=15300+(a<<1<<2)|0;if((r|0)!=(n|0)){if(r>>>0<u>>>0)_e();if((o[r+12>>2]|0)!=(l|0))_e()}if((i|0)==(r|0)){o[3815]=o[3815]&~(1<<a);break}if((i|0)!=(n|0)){if(i>>>0<u>>>0)_e();n=i+8|0;if((o[n>>2]|0)==(l|0))s=n;else _e()}else s=i+8|0;o[r+12>>2]=i;o[s>>2]=r}while(0);n=d&1;if(f>>>0<16){o[p>>2]=h|n|2;p=e+h+4|0;o[p>>2]=o[p>>2]|1;return e|0}else{d=e+t|0;o[p>>2]=n|t|2;o[d+4>>2]=f|3;p=d+f+4|0;o[p>>2]=o[p>>2]|1;yf(d,f);return e|0}return 0}function yf(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0;p=e+t|0;n=o[e+4>>2]|0;e:do if(!(n&1)){a=o[e>>2]|0;if(!(n&3))return;h=e+(0-a)|0;l=a+t|0;u=o[3819]|0;if(h>>>0<u>>>0)_e();if((h|0)==(o[3820]|0)){e=p+4|0;n=o[e>>2]|0;if((n&3|0)!=3){v=h;i=l;break}o[3817]=l;o[e>>2]=n&-2;o[h+4>>2]=l|1;o[h+l>>2]=l;return}r=a>>>3;if(a>>>0<256){n=o[h+8>>2]|0;t=o[h+12>>2]|0;e=15300+(r<<1<<2)|0;if((n|0)!=(e|0)){if(n>>>0<u>>>0)_e();if((o[n+12>>2]|0)!=(h|0))_e()}if((t|0)==(n|0)){o[3815]=o[3815]&~(1<<r);v=h;i=l;break}if((t|0)!=(e|0)){if(t>>>0<u>>>0)_e();e=t+8|0;if((o[e>>2]|0)==(h|0))s=e;else _e()}else s=t+8|0;o[n+12>>2]=t;o[s>>2]=n;v=h;i=l;break}a=o[h+24>>2]|0;t=o[h+12>>2]|0;do if((t|0)==(h|0)){t=h+16|0;n=t+4|0;e=o[n>>2]|0;if(!e){e=o[t>>2]|0;if(!e){c=0;break}else n=t}while(1){t=e+20|0;r=o[t>>2]|0;if(r|0){e=r;n=t;continue}t=e+16|0;r=o[t>>2]|0;if(!r)break;else{e=r;n=t}}if(n>>>0<u>>>0)_e();else{o[n>>2]=0;c=e;break}}else{r=o[h+8>>2]|0;if(r>>>0<u>>>0)_e();e=r+12|0;if((o[e>>2]|0)!=(h|0))_e();n=t+8|0;if((o[n>>2]|0)==(h|0)){o[e>>2]=t;o[n>>2]=r;c=t;break}else _e()}while(0);if(a){e=o[h+28>>2]|0;n=15564+(e<<2)|0;do if((h|0)==(o[n>>2]|0)){o[n>>2]=c;if(!c){o[3816]=o[3816]&~(1<<e);v=h;i=l;break e}}else if(a>>>0>=(o[3819]|0)>>>0){o[a+16+(((o[a+16>>2]|0)!=(h|0)&1)<<2)>>2]=c;if(!c){v=h;i=l;break e}else break}else _e();while(0);t=o[3819]|0;if(c>>>0<t>>>0)_e();o[c+24>>2]=a;e=h+16|0;n=o[e>>2]|0;do if(n|0)if(n>>>0<t>>>0)_e();else{o[c+16>>2]=n;o[n+24>>2]=c;break}while(0);e=o[e+4>>2]|0;if(e)if(e>>>0<(o[3819]|0)>>>0)_e();else{o[c+20>>2]=e;o[e+24>>2]=c;v=h;i=l;break}else{v=h;i=l}}else{v=h;i=l}}else{v=e;i=t}while(0);s=o[3819]|0;if(p>>>0<s>>>0)_e();e=p+4|0;n=o[e>>2]|0;if(!(n&2)){e=o[3820]|0;if((p|0)==(o[3821]|0)){g=(o[3818]|0)+i|0;o[3818]=g;o[3821]=v;o[v+4>>2]=g|1;if((v|0)!=(e|0))return;o[3820]=0;o[3817]=0;return}if((p|0)==(e|0)){g=(o[3817]|0)+i|0;o[3817]=g;o[3820]=v;o[v+4>>2]=g|1;o[v+g>>2]=g;return}i=(n&-8)+i|0;r=n>>>3;e:do if(n>>>0>=256){a=o[p+24>>2]|0;t=o[p+12>>2]|0;do if((t|0)==(p|0)){t=p+16|0;n=t+4|0;e=o[n>>2]|0;if(!e){e=o[t>>2]|0;if(!e){d=0;break}else n=t}while(1){t=e+20|0;r=o[t>>2]|0;if(r|0){e=r;n=t;continue}t=e+16|0;r=o[t>>2]|0;if(!r)break;else{e=r;n=t}}if(n>>>0<s>>>0)_e();else{o[n>>2]=0;d=e;break}}else{r=o[p+8>>2]|0;if(r>>>0<s>>>0)_e();e=r+12|0;if((o[e>>2]|0)!=(p|0))_e();n=t+8|0;if((o[n>>2]|0)==(p|0)){o[e>>2]=t;o[n>>2]=r;d=t;break}else _e()}while(0);if(a|0){e=o[p+28>>2]|0;n=15564+(e<<2)|0;do if((p|0)==(o[n>>2]|0)){o[n>>2]=d;if(!d){o[3816]=o[3816]&~(1<<e);break e}}else if(a>>>0>=(o[3819]|0)>>>0){o[a+16+(((o[a+16>>2]|0)!=(p|0)&1)<<2)>>2]=d;if(!d)break e;else break}else _e();while(0);t=o[3819]|0;if(d>>>0<t>>>0)_e();o[d+24>>2]=a;e=p+16|0;n=o[e>>2]|0;do if(n|0)if(n>>>0<t>>>0)_e();else{o[d+16>>2]=n;o[n+24>>2]=d;break}while(0);e=o[e+4>>2]|0;if(e|0)if(e>>>0<(o[3819]|0)>>>0)_e();else{o[d+20>>2]=e;o[e+24>>2]=d;break}}}else{n=o[p+8>>2]|0;t=o[p+12>>2]|0;e=15300+(r<<1<<2)|0;if((n|0)!=(e|0)){if(n>>>0<s>>>0)_e();if((o[n+12>>2]|0)!=(p|0))_e()}if((t|0)==(n|0)){o[3815]=o[3815]&~(1<<r);break}if((t|0)!=(e|0)){if(t>>>0<s>>>0)_e();e=t+8|0;if((o[e>>2]|0)==(p|0))f=e;else _e()}else f=t+8|0;o[n+12>>2]=t;o[f>>2]=n}while(0);o[v+4>>2]=i|1;o[v+i>>2]=i;if((v|0)==(o[3820]|0)){o[3817]=i;return}}else{o[e>>2]=n&-2;o[v+4>>2]=i|1;o[v+i>>2]=i}e=i>>>3;if(i>>>0<256){t=15300+(e<<1<<2)|0;n=o[3815]|0;e=1<<e;if(n&e){e=t+8|0;n=o[e>>2]|0;if(n>>>0<(o[3819]|0)>>>0)_e();else{m=n;g=e}}else{o[3815]=n|e;m=t;g=t+8|0}o[g>>2]=v;o[m+12>>2]=v;o[v+8>>2]=m;o[v+12>>2]=t;return}e=i>>>8;if(e)if(i>>>0>16777215)e=31;else{m=(e+1048320|0)>>>16&8;g=e<<m;p=(g+520192|0)>>>16&4;g=g<<p;e=(g+245760|0)>>>16&2;e=14-(p|m|e)+(g<<e>>>15)|0;e=i>>>(e+7|0)&1|e<<1}else e=0;r=15564+(e<<2)|0;o[v+28>>2]=e;o[v+20>>2]=0;o[v+16>>2]=0;n=o[3816]|0;t=1<<e;if(!(n&t)){o[3816]=n|t;o[r>>2]=v;o[v+24>>2]=r;o[v+12>>2]=v;o[v+8>>2]=v;return}n=i<<((e|0)==31?0:25-(e>>>1)|0);r=o[r>>2]|0;while(1){if((o[r+4>>2]&-8|0)==(i|0)){e=121;break}t=r+16+(n>>>31<<2)|0;e=o[t>>2]|0;if(!e){e=118;break}else{n=n<<1;r=e}}if((e|0)==118){if(t>>>0<(o[3819]|0)>>>0)_e();o[t>>2]=v;o[v+24>>2]=r;o[v+12>>2]=v;o[v+8>>2]=v;return}else if((e|0)==121){e=r+8|0;n=o[e>>2]|0;g=o[3819]|0;if(!(n>>>0>=g>>>0&r>>>0>=g>>>0))_e();o[n+12>>2]=v;o[e>>2]=v;o[v+8>>2]=n;o[v+12>>2]=r;o[v+24>>2]=0;return}}function bf(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0;l=p;p=p+16|0;t=l;u=l+8|0;n=l+4|0;o[u>>2]=e;do if(e>>>0>=212){s=(e>>>0)/210|0;i=s*210|0;o[n>>2]=e-i;e=0;a=(wf(2852,3044,n,t)|0)-2852>>2;t=i;e:while(1){i=(o[2852+(a<<2)>>2]|0)+t|0;t=5;while(1){if(t>>>0>=47){r=211;c=8;break}n=o[2660+(t<<2)>>2]|0;r=(i>>>0)/(n>>>0)|0;if(r>>>0<n>>>0){c=106;break e}if((i|0)==(q(r,n)|0))break;else t=t+1|0}t:do if((c|0)==8){n:while(1){c=0;t=(i>>>0)/(r>>>0)|0;do if(t>>>0>=r>>>0)if((i|0)!=(q(t,r)|0)){t=r+10|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0>=t>>>0)if((i|0)!=(q(n,t)|0)){t=r+12|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0>=t>>>0)if((i|0)!=(q(n,t)|0)){t=r+16|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0>=t>>>0)if((i|0)!=(q(n,t)|0)){t=r+18|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0>=t>>>0)if((i|0)!=(q(n,t)|0)){t=r+22|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0>=t>>>0)if((i|0)!=(q(n,t)|0)){t=r+28|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0>=t>>>0)if((i|0)==(q(n,t)|0))n=9;else{t=r+30|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+36|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+40|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+42|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+46|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+52|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+58|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+60|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+66|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+70|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+72|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+78|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+82|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+88|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+96|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+100|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+102|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+106|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+108|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+112|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+120|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+126|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+130|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+136|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+138|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+142|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+148|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+150|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+156|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+162|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+166|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+168|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+172|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+178|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+180|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+186|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+190|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+192|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+196|0;n=(i>>>0)/(t>>>0)|0;
if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+198|0;n=(i>>>0)/(t>>>0)|0;if(n>>>0<t>>>0){n=1;e=i;break}if((i|0)==(q(n,t)|0)){n=9;break}t=r+208|0;n=(i>>>0)/(t>>>0)|0;h=n>>>0<t>>>0;n=(i|0)==(q(n,t)|0);t=h|n?t:r+210|0;n=h?1:n?9:0;e=h?i:e}else{n=1;e=i}}else n=9;else{n=1;e=i}}else n=9;else{n=1;e=i}}else n=9;else{n=1;e=i}}else n=9;else{n=1;e=i}}else n=9;else{n=1;e=i}}else{t=r;n=9}else{t=r;n=1;e=i}while(0);switch(n&15){case 9:break t;case 0:{r=t;c=8;break}default:break n}}if(n){c=107;break e}}while(0);h=a+1|0;i=(h|0)==48;t=(i&1)+s|0;s=t;a=i?0:h;t=t*210|0}if((c|0)==106){o[u>>2]=i;e=i;break}else if((c|0)==107){o[u>>2]=i;break}}else e=o[(wf(2660,2852,u,t)|0)>>2]|0;while(0);p=l;return e|0}function wf(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=o[n>>2]|0;r=e;n=t-e>>2;while(1){if(!n)break;t=(n|0)/2|0;a=r+(t<<2)|0;e=(o[a>>2]|0)>>>0<i>>>0;r=e?a+4|0:r;n=e?n+-1-t|0:t}return r|0}function Mf(e,t){e=e|0;t=t|0;r[e>>0]=r[t>>0]|0;return}function Ef(e){e=e|0;Le(14243,14266,304,14467)}function Af(e){e=e|0;var t=0;t=(e|0)==0?1:e;while(1){e=df(t)|0;if(e|0)break;e=sd()|0;if(!e){e=0;break}hp[e&0]()}return e|0}function xf(e){e=e|0;pf(e);return}function Tf(e){e=e|0;Le(14352,14381,1183,14467)}function _f(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0;s=p;p=p+16|0;i=s;if(n>>>0<=4294967279)if(n>>>0<11)r[e+11>>0]=n;else a=5;else{Tf(e);a=5}if((a|0)==5){u=n+16&-16;a=Af(u)|0;o[e>>2]=a;o[e+8>>2]=u|-2147483648;o[e+4>>2]=n;e=a}kf(e,t,n)|0;r[i>>0]=0;Mf(e+n|0,i);p=s;return}function kf(e,t,n){e=e|0;t=t|0;n=n|0;if(n|0)pd(e|0,t|0,n|0)|0;return e|0}function Sf(e){e=e|0;if((r[e+11>>0]|0)<0)xf(o[e>>2]|0);return}function Nf(e){e=e|0;return}function Lf(e){e=e|0;Nf(e);xf(e);return}function Df(e){e=e|0;return}function Cf(e){e=e|0;return}function If(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,s=0;s=p;p=p+64|0;i=s;if(!(Pf(e,t,0)|0))if((t|0)!=0?(a=Bf(t,216,200,0)|0,(a|0)!=0):0){t=i+4|0;r=t+52|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(r|0));o[i>>2]=a;o[i+8>>2]=e;o[i+12>>2]=-1;o[i+48>>2]=1;gp[o[(o[a>>2]|0)+28>>2]&3](a,i,o[n>>2]|0,1);if((o[i+24>>2]|0)==1){o[n>>2]=o[i+16>>2];t=1}else t=0}else t=0;else t=1;p=s;return t|0}function Of(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;if(Pf(e,o[t+8>>2]|0,a)|0)zf(0,t,n,r,i);return}function Rf(e,t,n,i,a){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;var s=0;do if(!(Pf(e,o[t+8>>2]|0,a)|0)){if(Pf(e,o[t>>2]|0,a)|0){e=t+32|0;if((o[t+16>>2]|0)!=(n|0)?(s=t+20|0,(o[s>>2]|0)!=(n|0)):0){o[e>>2]=i;o[s>>2]=n;i=t+40|0;o[i>>2]=(o[i>>2]|0)+1;if((o[t+36>>2]|0)==1?(o[t+24>>2]|0)==2:0)r[t+54>>0]=1;o[t+44>>2]=4;break}if((i|0)==1)o[e>>2]=1}}else Ff(0,t,n,i);while(0);return}function jf(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if(Pf(e,o[t+8>>2]|0,0)|0)Uf(0,t,n,r);return}function Pf(e,t,n){e=e|0;t=t|0;n=n|0;return(e|0)==(t|0)|0}function Uf(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var a=0,s=0,u=0;e=t+16|0;a=o[e>>2]|0;s=t+36|0;u=t+24|0;do if(a){if((a|0)!=(n|0)){o[s>>2]=(o[s>>2]|0)+1;o[u>>2]=2;r[t+54>>0]=1;break}if((o[u>>2]|0)==2)o[u>>2]=i}else{o[e>>2]=n;o[u>>2]=i;o[s>>2]=1}while(0);return}function Ff(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;if((o[t+4>>2]|0)==(n|0)?(i=t+28|0,(o[i>>2]|0)!=1):0)o[i>>2]=r;return}function zf(e,t,n,i,a){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;var s=0,u=0,c=0,l=0;r[t+53>>0]=1;do if((o[t+4>>2]|0)==(i|0)){r[t+52>>0]=1;i=t+16|0;s=o[i>>2]|0;c=t+54|0;l=t+48|0;u=t+24|0;e=t+36|0;if(!s){o[i>>2]=n;o[u>>2]=a;o[e>>2]=1;if(!((o[l>>2]|0)==1&(a|0)==1))break;r[c>>0]=1;break}if((s|0)!=(n|0)){o[e>>2]=(o[e>>2]|0)+1;r[c>>0]=1;break}e=o[u>>2]|0;if((e|0)==2){o[u>>2]=a;e=a}if((o[l>>2]|0)==1&(e|0)==1)r[c>>0]=1}while(0);return}function Bf(e,t,n,a){e=e|0;t=t|0;n=n|0;a=a|0;var s=0,u=0,c=0,l=0,h=0,f=0,d=0,m=0,g=0;g=p;p=p+64|0;d=g;f=o[e>>2]|0;m=e+(o[f+-8>>2]|0)|0;f=o[f+-4>>2]|0;o[d>>2]=n;o[d+4>>2]=e;o[d+8>>2]=t;o[d+12>>2]=a;e=d+16|0;t=d+20|0;a=d+24|0;s=d+28|0;u=d+32|0;c=d+40|0;l=e;h=l+36|0;do{o[l>>2]=0;l=l+4|0}while((l|0)<(h|0));i[e+36>>1]=0;r[e+38>>0]=0;e:do if(Pf(f,n,0)|0){o[d+48>>2]=1;pp[o[(o[f>>2]|0)+20>>2]&3](f,d,m,m,1,0);e=(o[a>>2]|0)==1?m:0}else{np[o[(o[f>>2]|0)+24>>2]&3](f,d,m,1,0);switch(o[d+36>>2]|0){case 0:{e=(o[c>>2]|0)==1&(o[s>>2]|0)==1&(o[u>>2]|0)==1?o[t>>2]|0:0;break e}case 1:break;default:{e=0;break e}}if((o[a>>2]|0)!=1?!((o[c>>2]|0)==0&(o[s>>2]|0)==1&(o[u>>2]|0)==1):0){e=0;break}e=o[e>>2]|0}while(0);p=g;return e|0}function Hf(e){e=e|0;Nf(e);xf(e);return}function Vf(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;if(Pf(e,o[t+8>>2]|0,a)|0)zf(0,t,n,r,i);else{e=o[e+8>>2]|0;pp[o[(o[e>>2]|0)+20>>2]&3](e,t,n,r,i,a)}return}function Gf(e,t,n,i,a){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;var s=0,u=0,c=0,l=0;do if(!(Pf(e,o[t+8>>2]|0,a)|0)){s=e+8|0;if(!(Pf(e,o[t>>2]|0,a)|0)){c=o[s>>2]|0;np[o[(o[c>>2]|0)+24>>2]&3](c,t,n,i,a);break}e=t+32|0;if((o[t+16>>2]|0)!=(n|0)?(u=t+20|0,(o[u>>2]|0)!=(n|0)):0){o[e>>2]=i;i=t+44|0;if((o[i>>2]|0)==4)break;e=t+52|0;r[e>>0]=0;l=t+53|0;r[l>>0]=0;s=o[s>>2]|0;pp[o[(o[s>>2]|0)+20>>2]&3](s,t,n,n,1,a);if(r[l>>0]|0)if(!(r[e>>0]|0)){e=3;c=11}else e=3;else{e=4;c=11}if((c|0)==11){o[u>>2]=n;l=t+40|0;o[l>>2]=(o[l>>2]|0)+1;if((o[t+36>>2]|0)==1?(o[t+24>>2]|0)==2:0)r[t+54>>0]=1}o[i>>2]=e;break}if((i|0)==1)o[e>>2]=1}else Ff(0,t,n,i);while(0);return}function Yf(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if(Pf(e,o[t+8>>2]|0,0)|0)Uf(0,t,n,r);else{e=o[e+8>>2]|0;gp[o[(o[e>>2]|0)+28>>2]&3](e,t,n,r)}return}function Qf(e){e=e|0;return}function Wf(e){e=e|0;return}function qf(e){e=e|0;Wf(e);xf(e);return}function Xf(e){e=e|0;return 14618}function Kf(e){e=e|0;return}function Zf(e){e=e|0;Nf(e);xf(e);return}function Jf(e,t,n){e=e|0;t=t|0;n=n|0;return Pf(e,t,0)|0}function $f(e){e=e|0;Nf(e);xf(e);return}function ed(e,t,n,i,a,s){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;s=s|0;var u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0;if(Pf(e,o[t+8>>2]|0,s)|0)zf(0,t,n,i,a);else{m=t+52|0;u=r[m>>0]|0;c=t+53|0;l=r[c>>0]|0;p=o[e+12>>2]|0;h=e+16+(p<<3)|0;r[m>>0]=0;r[c>>0]=0;id(e+16|0,t,n,i,a,s);e:do if((p|0)>1){f=t+24|0;d=t+54|0;p=e+8|0;e=e+24|0;do{if(r[d>>0]|0)break e;if(!(r[m>>0]|0)){if(r[c>>0]|0?(o[p>>2]&1|0)==0:0)break e}else{if((o[f>>2]|0)==1)break e;if(!(o[p>>2]&2))break e}r[m>>0]=0;r[c>>0]=0;id(e,t,n,i,a,s);e=e+8|0}while(e>>>0<h>>>0)}while(0);r[m>>0]=u;r[c>>0]=l}return}function td(e,t,n,i,a){e=e|0;t=t|0;n=n|0;i=i|0;a=a|0;var s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0;e:do if(!(Pf(e,o[t+8>>2]|0,a)|0)){u=e+12|0;g=t+24|0;v=t+36|0;y=t+54|0;p=e+8|0;f=e+16|0;if(!(Pf(e,o[t>>2]|0,a)|0)){m=o[u>>2]|0;c=e+16+(m<<3)|0;od(f,t,n,i,a);s=e+24|0;if((m|0)<=1)break;u=o[p>>2]|0;if((u&2|0)==0?(o[v>>2]|0)!=1:0){if(!(u&1))while(1){if(r[y>>0]|0)break e;if((o[v>>2]|0)==1)break e;od(s,t,n,i,a);s=s+8|0;if(s>>>0>=c>>>0)break e}while(1){if(r[y>>0]|0)break e;if((o[v>>2]|0)==1?(o[g>>2]|0)==1:0)break e;od(s,t,n,i,a);s=s+8|0;if(s>>>0>=c>>>0)break e}}while(1){if(r[y>>0]|0)break e;od(s,t,n,i,a);s=s+8|0;if(s>>>0>=c>>>0)break e}}s=t+32|0;if((o[t+16>>2]|0)!=(n|0)?(m=t+20|0,(o[m>>2]|0)!=(n|0)):0){o[s>>2]=i;d=t+44|0;if((o[d>>2]|0)==4)break;i=e+16+(o[u>>2]<<3)|0;l=t+52|0;h=t+53|0;s=0;e=f;c=0;t:while(1){if(e>>>0>=i>>>0){u=18;break}r[l>>0]=0;r[h>>0]=0;id(e,t,n,n,1,a);if(r[y>>0]|0){u=18;break}do if(r[h>>0]|0){if(!(r[l>>0]|0))if(!(o[p>>2]&1)){s=1;u=18;break t}else{s=1;u=c;break}if((o[g>>2]|0)==1){u=23;break t}if(!(o[p>>2]&2)){u=23;break t}else{s=1;u=1}}else u=c;while(0);e=e+8|0;c=u}do if((u|0)==18){if((!c?(o[m>>2]=n,n=t+40|0,o[n>>2]=(o[n>>2]|0)+1,(o[v>>2]|0)==1):0)?(o[g>>2]|0)==2:0){r[y>>0]=1;if(s){u=23;break}else{s=4;break}}if(s)u=23;else s=4}while(0);if((u|0)==23)s=3;o[d>>2]=s;break}if((i|0)==1)o[s>>2]=1}else Ff(0,t,n,i);while(0);return}function nd(e,t,n,i){e=e|0;t=t|0;n=n|0;i=i|0;var a=0,s=0;e:do if(!(Pf(e,o[t+8>>2]|0,0)|0)){s=o[e+12>>2]|0;a=e+16+(s<<3)|0;rd(e+16|0,t,n,i);if((s|0)>1){s=t+54|0;e=e+24|0;do{rd(e,t,n,i);if(r[s>>0]|0)break e;e=e+8|0}while(e>>>0<a>>>0)}}else Uf(0,t,n,i);while(0);return}function rd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;a=o[e+4>>2]|0;i=a>>8;if(a&1)i=o[(o[n>>2]|0)+i>>2]|0;e=o[e>>2]|0;gp[o[(o[e>>2]|0)+28>>2]&3](e,t,n+i|0,a&2|0?r:2);return}function id(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var s=0,u=0;u=o[e+4>>2]|0;s=u>>8;if(u&1)s=o[(o[r>>2]|0)+s>>2]|0;e=o[e>>2]|0;pp[o[(o[e>>2]|0)+20>>2]&3](e,t,n,r+s|0,u&2|0?i:2,a);return}function od(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,s=0;s=o[e+4>>2]|0;a=s>>8;if(s&1)a=o[(o[n>>2]|0)+a>>2]|0;e=o[e>>2]|0;np[o[(o[e>>2]|0)+24>>2]&3](e,t,n+a|0,s&2|0?r:2,i);return}function ad(e){e=e|0;o[e>>2]=3132;return}function sd(){var e=0;e=o[3939]|0;o[3939]=e+0;return e|0}function ud(){}function cd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;r=t-r-(n>>>0>e>>>0|0)>>>0;return(I=r,e-n>>>0|0)|0}function ld(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0,u=0;s=e+n|0;t=t&255;if((n|0)>=67){while(e&3){r[e>>0]=t;e=e+1|0}i=s&-4|0;a=i-64|0;u=t|t<<8|t<<16|t<<24;while((e|0)<=(a|0)){o[e>>2]=u;o[e+4>>2]=u;o[e+8>>2]=u;o[e+12>>2]=u;o[e+16>>2]=u;o[e+20>>2]=u;o[e+24>>2]=u;o[e+28>>2]=u;o[e+32>>2]=u;o[e+36>>2]=u;o[e+40>>2]=u;o[e+44>>2]=u;o[e+48>>2]=u;o[e+52>>2]=u;o[e+56>>2]=u;o[e+60>>2]=u;e=e+64|0}while((e|0)<(i|0)){o[e>>2]=u;e=e+4|0}}while((e|0)<(s|0)){r[e>>0]=t;e=e+1|0}return s-n|0}function hd(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){I=t<<n|(e&(1<<n)-1<<32-n)>>>32-n;return e<<n}I=e<<n-32;return 0}function fd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;n=e+n>>>0;return(I=t+r+(n>>>0<e>>>0|0)>>>0,n|0)|0}function dd(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){I=t>>>n;return e>>>n|(t&(1<<n)-1)<<32-n}I=0;return t>>>n-32|0}function pd(e,t,n){e=e|0;t=t|0;n=n|0;var i=0,a=0,s=0;if((n|0)>=8192)return Be(e|0,t|0,n|0)|0;s=e|0;a=e+n|0;if((e&3)==(t&3)){while(e&3){if(!n)return s|0;r[e>>0]=r[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}n=a&-4|0;i=n-64|0;while((e|0)<=(i|0)){o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[e+28>>2]=o[t+28>>2];o[e+32>>2]=o[t+32>>2];o[e+36>>2]=o[t+36>>2];o[e+40>>2]=o[t+40>>2];o[e+44>>2]=o[t+44>>2];o[e+48>>2]=o[t+48>>2];o[e+52>>2]=o[t+52>>2];o[e+56>>2]=o[t+56>>2];o[e+60>>2]=o[t+60>>2];e=e+64|0;t=t+64|0}while((e|0)<(n|0)){o[e>>2]=o[t>>2];e=e+4|0;t=t+4|0}}else{n=a-4|0;while((e|0)<(n|0)){r[e>>0]=r[t>>0]|0;r[e+1>>0]=r[t+1>>0]|0;r[e+2>>0]=r[t+2>>0]|0;r[e+3>>0]=r[t+3>>0]|0;e=e+4|0;t=t+4|0}}while((e|0)<(a|0)){r[e>>0]=r[t>>0]|0;e=e+1|0;t=t+1|0}return s|0}function md(e){e=e|0;var t=0;t=r[g+(e&255)>>0]|0;if((t|0)<8)return t|0;t=r[g+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=r[g+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(r[g+(e>>>24)>>0]|0)+24|0}function gd(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0;h=e;c=t;l=c;s=n;d=r;u=d;if(!l){a=(i|0)!=0;if(!u){if(a){o[i>>2]=(h>>>0)%(s>>>0);o[i+4>>2]=0}d=0;i=(h>>>0)/(s>>>0)>>>0;return(I=d,i)|0}else{if(!a){d=0;i=0;return(I=d,i)|0}o[i>>2]=e|0;o[i+4>>2]=t&0;d=0;i=0;return(I=d,i)|0}}a=(u|0)==0;do if(s){if(!a){a=(Z(u|0)|0)-(Z(l|0)|0)|0;if(a>>>0<=31){f=a+1|0;u=31-a|0;t=a-31>>31;s=f;e=h>>>(f>>>0)&t|l<<u;t=l>>>(f>>>0)&t;a=0;u=h<<u;break}if(!i){d=0;i=0;return(I=d,i)|0}o[i>>2]=e|0;o[i+4>>2]=c|t&0;d=0;i=0;return(I=d,i)|0}a=s-1|0;if(a&s|0){u=(Z(s|0)|0)+33-(Z(l|0)|0)|0;m=64-u|0;f=32-u|0;c=f>>31;p=u-32|0;t=p>>31;s=u;e=f-1>>31&l>>>(p>>>0)|(l<<f|h>>>(u>>>0))&t;t=t&l>>>(u>>>0);a=h<<m&c;u=(l<<m|h>>>(p>>>0))&c|h<<f&u-33>>31;break}if(i|0){o[i>>2]=a&h;o[i+4>>2]=0}if((s|0)==1){p=c|t&0;m=e|0|0;return(I=p,m)|0}else{m=md(s|0)|0;p=l>>>(m>>>0)|0;m=l<<32-m|h>>>(m>>>0)|0;return(I=p,m)|0}}else{if(a){if(i|0){o[i>>2]=(l>>>0)%(s>>>0);o[i+4>>2]=0}p=0;m=(l>>>0)/(s>>>0)>>>0;return(I=p,m)|0}if(!h){if(i|0){o[i>>2]=0;o[i+4>>2]=(l>>>0)%(u>>>0)}p=0;m=(l>>>0)/(u>>>0)>>>0;return(I=p,m)|0}a=u-1|0;if(!(a&u)){if(i|0){o[i>>2]=e|0;o[i+4>>2]=a&l|t&0}p=0;m=l>>>((md(u|0)|0)>>>0);return(I=p,m)|0}a=(Z(u|0)|0)-(Z(l|0)|0)|0;if(a>>>0<=30){t=a+1|0;u=31-a|0;s=t;e=l<<u|h>>>(t>>>0);t=l>>>(t>>>0);a=0;u=h<<u;break}if(!i){p=0;m=0;return(I=p,m)|0}o[i>>2]=e|0;o[i+4>>2]=c|t&0;p=0;m=0;return(I=p,m)|0}while(0);if(!s){l=u;c=0;u=0}else{f=n|0|0;h=d|r&0;l=fd(f|0,h|0,-1,-1)|0;n=I;c=u;u=0;do{r=c;c=a>>>31|c<<1;a=u|a<<1;r=e<<1|r>>>31|0;d=e>>>31|t<<1|0;cd(l|0,n|0,r|0,d|0)|0;m=I;p=m>>31|((m|0)<0?-1:0)<<1;u=p&1;e=cd(r|0,d|0,p&f|0,(((m|0)<0?-1:0)>>31|((m|0)<0?-1:0)<<1)&h|0)|0;t=I;s=s-1|0}while((s|0)!=0);l=c;c=0}s=0;if(i|0){o[i>>2]=e;o[i+4>>2]=t}p=(a|0)>>>31|(l|s)<<1|(s<<1|a>>>31)&0|c;m=(a<<1|0>>>31)&-2|u;return(I=p,m)|0}function vd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return gd(e,t,n,r,0)|0}function yd(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,o=0;o=e&65535;i=t&65535;n=q(i,o)|0;r=e>>>16;e=(n>>>16)+(q(i,r)|0)|0;i=t>>>16;t=q(i,o)|0;return(I=(e>>>16)+(q(i,r)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|n&65535|0)|0}function bd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,o=0;i=e;o=n;n=yd(i,o)|0;e=I;return(I=(q(t,o)|0)+(q(r,i)|0)+e|e&0,n|0|0)|0}function wd(e){e=e|0;var t=0,n=0;n=e+15&-16|0;t=o[h>>2]|0;e=t+n|0;if((n|0)>0&(e|0)<(t|0)|(e|0)<0){ne()|0;Ue(12);return-1}o[h>>2]=e;if((e|0)>(te()|0)?(ee()|0)==0:0){Ue(12);o[h>>2]=t;return-1}return t|0}function Md(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;a=p;p=p+16|0;i=a|0;gd(e,t,n,r,i)|0;p=a;return(I=o[i+4>>2]|0,o[i>>2]|0)|0}function Ed(e){e=e|0;return(e&255)<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>>24|0}function Ad(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return tp[e&15](t|0,n|0,r|0)|0}function xd(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;np[e&3](t|0,n|0,r|0,i|0,o|0)}function Td(e,t,n){e=e|0;t=t|0;n=n|0;return+rp[e&1](t|0,n|0)}function _d(e,t,n){e=e|0;t=t|0;n=+n;ip[e&3](t|0,+n)}function kd(e,t){e=e|0;t=t|0;return+op[e&3](t|0)}function Sd(e){e=e|0;return ap[e&1]()|0}function Nd(e,t){e=e|0;t=t|0;sp[e&15](t|0)}function Ld(e,t,n){e=e|0;t=t|0;n=n|0;up[e&7](t|0,n|0)}function Dd(e,t){e=e|0;t=t|0;return cp[e&31](t|0)|0}function Cd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;lp[e&1](t|0,n|0,r|0)}function Id(e){e=e|0;hp[e&0]()}function Od(e,t,n,r){e=e|0;t=t|0;n=n|0;r=+r;fp[e&3](t|0,n|0,+r)}function Rd(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;return dp[e&1](t|0,n|0,r|0,i|0)|0}function jd(e,t,n,r,i,o,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;a=a|0;pp[e&3](t|0,n|0,r|0,i|0,o|0,a|0)}function Pd(e,t,n){e=e|0;t=t|0;n=n|0;return mp[e&15](t|0,n|0)|0}function Ud(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;gp[e&3](t|0,n|0,r|0,i|0)}function Fd(e,t,n){e=e|0;t=t|0;n=n|0;J(0);return 0}function zd(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;J(1)}function Bd(e,t){e=e|0;t=t|0;J(2);return 0}function Hd(e,t){e=e|0;t=+t;J(3)}function Vd(e){e=e|0;J(4);return 0}function Gd(){J(5);return 0}function Yd(e){e=e|0;J(6)}function Qd(e,t){e=e|0;t=t|0;J(7)}function Wd(e){e=e|0;J(8);return 0}function qd(e,t,n){e=e|0;t=t|0;n=n|0;J(9)}function Xd(){J(10)}function Kd(e,t,n){e=e|0;t=t|0;n=+n;J(11)}function Zd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;J(12);return 0}function Jd(e,t,n,r,i,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;o=o|0;J(13)}function $d(e,t){e=e|0;t=t|0;J(14);return 0}function ep(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;J(15)}var tp=[Fd,al,sl,pl,Jl,If,Jf,Io,Yo,Wo,qo,$o,ru,Hs,dl,Hh];var np=[zd,Rf,Gf,td];var rp=[Bd,ls];var ip=[Hd,ua,fa,Ma];var op=[Vd,la,da,Aa];var ap=[Gd,aa];var sp=[Yd,Nf,Lf,Df,Cf,Hf,Wf,qf,Zf,$f,xu,Mu,ia,Yd,Yd,Yd];var up=[Qd,pa,va,ba,xa,_a,Sa,_s];var cp=[Wd,ol,Xf,Ro,Ho,Vo,Zo,Jo,na,ra,ga,ya,wa,Ta,ka,Na,Ms,Wd,Wd,Wd,Wd,Wd,Wd,Wd,Wd,Wd,Wd,Wd,Wd,Wd,Wd,Wd];var lp=[qd,os];var hp=[Xd];var fp=[Kd,ms,Ja,Kd];var dp=[Zd,vu];var pp=[Jd,Of,Vf,ed];var mp=[$d,yo,Po,Fo,zo,Qo,Xo,Ko,ea,ta,uu,Cs,$d,$d,$d,$d];var gp=[ep,jf,Yf,nd];return{___muldsi3:yd,_sbrk:wd,_i64Subtract:cd,_fflush:jh,___udivmoddi4:gd,_i64Add:fd,_memset:ld,_llvm_cttz_i32:md,_malloc:df,_emscripten_get_global_libc:il,_memcpy:pd,___getTypeName:rl,_llvm_bswap_i32:Ed,___muldi3:bd,_bitshift64Lshr:dd,_free:pf,___udivdi3:vd,___uremdi3:Md,___errno_location:cl,_bitshift64Shl:hd,__GLOBAL__sub_I_ARToolKitJS_cpp:So,__GLOBAL__sub_I_bind_cpp:ku,runPostSets:ud,stackAlloc:er,stackSave:tr,stackRestore:nr,establishStackSpace:rr,setTempRet0:or,getTempRet0:ar,setThrew:ir,stackAlloc:er,stackSave:tr,stackRestore:nr,establishStackSpace:rr,setThrew:ir,setTempRet0:or,getTempRet0:ar,dynCall_iiii:Ad,dynCall_viiiii:xd,dynCall_dii:Td,dynCall_vid:_d,dynCall_di:kd,dynCall_i:Sd,dynCall_vi:Nd,dynCall_vii:Ld,dynCall_ii:Dd,dynCall_viii:Cd,dynCall_v:Id,dynCall_viid:Od,dynCall_iiiii:Rd,dynCall_viiiiii:jd,dynCall_iii:Pd,dynCall_viiii:Ud}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),__GLOBAL__sub_I_ARToolKitJS_cpp=Module.__GLOBAL__sub_I_ARToolKitJS_cpp=asm.__GLOBAL__sub_I_ARToolKitJS_cpp,stackSave=Module.stackSave=asm.stackSave,getTempRet0=Module.getTempRet0=asm.getTempRet0,_llvm_cttz_i32=Module._llvm_cttz_i32=asm._llvm_cttz_i32,setThrew=Module.setThrew=asm.setThrew,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_fflush=Module._fflush=asm._fflush,_memset=Module._memset=asm._memset,_sbrk=Module._sbrk=asm._sbrk,_memcpy=Module._memcpy=asm._memcpy,_llvm_bswap_i32=Module._llvm_bswap_i32=asm._llvm_bswap_i32,___muldi3=Module.___muldi3=asm.___muldi3,___uremdi3=Module.___uremdi3=asm.___uremdi3,stackAlloc=Module.stackAlloc=asm.stackAlloc,_i64Subtract=Module._i64Subtract=asm._i64Subtract,__GLOBAL__sub_I_bind_cpp=Module.__GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp,___udivmoddi4=Module.___udivmoddi4=asm.___udivmoddi4,setTempRet0=Module.setTempRet0=asm.setTempRet0,_i64Add=Module._i64Add=asm._i64Add,_emscripten_get_global_libc=Module._emscripten_get_global_libc=asm._emscripten_get_global_libc,___getTypeName=Module.___getTypeName=asm.___getTypeName,___udivdi3=Module.___udivdi3=asm.___udivdi3,___errno_location=Module.___errno_location=asm.___errno_location,___muldsi3=Module.___muldsi3=asm.___muldsi3,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,establishStackSpace=Module.establishStackSpace=asm.establishStackSpace,stackRestore=Module.stackRestore=asm.stackRestore,_malloc=Module._malloc=asm._malloc,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){function t(){for(var e=0;e<3;e++)r.push(0)}e=e||[],ensureInitRuntime();var n=e.length+1,r=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];t();for(var i=0;i<n-1;i+=1)r.push(allocate(intArrayFromString(e[i]),"i8",ALLOC_NORMAL)),t();r.push(0),r=allocate(r,"i32",ALLOC_NORMAL);try{var o=Module._main(n,r,0);exit(o,!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);var a=e;e&&"object"==typeof e&&e.stack&&(a=[e,e.stack]),Module.printErr("exception thrown: "+a),Module.quit(1,e)}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run(),function(){"use strict";function e(){d.forEach(function(e){f[e]=Module[e]});for(var e in Module)e.match(/^AR/)&&(f[e]=Module[e])}function t(e,t,n){var r="/marker_"+p++;u(t,r,function(){var t=Module._addMarker(e,r);n&&n(t)})}function n(e){return String.fromCharCode.apply(String,e)}function r(e){var t=n(e),r=t.split("\n"),i=[],o=0,a=0;return r.forEach(function(e){if(e=e.trim(),e&&!e.startsWith("#"))switch(o){case 0:return a=+e,void(o=1);case 1:e.match(/^\d+$/)||i.push(e);case 2:case 3:case 4:return void o++;case 5:return void(o=1)}}),i}function i(e,t,n){var i="/multi_marker_"+m++;u(t,i,function(o){function a(){var t=Module._addMultiMarker(e,i),r=Module.getMultiMarkerNum(e,t);n&&n(t,r)}var s=r(o);if(!s.length)return a();var u=t.split("/").slice(0,-1).join("/");s=s.map(function(e){return"patt.hiro"===e||"patt.kanji"===e||"patt2.hiro"===e||"patt2.kanji"===e?["http://127.0.0.1:8080/data/data/"+e,e]:[u+"/"+e,e]}),c(s,a)})}function o(e,t){var n="/camera_param_"+g++,r=function(){var e=Module._loadCamera(n);t&&t(e)};"object"==typeof e?s(n,e,r):e.indexOf("\n")>-1?a(n,e,r):u(e,n,r)}function a(e,t,n){for(var r=new Uint8Array(t.length),i=0;i<r.length;i++)r[i]=255&t.charCodeAt(i);s(e,r,n)}function s(e,t,n){FS.writeFile(e,t,{encoding:"binary"}),n(t)}function u(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(i){var o=r.response,a=new Uint8Array(o);console.log("writeByteArrayToFS",t,a.length,"byte. url",e),s(t,a,n)},r.send()}function c(e,t){var n=e.pop();n?u(n[0],n[1],function(){c(e,t)}):t()}var l=function(e,t,n){var r=e,i=t;if(this.orientation="landscape",this.listeners={},"number"!=typeof e){var o=e;n=t,r=o.videoWidth||o.width,i=o.videoHeight||o.height,this.image=o}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=r,this.canvas.height=i,this.ctx=this.canvas.getContext("2d"),this.videoWidth=r,this.videoHeight=i,"string"==typeof n){var a=this;this.cameraParam=new h(n,function(){a._initialize()},function(e){console.error("ARController: Failed to load ARCameraParam",e)})}else this.cameraParam=n,this._initialize()};l.prototype.dispose=function(){f.teardown(this.id);for(var e in this)this[e]=null},l.prototype.process=function(e){this.detectMarker(e);var t,n,r=this.getMarkerNum();for(t in this.patternMarkers)n=this.patternMarkers[t],n.inPrevious=n.inCurrent,n.inCurrent=!1;for(t in this.barcodeMarkers)n=this.barcodeMarkers[t],n.inPrevious=n.inCurrent,n.inCurrent=!1;for(var i=0;i<r;i++){var o=this.getMarker(i),a=f.UNKNOWN_MARKER,s=this.trackPatternMarkerId(-1);o.idPatt>-1&&(o.id===o.idPatt||o.idMatrix===-1)?(s=this.trackPatternMarkerId(o.idPatt),a=f.PATTERN_MARKER,o.dir!==o.dirPatt&&this.setMarkerInfoDir(i,o.dirPatt)):o.idMatrix>-1&&(s=this.trackBarcodeMarkerId(o.idMatrix),a=f.BARCODE_MARKER,o.dir!==o.dirMatrix&&this.setMarkerInfoDir(i,o.dirMatrix)),a!==f.UNKNOWN_MARKER&&s.inPrevious?this.getTransMatSquareCont(i,s.markerWidth,s.matrix,s.matrix):this.getTransMatSquare(i,s.markerWidth,s.matrix),s.inCurrent=!0,this.transMatToGLMat(s.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:i,type:a,marker:o,matrix:this.transform_mat}})}for(var u=this.getMultiMarkerCount(),i=0;i<u;i++){var c=this.getMultiMarkerPatternCount(i),s=!1;f.getTransMatMultiSquareRobust(this.id,i),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var l=0;l<c;l++){var h=this.getMultiEachMarker(i,l);if(h.visible>=0){s=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:i,matrix:this.transform_mat}});break}}if(s)for(var l=0;l<c;l++){var h=this.getMultiEachMarker(i,l);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:i,markerIndex:l,marker:h,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},l.prototype.trackPatternMarkerId=function(e,t){var n=this.patternMarkers[e];return n||(this.patternMarkers[e]=n={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(n.markerWidth=t),n},l.prototype.trackBarcodeMarkerId=function(e,t){var n=this.barcodeMarkers[e];return n||(this.barcodeMarkers[e]=n={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:t||this.defaultMarkerWidth}),t&&(n.markerWidth=t),n},l.prototype.getMultiMarkerCount=function(){return f.getMultiMarkerCount(this.id)},l.prototype.getMultiMarkerPatternCount=function(e){return f.getMultiMarkerNum(this.id,e)},l.prototype.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},l.prototype.removeEventListener=function(e,t){if(this.listeners[e]){var n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}},l.prototype.dispatchEvent=function(e){var t=this.listeners[e.name];if(t)for(var n=0;n<t.length;n++)t[n].call(this,e)},l.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},l.prototype.loadMarker=function(e,t,n){return f.addMarker(this.id,e,t,n)},l.prototype.loadMultiMarker=function(e,t,n){return f.addMultiMarker(this.id,e,t,n)},l.prototype.getTransMatSquare=function(e,t,n){return f.getTransMatSquare(this.id,e,t),n.set(this.marker_transform_mat),n},l.prototype.getTransMatSquareCont=function(e,t,n,r){return this.marker_transform_mat.set(n),f.getTransMatSquareCont(this.id,e,t),r.set(this.marker_transform_mat),r},l.prototype.getTransMatMultiSquare=function(e,t){return f.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},l.prototype.getTransMatMultiSquareRobust=function(e,t){return f.getTransMatMultiSquare(this.id,e),t.set(this.marker_transform_mat),t},l.prototype.transMatToGLMat=function(e,t,n){return t[0]=e[0],t[4]=e[1],t[8]=e[2],t[12]=e[3],t[1]=e[4],t[5]=e[5],t[9]=e[6],t[13]=e[7],t[2]=e[8],t[6]=e[9],t[10]=e[10],t[14]=e[11],t[3]=0,t[7]=0,t[11]=0,t[15]=1,void 0!=n&&0!==n&&(t[12]*=n,t[13]*=n,t[14]*=n),t},l.prototype.detectMarker=function(e){return this._copyImageToHeap(e)?f.detectMarker(this.id):-99},l.prototype.getMarkerNum=function(){return f.getMarkerNum(this.id)},l.prototype.getMarker=function(e){if(0===f.getMarker(this.id,e))return f.markerInfo},l.prototype.setMarkerInfoVertex=function(e,t){for(var n=0;n<t.length;n++)this.marker_transform_mat[2*n+0]=t[n][0],this.marker_transform_mat[2*n+1]=t[n][1];return f.setMarkerInfoVertex(this.id,e)},l.prototype.cloneMarkerInfo=function(e){return JSON.parse(JSON.stringify(e))},l.prototype.getMultiEachMarker=function(e,t){if(0===f.getMultiEachMarker(this.id,e,t))return f.multiEachMarkerInfo},l.prototype.getTransformationMatrix=function(){return this.transform_mat},l.prototype.getCameraMatrix=function(){return this.camera_mat},l.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},l.prototype.setDebugMode=function(e){return f.setDebugMode(this.id,e)},l.prototype.getDebugMode=function(){return f.getDebugMode(this.id)},l.prototype.getProcessingImage=function(){return f.getProcessingImage(this.id)},l.prototype.setLogLevel=function(e){return f.setLogLevel(e)},l.prototype.getLogLevel=function(){return f.getLogLevel()},l.prototype.setMarkerInfoDir=function(e,t){return f.setMarkerInfoDir(this.id,e,t)},l.prototype.setProjectionNearPlane=function(e){return f.setProjectionNearPlane(this.id,e)},l.prototype.getProjectionNearPlane=function(){return f.getProjectionNearPlane(this.id)},l.prototype.setProjectionFarPlane=function(e){return f.setProjectionFarPlane(this.id,e)},l.prototype.getProjectionFarPlane=function(){return f.getProjectionFarPlane(this.id)},l.prototype.setThresholdMode=function(e){return f.setThresholdMode(this.id,e)},l.prototype.getThresholdMode=function(){return f.getThresholdMode(this.id)},l.prototype.setThreshold=function(e){return f.setThreshold(this.id,e)},l.prototype.getThreshold=function(){return f.getThreshold(this.id)},l.prototype.setPatternDetectionMode=function(e){return f.setPatternDetectionMode(this.id,e)},l.prototype.getPatternDetectionMode=function(){return f.getPatternDetectionMode(this.id)},l.prototype.setMatrixCodeType=function(e){return f.setMatrixCodeType(this.id,e)},l.prototype.getMatrixCodeType=function(){return f.getMatrixCodeType(this.id)},l.prototype.setLabelingMode=function(e){return f.setLabelingMode(this.id,e)},l.prototype.getLabelingMode=function(){return f.getLabelingMode(this.id)},l.prototype.setPattRatio=function(e){return f.setPattRatio(this.id,e)},l.prototype.getPattRatio=function(){return f.getPattRatio(this.id)},l.prototype.setImageProcMode=function(e){return f.setImageProcMode(this.id,e)},l.prototype.getImageProcMode=function(){return f.getImageProcMode(this.id)},l.prototype.debugDraw=function(){var e=new Uint8ClampedArray(Module.HEAPU8.buffer,this._bwpointer,this.framesize),t=new ImageData(e,this.canvas.width,this.canvas.height);this.ctx.putImageData(t,0,0);for(var n=this.getMarkerNum(),r=0;r<n;r++)this._debugMarker(this.getMarker(r))},l.prototype._initialize=function(){this.id=f.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var e=f.frameMalloc;this.framepointer=e.framepointer,this.framesize=e.framesize,this.dataHeap=new Uint8Array(Module.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(Module.HEAPU8.buffer,e.camera,16),this.marker_transform_mat=new Float64Array(Module.HEAPU8.buffer,e.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var t=this;setTimeout(function(){t.onload&&t.onload(),t.dispatchEvent({name:"load",target:t})},1)},l.prototype._copyImageToHeap=function(e){e||(e=this.image),"portrait"===this.orientation?(this.ctx.save(),this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(e,0,0,this.canvas.height,this.canvas.width),this.ctx.restore()):this.ctx.drawImage(e,0,0,this.canvas.width,this.canvas.height);var t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),n=t.data;return!!this.dataHeap&&(this.dataHeap.set(n),!0)},l.prototype._debugMarker=function(e){var t,n;t=e.vertex;var r=this.ctx;r.strokeStyle="red",r.beginPath(),r.moveTo(t[0][0],t[0][1]),r.lineTo(t[1][0],t[1][1]),r.stroke(),r.beginPath(),r.moveTo(t[2][0],t[2][1]),r.lineTo(t[3][0],t[3][1]),r.stroke(),r.strokeStyle="green",r.beginPath(),r.lineTo(t[1][0],t[1][1]),r.lineTo(t[2][0],t[2][1]),r.stroke(),r.beginPath(),r.moveTo(t[3][0],t[3][1]),r.lineTo(t[0][0],t[0][1]),r.stroke(),n=e.pos,r.beginPath(),r.arc(n[0],n[1],8,0,2*Math.PI),r.fillStyle="red",r.fill()},l.getUserMedia=function(e){var t=e.facingMode||"environment",n=e.onSuccess,r=e.onError||function(e){console.error("ARController.getUserMedia",e)},i=document.createElement("video"),o=function(){0!==this.videoWidth&&n(i)},a=!1,s=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],u=function(e){a&&(i.play(),i.paused||s.forEach(function(e){window.removeEventListener(e,u,!0)}))};s.forEach(function(e){window.addEventListener(e,u,!0)});var c=function(e){i.addEventListener("loadedmetadata",o,!1),i.src=window.URL.createObjectURL(e),a=!0,u()},l={},h={};e.width&&(h.width=e.width,"object"==typeof e.width?(e.width.max&&(l.maxWidth=e.width.max),e.width.min&&(l.minWidth=e.width.max)):l.maxWidth=e.width),e.height&&(h.height=e.height,"object"==typeof e.height?(e.height.max&&(l.maxHeight=e.height.max),e.height.min&&(l.minHeight=e.height.max)):l.maxHeight=e.height),h.facingMode=t,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var f={audio:!1,video:{mandatory:l}};return navigator.getUserMedia?navigator.getUserMedia(f,c,r):r("navigator.getUserMedia is not supported on your browser"),i},l.getUserMediaARController=function(e){var t={};for(var n in e)t[n]=e[n];var r=e.onSuccess,i=e.cameraParam;t.onSuccess=function(){new h(i,function(){var t=this,n=e.maxARVideoSize||Math.max(o.videoWidth,o.videoHeight),i=n/Math.max(o.videoWidth,o.videoHeight),a=i*o.videoWidth,s=i*o.videoHeight;if(o.videoWidth<o.videoHeight){var u=a;a=s,s=u}var c=new l(a,s,t);c.image=o,o.videoWidth<o.videoHeight?(c.orientation="portrait",
c.videoWidth=o.videoHeight,c.videoHeight=o.videoWidth):(c.orientation="landscape",c.videoWidth=o.videoWidth,c.videoHeight=o.videoHeight),r(c,t)},function(e){console.error("ARController: Failed to load ARCameraParam",e)})};var o=this.getUserMedia(t);return o};var h=function(e,t,n){this.id=-1,this._src="",this.complete=!1,this.onload=t,this.onerror=n,e&&this.load(e)};h.prototype.load=function(e){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=e,e){var t=this;f.loadCamera(e,function(e){t.id=e,t.complete=!0,t.onload()},function(e){t.onerror(e)})}},Object.defineProperty(h.prototype,"src",{set:function(e){this.load(e)},get:function(){return this._src}}),h.prototype.dispose=function(){this.id!==-1&&f.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var f={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:o,addMarker:t,addMultiMarker:i},d=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"],p=0,m=0,g=0;window.artoolkit=f,window.ARController=l,window.ARCameraParam=h,window.Module?e():window.Module={onRuntimeInitialized:function(){e()}}}()}).call(exports,__webpack_require__(16),__webpack_require__(315)(module),__webpack_require__(4).Buffer)},function(e,t){var n=AFRAME.utils.debug,r=n("aframe-text-component:error"),i=new THREE.FontLoader;AFRAME.registerComponent("text-geometry",{schema:{bevelEnabled:{default:!1},bevelSize:{default:8,min:0},bevelThickness:{default:12,min:0},curveSegments:{default:12,min:0},font:{type:"asset",default:"https://rawgit.com/ngokevin/kframe/master/components/text-geometry/lib/helvetiker_regular.typeface.json"},height:{default:.05,min:0},size:{default:.5,min:0},style:{default:"normal",oneOf:["normal","italics"]},weight:{default:"normal",oneOf:["normal","bold"]},value:{default:""}},update:function(e){var t=this.data,n=this.el,o=n.getOrCreateObject3D("mesh",THREE.Mesh);t.font.constructor===String?i.load(t.font,function(e){var n=AFRAME.utils.clone(t);n.font=e,o.geometry=new THREE.TextGeometry(t.value,n)}):t.font.constructor===Object?o.geometry=new THREE.TextGeometry(t.value,t):r("Must provide `font` (typeface.json) or `fontPath` (string) to text component.")}})},function(t,n,r){var i,i;(function(n,r,o){!function(e){t.exports=e()}(function(){var t;return function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof i&&i;if(!u&&c)return i(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return o(n?n:e)},h,h.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){function r(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===i.call(e.buffer)||Array.isArray(e)}var i=Object.prototype.toString;t.exports=r},{}],2:[function(e,t,n){t.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},{}],3:[function(e,t,n){"use strict";t.exports={createLink:function(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("link");r.href=e,r.rel="stylesheet";for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];r.setAttribute("data-"+i,o)}n.appendChild(r)},createStyle:function(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css";for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];r.setAttribute("data-"+i,o)}r.sheet?(r.innerHTML=e,r.sheet.cssText=e,n.appendChild(r)):r.styleSheet?(n.appendChild(r),r.styleSheet.cssText=e):(r.appendChild(document.createTextNode(e)),n.appendChild(r))}}},{}],4:[function(e,t,r){(function(t){"use strict";function n(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?h(e,t,n):p(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,r){return u(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function l(e,t){if(u(t),e=o(e,t<0?0:0|m(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=o(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function f(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=f(e,t),e}function p(e,t){if(a.isBuffer(t)){var n=0|m(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?o(e,0):f(e,t);if("Buffer"===t.type&&$(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),a.alloc(+e)}function v(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return Y(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:M(e,t,n,r,i);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):M(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function M(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(e,c)===o(t,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var h=!0,f=0;f<u;f++)if(o(e,c+f)!==o(t,f)){h=!1;break}if(h)return c}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function A(e,t,n,r){return X(Y(t,e.length-n),e,n,r)}function x(e,t,n,r){return X(Q(t),e,n,r)}function T(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return X(q(t),e,n,r)}function k(e,t,n,r){return X(W(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,h;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(h=(31&o)<<6|63&u,h>127&&(a=h));break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(h=(15&o)<<12|(63&u)<<6|63&c,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(h=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,h>65535&&h<1114112&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return L(r)}function L(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function F(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,i){return i||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function H(e){if(e=V(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function q(e){return Z.toByteArray(H(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e){return e!==e}var Z=e("base64-js"),J=e("ieee754"),$=e("isarray");r.Buffer=a,r.SlowBuffer=g,r.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),r.kMaxLength=i(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return s(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return c(null,e,t,n)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):y.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,u=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),h=0;h<u;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},a.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=a.prototype;else{var i=t-e;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},a.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;j(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;j(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:Y(new a(e,r).toString()),u=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":5,ieee754:6,isarray:7}],5:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s,u=e.length;a=r(e),s=new h(3*u/4-a),i=a>0?u-4:u;var c=0;for(t=0,n=0;t<i;t+=4,n+=3)o=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return 2===a?(o=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,s[c++]=255&o):1===a&&(o=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i="",o=[],a=16383,u=0,l=n-r;u<l;u+=a)o.push(s(e,u,u+a>l?l:u+a));return 1===r?(t=e[n-1],i+=c[t>>2],i+=c[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=c[t>>10],i+=c[t>>4&63],i+=c[t<<2&63],i+="="),o.push(i),o.join("")}n.byteLength=i,n.toByteArray=o,n.fromByteArray=u;for(var c=[],l=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)c[d]=f[d],l[f.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],6:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+h>=1?f/u:f*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*m}},{}],7:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],8:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var c=[],u=s;u<i.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:9}],9:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(h===setTimeout)return setTimeout(e,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&u())}function u(){if(!g){var e=o(s);g=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var h,f,d=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(e){h=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var p,m=[],g=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],10:[function(e,t,n){var r=e("buffer").Buffer;t.exports=function(e,t){if(r.isBuffer(e)&&r.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},{buffer:4}],11:[function(e,t,n){(function(r){function i(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function u(){try{return n.storage.debug}catch(e){}if("undefined"!=typeof r&&"env"in r)return r.env.DEBUG}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=a,n.formatArgs=o,n.save=s,n.load=u,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message;
}},n.enable(u())}).call(this,e("_process"))},{"./debug":12,_process:9}],12:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var u=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;u++;var i=n.formatters[r];if("function"==typeof i){var o=a[u];t=i.call(e,o),a.splice(u,1),u--}return t}),a=n.formatArgs.apply(e,a);var l=i.log||n.log||console.log.bind(console);l.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&(e=t[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=i.debug=i,n.coerce=u,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,l=0},{ms:13}],13:[function(e,t,n){function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,c,"hour")||a(e,u,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,h=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&isNaN(e)===!1)return t.long?o(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],14:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function i(e,t,n){var r=t[n];if(void 0!==r&&null!==r){if(s.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");s.call(e,n)&&a(r)?e[n]=o(Object(e[n]),t[n]):e[n]=r}}function o(e,t){if(e===t)return e;t=Object(t);for(var n in t)s.call(t,n)&&i(e,t,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),o=0;o<r.length;o++)u.call(t,r[o])&&i(e,t,r[o]);return e}var a=e("is-obj"),s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;t.exports=function(e){e=r(e);for(var t=1;t<arguments.length;t++)o(e,arguments[t]);return e}},{"is-obj":15}],15:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],16:[function(t,n,r){!function(t,n,r,i){"use strict";function o(e,t){for(var n=0,r=e.length;n<r;n++)v(e[n],t)}function a(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],x(t,z[u(t)])}function s(e){return function(t){ie(t)&&(v(t,e),o(t.querySelectorAll(B),e))}}function u(e){var t=se.call(e,"is"),n=e.nodeName.toUpperCase(),r=V.call(F,t?j+t.toUpperCase():R+n);return t&&-1<r&&!c(n,t)?-1:r}function c(e,t){return-1<B.indexOf(e+'[is="'+t+'"]')}function l(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target;ve&&(!i||i===t)&&t.attributeChangedCallback&&"style"!==r&&e.prevValue!==e.newValue&&t.attributeChangedCallback(r,n===e[N]?null:e.prevValue,n===e[D]?null:e.newValue)}function h(e){var t=s(e);return function(e){y.push(t,e.target)}}function f(e){ge&&(ge=!1,e.currentTarget.removeEventListener(I,f)),o((e.target||n).querySelectorAll(B),e.detail===k?k:_),re&&m()}function d(e,t){var n=this;ue.call(n,e,t),b.call(n,{target:n})}function p(e,t){ee(e,t),E?E.observe(e,he):(me&&(e.setAttribute=d,e[T]=M(e),e.addEventListener(O,b)),e.addEventListener(C,l)),e.createdCallback&&ve&&(e.created=!0,e.createdCallback(),e.created=!1)}function m(){for(var e,t=0,n=oe.length;t<n;t++)e=oe[t],H.contains(e)||(n--,oe.splice(t--,1),v(e,k))}function g(e){throw new Error("A "+e+" type is already registered")}function v(e,t){var n,r=u(e);-1<r&&(A(e,z[r]),r=0,t!==_||e[_]?t===k&&!e[k]&&(e[_]=!1,e[k]=!0,r=1):(e[k]=!1,e[_]=!0,r=1,re&&V.call(oe,e)<0&&oe.push(e)),r&&(n=e[t+"Callback"])&&n.call(e))}if(!(i in n)){var y,b,w,M,E,A,x,T="__"+i+(1e5*Math.random()>>0),_="attached",k="detached",S="extends",N="ADDITION",L="MODIFICATION",D="REMOVAL",C="DOMAttrModified",I="DOMContentLoaded",O="DOMSubtreeModified",R="<",j="=",P=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,U=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],F=[],z=[],B="",H=n.documentElement,V=F.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},G=r.prototype,Y=G.hasOwnProperty,Q=G.isPrototypeOf,W=r.defineProperty,q=r.getOwnPropertyDescriptor,X=r.getOwnPropertyNames,K=r.getPrototypeOf,Z=r.setPrototypeOf,J=!!r.__proto__,$=r.create||function e(t){return t?(e.prototype=t,new e):this},ee=Z||(J?function(e,t){return e.__proto__=t,e}:X&&q?function(){function e(e,t){for(var n,r=X(t),i=0,o=r.length;i<o;i++)n=r[i],Y.call(e,n)||W(e,n,q(t,n))}return function(t,n){do e(t,n);while((n=K(n))&&!Q.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),te=t.MutationObserver||t.WebKitMutationObserver,ne=(t.HTMLElement||t.Element||t.Node).prototype,re=!Q.call(ne,H),ie=re?function(e){return 1===e.nodeType}:function(e){return Q.call(ne,e)},oe=re&&[],ae=ne.cloneNode,se=ne.getAttribute,ue=ne.setAttribute,ce=ne.removeAttribute,le=n.createElement,he=te&&{attributes:!0,characterData:!0,attributeOldValue:!0},fe=te||function(e){me=!1,H.removeEventListener(C,fe)},de=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},pe=!1,me=!0,ge=!0,ve=!0;Z||J?(A=function(e,t){Q.call(t,e)||p(e,t)},x=p):(A=function(e,t){e[T]||(e[T]=r(!0),p(e,t))},x=A),re?(me=!1,function(){var t=q(ne,"addEventListener"),n=t.value,r=function(e){var t=new CustomEvent(C,{bubbles:!0});t.attrName=e,t.prevValue=se.call(this,e),t.newValue=null,t[D]=t.attrChange=2,ce.call(this,e),this.dispatchEvent(t)},i=function(t,n){var r=this.hasAttribute(t),i=r&&se.call(this,t);e=new CustomEvent(C,{bubbles:!0}),ue.call(this,t,n),e.attrName=t,e.prevValue=r?i:null,e.newValue=n,r?e[L]=e.attrChange=1:e[N]=e.attrChange=0,this.dispatchEvent(e)},o=function(e){var t,n=e.currentTarget,r=n[T],i=e.propertyName;r.hasOwnProperty(i)&&(r=r[i],t=new CustomEvent(C,{bubbles:!0}),t.attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[i]||null,null==t.prevValue?t[N]=t.attrChange=0:t[L]=t.attrChange=1,n.dispatchEvent(t))};t.value=function(e,t,a){e===C&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[T]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=r,n.call(this,"propertychange",o)),n.call(this,e,t,a)},W(ne,"addEventListener",t)}()):te||(H.addEventListener(C,fe),H.setAttribute(T,1),H.removeAttribute(T),me&&(b=function(e){var t,n,r,i=this;if(i===e.target){t=i[T],i[T]=n=M(i);for(r in n){if(!(r in t))return w(0,i,r,t[r],n[r],N);if(n[r]!==t[r])return w(1,i,r,t[r],n[r],L)}for(r in t)if(!(r in n))return w(2,i,r,t[r],n[r],D)}},w=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,l(a)},M=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)t=i[o],n=t.name,"setAttribute"!==n&&(r[n]=t.value);return r})),n[i]=function(e,t){if(r=e.toUpperCase(),pe||(pe=!0,te?(E=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new te(function(r){for(var i,o,a,s=0,u=r.length;s<u;s++)i=r[s],"childList"===i.type?(n(i.addedNodes,e),n(i.removedNodes,t)):(o=i.target,ve&&o.attributeChangedCallback&&"style"!==i.attributeName&&(a=se.call(o,i.attributeName),a!==i.oldValue&&o.attributeChangedCallback(i.attributeName,i.oldValue,a)))})}(s(_),s(k)),E.observe(n,{childList:!0,subtree:!0})):(y=[],de(function e(){for(;y.length;)y.shift().call(null,y.shift());de(e)}),n.addEventListener("DOMNodeInserted",h(_)),n.addEventListener("DOMNodeRemoved",h(k))),n.addEventListener(I,f),n.addEventListener("readystatechange",f),n.createElement=function(e,t){var r=le.apply(n,arguments),i=""+e,o=V.call(F,(t?j:R)+(t||i).toUpperCase()),a=-1<o;return t&&(r.setAttribute("is",t=t.toLowerCase()),a&&(a=c(i.toUpperCase(),t))),ve=!n.createElement.innerHTMLHelper,a&&x(r,z[o]),r},ne.cloneNode=function(e){var t=ae.call(this,!!e),n=u(t);return-1<n&&x(t,z[n]),e&&a(t.querySelectorAll(B)),t}),-2<V.call(F,j+r)+V.call(F,R+r)&&g(e),!P.test(r)||-1<V.call(U,r))throw new Error("The type "+e+" is invalid");var r,i,l=function(){return p?n.createElement(m,r):n.createElement(m)},d=t||G,p=Y.call(d,S),m=p?t[S].toUpperCase():r;return p&&-1<V.call(F,R+m)&&g(m),i=F.push((p?j:R)+r)-1,B=B.concat(B.length?",":"",p?m+'[is="'+e.toLowerCase()+'"]':m),l.prototype=z[i]=Y.call(d,"prototype")?d.prototype:$(ne),o(n.querySelectorAll(B),_),l}}}(window,document,Object,"registerElement")},{}],17:[function(e,t,n){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],18:[function(e,t,n){function r(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&Array.isArray(e[0])){var r=e[0].length,o=e.length*r;t&&"string"!=typeof t||(t=new(i(t||"float32"))(o+n));var a=t.length-n;if(o!==a)throw new Error("source length "+o+" ("+r+"x"+e.length+") does not match destination length "+a);for(var s=0,u=n;s<e.length;s++)for(var c=0;c<r;c++)t[u++]=e[s][c]}else if(t&&"string"!=typeof t)t.set(e,n);else{var l=i(t||"float32");0===n?t=new l(e):(t=new l(e.length+n),t.set(e,n))}return t}var i=e("dtype");t.exports=r},{dtype:17}],19:[function(e,t,n){function r(e,t,n){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?i(e,t,n):"string"==typeof e?o(e,t,n):a(e,t,n)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)c.call(e,r)&&t.call(n,e[r],r,e)}function o(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function a(e,t,n){for(var r in e)c.call(e,r)&&t.call(n,e[r],r,e)}var s=e("is-function");t.exports=r;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{"is-function":24}],20:[function(e,t,r){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){t.exports=function(e){if(!e||"string"!=typeof e)throw new Error("must specify property for indexof search");return new Function("array","value","start",["start = start || 0","for (var i=start; i<array.length; i++)",'  if (array[i]["'+e+'"] === value)',"      return i","return -1"].join("\n"))}},{}],22:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],23:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],24:[function(e,t,n){function r(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=r;var i=Object.prototype.toString},{}],25:[function(e,t,n){function r(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function i(e){Object.defineProperty(r.prototype,e,{get:o(e),configurable:!0})}function o(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function a(e,t){if(!e.chars||0===e.chars.length)return null;var n=p(e.chars,t);return n>=0?e.chars[n]:null}function s(e){for(var t=0;t<g.length;t++){var n=g[t].charCodeAt(0),r=p(e.chars,n);if(r>=0)return e.chars[r].height}return 0}function u(e){for(var t=0;t<v.length;t++){var n=v[t].charCodeAt(0),r=p(e.chars,n);if(r>=0)return e.chars[r]}return 0}function c(e){for(var t=0;t<y.length;t++){var n=y[t].charCodeAt(0),r=p(e.chars,n);if(r>=0)return e.chars[r].height}return 0}function l(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var r=e.kernings,i=0;i<r.length;i++){var o=r[i];if(o.first===t&&o.second===n)return o.amount}return 0}function h(e){return"center"===e?E:"right"===e?A:M}var f=e("word-wrapper"),d=e("xtend"),p=e("indexof-property")("id"),m=e("as-number"),g=["x","e","a","o","n","s","r","c","u","m","v","w","z"],v=["m","w"],y=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],b="\t".charCodeAt(0),w=" ".charCodeAt(0),M=0,E=1,A=2;t.exports=function(e){return new r(e)},r.prototype.update=function(e){if(e=d({measure:this._measure},e),this._opt=e,this._opt.tabSize=m(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,n=e.text||"",r=e.font;this._setupSpaceGlyphs(r);var i=f.lines(n,e),o=e.width||0;t.length=0;var a=i.reduce(function(e,t){return Math.max(e,t.width,o)},0),u=0,p=0,g=m(e.lineHeight,r.common.lineHeight),v=r.common.base,y=g-v,b=e.letterSpacing||0,w=g*i.length-y,M=h(this._opt.align);p-=w,this._width=a,this._height=w,this._descender=g-v,this._baseline=v,this._xHeight=s(r),this._capHeight=c(r),this._lineHeight=g,this._ascender=g-y-this._xHeight;var x=this;i.forEach(function(e,i){for(var o,s=e.start,c=e.end,h=e.width,f=s;f<c;f++){var d=n.charCodeAt(f),m=x.getGlyph(r,d);if(m){o&&(u+=l(r,o.id,m.id));var v=u;M===E?v+=(a-h)/2:M===A&&(v+=a-h),t.push({position:[v,p],data:m,index:f,line:i}),u+=m.xadvance+b,o=m}}p+=g,u=0}),this._linesTotal=i.length},r.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=a(e,w)||u(e)||e.chars[0],n=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=d(t,{x:0,y:0,xadvance:n,id:b,xoffset:0,yoffset:0,width:0,height:0})}},r.prototype.getGlyph=function(e,t){var n=a(e,t);return n?n:t===b?this._fallbackTabGlyph:t===w?this._fallbackSpaceGlyph:null},r.prototype.computeMetrics=function(e,t,n,r){var i,o,a=this._opt.letterSpacing||0,s=this._opt.font,u=0,c=0,h=0;if(!s.chars||0===s.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var f=t;f<n;f++){var d=e.charCodeAt(f),i=this.getGlyph(s,d);if(i){var p=(i.xoffset,o?l(s,o.id,i.id):0);u+=p;var m=u+i.xadvance+a,g=u+i.width;if(g>=r||m>=r)break;u=m,c=g,o=i}h++}return o&&(c+=o.xoffset),{start:t,end:t+h,width:c}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(i)},{"as-number":2,"indexof-property":21,"word-wrapper":51,xtend:54}],26:[function(e,t,n){(function(n){function r(e){var t=Object.prototype.toString;return"[object ArrayBuffer]"===t.call(e)}function i(e){if(f)return h(e,{responseType:"arraybuffer"});if("undefined"==typeof self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),h({xhr:t},e)}var o=e("xhr"),a=function(){},s=e("parse-bmfont-ascii"),u=e("parse-bmfont-xml"),c=e("parse-bmfont-binary"),l=e("./lib/is-binary"),h=e("xtend"),f=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();t.exports=function(e,t){t="function"==typeof t?t:a,"string"==typeof e?e={uri:e}:e||(e={});var h=e.binary;h&&(e=i(e)),o(e,function(i,o,h){if(i)return t(i);if(!/^2/.test(o.statusCode))return t(new Error("http status code: "+o.statusCode));if(!h)return t(new Error("no body result"));var f=!1;if(r(h)){var d=new Uint8Array(h);h=new n(d,"binary")}l(h)&&(f=!0,"string"==typeof h&&(h=new n(h,"binary"))),f||(n.isBuffer(h)&&(h=h.toString(e.encoding)),h=h.trim());var p;try{var m=o.headers["content-type"];p=f?c(h):/json/.test(m)||"{"===h.charAt(0)?JSON.parse(h):/xml/.test(m)||"<"===h.charAt(0)?u(h):s(h)}catch(e){t(new Error("error parsing font "+e.message)),t=a}t(null,p)})}}).call(this,e("buffer").Buffer)},{"./lib/is-binary":27,buffer:4,"parse-bmfont-ascii":29,"parse-bmfont-binary":30,"parse-bmfont-xml":31,xhr:52,xtend:54}],27:[function(e,t,n){(function(n){var r=e("buffer-equal"),i=new n([66,77,70,3]);t.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&r(e.slice(0,4),i)}}).call(this,e("buffer").Buffer)},{buffer:4,"buffer-equal":10}],28:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(e,t){for(var n,i,s=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var l=0;l<i.length;l++)a.call(n,i[l])&&(s[i[l]]=n[i[l]])}}return s}},{}],29:[function(e,t,n){function r(e,t){if(e=e.replace(/\t+/g," ").trim(),!e)return null;var n=e.indexOf(" ");if(n===-1)throw new Error("no named row at line "+t);var r=e.substring(0,n);e=e.substring(n+1),e=e.replace(/letter=[\'\"]\S+[\'\"]/gi,""),e=e.split("="),e=e.map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var o=[],a=0;a<e.length;a++){var s=e[a];0===a?o.push({key:s[0],data:""}):a===e.length-1?o[o.length-1].data=i(s[0]):(o[o.length-1].data=i(s[0]),o.push({key:s[1],data:""}))}var u={key:r,data:{}};return o.forEach(function(e){u.data[e.key]=e.data}),u}function i(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):e.indexOf(",")!==-1?o(e):parseInt(e,10):""}function o(e){return e.split(",").map(function(e){return parseInt(e,10)})}t.exports=function(e){if(!e)throw new Error("no data provided");e=e.toString().trim();var t={pages:[],chars:[],kernings:[]},n=e.split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var o=r(n[i],i);if(o)if("page"===o.key){if("number"!=typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');t.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?t.chars.push(o.data):"kerning"===o.key?t.kernings.push(o.data):t[o.key]=o.data)}return t}},{}],30:[function(e,t,n){function r(e,t,n){if(n>t.length-1)return 0;var r=t.readUInt8(n++),c=t.readInt32LE(n);switch(n+=4,r){case 1:e.info=i(t,n);break;case 2:e.common=o(t,n);break;case 3:e.pages=a(t,n,c);break;case 4:e.chars=s(t,n,c);break;case 5:e.kernings=u(t,n,c)}return 5+c}function i(e,t){var n={};n.size=e.readInt16LE(t);var r=e.readUInt8(t+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=l(e,t+14),n}function o(e,t){var n={};n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8);e.readUInt8(t+10);return n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}function a(e,t,n){for(var r=[],i=c(e,t),o=i.length+1,a=n/o,s=0;s<a;s++)r[s]=e.slice(t,t+i.length).toString("utf8"),t+=o;return r}function s(e,t,n){for(var r=[],i=n/20,o=0;o<i;o++){var a={},s=20*o;a.id=e.readUInt32LE(t+0+s),a.x=e.readUInt16LE(t+4+s),a.y=e.readUInt16LE(t+6+s),a.width=e.readUInt16LE(t+8+s),a.height=e.readUInt16LE(t+10+s),a.xoffset=e.readInt16LE(t+12+s),a.yoffset=e.readInt16LE(t+14+s),a.xadvance=e.readInt16LE(t+16+s),a.page=e.readUInt8(t+18+s),a.chnl=e.readUInt8(t+19+s),r[o]=a}return r}function u(e,t,n){for(var r=[],i=n/10,o=0;o<i;o++){var a={},s=10*o;a.first=e.readUInt32LE(t+0+s),a.second=e.readUInt32LE(t+4+s),a.amount=e.readInt16LE(t+8+s),r[o]=a}return r}function c(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}function l(e,t){return c(e,t).toString("utf8")}var h=[66,77,70];t.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var t=h.every(function(t,n){return e.readUInt8(n)===t});if(!t)throw new Error("BMFont missing BMF byte header");var n=3,i=e.readUInt8(n++);if(i>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var o={kernings:[],chars:[]},a=0;a<5;a++)n+=r(o,e,n);return o}},{}],31:[function(e,t,n){function r(e){var t=i(e);return t.reduce(function(e,t){var n=o(t.nodeName);return e[n]=t.nodeValue,e},{})}function i(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}function o(e){return u[e.toLowerCase()]||e}var a=e("./parse-attribs"),s=e("xml-parse-from-string"),u={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};t.exports=function(e){e=e.toString();var t=s(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var i=t.getElementsByTagName(e)[0];i&&(n[e]=a(r(i)))});var i=t.getElementsByTagName("pages")[0];if(!i)throw new Error("malformed file -- no <pages> element");for(var o=i.getElementsByTagName("page"),u=0;u<o.length;u++){var c=o[u],l=parseInt(c.getAttribute("id"),10),h=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(l,10)]=h}return["chars","kernings"].forEach(function(e){var i=t.getElementsByTagName(e)[0];if(i)for(var o=e.substring(0,e.length-1),s=i.getElementsByTagName(o),u=0;u<s.length;u++){var c=s[u];n[e].push(a(r(c)))}}),n}},{"./parse-attribs":32,"xml-parse-from-string":53}],32:[function(e,t,n){function r(e){return e.split(",").map(function(e){return parseInt(e,10)})}var i="chasrset";t.exports=function(e){i in e&&(e.charset=e[i],delete e[i]);for(var t in e)"face"!==t&&"charset"!==t&&("padding"===t||"spacing"===t?e[t]=r(e[t]):e[t]=parseInt(e[t],10));return e}},{}],33:[function(e,t,n){var r=e("trim"),i=e("for-each"),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));"undefined"==typeof t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},{"for-each":19,trim:48}],34:[function(e,t,r){(function(e){var n=e.performance||{},r=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var t=e.shift();if(t in n)return n[t].bind(n)}var r=Date.now||function(){return(new Date).getTime()},i=(n.timing||{}).navigationStart||r();return function(){return r()-i}}();r.performanceNow=n.now,r.noConflict=function(){n.now=r.performanceNow},r.conflict=function(){n.now=r},r.conflict(),t.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t,n){!function(e){function n(e,t){return function(){e.apply(t,arguments)}}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,n(a,this),n(s,this))}function i(e){var t=this;return null===this._state?void this._deferreds.push(e):void f(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(n(t,e),n(a,this),n(s,this))}this._state=!0,this._value=e,u.call(this)}catch(e){s.call(this,e)}}function s(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;e<t;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var h=setTimeout,f="function"==typeof o&&o||function(e){h(e,1)},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=this;return new r(function(r,o){i.call(n,new c(e,t,r,o))})},r.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&d(arguments[0])?arguments[0]:arguments);return new r(function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}e[o]=a,0===--i&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},r._setImmediateFn=function(e){f=e},"undefined"!=typeof t&&t.exports?t.exports=r:e.Promise||(e.Promise=r)}(this)},{}],36:[function(e,t,n){var r=e("dtype"),i=e("an-array"),o=e("is-buffer"),a=[0,2,3],s=[2,1,3];t.exports=function(e,t){e&&(i(e)||o(e))||(t=e||{},e=null),t="number"==typeof t?{count:t}:t||{};for(var n="string"==typeof t.type?t.type:"uint16",u="number"==typeof t.count?t.count:1,c=t.start||0,l=t.clockwise!==!1?a:s,h=l[0],f=l[1],d=l[2],p=6*u,m=e||new(r(n))(p),g=0,v=0;g<p;g+=6,v+=4){var y=g+c;m[y+0]=v+0,m[y+1]=v+1,m[y+2]=v+2,m[y+3]=v+h,m[y+4]=v+f,m[y+5]=v+d}return m}},{"an-array":1,dtype:17,"is-buffer":23}],37:[function(e,t,n){function r(e){var t=function(e){return e.trim()},n={};return i(e).map(t).filter(Boolean).forEach(function(e){var t=e.indexOf(":"),r=e.substr(0,t).trim(),i=e.substr(t+1).trim();n[r]=i}),n}function i(e){for(var t,n=[],r=0,i=";",o=/url\([^\)]+$/,a="";r<e.length;)t=e.indexOf(i,r),t===-1&&(t=e.length),a+=e.substring(r,t),o.test(a)?(a+=";",r=t+1):(n.push(a),a="",r=t+1);return n}function o(e){return Object.keys(e).map(function(t){return t+":"+e[t]}).join(";")}function a(e){return o(r(e))}t.exports.parse=r,t.exports.stringify=o,t.exports.normalize=a},{}],38:[function(e,t,n){function r(e){h.call(this),"string"==typeof e&&(e={text:e}),this._opt=u({},e),e&&this.update(e)}var i=e("layout-bmfont-text"),o=e("inherits"),a=e("quad-indices"),s=e("three-buffer-vertex-data"),u=e("object-assign"),c=e("./lib/vertices"),l=e("./lib/utils"),h=THREE.BufferGeometry;t.exports=function(e){return new r(e)},o(r,h),r.prototype.update=function(e){if("string"==typeof e&&(e={text:e}),e=u({},this._opt,e),!e.font)throw new TypeError("must specify a { font } in options");this.layout=i(e);var t=e.flipY!==!1,n=e.font,r=n.common.scaleW,o=n.common.scaleH,l=this.layout.glyphs.filter(function(e){var t=e.data;return t.width*t.height>0});this.visibleGlyphs=l;var h=c.positions(l),f=c.uvs(l,r,o,t),d=a({clockwise:!0,type:"uint16",count:l.length});if(s.index(this,d,1,"uint16"),s.attr(this,"position",h,2),s.attr(this,"uv",f,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var p=c.pages(l);s.attr(this,"page",p,1)}},r.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;return!e||!t||e.length<2?(this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0)):(l.computeSphere(e,this.boundingSphere),void(isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')))},r.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,n=this.attributes.position.itemSize;return!t||!n||t.length<2?void e.makeEmpty():void l.computeBox(t,e)}},{"./lib/utils":39,"./lib/vertices":40,inherits:22,"layout-bmfont-text":25,"object-assign":28,"quad-indices":36,"three-buffer-vertex-data":41}],39:[function(e,t,n){function r(e){var t=e.length/i;o.min[0]=e[0],o.min[1]=e[1],o.max[0]=e[0],o.max[1]=e[1];for(var n=0;n<t;n++){var r=e[n*i+0],a=e[n*i+1];o.min[0]=Math.min(r,o.min[0]),o.min[1]=Math.min(a,o.min[1]),o.max[0]=Math.max(r,o.max[0]),o.max[1]=Math.max(a,o.max[1])}}var i=2,o={min:[0,0],max:[0,0]};t.exports.computeBox=function(e,t){r(e),t.min.set(o.min[0],o.min[1],0),t.max.set(o.max[0],o.max[1],0)},t.exports.computeSphere=function(e,t){r(e);var n=o.min[0],i=o.min[1],a=o.max[0],s=o.max[1],u=a-n,c=s-i,l=Math.sqrt(u*u+c*c);t.center.set(n+u/2,i+c/2,0),t.radius=l/2}},{}],40:[function(e,t,n){t.exports.pages=function e(t){var e=new Float32Array(4*t.length*1),n=0;return t.forEach(function(t){var r=t.data.page||0;e[n++]=r,e[n++]=r,e[n++]=r,e[n++]=r}),e},t.exports.uvs=function e(t,n,r,i){var e=new Float32Array(4*t.length*2),o=0;return t.forEach(function(t){var a=t.data,s=a.x+a.width,u=a.y+a.height,c=a.x/n,l=a.y/r,h=s/n,f=u/r;i&&(l=(r-a.y)/r,f=(r-u)/r),e[o++]=c,e[o++]=l,e[o++]=c,e[o++]=f,e[o++]=h,e[o++]=f,e[o++]=h,e[o++]=l}),e},t.exports.positions=function e(t){var e=new Float32Array(4*t.length*2),n=0;return t.forEach(function(t){var r=t.data,i=t.position[0]+r.xoffset,o=t.position[1]+r.yoffset,a=r.width,s=r.height;e[n++]=i,e[n++]=o,e[n++]=i,e[n++]=o+s,e[n++]=i+a,e[n++]=o+s,e[n++]=i+a,e[n++]=o}),e}},{}],41:[function(e,t,n){function r(e,t,n,r){"number"!=typeof n&&(n=1),"string"!=typeof r&&(r="uint16");var i=!e.index&&"function"!=typeof e.setIndex,a=i?e.getAttribute("index"):e.index,s=o(a,t,n,r);s&&(i?e.addAttribute("index",s):e.index=s)}function i(e,t,n,r,i){if("number"!=typeof r&&(r=3),
"string"!=typeof i&&(i="float32"),Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==r)throw new Error("Nested vertex array has unexpected size; expected "+r+" but found "+n[0].length);var a=e.getAttribute(t),s=o(a,n,r,i);s&&e.addAttribute(t,s)}function o(e,t,n,r){if(t=t||[],!e||a(e,t,n)){t=s(t,r);var i=e&&"function"!=typeof e.setArray;return e&&!i||(i&&!u&&(u=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),e=new THREE.BufferAttribute(t,n)),e.itemSize=n,e.needsUpdate=!0,"function"==typeof e.setArray&&e.setArray(t),e}return s(t,e.array),e.needsUpdate=!0,null}function a(e,t,n){if(e.itemSize!==n)return!0;if(!e.array)return!0;var r=e.array.length;return Array.isArray(t)&&Array.isArray(t[0])?r!==t.length*n:r!==t.length}var s=e("flatten-vertex-data"),u=!1;t.exports.attr=i,t.exports.index=r},{"flatten-vertex-data":18}],42:[function(e,n,r){!function(e,i){"object"==typeof r&&"undefined"!=typeof n?i(r):"function"==typeof t&&t.amd?t(["exports"],i):i(e.THREE=e.THREE||{})}(this,function(e){"use strict";function t(){}function n(e,t){this.x=e||0,this.y=t||0}function r(e,t,i,o,a,s,u,c,l,h){Object.defineProperty(this,"id",{value:Ja++}),this.uuid=Za.generateUUID(),this.name="",this.image=void 0!==e?e:r.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:r.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:Go,this.wrapT=void 0!==o?o:Go,this.magFilter=void 0!==a?a:Ko,this.minFilter=void 0!==s?s:Jo,this.anisotropy=void 0!==l?l:1,this.format=void 0!==u?u:pa,this.type=void 0!==c?c:ea,this.offset=new n(0,0),this.repeat=new n(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:Ba,this.version=0,this.onUpdate=null}function i(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function o(e,t,n){this.uuid=Za.generateUUID(),this.width=e,this.height=t,this.scissor=new i(0,0,e,t),this.scissorTest=!1,this.viewport=new i(0,0,e,t),n=n||{},void 0===n.minFilter&&(n.minFilter=Ko),this.texture=new r(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function a(e,t,n){o.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function s(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function u(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function c(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function l(e,t,n,i,o,a,s,u,c,l){e=void 0!==e?e:[],t=void 0!==t?t:Ro,r.call(this,e,t,n,i,o,a,s,u,c,l),this.flipY=!1}function h(){this.seq=[],this.map={}}function f(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=ts[i];if(void 0===o&&(o=new Float32Array(i),ts[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function d(e,t){var n=ns[t];void 0===n&&(n=new Int32Array(t),ns[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function p(e,t){e.uniform1f(this.addr,t)}function m(e,t){e.uniform1i(this.addr,t)}function g(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function v(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function y(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function b(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function w(e,t){e.uniformMatrix3fv(this.addr,!1,t.elements||t)}function M(e,t){e.uniformMatrix4fv(this.addr,!1,t.elements||t)}function E(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTexture2D(t||$a,r)}function A(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTextureCube(t||es,r)}function x(e,t){e.uniform2iv(this.addr,t)}function T(e,t){e.uniform3iv(this.addr,t)}function _(e,t){e.uniform4iv(this.addr,t)}function k(e){switch(e){case 5126:return p;case 35664:return g;case 35665:return v;case 35666:return y;case 35674:return b;case 35675:return w;case 35676:return M;case 35678:return E;case 35680:return A;case 5124:case 35670:return m;case 35667:case 35671:return x;case 35668:case 35672:return T;case 35669:case 35673:return _}}function S(e,t){e.uniform1fv(this.addr,t)}function N(e,t){e.uniform1iv(this.addr,t)}function L(e,t){e.uniform2fv(this.addr,f(t,this.size,2))}function D(e,t){e.uniform3fv(this.addr,f(t,this.size,3))}function C(e,t){e.uniform4fv(this.addr,f(t,this.size,4))}function I(e,t){e.uniformMatrix2fv(this.addr,!1,f(t,this.size,4))}function O(e,t){e.uniformMatrix3fv(this.addr,!1,f(t,this.size,9))}function R(e,t){e.uniformMatrix4fv(this.addr,!1,f(t,this.size,16))}function j(e,t,n){var r=t.length,i=d(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(t[o]||$a,i[o])}function P(e,t,n){var r=t.length,i=d(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(t[o]||es,i[o])}function U(e){switch(e){case 5126:return S;case 35664:return L;case 35665:return D;case 35666:return C;case 35674:return I;case 35675:return O;case 35676:return R;case 35678:return j;case 35680:return P;case 5124:case 35670:return N;case 35667:case 35671:return x;case 35668:case 35672:return T;case 35669:case 35673:return _}}function F(e,t,n){this.id=e,this.addr=n,this.setValue=k(t.type)}function z(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=U(t.type)}function B(e){this.id=e,h.call(this)}function H(e,t){e.seq.push(t),e.map[t.id]=t}function V(e,t,n){var r=e.name,i=r.length;for(rs.lastIndex=0;;){var o=rs.exec(r),a=rs.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){H(n,void 0===c?new F(s,e,t):new z(s,e,t));break}var l=n.map,h=l[s];void 0===h&&(h=new B(s),H(n,h)),n=h}}function G(e,t,n){h.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i!==r;++i){var o=e.getActiveUniform(t,i),a=o.name,s=e.getUniformLocation(t,a);V(o,s,this)}}function Y(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Q(e,t,n,i,o,a,s,u,c,l,h,f){r.call(this,null,a,s,u,c,l,i,o,h,f),this.image={data:e,width:t,height:n},this.magFilter=void 0!==c?c:Wo,this.minFilter=void 0!==l?l:Wo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function W(e,t){this.min=void 0!==e?e:new n(+(1/0),+(1/0)),this.max=void 0!==t?t:new n(-(1/0),-(1/0))}function q(e,t){function r(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),t=new Uint16Array([0,1,2,0,2,3]);o=p.createBuffer(),a=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,o),p.bufferData(p.ARRAY_BUFFER,e,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),p.bufferData(p.ELEMENT_ARRAY_BUFFER,t,p.STATIC_DRAW),f=p.createTexture(),d=p.createTexture(),m.bindTexture(p.TEXTURE_2D,f),p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),m.bindTexture(p.TEXTURE_2D,d),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),s={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},c=i(s),l={vertex:p.getAttribLocation(c,"position"),uv:p.getAttribLocation(c,"uv")},h={renderType:p.getUniformLocation(c,"renderType"),map:p.getUniformLocation(c,"map"),occlusionMap:p.getUniformLocation(c,"occlusionMap"),opacity:p.getUniformLocation(c,"opacity"),color:p.getUniformLocation(c,"color"),scale:p.getUniformLocation(c,"scale"),rotation:p.getUniformLocation(c,"rotation"),screenPosition:p.getUniformLocation(c,"screenPosition")}}function i(t){var n=p.createProgram(),r=p.createShader(p.FRAGMENT_SHADER),i=p.createShader(p.VERTEX_SHADER),o="precision "+e.getPrecision()+" float;\n";return p.shaderSource(r,o+t.fragmentShader),p.shaderSource(i,o+t.vertexShader),p.compileShader(r),p.compileShader(i),p.attachShader(n,r),p.attachShader(n,i),p.linkProgram(n),n}var o,a,s,c,l,h,f,d,p=e.context,m=e.state;this.render=function(i,s,g){if(0!==t.length){var v=new u,y=g.w/g.z,b=.5*g.z,w=.5*g.w,M=16/g.w,E=new n(M*y,M),A=new u(1,1,0),x=new n(1,1),T=new W;T.min.set(g.x,g.y),T.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===c&&r(),p.useProgram(c),m.initAttributes(),m.enableAttribute(l.vertex),m.enableAttribute(l.uv),m.disableUnusedAttributes(),p.uniform1i(h.occlusionMap,0),p.uniform1i(h.map,1),p.bindBuffer(p.ARRAY_BUFFER,o),p.vertexAttribPointer(l.vertex,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(l.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),m.disable(p.CULL_FACE),m.setDepthWrite(!1);for(var _=0,k=t.length;_<k;_++){M=16/g.w,E.set(M*y,M);var S=t[_];if(v.set(S.matrixWorld.elements[12],S.matrixWorld.elements[13],S.matrixWorld.elements[14]),v.applyMatrix4(s.matrixWorldInverse),v.applyProjection(s.projectionMatrix),A.copy(v),x.x=g.x+A.x*b+b-8,x.y=g.y+A.y*w+w-8,T.containsPoint(x)===!0){m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,null),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,f),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,x.x,x.y,16,16,0),p.uniform1i(h.renderType,0),p.uniform2f(h.scale,E.x,E.y),p.uniform3f(h.screenPosition,A.x,A.y,A.z),m.disable(p.BLEND),m.enable(p.DEPTH_TEST),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,d),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,x.x,x.y,16,16,0),p.uniform1i(h.renderType,1),m.disable(p.DEPTH_TEST),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,f),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),S.positionScreen.copy(A),S.customUpdateCallback?S.customUpdateCallback(S):S.updateLensFlares(),p.uniform1i(h.renderType,2),m.enable(p.BLEND);for(var N=0,L=S.lensFlares.length;N<L;N++){var D=S.lensFlares[N];D.opacity>.001&&D.scale>.001&&(A.x=D.x,A.y=D.y,A.z=D.z,M=D.size*D.scale/g.w,E.x=M*y,E.y=M,p.uniform3f(h.screenPosition,A.x,A.y,A.z),p.uniform2f(h.scale,E.x,E.y),p.uniform1f(h.rotation,D.rotation),p.uniform1f(h.opacity,D.opacity),p.uniform3f(h.color,D.color.r,D.color.g,D.color.b),m.setBlending(D.blending,D.blendEquation,D.blendSrc,D.blendDst),e.setTexture2D(D.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}}m.enable(p.CULL_FACE),m.enable(p.DEPTH_TEST),m.setDepthWrite(!0),e.resetGLState()}}}function X(e,t){function n(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),t=new Uint16Array([0,1,2,0,2,3]);a=p.createBuffer(),c=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,a),p.bufferData(p.ARRAY_BUFFER,e,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),p.bufferData(p.ELEMENT_ARRAY_BUFFER,t,p.STATIC_DRAW),l=i(),h={position:p.getAttribLocation(l,"position"),uv:p.getAttribLocation(l,"uv")},f={uvOffset:p.getUniformLocation(l,"uvOffset"),uvScale:p.getUniformLocation(l,"uvScale"),rotation:p.getUniformLocation(l,"rotation"),scale:p.getUniformLocation(l,"scale"),color:p.getUniformLocation(l,"color"),map:p.getUniformLocation(l,"map"),opacity:p.getUniformLocation(l,"opacity"),modelViewMatrix:p.getUniformLocation(l,"modelViewMatrix"),projectionMatrix:p.getUniformLocation(l,"projectionMatrix"),fogType:p.getUniformLocation(l,"fogType"),fogDensity:p.getUniformLocation(l,"fogDensity"),fogNear:p.getUniformLocation(l,"fogNear"),fogFar:p.getUniformLocation(l,"fogFar"),fogColor:p.getUniformLocation(l,"fogColor"),alphaTest:p.getUniformLocation(l,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var o=n.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),d=new r(n),d.needsUpdate=!0}function i(){var t=p.createProgram(),n=p.createShader(p.VERTEX_SHADER),r=p.createShader(p.FRAGMENT_SHADER);return p.shaderSource(n,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),p.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),p.compileShader(n),p.compileShader(r),p.attachShader(t,n),p.attachShader(t,r),p.linkProgram(t),t}function o(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var a,c,l,h,f,d,p=e.context,m=e.state,g=new u,v=new s,y=new u;this.render=function(r,i){if(0!==t.length){void 0===l&&n(),p.useProgram(l),m.initAttributes(),m.enableAttribute(h.position),m.enableAttribute(h.uv),m.disableUnusedAttributes(),m.disable(p.CULL_FACE),m.enable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,a),p.vertexAttribPointer(h.position,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(h.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,c),p.uniformMatrix4fv(f.projectionMatrix,!1,i.projectionMatrix.elements),m.activeTexture(p.TEXTURE0),p.uniform1i(f.map,0);var s=0,u=0,b=r.fog;b?(p.uniform3f(f.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(p.uniform1f(f.fogNear,b.near),p.uniform1f(f.fogFar,b.far),p.uniform1i(f.fogType,1),s=1,u=1):b.isFogExp2&&(p.uniform1f(f.fogDensity,b.density),p.uniform1i(f.fogType,2),s=2,u=2)):(p.uniform1i(f.fogType,0),s=0,u=0);for(var w=0,M=t.length;w<M;w++){var E=t[w];E.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,E.matrixWorld),E.z=-E.modelViewMatrix.elements[14]}t.sort(o);for(var A=[],w=0,M=t.length;w<M;w++){var E=t[w],x=E.material;if(x.visible!==!1){p.uniform1f(f.alphaTest,x.alphaTest),p.uniformMatrix4fv(f.modelViewMatrix,!1,E.modelViewMatrix.elements),E.matrixWorld.decompose(g,v,y),A[0]=y.x,A[1]=y.y;var T=0;r.fog&&x.fog&&(T=u),s!==T&&(p.uniform1i(f.fogType,T),s=T),null!==x.map?(p.uniform2f(f.uvOffset,x.map.offset.x,x.map.offset.y),p.uniform2f(f.uvScale,x.map.repeat.x,x.map.repeat.y)):(p.uniform2f(f.uvOffset,0,0),p.uniform2f(f.uvScale,1,1)),p.uniform1f(f.opacity,x.opacity),p.uniform3f(f.color,x.color.r,x.color.g,x.color.b),p.uniform1f(f.rotation,x.rotation),p.uniform2fv(f.scale,A),m.setBlending(x.blending,x.blendEquation,x.blendSrc,x.blendDst),m.setDepthTest(x.depthTest),m.setDepthWrite(x.depthWrite),x.map?e.setTexture2D(x.map,0):e.setTexture2D(d,0),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0)}}m.enable(p.CULL_FACE),e.resetGLState()}}}function K(){Object.defineProperty(this,"id",{value:sc++}),this.uuid=Za.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Xi,this.side=zi,this.shading=Gi,this.vertexColors=Yi,this.opacity=1,this.transparent=!1,this.blendSrc=lo,this.blendDst=ho,this.blendEquation=to,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Mo,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function Z(e){K.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function J(e){K.call(this),this.type="MeshDepthMaterial",this.depthPacking=Xa,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function $(e,t){this.min=void 0!==e?e:new u(+(1/0),+(1/0),+(1/0)),this.max=void 0!==t?t:new u(-(1/0),-(1/0),-(1/0))}function ee(e,t){this.center=void 0!==e?e:new u,this.radius=void 0!==t?t:0}function te(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function ne(e,t){this.normal=void 0!==e?e:new u(1,0,0),this.constant=void 0!==t?t:0}function re(e,t,n,r,i,o){this.planes=[void 0!==e?e:new ne,void 0!==t?t:new ne,void 0!==n?n:new ne,void 0!==r?r:new ne,void 0!==i?i:new ne,void 0!==o?o:new ne]}function ie(e,t,r,a){function s(t,n,r,i){var o=t.geometry,a=null,s=x,u=t.customDepthMaterial;if(r&&(s=T,u=t.customDistanceMaterial),u)a=u;else{var c=!1;n.morphTargets&&(o&&o.isBufferGeometry?c=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(c=o.morphTargets&&o.morphTargets.length>0));var l=t.isSkinnedMesh&&n.skinning,h=0;c&&(h|=M),l&&(h|=E),a=s[h]}if(e.localClippingEnabled&&n.clipShadows===!0&&0!==n.clippingPlanes.length){var f=a.uuid,d=n.uuid,p=_[f];void 0===p&&(p={},_[f]=p);var m=p[d];void 0===m&&(m=a.clone(),p[d]=m),a=m}a.visible=n.visible,a.wireframe=n.wireframe;var g=n.side;return U.renderSingleSided&&g==Hi&&(g=zi),U.renderReverseSided&&(g===zi?g=Bi:g===Bi&&(g=zi)),a.side=g,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function l(e,t,n){if(e.visible!==!1){var r=0!==(e.layers.mask&t.layers.mask);if(r&&(e.isMesh||e.isLine||e.isPoints)&&e.castShadow&&(e.frustumCulled===!1||d.intersectsObject(e)===!0)){var i=e.material;i.visible===!0&&(e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),w.push(e))}for(var o=e.children,a=0,s=o.length;a<s;a++)l(o[a],t,n)}}var h=e.context,f=e.state,d=new re,p=new c,m=t.shadows,g=new n,v=new n(a.maxTextureSize,a.maxTextureSize),y=new u,b=new u,w=[],M=1,E=2,A=(M|E)+1,x=new Array(A),T=new Array(A),_={},k=[new u(1,0,0),new u(-1,0,0),new u(0,0,1),new u(0,0,-1),new u(0,1,0),new u(0,-1,0)],S=[new u(0,1,0),new u(0,1,0),new u(0,1,0),new u(0,1,0),new u(0,0,1),new u(0,0,-1)],N=[new i,new i,new i,new i,new i,new i],L=new J;L.depthPacking=Ka,L.clipping=!0;for(var D=ac.distanceRGBA,C=is.clone(D.uniforms),I=0;I!==A;++I){var O=0!==(I&M),R=0!==(I&E),j=L.clone();j.morphTargets=O,j.skinning=R,x[I]=j;var P=new Z({defines:{USE_SHADOWMAP:""},uniforms:C,vertexShader:D.vertexShader,fragmentShader:D.fragmentShader,morphTargets:O,skinning:R,clipping:!0});T[I]=P}var U=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ui,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,n){if(U.enabled!==!1&&(U.autoUpdate!==!1||U.needsUpdate!==!1)&&0!==m.length){f.buffers.color.setClear(1,1,1,1),f.disable(h.BLEND),f.setDepthTest(!0),f.setScissorTest(!1);for(var i,a,u=0,c=m.length;u<c;u++){var M=m[u],E=M.shadow;if(void 0!==E){var A=E.camera;if(g.copy(E.mapSize),g.min(v),M&&M.isPointLight){i=6,a=!0;var x=g.x,T=g.y;N[0].set(2*x,T,x,T),N[1].set(0,T,x,T),N[2].set(3*x,T,x,T),N[3].set(x,T,x,T),N[4].set(3*x,0,x,T),N[5].set(x,0,x,T),g.x*=4,g.y*=2}else i=1,a=!1;if(null===E.map){var _={minFilter:Wo,magFilter:Wo,format:pa};E.map=new o(g.x,g.y,_),A.updateProjectionMatrix()}E.isSpotLightShadow&&E.update(M),E&&E.isRectAreaLightShadow&&E.update(M);var L=E.map,D=E.matrix;b.setFromMatrixPosition(M.matrixWorld),A.position.copy(b),e.setRenderTarget(L),e.clear();for(var C=0;C<i;C++){if(a){y.copy(A.position),y.add(k[C]),A.up.copy(S[C]),A.lookAt(y);var I=N[C];f.viewport(I)}else y.setFromMatrixPosition(M.target.matrixWorld),A.lookAt(y);A.updateMatrixWorld(),A.matrixWorldInverse.getInverse(A.matrixWorld),D.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),D.multiply(A.projectionMatrix),D.multiply(A.matrixWorldInverse),p.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),d.setFromMatrix(p),w.length=0,l(t,n,A);for(var O=0,R=w.length;O<R;O++){var j=w[O],P=r.update(j),F=j.material;if(F&&F.isMultiMaterial)for(var z=P.groups,B=F.materials,H=0,V=z.length;H<V;H++){var G=z[H],Y=B[G.materialIndex];if(Y.visible===!0){var Q=s(j,Y,a,b);e.renderBufferDirect(A,null,P,Q,j,G)}}else{var Q=s(j,F,a,b);e.renderBufferDirect(A,null,P,Q,j,null)}}}}else console.warn("THREE.WebGLShadowMap:",M,"has no shadow.")}var W=e.getClearColor(),q=e.getClearAlpha();e.setClearColor(W,q),U.needsUpdate=!1}}}function oe(e,t){this.origin=void 0!==e?e:new u,this.direction=void 0!==t?t:new u}function ae(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||ae.DefaultOrder}function se(){this.mask=1}function ue(){function e(){i.setFromEuler(r,!1)}function t(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:uc++}),this.uuid=Za.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ue.DefaultUp.clone();var n=new u,r=new ae,i=new s,o=new u(1,1,1);r.onChange(e),i.onChange(t),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new c},normalMatrix:{value:new te}}),this.matrix=new c,this.matrixWorld=new c,this.matrixAutoUpdate=ue.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new se,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function ce(e,t){this.start=void 0!==e?e:new u,this.end=void 0!==t?t:new u}function le(e,t,n){this.a=void 0!==e?e:new u,this.b=void 0!==t?t:new u,this.c=void 0!==n?n:new u}function he(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new u,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Y,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function fe(e){K.call(this),this.type="MeshBasicMaterial",this.color=new Y(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_o,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function de(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Za.generateUUID(),this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function pe(e,t){de.call(this,new Int8Array(e),t)}function me(e,t){de.call(this,new Uint8Array(e),t)}function ge(e,t){de.call(this,new Uint8ClampedArray(e),t)}function ve(e,t){de.call(this,new Int16Array(e),t)}function ye(e,t){de.call(this,new Uint16Array(e),t)}function be(e,t){de.call(this,new Int32Array(e),t)}function we(e,t){de.call(this,new Uint32Array(e),t)}function Me(e,t){de.call(this,new Float32Array(e),t)}function Ee(e,t){de.call(this,new Float64Array(e),t)}function Ae(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function xe(){Object.defineProperty(this,"id",{value:Te()}),this.uuid=Za.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Te(){return cc++}function _e(){Object.defineProperty(this,"id",{value:Te()}),this.uuid=Za.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function ke(e,t){ue.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new _e,this.material=void 0!==t?t:new fe({color:16777215*Math.random()}),this.drawMode=Ua,this.updateMorphTargets()}function Se(e,t,n,r,i,o){function a(e,t,n){var r=0;return r+=(e+1)*(t+1)*2,r+=(e+1)*(n+1)*2,r+=(n+1)*(t+1)*2}function s(e,t,n){var r=0;return r+=e*t*2,r+=e*n*2,r+=n*t*2,6*r}function c(e,t,n,r,i,o,a,s,c,h,f){for(var E=o/c,A=a/h,x=o/2,T=a/2,_=s/2,k=c+1,S=h+1,N=0,L=0,D=new u,C=0;C<S;C++)for(var I=C*A-T,O=0;O<k;O++){var R=O*E-x;D[e]=R*r,D[t]=I*i,D[n]=_,p[v]=D.x,p[v+1]=D.y,p[v+2]=D.z,D[e]=0,D[t]=0,D[n]=s>0?1:-1,m[v]=D.x,m[v+1]=D.y,m[v+2]=D.z,g[y]=O/c,g[y+1]=1-C/h,v+=3,y+=2,N+=1}for(C=0;C<h;C++)for(O=0;O<c;O++){var j=w+O+k*C,P=w+O+k*(C+1),U=w+(O+1)+k*(C+1),F=w+(O+1)+k*C;d[b]=j,d[b+1]=P,d[b+2]=F,d[b+3]=P,d[b+4]=U,d[b+5]=F,b+=6,L+=6}l.addGroup(M,L,f),M+=L,w+=N}_e.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var l=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var h=a(r,i,o),f=s(r,i,o),d=new(f>65535?Uint32Array:Uint16Array)(f),p=new Float32Array(3*h),m=new Float32Array(3*h),g=new Float32Array(2*h),v=0,y=0,b=0,w=0,M=0;c("z","y","x",-1,-1,n,t,e,o,i,0),c("z","y","x",1,-1,n,t,-e,o,i,1),c("x","z","y",1,1,e,n,t,r,o,2),c("x","z","y",1,-1,e,n,-t,r,o,3),c("x","y","z",1,-1,e,t,n,r,i,4),c("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(new de(d,1)),this.addAttribute("position",new de(p,3)),this.addAttribute("normal",new de(m,3)),this.addAttribute("uv",new de(g,2))}function Ne(e,t,n,r){_e.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};for(var i=e/2,o=t/2,a=Math.floor(n)||1,s=Math.floor(r)||1,u=a+1,c=s+1,l=e/a,h=t/s,f=new Float32Array(u*c*3),d=new Float32Array(u*c*3),p=new Float32Array(u*c*2),m=0,g=0,v=0;v<c;v++)for(var y=v*h-o,b=0;b<u;b++){var w=b*l-i;f[m]=w,f[m+1]=-y,d[m+2]=1,p[g]=b/a,p[g+1]=1-v/s,m+=3,g+=2}m=0;for(var M=new(f.length/3>65535?Uint32Array:Uint16Array)(a*s*6),v=0;v<s;v++)for(var b=0;b<a;b++){var E=b+u*v,A=b+u*(v+1),x=b+1+u*(v+1),T=b+1+u*v;M[m]=E,M[m+1]=A,M[m+2]=T,M[m+3]=A,M[m+4]=x,M[m+5]=T,m+=6}this.setIndex(new de(M,1)),this.addAttribute("position",new de(f,3)),this.addAttribute("normal",new de(d,3)),this.addAttribute("uv",new de(p,2))}function Le(){ue.call(this),this.type="Camera",this.matrixWorldInverse=new c,this.projectionMatrix=new c}function De(e,t,n,r){Le.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Ce(e,t,n,r,i,o){Le.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Ie(e,t,n){function r(e){s=e}function i(n){n.array instanceof Uint32Array&&t.get("OES_element_index_uint")?(u=e.UNSIGNED_INT,c=4):n.array instanceof Uint16Array?(u=e.UNSIGNED_SHORT,c=2):(u=e.UNSIGNED_BYTE,c=1)}function o(t,r){e.drawElements(s,r,u,t*c),n.calls++,n.vertices+=r,s===e.TRIANGLES&&(n.faces+=r/3)}function a(r,i,o){var a=t.get("ANGLE_instanced_arrays");return null===a?void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(a.drawElementsInstancedANGLE(s,o,u,i*c,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,void(s===e.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)))}var s,u,c;return{setMode:r,setIndex:i,render:o,renderInstances:a}}function Oe(e,t,n){function r(e){
a=e}function i(t,r){e.drawArrays(a,t,r),n.calls++,n.vertices+=r,a===e.TRIANGLES&&(n.faces+=r/3)}function o(r){var i=t.get("ANGLE_instanced_arrays");if(null===i)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var o=r.attributes.position,s=0;o.isInterleavedBufferAttribute?(s=o.data.count,i.drawArraysInstancedANGLE(a,0,s,r.maxInstancedCount)):(s=o.count,i.drawArraysInstancedANGLE(a,0,s,r.maxInstancedCount)),n.calls++,n.vertices+=s*r.maxInstancedCount,a===e.TRIANGLES&&(n.faces+=r.maxInstancedCount*s/3)}var a;return{setMode:r,render:i,renderInstances:o}}function Re(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new u,color:new Y,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"SpotLight":r={position:new u,direction:new u,color:new Y,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"PointLight":r={position:new u,color:new Y,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"HemisphereLight":r={direction:new u,skyColor:new Y,groundColor:new Y};break;case"RectAreaLight":r={color:new Y,position:new u,halfWidth:new u,halfHeight:new u}}return e[t.id]=r,r}}}function je(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function Pe(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),je(n)),r}function Ue(e){switch(e){case Ba:return["Linear","( value )"];case Ha:return["sRGB","( value )"];case Ga:return["RGBE","( value )"];case Qa:return["RGBM","( value, 7.0 )"];case Wa:return["RGBM","( value, 16.0 )"];case qa:return["RGBD","( value, 256.0 )"];case Va:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Fe(e,t){var n=Ue(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ze(e,t){var n=Ue(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Be(e,t){var n;switch(t){case Lo:n="Linear";break;case Do:n="Reinhard";break;case Co:n="Uncharted2";break;case Io:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function He(e,t,n){e=e||{};var r=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return r.filter(Ye).join("\n")}function Ve(e){var t=[];for(var n in e){var r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join("\n")}function Ge(e,t,n){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=e.getActiveAttrib(t,o),s=a.name;r[s]=e.getAttribLocation(t,s)}return r}function Ye(e){return""!==e}function Qe(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function We(e){function t(e,t){var n=rc[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return We(n)}var n=/#include +<([\w\d.]+)>/g;return e.replace(n,t)}function qe(e){function t(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return e.replace(n,t)}function Xe(e,t,n,r){var i=e.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,u=n.__webglShader.fragmentShader,c="SHADOWMAP_TYPE_BASIC";r.shadowMapType===Ui?c="SHADOWMAP_TYPE_PCF":r.shadowMapType===Fi&&(c="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case Ro:case jo:l="ENVMAP_TYPE_CUBE";break;case zo:case Bo:l="ENVMAP_TYPE_CUBE_UV";break;case Po:case Uo:l="ENVMAP_TYPE_EQUIREC";break;case Fo:l="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case jo:case Uo:h="ENVMAP_MODE_REFRACTION"}switch(n.combine){case _o:f="ENVMAP_BLENDING_MULTIPLY";break;case ko:f="ENVMAP_BLENDING_MIX";break;case So:f="ENVMAP_BLENDING_ADD"}}var d,p,m=e.gammaFactor>0?e.gammaFactor:1,g=He(o,r,e.extensions),v=Ve(a),y=i.createProgram();n.isRawShaderMaterial?(d=[v,"\n"].filter(Ye).join("\n"),p=[g,v,"\n"].filter(Ye).join("\n")):(d=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+r.maxBones,r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ye).join("\n"),p=[g,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.envMap?"#define "+h:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&e.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==No?"#define TONE_MAPPING":"",r.toneMapping!==No?rc.tonemapping_pars_fragment:"",r.toneMapping!==No?Be("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?rc.encodings_pars_fragment:"",r.mapEncoding?Fe("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Fe("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Fe("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?ze("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ye).join("\n")),s=We(s,r),s=Qe(s,r),u=We(u,r),u=Qe(u,r),n.isShaderMaterial||(s=qe(s),u=qe(u));var b=d+s,w=p+u,M=Pe(i,i.VERTEX_SHADER,b),E=Pe(i,i.FRAGMENT_SHADER,w);i.attachShader(y,M),i.attachShader(y,E),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):r.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);var A=i.getProgramInfoLog(y),x=i.getShaderInfoLog(M),T=i.getShaderInfoLog(E),_=!0,k=!0;i.getProgramParameter(y,i.LINK_STATUS)===!1?(_=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(y,i.VALIDATE_STATUS),"gl.getProgramInfoLog",A,x,T)):""!==A?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):""!==x&&""!==T||(k=!1),k&&(this.diagnostics={runnable:_,material:n,programLog:A,vertexShader:{log:x,prefix:d},fragmentShader:{log:T,prefix:p}}),i.deleteShader(M),i.deleteShader(E);var S;this.getUniforms=function(){return void 0===S&&(S=new G(i,y,e)),S};var N;return this.getAttributes=function(){return void 0===N&&(N=Ge(i,y)),N},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=lc++,this.code=t,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=E,this}function Ke(e,t){function n(e){if(t.floatVertexTextures&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var n=t.maxVertexUniforms,r=Math.floor((n-20)/4),i=r;return void 0!==e&&e&&e.isSkinnedMesh&&(i=Math.min(e.skeleton.bones.length,i),i<e.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)")),i}function r(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=Ba,n===Ba&&t&&(n=Va),n}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];this.getParameters=function(i,a,s,u,c,l){var h=o[i.type],f=n(l),d=e.getPrecision();null!==i.precision&&(d=t.getMaxPrecision(i.precision),d!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead."));var p=e.getCurrentRenderTarget(),m={shaderID:h,precision:d,supportsVertexTextures:t.vertexTextures,outputEncoding:r(p?p.texture:null,e.gammaOutput),map:!!i.map,mapEncoding:r(i.map,e.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,e.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===zo||i.envMap.mapping===Bo),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,e.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===Vi,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:i.skinning,maxBones:f,useVertexTexture:t.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:u,numClipIntersection:c,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&a.shadows.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===Hi,flipSided:i.side===Bi,depthPacking:void 0!==i.depthPacking&&i.depthPacking};return m},this.getProgramCode=function(e,t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);for(var i=0;i<a.length;i++)n.push(t[a[i]]);return n.join()},this.acquireProgram=function(t,n,r){for(var o,a=0,s=i.length;a<s;a++){var u=i[a];if(u.code===r){o=u,++o.usedTimes;break}}return void 0===o&&(o=new Xe(e,r,t,n),i.push(o)),o},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},this.programs=i}function Ze(e,t,n){function r(e){var i=e.target,s=u[i.id];null!==s.index&&o(s.index),a(s.attributes),i.removeEventListener("dispose",r),delete u[i.id];var c=t.get(i);c.wireframe&&o(c.wireframe),t.delete(i);var l=t.get(s);l.wireframe&&o(l.wireframe),t.delete(s),n.memory.geometries--}function i(e){return e.isInterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function o(t){var n=i(t);void 0!==n&&(e.deleteBuffer(n),s(t))}function a(e){for(var t in e)o(e[t])}function s(e){e.isInterleavedBufferAttribute?t.delete(e.data):t.delete(e)}var u={};return{get:function(e){var t=e.geometry;if(void 0!==u[t.id])return u[t.id];t.addEventListener("dispose",r);var i;return t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new _e).setFromObject(e)),i=t._bufferGeometry),u[t.id]=i,n.memory.geometries++,i}}}function Je(e,t,n){function r(t){var n=l.get(t);t.geometry.isGeometry&&n.updateFromObject(t);var r=n.index,o=n.attributes;null!==r&&i(r,e.ELEMENT_ARRAY_BUFFER);for(var a in o)i(o[a],e.ARRAY_BUFFER);var s=n.morphAttributes;for(var a in s)for(var u=s[a],c=0,h=u.length;c<h;c++)i(u[c],e.ARRAY_BUFFER);return n}function i(e,n){var r=e.isInterleavedBufferAttribute?e.data:e,i=t.get(r);void 0===i.__webglBuffer?o(i,r,n):i.version!==r.version&&a(i,r,n)}function o(t,n,r){t.__webglBuffer=e.createBuffer(),e.bindBuffer(r,t.__webglBuffer);var i=n.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bufferData(r,n.array,i);var o=e.FLOAT,a=n.array;a instanceof Float32Array?o=e.FLOAT:a instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):a instanceof Uint16Array?o=e.UNSIGNED_SHORT:a instanceof Int16Array?o=e.SHORT:a instanceof Uint32Array?o=e.UNSIGNED_INT:a instanceof Int32Array?o=e.INT:a instanceof Int8Array?o=e.BYTE:a instanceof Uint8Array&&(o=e.UNSIGNED_BYTE),t.bytesPerElement=a.BYTES_PER_ELEMENT,t.type=o,t.version=n.version,n.onUploadCallback()}function a(t,n,r){e.bindBuffer(r,t.__webglBuffer),n.dynamic===!1?e.bufferData(r,n.array,e.STATIC_DRAW):n.updateRange.count===-1?e.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),t.version=n.version}function s(e){return e.isInterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function u(e){return e.isInterleavedBufferAttribute?t.get(e.data):t.get(e)}function c(n){var r=t.get(n);if(void 0!==r.wireframe)return r.wireframe;var o=[],a=n.index,s=n.attributes,u=s.position;if(null!==a)for(var c=a.array,l=0,h=c.length;l<h;l+=3){var f=c[l+0],d=c[l+1],p=c[l+2];o.push(f,d,d,p,p,f)}else for(var c=s.position.array,l=0,h=c.length/3-1;l<h;l+=3){var f=l+0,d=l+1,p=l+2;o.push(f,d,d,p,p,f)}var m=u.count>65535?Uint32Array:Uint16Array,g=new de(new m(o),1);return i(g,e.ELEMENT_ARRAY_BUFFER),r.wireframe=g,g}var l=new Ze(e,t,n);return{getAttributeBuffer:s,getAttributeProperties:u,getWireframeAttribute:c,update:r}}function $e(e,t,n,r,i,o,a){function s(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n);var i=r.getContext("2d");return i.drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e),r}return e}function u(e){return Za.isPowerOfTwo(e.width)&&Za.isPowerOfTwo(e.height)}function c(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=Za.nearestPowerOfTwo(e.width),t.height=Za.nearestPowerOfTwo(e.height);var n=t.getContext("2d");return n.drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function l(e){return e.wrapS!==Go||e.wrapT!==Go||e.minFilter!==Wo&&e.minFilter!==Ko}function h(t){return t===Wo||t===qo||t===Xo?e.NEAREST:e.LINEAR}function f(e){var t=e.target;t.removeEventListener("dispose",f),p(t),k.textures--}function d(e){var t=e.target;t.removeEventListener("dispose",d),m(t),k.textures--}function p(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.delete(t)}function m(t){var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(t.texture),r.delete(t)}}function g(t,i){var o=r.get(t);if(t.version>0&&o.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(a.complete!==!1)return void w(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function v(t,a){var c=r.get(t);if(6===t.image.length)if(t.version>0&&c.__version!==t.version){c.__image__webglTextureCube||(t.addEventListener("dispose",f),c.__image__webglTextureCube=e.createTexture(),k.textures++),n.activeTexture(e.TEXTURE0+a),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var l=t&&t.isCompressedTexture,h=t.image[0]&&t.image[0].isDataTexture,d=[],p=0;p<6;p++)l||h?d[p]=h?t.image[p].image:t.image[p]:d[p]=s(t.image[p],i.maxCubemapSize);var m=d[0],g=u(m),v=o(t.format),y=o(t.type);b(e.TEXTURE_CUBE_MAP,t,g);for(var p=0;p<6;p++)if(l)for(var w,M=d[p].mipmaps,E=0,A=M.length;E<A;E++)w=M[E],t.format!==pa&&t.format!==da?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+p,E,v,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+p,E,v,w.width,w.height,0,v,y,w.data);else h?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,v,d[p].width,d[p].height,0,v,y,d[p].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,v,v,y,d[p]);t.generateMipmaps&&g&&e.generateMipmap(e.TEXTURE_CUBE_MAP),c.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+a),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}function y(t,i){n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)}function b(n,a,s){var u;if(s?(e.texParameteri(n,e.TEXTURE_WRAP_S,o(a.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,o(a.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,o(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,o(a.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a.wrapS===Go&&a.wrapT===Go||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),e.texParameteri(n,e.TEXTURE_MAG_FILTER,h(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,h(a.minFilter)),a.minFilter!==Wo&&a.minFilter!==Ko&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=t.get("EXT_texture_filter_anisotropic")){if(a.type===aa&&null===t.get("OES_texture_float_linear"))return;if(a.type===sa&&null===t.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function w(t,r,a){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",f),t.__webglTexture=e.createTexture(),k.textures++),n.activeTexture(e.TEXTURE0+a),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var h=s(r.image,i.maxTextureSize);l(r)&&u(h)===!1&&(h=c(h));var d=u(h),p=o(r.format),m=o(r.type);b(e.TEXTURE_2D,r,d);var g,v=r.mipmaps;if(r.isDepthTexture){var y=e.DEPTH_COMPONENT;if(r.type===aa){if(!S)throw new Error("Float Depth Texture only supported in WebGL2.0");y=e.DEPTH_COMPONENT32F}else S&&(y=e.DEPTH_COMPONENT16);r.format===ya&&y===e.DEPTH_COMPONENT&&r.type!==ra&&r.type!==oa&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=ra,m=o(r.type)),r.format===ba&&(y=e.DEPTH_STENCIL,r.type!==ha&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=ha,m=o(r.type))),n.texImage2D(e.TEXTURE_2D,0,y,h.width,h.height,0,p,m,null)}else if(r.isDataTexture)if(v.length>0&&d){for(var w=0,M=v.length;w<M;w++)g=v[w],n.texImage2D(e.TEXTURE_2D,w,p,g.width,g.height,0,p,m,g.data);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,p,h.width,h.height,0,p,m,h.data);else if(r.isCompressedTexture)for(var w=0,M=v.length;w<M;w++)g=v[w],r.format!==pa&&r.format!==da?n.getCompressedTextureFormats().indexOf(p)>-1?n.compressedTexImage2D(e.TEXTURE_2D,w,p,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,w,p,g.width,g.height,0,p,m,g.data);else if(v.length>0&&d){for(var w=0,M=v.length;w<M;w++)g=v[w],n.texImage2D(e.TEXTURE_2D,w,p,p,m,g);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,p,p,m,h);r.generateMipmaps&&d&&e.generateMipmap(e.TEXTURE_2D),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function M(t,i,a,s){var u=o(i.texture.format),c=o(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function E(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function A(t,n){var i=n&&n.isWebGLRenderTargetCube;if(i)throw new Error("Depth Texture with cube render targets is not supported!");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var o=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===ya)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(n.depthTexture.format!==ba)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}function x(t){var n=r.get(t),i=t.isWebGLRenderTargetCube===!0;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");A(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),E(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),E(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function T(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",d),o.__webglTexture=e.createTexture(),k.textures++;var a=t.isWebGLRenderTargetCube===!0,s=u(t);if(a){i.__webglFramebuffer=[];for(var c=0;c<6;c++)i.__webglFramebuffer[c]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(a){n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture),b(e.TEXTURE_CUBE_MAP,t.texture,s);for(var c=0;c<6;c++)M(i.__webglFramebuffer[c],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+c);t.texture.generateMipmaps&&s&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,o.__webglTexture),b(e.TEXTURE_2D,t.texture,s),M(i.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),t.texture.generateMipmaps&&s&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&x(t)}function _(t){var i=t.texture;if(i.generateMipmaps&&u(t)&&i.minFilter!==Wo&&i.minFilter!==Ko){var o=t&&t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),e.generateMipmap(o),n.bindTexture(o,null)}}var k=a.memory,S="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;this.setTexture2D=g,this.setTextureCube=v,this.setTextureCubeDynamic=y,this.setupRenderTarget=T,this.updateRenderTargetMipmap=_}function et(){var e={};return{get:function(t){var n=t.uuid,r=e[n];return void 0===r&&(r={},e[n]=r),r},delete:function(t){delete e[t.uuid]},clear:function(){e={}}}}function tt(e,t,n){function r(){var t=!1,n=new i,r=null,o=new i;return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,i,a,s){s===!0&&(t*=a,r*=a,i*=a),n.set(t,r,i,a),o.equals(n)===!1&&(e.clearColor(t,r,i,a),o.copy(n))},reset:function(){t=!1,r=null,o.set(0,0,0,1)}}}function o(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?d(e.DEPTH_TEST):p(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case yo:e.depthFunc(e.NEVER);break;case bo:e.depthFunc(e.ALWAYS);break;case wo:e.depthFunc(e.LESS);break;case Mo:e.depthFunc(e.LEQUAL);break;case Eo:e.depthFunc(e.EQUAL);break;case Ao:e.depthFunc(e.GEQUAL);break;case xo:e.depthFunc(e.GREATER);break;case To:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function a(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(t){t?d(e.STENCIL_TEST):p(e.STENCIL_TEST)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&u===r||(e.stencilOp(t,n,r),a=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}}function s(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var a=0;a<r;a++)e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return o}function u(){U.setClear(0,0,0,1),F.setClear(1),z.setClear(0),d(e.DEPTH_TEST),w(Mo),T(!1),_(Ci),d(e.CULL_FACE),d(e.BLEND),g(Xi)}function c(){for(var e=0,t=H.length;e<t;e++)H[e]=0}function l(n){if(H[n]=1,0===V[n]&&(e.enableVertexAttribArray(n),V[n]=1),0!==G[n]){var r=t.get("ANGLE_instanced_arrays");r.vertexAttribDivisorANGLE(n,0),G[n]=0}}function h(t,n,r){H[t]=1,0===V[t]&&(e.enableVertexAttribArray(t),V[t]=1),G[t]!==n&&(r.vertexAttribDivisorANGLE(t,n),G[t]=n)}function f(){for(var t=0,n=V.length;t!==n;++t)V[t]!==H[t]&&(e.disableVertexAttribArray(t),V[t]=0)}function d(t){Y[t]!==!0&&(e.enable(t),Y[t]=!0)}function p(t){Y[t]!==!1&&(e.disable(t),Y[t]=!1)}function m(){if(null===Q&&(Q=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)Q.push(n[r]);return Q}function g(t,r,i,o,a,s,u,c){t!==qi?d(e.BLEND):p(e.BLEND),t===W&&c===ee||(t===Ki?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),
e.blendFunc(e.SRC_ALPHA,e.ONE)):t===Zi?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===Ji?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),W=t,ee=c),t===$i?(a=a||r,s=s||i,u=u||o,r===q&&a===Z||(e.blendEquationSeparate(n(r),n(a)),q=r,Z=a),i===X&&o===K&&s===J&&u===$||(e.blendFuncSeparate(n(i),n(o),n(s),n(u)),X=i,K=o,J=s,$=u)):(q=null,X=null,K=null,Z=null,J=null,$=null)}function v(e){U.setMask(e)}function y(e){F.setTest(e)}function b(e){F.setMask(e)}function w(e){F.setFunc(e)}function M(e){z.setTest(e)}function E(e){z.setMask(e)}function A(e,t,n){z.setFunc(e,t,n)}function x(e,t,n){z.setOp(e,t,n)}function T(t){te!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),te=t)}function _(t){t!==Di?(d(e.CULL_FACE),t!==ne&&(t===Ci?e.cullFace(e.BACK):t===Ii?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):p(e.CULL_FACE),ne=t}function k(t){t!==re&&(ce&&e.lineWidth(t),re=t)}function S(t,n,r){t?(d(e.POLYGON_OFFSET_FILL),ie===n&&oe===r||(e.polygonOffset(n,r),ie=n,oe=r)):p(e.POLYGON_OFFSET_FILL)}function N(){return ae}function L(t){ae=t,t?d(e.SCISSOR_TEST):p(e.SCISSOR_TEST)}function D(t){void 0===t&&(t=e.TEXTURE0+se-1),le!==t&&(e.activeTexture(t),le=t)}function C(t,n){null===le&&D();var r=he[le];void 0===r&&(r={type:void 0,texture:void 0},he[le]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||pe[t]),r.type=t,r.texture=n)}function I(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error(e)}}function O(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error(e)}}function R(t){fe.equals(t)===!1&&(e.scissor(t.x,t.y,t.z,t.w),fe.copy(t))}function j(t){de.equals(t)===!1&&(e.viewport(t.x,t.y,t.z,t.w),de.copy(t))}function P(){for(var t=0;t<V.length;t++)1===V[t]&&(e.disableVertexAttribArray(t),V[t]=0);Y={},Q=null,le=null,he={},W=null,te=null,ne=null,U.reset(),F.reset(),z.reset()}var U=new r,F=new o,z=new a,B=e.getParameter(e.MAX_VERTEX_ATTRIBS),H=new Uint8Array(B),V=new Uint8Array(B),G=new Uint8Array(B),Y={},Q=null,W=null,q=null,X=null,K=null,Z=null,J=null,$=null,ee=!1,te=null,ne=null,re=null,ie=null,oe=null,ae=null,se=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),ue=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),ce=parseFloat(ue)>=1,le=null,he={},fe=new i,de=new i,pe={};return pe[e.TEXTURE_2D]=s(e.TEXTURE_2D,e.TEXTURE_2D,1),pe[e.TEXTURE_CUBE_MAP]=s(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:U,depth:F,stencil:z},init:u,initAttributes:c,enableAttribute:l,enableAttributeAndDivisor:h,disableUnusedAttributes:f,enable:d,disable:p,getCompressedTextureFormats:m,setBlending:g,setColorWrite:v,setDepthTest:y,setDepthWrite:b,setDepthFunc:w,setStencilTest:M,setStencilWrite:E,setStencilFunc:A,setStencilOp:x,setFlipSided:T,setCullFace:_,setLineWidth:k,setPolygonOffset:S,getScissorTest:N,setScissorTest:L,activeTexture:D,bindTexture:C,compressedTexImage2D:I,texImage2D:O,scissor:R,viewport:j,reset:P}}function nt(e,t,n){function r(){if(void 0!==o)return o;var n=t.get("EXT_texture_filter_anisotropic");return o=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=n.logarithmicDepthBuffer===!0&&!!t.get("EXT_frag_depth"),c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),f=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=l>0,y=!!t.get("OES_texture_float"),b=v&&y;return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:b}}function rt(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=e.getExtension("WEBGL_compressed_texture_etc1");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function it(){function e(){c.value!==r&&(c.value=r,c.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function t(e,t,r,i){var o=null!==e?e.length:0,a=null;if(0!==o){if(a=c.value,i!==!0||null===a){var l=r+4*o,h=t.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<l)&&(a=new Float32Array(l));for(var f=0,d=r;f!==o;++f,d+=4)s.copy(e[f]).applyMatrix4(h,u),s.normal.toArray(a,d),a[d+3]=s.constant}c.value=a,c.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new ne,u=new te,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,n,a){var s=0!==e.length||n||0!==i||o;return o=n,r=t(e,a,0),i=e.length,s},this.beginShadows=function(){a=!0,t(null)},this.endShadows=function(){a=!1,e()},this.setState=function(n,s,u,l,h,f){if(!o||null===n||0===n.length||a&&!u)a?t(null):e();else{var d=a?0:i,p=4*d,m=h.clippingState||null;c.value=m,m=t(n,l,p,f);for(var g=0;g!==p;++g)m[g]=r[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function ot(e){function t(){return null===de?Le:1}function n(){ut.init(),ut.scissor(ye.copy(je).multiplyScalar(Le)),ut.viewport(we.copy(Ue).multiplyScalar(Le)),ut.buffers.color.setClear(Ee.r,Ee.g,Ee.b,Ae,K)}function r(){he=null,ve=null,ge="",me=-1,ut.reset()}function o(e){e.preventDefault(),r(),n(),ct.clear()}function a(e){var t=e.target;t.removeEventListener("dispose",a),s(t)}function s(e){l(e),ct.delete(e)}function l(e){var t=ct.get(e).program;e.program=void 0,void 0!==t&&ft.releaseProgram(t)}function h(e,t,n,r){var i;if(n&&n.isInstancedBufferGeometry&&(i=at.get("ANGLE_instanced_arrays"),null===i))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),ut.initAttributes();var o=n.attributes,a=t.getAttributes(),s=e.defaultAttributeValues;for(var u in a){var c=a[u];if(c>=0){var l=o[u];if(void 0!==l){var h=l.normalized,f=l.itemSize,d=ht.getAttributeProperties(l),p=d.__webglBuffer,m=d.type,g=d.bytesPerElement;if(l.isInterleavedBufferAttribute){var v=l.data,y=v.stride,b=l.offset;v&&v.isInstancedInterleavedBuffer?(ut.enableAttributeAndDivisor(c,v.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=v.meshPerAttribute*v.count)):ut.enableAttribute(c),Ze.bindBuffer(Ze.ARRAY_BUFFER,p),Ze.vertexAttribPointer(c,f,m,h,y*g,(r*y+b)*g)}else l.isInstancedBufferAttribute?(ut.enableAttributeAndDivisor(c,l.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):ut.enableAttribute(c),Ze.bindBuffer(Ze.ARRAY_BUFFER,p),Ze.vertexAttribPointer(c,f,m,h,0,r*f*g)}else if(void 0!==s){var w=s[u];if(void 0!==w)switch(w.length){case 2:Ze.vertexAttrib2fv(c,w);break;case 3:Ze.vertexAttrib3fv(c,w);break;case 4:Ze.vertexAttrib4fv(c,w);break;default:Ze.vertexAttrib1fv(c,w)}}}}ut.disableUnusedAttributes()}function f(e,t){return Math.abs(t[0])-Math.abs(e[0])}function d(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.material.program&&t.material.program&&e.material.program!==t.material.program?e.material.program.id-t.material.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function p(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function m(e,t,n,r,i){var o,a;n.transparent?(o=oe,a=++ae):(o=te,a=++ne);var s=o[a];void 0!==s?(s.id=e.id,s.object=e,s.geometry=t,s.material=n,s.z=Ye.z,s.group=i):(s={id:e.id,object:e,geometry:t,material:n,z:Ye.z,group:i},o.push(s))}function g(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Ve.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),y(Ve)}function v(e){return Ve.center.set(0,0,0),Ve.radius=.7071067811865476,Ve.applyMatrix4(e.matrixWorld),y(Ve)}function y(e){if(!Fe.intersectsSphere(e))return!1;var t=ze.numPlanes;if(0===t)return!0;var n=le.clippingPlanes,r=e.center,i=-e.radius,o=0;do if(n[o].distanceToPoint(r)<i)return!1;while(++o!==t);return!0}function b(e,t){if(e.visible!==!1){var n=0!==(e.layers.mask&t.layers.mask);if(n)if(e.isLight)$.push(e);else if(e.isSprite)e.frustumCulled!==!1&&v(e)!==!0||ue.push(e);else if(e.isLensFlare)ce.push(e);else if(e.isImmediateRenderObject)le.sortObjects===!0&&(Ye.setFromMatrixPosition(e.matrixWorld),Ye.applyProjection(Ge)),m(e,null,e.material,Ye.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),e.frustumCulled===!1||g(e)===!0)){var r=e.material;if(r.visible===!0){le.sortObjects===!0&&(Ye.setFromMatrixPosition(e.matrixWorld),Ye.applyProjection(Ge));var i=ht.update(e);if(r.isMultiMaterial)for(var o=i.groups,a=r.materials,s=0,u=o.length;s<u;s++){var c=o[s],l=a[c.materialIndex];l.visible===!0&&m(e,i,l,Ye.z,c)}else m(e,i,r,Ye.z,null)}}for(var h=e.children,s=0,u=h.length;s<u;s++)b(h[s],t)}}function w(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(le,t,n,u,c,l),s.isImmediateRenderObject){E(c);var h=A(n,t.fog,c,s);ge="",s.render(function(e){le.renderBufferImmediate(e,h,c)})}else le.renderBufferDirect(n,t.fog,u,c,s,l);s.onAfterRender(le,t,n,u,c,l)}}function M(e,t,n){var r=ct.get(e),i=ft.getParameters(e,qe,t,ze.numPlanes,ze.numIntersection,n),o=ft.getProgramCode(e,i),s=r.program,u=!0;if(void 0===s)e.addEventListener("dispose",a);else if(s.code!==o)l(e);else{if(void 0!==i.shaderID)return;u=!1}if(u){if(i.shaderID){var c=ac[i.shaderID];r.__webglShader={name:e.type,uniforms:is.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else r.__webglShader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.__webglShader=r.__webglShader,s=ft.acquireProgram(e,i,o),r.program=s,e.program=s}var h=s.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var f=0;f<le.maxMorphTargets;f++)h["morphTarget"+f]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var f=0;f<le.maxMorphNormals;f++)h["morphNormal"+f]>=0&&e.numSupportedMorphNormals++}var d=r.__webglShader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&e.clipping!==!0||(r.numClippingPlanes=ze.numPlanes,r.numIntersection=ze.numIntersection,d.clippingPlanes=ze.uniform),r.fog=t,r.lightsHash=qe.hash,e.lights&&(d.ambientLightColor.value=qe.ambient,d.directionalLights.value=qe.directional,d.spotLights.value=qe.spot,d.rectAreaLights.value=qe.rectArea,d.pointLights.value=qe.point,d.hemisphereLights.value=qe.hemi,d.directionalShadowMap.value=qe.directionalShadowMap,d.directionalShadowMatrix.value=qe.directionalShadowMatrix,d.spotShadowMap.value=qe.spotShadowMap,d.spotShadowMatrix.value=qe.spotShadowMatrix,d.pointShadowMap.value=qe.pointShadowMap,d.pointShadowMatrix.value=qe.pointShadowMatrix);var p=r.program.getUniforms(),m=G.seqWithValue(p.seq,d);r.uniformsList=m}function E(e){e.side===Hi?ut.disable(Ze.CULL_FACE):ut.enable(Ze.CULL_FACE),ut.setFlipSided(e.side===Bi),e.transparent===!0?ut.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):ut.setBlending(qi),ut.setDepthFunc(e.depthFunc),ut.setDepthTest(e.depthTest),ut.setDepthWrite(e.depthWrite),ut.setColorWrite(e.colorWrite),ut.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function A(e,t,n,r){Me=0;var i=ct.get(n);if(Be&&(He||e!==ve)){var o=e===ve&&n.id===me;ze.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,o)}n.needsUpdate===!1&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:n.lights&&i.lightsHash!==qe.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===ze.numPlanes&&i.numIntersection===ze.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(M(n,t,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,c=i.program,l=c.getUniforms(),h=i.__webglShader.uniforms;if(c.id!==he&&(Ze.useProgram(c.program),he=c.id,a=!0,s=!0,u=!0),n.id!==me&&(me=n.id,s=!0),a||e!==ve){if(l.set(Ze,e,"projectionMatrix"),st.logarithmicDepthBuffer&&l.setValue(Ze,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),e!==ve&&(ve=e,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=l.map.cameraPosition;void 0!==f&&f.setValue(Ze,Ye.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(Ze,"viewMatrix",e.matrixWorldInverse),l.set(Ze,le,"toneMappingExposure"),l.set(Ze,le,"toneMappingWhitePoint")}if(n.skinning){l.setOptional(Ze,r,"bindMatrix"),l.setOptional(Ze,r,"bindMatrixInverse");var d=r.skeleton;d&&(st.floatVertexTextures&&d.useVertexTexture?(l.set(Ze,d,"boneTexture"),l.set(Ze,d,"boneTextureWidth"),l.set(Ze,d,"boneTextureHeight")):l.setOptional(Ze,d,"boneMatrices"))}return s&&(n.lights&&R(h,u),t&&n.fog&&S(h,t),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&x(h,n),n.isLineBasicMaterial?T(h,n):n.isLineDashedMaterial?(T(h,n),_(h,n)):n.isPointsMaterial?k(h,n):n.isMeshLambertMaterial?N(h,n):n.isMeshToonMaterial?D(h,n):n.isMeshPhongMaterial?L(h,n):n.isMeshPhysicalMaterial?I(h,n):n.isMeshStandardMaterial?C(h,n):n.isMeshDepthMaterial?n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&O(h,n),void 0!==h.ltcMat&&(h.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),G.upload(Ze,i.uniformsList,h,le)),l.set(Ze,r,"modelViewMatrix"),l.set(Ze,r,"normalMatrix"),l.setValue(Ze,"modelMatrix",r.matrixWorld),c}function x(e,t){e.opacity.value=t.opacity,e.diffuse.value=t.color,t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),e.map.value=t.map,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;e.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio}function T(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function _(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function k(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*Le,e.scale.value=.5*Te,e.map.value=t.map,null!==t.map){var n=t.map.offset,r=t.map.repeat;e.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function S(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function N(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function L(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function D(e,t){L(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function C(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function I(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,C(e,t)}function O(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function R(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function j(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];i.castShadow&&(qe.shadows[t++]=i)}qe.shadows.length=t}function P(e,t){var n,r,i,o,a,s,u,l=0,h=0,f=0,d=t.matrixWorldInverse,p=0,m=0,g=0,v=0,y=0;for(n=0,r=e.length;n<r;n++)if(i=e[n],o=i.color,a=i.intensity,s=i.distance,u=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)l+=o.r*a,h+=o.g*a,f+=o.b*a;else if(i.isDirectionalLight){var b=dt.get(i);b.color.copy(i.color).multiplyScalar(i.intensity),b.direction.setFromMatrixPosition(i.matrixWorld),Ye.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(Ye),b.direction.transformDirection(d),b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),qe.directionalShadowMap[p]=u,qe.directionalShadowMatrix[p]=i.shadow.matrix,qe.directional[p++]=b}else if(i.isSpotLight){var b=dt.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(o).multiplyScalar(a),b.distance=s,b.direction.setFromMatrixPosition(i.matrixWorld),Ye.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(Ye),b.direction.transformDirection(d),b.coneCos=Math.cos(i.angle),b.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),qe.spotShadowMap[g]=u,qe.spotShadowMatrix[g]=i.shadow.matrix,qe.spot[g++]=b}else if(i.isRectAreaLight){var b=dt.get(i);b.color.copy(o).multiplyScalar(a/(i.width*i.height)),b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),We.identity(),Qe.copy(i.matrixWorld),Qe.premultiply(d),We.extractRotation(Qe),b.halfWidth.set(.5*i.width,0,0),b.halfHeight.set(0,.5*i.height,0),b.halfWidth.applyMatrix4(We),b.halfHeight.applyMatrix4(We),qe.rectArea[v++]=b}else if(i.isPointLight){var b=dt.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(i.color).multiplyScalar(i.intensity),b.distance=i.distance,b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),qe.pointShadowMap[m]=u,void 0===qe.pointShadowMatrix[m]&&(qe.pointShadowMatrix[m]=new c),Ye.setFromMatrixPosition(i.matrixWorld).negate(),qe.pointShadowMatrix[m].identity().setPosition(Ye),qe.point[m++]=b}else if(i.isHemisphereLight){var b=dt.get(i);b.direction.setFromMatrixPosition(i.matrixWorld),b.direction.transformDirection(d),b.direction.normalize(),b.skyColor.copy(i.color).multiplyScalar(a),b.groundColor.copy(i.groundColor).multiplyScalar(a),qe.hemi[y++]=b}qe.ambient[0]=l,qe.ambient[1]=h,qe.ambient[2]=f,qe.directional.length=p,qe.spot.length=g,qe.rectArea.length=v,qe.point.length=m,qe.hemi.length=y,qe.hash=p+","+m+","+g+","+v+","+y+","+qe.shadows.length}function U(){var e=Me;return e>=st.maxTextures&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+st.maxTextures),Me+=1,e}function F(e){var t;if(e===Vo)return Ze.REPEAT;if(e===Go)return Ze.CLAMP_TO_EDGE;if(e===Yo)return Ze.MIRRORED_REPEAT;if(e===Wo)return Ze.NEAREST;if(e===qo)return Ze.NEAREST_MIPMAP_NEAREST;if(e===Xo)return Ze.NEAREST_MIPMAP_LINEAR;if(e===Ko)return Ze.LINEAR;if(e===Zo)return Ze.LINEAR_MIPMAP_NEAREST;if(e===Jo)return Ze.LINEAR_MIPMAP_LINEAR;if(e===ea)return Ze.UNSIGNED_BYTE;if(e===ua)return Ze.UNSIGNED_SHORT_4_4_4_4;if(e===ca)return Ze.UNSIGNED_SHORT_5_5_5_1;if(e===la)return Ze.UNSIGNED_SHORT_5_6_5;if(e===ta)return Ze.BYTE;if(e===na)return Ze.SHORT;if(e===ra)return Ze.UNSIGNED_SHORT;if(e===ia)return Ze.INT;if(e===oa)return Ze.UNSIGNED_INT;if(e===aa)return Ze.FLOAT;if(e===sa&&(t=at.get("OES_texture_half_float"),null!==t))return t.HALF_FLOAT_OES;if(e===fa)return Ze.ALPHA;if(e===da)return Ze.RGB;if(e===pa)return Ze.RGBA;if(e===ma)return Ze.LUMINANCE;if(e===ga)return Ze.LUMINANCE_ALPHA;if(e===ya)return Ze.DEPTH_COMPONENT;if(e===ba)return Ze.DEPTH_STENCIL;if(e===to)return Ze.FUNC_ADD;if(e===no)return Ze.FUNC_SUBTRACT;if(e===ro)return Ze.FUNC_REVERSE_SUBTRACT;if(e===ao)return Ze.ZERO;if(e===so)return Ze.ONE;if(e===uo)return Ze.SRC_COLOR;if(e===co)return Ze.ONE_MINUS_SRC_COLOR;if(e===lo)return Ze.SRC_ALPHA;if(e===ho)return Ze.ONE_MINUS_SRC_ALPHA;if(e===fo)return Ze.DST_ALPHA;if(e===po)return Ze.ONE_MINUS_DST_ALPHA;if(e===mo)return Ze.DST_COLOR;if(e===go)return Ze.ONE_MINUS_DST_COLOR;if(e===vo)return Ze.SRC_ALPHA_SATURATE;if((e===wa||e===Ma||e===Ea||e===Aa)&&(t=at.get("WEBGL_compressed_texture_s3tc"),null!==t)){if(e===wa)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ma)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ea)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Aa)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===xa||e===Ta||e===_a||e===ka)&&(t=at.get("WEBGL_compressed_texture_pvrtc"),null!==t)){if(e===xa)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Ta)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===_a)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ka)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===Sa&&(t=at.get("WEBGL_compressed_texture_etc1"),null!==t))return t.COMPRESSED_RGB_ETC1_WEBGL;if((e===io||e===oo)&&(t=at.get("EXT_blend_minmax"),null!==t)){if(e===io)return t.MIN_EXT;if(e===oo)return t.MAX_EXT}return e===ha&&(t=at.get("WEBGL_depth_texture"),null!==t)?t.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",Ni),e=e||{};var z=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),B=void 0!==e.context?e.context:null,H=void 0!==e.alpha&&e.alpha,V=void 0===e.depth||e.depth,Q=void 0===e.stencil||e.stencil,W=void 0!==e.antialias&&e.antialias,K=void 0===e.premultipliedAlpha||e.premultipliedAlpha,J=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,$=[],te=[],ne=-1,oe=[],ae=-1,se=new Float32Array(8),ue=[],ce=[];this.domElement=z,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Lo,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var le=this,he=null,de=null,pe=null,me=-1,ge="",ve=null,ye=new i,be=null,we=new i,Me=0,Ee=new Y(0),Ae=0,xe=z.width,Te=z.height,Le=1,je=new i(0,0,xe,Te),Pe=!1,Ue=new i(0,0,xe,Te),Fe=new re,ze=new it,Be=!1,He=!1,Ve=new ee,Ge=new c,Ye=new u,Qe=new c,We=new c,qe={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Xe={calls:0,vertices:0,faces:0,points:0};this.info={render:Xe,memory:{geometries:0,textures:0},programs:null};var Ze;try{var ot={alpha:H,depth:V,stencil:Q,antialias:W,premultipliedAlpha:K,preserveDrawingBuffer:J};if(Ze=B||z.getContext("webgl",ot)||z.getContext("experimental-webgl",ot),null===Ze)throw null!==z.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Ze.getShaderPrecisionFormat&&(Ze.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),z.addEventListener("webglcontextlost",o,!1)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var at=new rt(Ze);at.get("WEBGL_depth_texture"),at.get("OES_texture_float"),at.get("OES_texture_float_linear"),at.get("OES_texture_half_float"),at.get("OES_texture_half_float_linear"),at.get("OES_standard_derivatives"),at.get("ANGLE_instanced_arrays"),at.get("OES_element_index_uint")&&(_e.MaxIndex=4294967296);var st=new nt(Ze,at,e),ut=new tt(Ze,at,F),ct=new et,lt=new $e(Ze,at,ut,ct,st,F,this.info),ht=new Je(Ze,ct,this.info),ft=new Ke(this,st),dt=new Re;this.info.programs=ft.programs;var pt=new Oe(Ze,at,Xe),mt=new Ie(Ze,at,Xe),gt=new Ce(-1,1,1,-1,0,1),vt=new De,yt=new ke(new Ne(2,2),new fe({depthTest:!1,depthWrite:!1,fog:!1})),bt=ac.cube,wt=new ke(new Se(5,5,5),new Z({uniforms:bt.uniforms,vertexShader:bt.vertexShader,fragmentShader:bt.fragmentShader,side:Bi,depthTest:!1,depthWrite:!1,fog:!1}));n(),this.context=Ze,this.capabilities=st,this.extensions=at,this.properties=ct,this.state=ut;var Mt=new ie(this,qe,ht,st);this.shadowMap=Mt;var Et=new X(this,ue),At=new q(this,ce);this.getContext=function(){return Ze},this.getContextAttributes=function(){return Ze.getContextAttributes()},this.forceContextLoss=function(){at.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return st.getMaxAnisotropy()},this.getPrecision=function(){return st.precision},this.getPixelRatio=function(){return Le},this.setPixelRatio=function(e){void 0!==e&&(Le=e,this.setSize(Ue.z,Ue.w,!1))},this.getSize=function(){return{width:xe,height:Te}},this.setSize=function(e,t,n){xe=e,Te=t,z.width=e*Le,z.height=t*Le,n!==!1&&(z.style.width=e+"px",z.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,r){ut.viewport(Ue.set(e,t,n,r))},this.setScissor=function(e,t,n,r){ut.scissor(je.set(e,t,n,r))},this.setScissorTest=function(e){ut.setScissorTest(Pe=e)},this.getClearColor=function(){return Ee},this.setClearColor=function(e,t){Ee.set(e),Ae=void 0!==t?t:1,ut.buffers.color.setClear(Ee.r,Ee.g,Ee.b,Ae,K)},this.getClearAlpha=function(){return Ae},this.setClearAlpha=function(e){Ae=e,ut.buffers.color.setClear(Ee.r,Ee.g,Ee.b,Ae,K)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=Ze.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=Ze.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Ze.STENCIL_BUFFER_BIT),Ze.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.resetGLState=r,this.dispose=function(){oe=[],ae=-1,te=[],ne=-1,z.removeEventListener("webglcontextlost",o,!1)},this.renderBufferImmediate=function(e,t,n){ut.initAttributes();var r=ct.get(e);e.hasPositions&&!r.position&&(r.position=Ze.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=Ze.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=Ze.createBuffer()),e.hasColors&&!r.color&&(r.color=Ze.createBuffer());var i=t.getAttributes();if(e.hasPositions&&(Ze.bindBuffer(Ze.ARRAY_BUFFER,r.position),Ze.bufferData(Ze.ARRAY_BUFFER,e.positionArray,Ze.DYNAMIC_DRAW),ut.enableAttribute(i.position),Ze.vertexAttribPointer(i.position,3,Ze.FLOAT,!1,0,0)),e.hasNormals){if(Ze.bindBuffer(Ze.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===Vi)for(var o=0,a=3*e.count;o<a;o+=9){var s=e.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=c,s[o+2]=l,s[o+3]=u,s[o+4]=c,s[o+5]=l,s[o+6]=u,s[o+7]=c,s[o+8]=l}Ze.bufferData(Ze.ARRAY_BUFFER,e.normalArray,Ze.DYNAMIC_DRAW),ut.enableAttribute(i.normal),Ze.vertexAttribPointer(i.normal,3,Ze.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(Ze.bindBuffer(Ze.ARRAY_BUFFER,r.uv),Ze.bufferData(Ze.ARRAY_BUFFER,e.uvArray,Ze.DYNAMIC_DRAW),ut.enableAttribute(i.uv),Ze.vertexAttribPointer(i.uv,2,Ze.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==Yi&&(Ze.bindBuffer(Ze.ARRAY_BUFFER,r.color),Ze.bufferData(Ze.ARRAY_BUFFER,e.colorArray,Ze.DYNAMIC_DRAW),ut.enableAttribute(i.color),Ze.vertexAttribPointer(i.color,3,Ze.FLOAT,!1,0,0)),ut.disableUnusedAttributes(),Ze.drawArrays(Ze.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,n,r,i,o,a){E(i);var s=A(e,n,i,o),u=!1,c=r.id+"_"+s.id+"_"+i.wireframe;c!==ge&&(ge=c,u=!0);var l=o.morphTargetInfluences;if(void 0!==l){for(var d=[],p=0,m=l.length;p<m;p++){var g=l[p];d.push([g,p])}d.sort(f),d.length>8&&(d.length=8);for(var v=r.morphAttributes,p=0,m=d.length;p<m;p++){var g=d[p];if(se[p]=g[0],0!==g[0]){var y=g[1];i.morphTargets===!0&&v.position&&r.addAttribute("morphTarget"+p,v.position[y]),i.morphNormals===!0&&v.normal&&r.addAttribute("morphNormal"+p,v.normal[y])}else i.morphTargets===!0&&r.removeAttribute("morphTarget"+p),i.morphNormals===!0&&r.removeAttribute("morphNormal"+p)}for(var p=d.length,b=se.length;p<b;p++)se[p]=0;s.getUniforms().setValue(Ze,"morphTargetInfluences",se),u=!0}var y=r.index,w=r.attributes.position,M=1;i.wireframe===!0&&(y=ht.getWireframeAttribute(r),M=2);var x;null!==y?(x=mt,x.setIndex(y)):x=pt,u&&(h(i,s,r),null!==y&&Ze.bindBuffer(Ze.ELEMENT_ARRAY_BUFFER,ht.getAttributeBuffer(y)));var T=0;null!==y?T=y.count:void 0!==w&&(T=w.count);var _=r.drawRange.start*M,k=r.drawRange.count*M,S=null!==a?a.start*M:0,N=null!==a?a.count*M:1/0,L=Math.max(_,S),D=Math.min(T,_+k,S+N)-1,C=Math.max(0,D-L+1);if(0!==C){if(o.isMesh)if(i.wireframe===!0)ut.setLineWidth(i.wireframeLinewidth*t()),x.setMode(Ze.LINES);else switch(o.drawMode){case Ua:x.setMode(Ze.TRIANGLES);break;case Fa:x.setMode(Ze.TRIANGLE_STRIP);break;case za:x.setMode(Ze.TRIANGLE_FAN);
}else if(o.isLine){var I=i.linewidth;void 0===I&&(I=1),ut.setLineWidth(I*t()),o.isLineSegments?x.setMode(Ze.LINES):x.setMode(Ze.LINE_STRIP)}else o.isPoints&&x.setMode(Ze.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&x.renderInstances(r,L,C):x.render(L,C)}},this.render=function(e,t,n,r){if(void 0!==t&&t.isCamera!==!0)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");ge="",me=-1,ve=null,e.autoUpdate===!0&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),Ge.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Fe.setFromMatrix(Ge),$.length=0,ne=-1,ae=-1,ue.length=0,ce.length=0,He=this.localClippingEnabled,Be=ze.init(this.clippingPlanes,He,t),b(e,t),te.length=ne+1,oe.length=ae+1,le.sortObjects===!0&&(te.sort(d),oe.sort(p)),Be&&ze.beginShadows(),j($),Mt.render(e,t),P($,t),Be&&ze.endShadows(),Xe.calls=0,Xe.vertices=0,Xe.faces=0,Xe.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=e.background;if(null===i?ut.buffers.color.setClear(Ee.r,Ee.g,Ee.b,Ae,K):i&&i.isColor&&(ut.buffers.color.setClear(i.r,i.g,i.b,1,K),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(vt.projectionMatrix.copy(t.projectionMatrix),vt.matrixWorld.extractRotation(t.matrixWorld),vt.matrixWorldInverse.getInverse(vt.matrixWorld),wt.material.uniforms.tCube.value=i,wt.modelViewMatrix.multiplyMatrices(vt.matrixWorldInverse,wt.matrixWorld),ht.update(wt),le.renderBufferDirect(vt,null,wt.geometry,wt.material,wt,null)):i&&i.isTexture&&(yt.material.map=i,ht.update(yt),le.renderBufferDirect(gt,null,yt.geometry,yt.material,yt,null)),e.overrideMaterial){var o=e.overrideMaterial;w(te,e,t,o),w(oe,e,t,o)}else ut.setBlending(qi),w(te,e,t),w(oe,e,t);Et.render(e,t),At.render(e,t,we),n&&lt.updateRenderTargetMipmap(n),ut.setDepthTest(!0),ut.setDepthWrite(!0),ut.setColorWrite(!0)},this.setFaceCulling=function(e,t){ut.setCullFace(e),ut.setFlipSided(t===Ri)},this.allocTextureUnit=U,this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),lt.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),lt.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?lt.setTextureCube(t,n):lt.setTextureCubeDynamic(t,n)}}(),this.getCurrentRenderTarget=function(){return de},this.setRenderTarget=function(e){de=e,e&&void 0===ct.get(e).__webglFramebuffer&&lt.setupRenderTarget(e);var t,n=e&&e.isWebGLRenderTargetCube;if(e){var r=ct.get(e);t=n?r.__webglFramebuffer[e.activeCubeFace]:r.__webglFramebuffer,ye.copy(e.scissor),be=e.scissorTest,we.copy(e.viewport)}else t=null,ye.copy(je).multiplyScalar(Le),be=Pe,we.copy(Ue).multiplyScalar(Le);if(pe!==t&&(Ze.bindFramebuffer(Ze.FRAMEBUFFER,t),pe=t),ut.scissor(ye),ut.setScissorTest(be),ut.viewport(we),n){var i=ct.get(e.texture);Ze.framebufferTexture2D(Ze.FRAMEBUFFER,Ze.COLOR_ATTACHMENT0,Ze.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if((e&&e.isWebGLRenderTarget)===!1)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=ct.get(e).__webglFramebuffer;if(a){var s=!1;a!==pe&&(Ze.bindFramebuffer(Ze.FRAMEBUFFER,a),s=!0);try{var u=e.texture,c=u.format,l=u.type;if(c!==pa&&F(c)!==Ze.getParameter(Ze.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===ea||F(l)===Ze.getParameter(Ze.IMPLEMENTATION_COLOR_READ_TYPE)||l===aa&&(at.get("OES_texture_float")||at.get("WEBGL_color_buffer_float"))||l===sa&&at.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ze.checkFramebufferStatus(Ze.FRAMEBUFFER)===Ze.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ze.readPixels(t,n,r,i,F(c),F(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Ze.bindFramebuffer(Ze.FRAMEBUFFER,pe)}}}}function at(e,t){this.name="",this.color=new Y(e),this.density=void 0!==t?t:25e-5}function st(e,t,n){this.name="",this.color=new Y(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function ut(){ue.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function ct(e,t,n,r,i){ue.call(this),this.lensFlares=[],this.positionScreen=new u,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,i)}function lt(e){K.call(this),this.type="SpriteMaterial",this.color=new Y(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function ht(e){ue.call(this),this.type="Sprite",this.material=void 0!==e?e:new lt}function ft(){ue.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function dt(e,t,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new c,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=Za.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new Q(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,pa,aa)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new c)}}function pt(){ue.call(this),this.type="Bone"}function mt(e,t,n){ke.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new c,this.bindMatrixInverse=new c;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new pt,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(var a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],o.parent!==-1&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new dt(r,void 0,n),this.matrixWorld)}function gt(e){K.call(this),this.type="LineBasicMaterial",this.color=new Y(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function vt(e,t,n){return 1===n?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new yt(e,t)):(ue.call(this),this.type="Line",this.geometry=void 0!==e?e:new _e,void(this.material=void 0!==t?t:new gt({color:16777215*Math.random()})))}function yt(e,t){vt.call(this,e,t),this.type="LineSegments"}function bt(e){K.call(this),this.type="PointsMaterial",this.color=new Y(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function wt(e,t){ue.call(this),this.type="Points",this.geometry=void 0!==e?e:new _e,this.material=void 0!==t?t:new bt({color:16777215*Math.random()})}function Mt(){ue.call(this),this.type="Group"}function Et(e,t,n,i,o,a,s,u,c){function l(){requestAnimationFrame(l),e.readyState>=e.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}r.call(this,e,t,n,i,o,a,s,u,c),this.generateMipmaps=!1;var h=this;l()}function At(e,t,n,i,o,a,s,u,c,l,h,f){r.call(this,null,a,s,u,c,l,i,o,h,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function xt(e,t,n,i,o,a,s,u,c){r.call(this,e,t,n,i,o,a,s,u,c),this.needsUpdate=!0}function Tt(e,t,n,i,o,a,s,u,c,l){if(l=void 0!==l?l:ya,l!==ya&&l!==ba)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===ya&&(n=ra),void 0===n&&l===ba&&(n=ha),r.call(this,null,i,o,a,s,u,l,n,c),this.image={width:e,height:t},this.magFilter=void 0!==s?s:Wo,this.minFilter=void 0!==u?u:Wo,this.flipY=!1,this.generateMipmaps=!1}function _t(e){function t(e,t){return e-t}_e.call(this);var n=[0,0],r={},i=["a","b","c"];if(e&&e.isGeometry){for(var o=e.vertices,a=e.faces,s=0,u=new Uint32Array(6*a.length),c=0,l=a.length;c<l;c++)for(var h=a[c],f=0;f<3;f++){n[0]=h[i[f]],n[1]=h[i[(f+1)%3]],n.sort(t);var d=n.toString();void 0===r[d]&&(u[2*s]=n[0],u[2*s+1]=n[1],r[d]=!0,s++)}for(var p=new Float32Array(2*s*3),c=0,l=s;c<l;c++)for(var f=0;f<2;f++){var m=o[u[2*c+f]],g=6*c+3*f;p[g+0]=m.x,p[g+1]=m.y,p[g+2]=m.z}this.addAttribute("position",new de(p,3))}else if(e&&e.isBufferGeometry)if(null!==e.index){var v=e.index.array,o=e.attributes.position,y=e.groups,s=0;0===y.length&&e.addGroup(0,v.length);for(var u=new Uint32Array(2*v.length),b=0,w=y.length;b<w;++b)for(var M=y[b],E=M.start,A=M.count,c=E,x=E+A;c<x;c+=3)for(var f=0;f<3;f++){n[0]=v[c+f],n[1]=v[c+(f+1)%3],n.sort(t);var d=n.toString();void 0===r[d]&&(u[2*s]=n[0],u[2*s+1]=n[1],r[d]=!0,s++)}for(var p=new Float32Array(2*s*3),c=0,l=s;c<l;c++)for(var f=0;f<2;f++){var g=6*c+3*f,T=u[2*c+f];p[g+0]=o.getX(T),p[g+1]=o.getY(T),p[g+2]=o.getZ(T)}this.addAttribute("position",new de(p,3))}else{for(var o=e.attributes.position.array,s=o.length/3,_=s/3,p=new Float32Array(2*s*3),c=0,l=_;c<l;c++)for(var f=0;f<3;f++){var g=18*c+6*f,k=9*c+3*f;p[g+0]=o[k],p[g+1]=o[k+1],p[g+2]=o[k+2];var T=9*c+3*((f+1)%3);p[g+3]=o[T],p[g+4]=o[T+1],p[g+5]=o[T+2]}this.addAttribute("position",new de(p,3))}}function kt(e,t,n){_e.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o,a,s,u=[],c=[],l=t+1;for(r=0;r<=n;r++)for(s=r/n,i=0;i<=t;i++)a=i/t,o=e(a,s),u.push(o.x,o.y,o.z),c.push(a,s);var h,f,d,p,m=[];for(r=0;r<n;r++)for(i=0;i<t;i++)h=r*l+i,f=r*l+i+1,d=(r+1)*l+i+1,p=(r+1)*l+i,m.push(h,f,p),m.push(f,d,p);this.setIndex(new(m.length>65535?we:ye)(m,1)),this.addAttribute("position",new Me(u,3)),this.addAttribute("uv",new Me(c,2)),this.computeVertexNormals()}function St(e,t,n){xe.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new kt(e,t,n)),this.mergeVertices()}function Nt(e,t,r,i){function o(e){for(var n=new u,r=new u,i=new u,o=0;o<t.length;o+=3)f(t[o+0],n),f(t[o+1],r),f(t[o+2],i),a(n,r,i,e)}function a(e,t,n,r){var i,o,a=Math.pow(2,r),s=[];for(i=0;i<=a;i++){s[i]=[];var u=e.clone().lerp(n,i/a),c=t.clone().lerp(n,i/a),l=a-i;for(o=0;o<=l;o++)0===o&&i===a?s[i][o]=u:s[i][o]=u.clone().lerp(c,o/l)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2===0?(h(s[i][f+1]),h(s[i+1][f]),h(s[i][f])):(h(s[i][f+1]),h(s[i+1][f+1]),h(s[i+1][f]))}}function s(e){for(var t=new u,n=0;n<v.length;n+=3)t.x=v[n+0],t.y=v[n+1],t.z=v[n+2],t.normalize().multiplyScalar(e),v[n+0]=t.x,v[n+1]=t.y,v[n+2]=t.z}function c(){for(var e=new u,t=0;t<v.length;t+=3){e.x=v[t+0],e.y=v[t+1],e.z=v[t+2];var n=m(e)/2/Math.PI+.5,r=g(e)/Math.PI+.5;y.push(n,1-r)}d(),l()}function l(){for(var e=0;e<y.length;e+=6){var t=y[e+0],n=y[e+2],r=y[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(y[e+0]+=1),n<.2&&(y[e+2]+=1),r<.2&&(y[e+4]+=1))}}function h(e){v.push(e.x,e.y,e.z)}function f(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function d(){for(var e=new u,t=new u,r=new u,i=new u,o=new n,a=new n,s=new n,c=0,l=0;c<v.length;c+=9,l+=6){e.set(v[c+0],v[c+1],v[c+2]),t.set(v[c+3],v[c+4],v[c+5]),r.set(v[c+6],v[c+7],v[c+8]),o.set(y[l+0],y[l+1]),a.set(y[l+2],y[l+3]),s.set(y[l+4],y[l+5]),i.copy(e).add(t).add(r).divideScalar(3);var h=m(i);p(o,l+0,e,h),p(a,l+2,t,h),p(s,l+4,r,h)}}function p(e,t,n,r){r<0&&1===e.x&&(y[t]=e.x-1),0===n.x&&0===n.z&&(y[t]=r/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function g(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}_e.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i},r=r||1,i=i||0;var v=[],y=[];o(i),s(r),c(),this.addAttribute("position",new Me(v,3)),this.addAttribute("normal",new Me(v.slice(),3)),this.addAttribute("uv",new Me(y,2)),this.normalizeNormals(),this.boundingSphere=new ee(new u,r)}function Lt(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Nt.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Dt(e,t){xe.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Lt(e,t)),this.mergeVertices()}function Ct(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Nt.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function It(e,t){xe.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ct(e,t)),this.mergeVertices()}function Ot(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Nt.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Rt(e,t){xe.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ot(e,t)),this.mergeVertices()}function jt(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Nt.call(this,i,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Pt(e,t){xe.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new jt(e,t)),this.mergeVertices()}function Ut(e,t,n,r){xe.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Nt(e,t,n,r)),this.mergeVertices()}function Ft(e,t,r,i,o){function a(){for(f=0;f<t;f++)s(f);s(o===!1?t:0),l(),c()}function s(n){var o=e.getPointAt(n/t),a=h.normals[n],s=h.binormals[n];for(d=0;d<=i;d++){var u=d/i*Math.PI*2,c=Math.sin(u),l=-Math.cos(u);m.x=l*a.x+c*s.x,m.y=l*a.y+c*s.y,m.z=l*a.z+c*s.z,m.normalize(),y.push(m.x,m.y,m.z),p.x=o.x+r*m.x,p.y=o.y+r*m.y,p.z=o.z+r*m.z,v.push(p.x,p.y,p.z)}}function c(){for(d=1;d<=t;d++)for(f=1;f<=i;f++){var e=(i+1)*(d-1)+(f-1),n=(i+1)*d+(f-1),r=(i+1)*d+f,o=(i+1)*(d-1)+f;w.push(e,n,o),w.push(n,r,o)}}function l(){for(f=0;f<=t;f++)for(d=0;d<=i;d++)g.x=f/t,g.y=d/i,b.push(g.x,g.y)}_e.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o},t=t||64,r=r||1,i=i||8,o=o||!1;var h=e.computeFrenetFrames(t,o);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;var f,d,p=new u,m=new u,g=new n,v=[],y=[],b=[],w=[];a(),this.setIndex(new(w.length>65535?we:ye)(w,1)),this.addAttribute("position",new Me(v,3)),this.addAttribute("normal",new Me(y,3)),this.addAttribute("uv",new Me(b,2))}function zt(e,t,n,r,i,o){xe.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Ft(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Bt(e,t,r,i,o,a){function s(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}_e.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:a},e=e||100,t=t||40,r=Math.floor(r)||64,i=Math.floor(i)||8,o=o||2,a=a||3;var c,l,h=(i+1)*(r+1),f=i*r*2*3,d=new de(new(f>65535?Uint32Array:Uint16Array)(f),1),p=new de(new Float32Array(3*h),3),m=new de(new Float32Array(3*h),3),g=new de(new Float32Array(2*h),2),v=0,y=0,b=new u,w=new u,M=new n,E=new u,A=new u,x=new u,T=new u,_=new u;for(c=0;c<=r;++c){var k=c/r*o*Math.PI*2;for(s(k,o,a,e,E),s(k+.01,o,a,e,A),T.subVectors(A,E),_.addVectors(A,E),x.crossVectors(T,_),_.crossVectors(x,T),x.normalize(),_.normalize(),l=0;l<=i;++l){var S=l/i*Math.PI*2,N=-t*Math.cos(S),L=t*Math.sin(S);b.x=E.x+(N*_.x+L*x.x),b.y=E.y+(N*_.y+L*x.y),b.z=E.z+(N*_.z+L*x.z),p.setXYZ(v,b.x,b.y,b.z),w.subVectors(b,E).normalize(),m.setXYZ(v,w.x,w.y,w.z),M.x=c/r,M.y=l/i,g.setXY(v,M.x,M.y),v++}}for(l=1;l<=r;l++)for(c=1;c<=i;c++){var D=(i+1)*(l-1)+(c-1),C=(i+1)*l+(c-1),I=(i+1)*l+c,O=(i+1)*(l-1)+c;d.setX(y,D),y++,d.setX(y,C),y++,d.setX(y,O),y++,d.setX(y,C),y++,d.setX(y,I),y++,d.setX(y,O),y++}this.setIndex(d),this.addAttribute("position",p),this.addAttribute("normal",m),this.addAttribute("uv",g)}function Ht(e,t,n,r,i,o,a){xe.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Bt(e,t,n,r,i,o)),this.mergeVertices()}function Vt(e,t,n,r,i){_e.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||100,t=t||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=(n+1)*(r+1),c=n*r*2*3,l=new(c>65535?Uint32Array:Uint16Array)(c),h=new Float32Array(3*s),f=new Float32Array(3*s),d=new Float32Array(2*s),p=0,m=0,g=0,v=new u,y=new u,b=new u;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var w=a/r*i,M=o/n*Math.PI*2;y.x=(e+t*Math.cos(M))*Math.cos(w),y.y=(e+t*Math.cos(M))*Math.sin(w),y.z=t*Math.sin(M),h[p]=y.x,h[p+1]=y.y,h[p+2]=y.z,v.x=e*Math.cos(w),v.y=e*Math.sin(w),b.subVectors(y,v).normalize(),f[p]=b.x,f[p+1]=b.y,f[p+2]=b.z,d[m]=a/r,d[m+1]=o/n,p+=3,m+=2}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var E=(r+1)*o+a-1,A=(r+1)*(o-1)+a-1,x=(r+1)*(o-1)+a,T=(r+1)*o+a;l[g]=E,l[g+1]=A,l[g+2]=T,l[g+3]=A,l[g+4]=x,l[g+5]=T,g+=6}this.setIndex(new de(l,1)),this.addAttribute("position",new de(h,3)),this.addAttribute("normal",new de(f,3)),this.addAttribute("uv",new de(d,2))}function Gt(e,t,n,r,i){xe.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Vt(e,t,n,r,i))}function Yt(e,t){return"undefined"==typeof e?void(e=[]):(xe.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),void this.computeFaceNormals())}function Qt(e,t){t=t||{};var n=t.font;if((n&&n.isFont)===!1)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new xe;var r=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Yt.call(this,r,t),this.type="TextGeometry"}function Wt(e,t,n,r,i,o,a){_e.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||50,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;for(var s=o+a,c=(t+1)*(n+1),l=new de(new Float32Array(3*c),3),h=new de(new Float32Array(3*c),3),f=new de(new Float32Array(2*c),2),d=0,p=[],m=new u,g=0;g<=n;g++){for(var v=[],y=g/n,b=0;b<=t;b++){var w=b/t,M=-e*Math.cos(r+w*i)*Math.sin(o+y*a),E=e*Math.cos(o+y*a),A=e*Math.sin(r+w*i)*Math.sin(o+y*a);m.set(M,E,A).normalize(),l.setXYZ(d,M,E,A),h.setXYZ(d,m.x,m.y,m.z),f.setXY(d,w,1-y),v.push(d),d++}p.push(v)}for(var x=[],g=0;g<n;g++)for(var b=0;b<t;b++){var T=p[g][b+1],_=p[g][b],k=p[g+1][b],S=p[g+1][b+1];(0!==g||o>0)&&x.push(T,_,S),(g!==n-1||s<Math.PI)&&x.push(_,k,S)}this.setIndex(new(l.count>65535?we:ye)(x,1)),this.addAttribute("position",l),this.addAttribute("normal",h),this.addAttribute("uv",f),this.boundingSphere=new ee(new u,e)}function qt(e,t,n,r,i,o,a){xe.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Wt(e,t,n,r,i,o,a))}function Xt(e,t,r,i,o,a){_e.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},e=e||20,t=t||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,r=void 0!==r?Math.max(3,r):8,i=void 0!==i?Math.max(1,i):1;var s,c,l,h=(r+1)*(i+1),f=r*i*2*3,d=new de(new(f>65535?Uint32Array:Uint16Array)(f),1),p=new de(new Float32Array(3*h),3),m=new de(new Float32Array(3*h),3),g=new de(new Float32Array(2*h),2),v=0,y=0,b=e,w=(t-e)/i,M=new u,E=new n;for(c=0;c<=i;c++){for(l=0;l<=r;l++)s=o+l/r*a,M.x=b*Math.cos(s),M.y=b*Math.sin(s),p.setXYZ(v,M.x,M.y,M.z),m.setXYZ(v,0,0,1),E.x=(M.x/t+1)/2,E.y=(M.y/t+1)/2,g.setXY(v,E.x,E.y),v++;b+=w}for(c=0;c<i;c++){var A=c*(r+1);for(l=0;l<r;l++){s=l+A;var x=s,T=s+r+1,_=s+r+2,k=s+1;d.setX(y,x),y++,d.setX(y,T),y++,d.setX(y,_),y++,d.setX(y,x),y++,d.setX(y,_),y++,d.setX(y,k),y++}}this.setIndex(d),this.addAttribute("position",p),this.addAttribute("normal",m),this.addAttribute("uv",g)}function Kt(e,t,n,r,i,o){xe.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Xt(e,t,n,r,i,o))}function Zt(e,t,n,r){xe.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Ne(e,t,n,r))}function Jt(e,t,r,i){_e.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t)||12,r=r||0,i=i||2*Math.PI,i=Za.clamp(i,0,2*Math.PI);var o,a,s,c=(t+1)*e.length,l=t*e.length*2*3,h=new de(new(l>65535?Uint32Array:Uint16Array)(l),1),f=new de(new Float32Array(3*c),3),d=new de(new Float32Array(2*c),2),p=0,m=0,g=1/t,v=new u,y=new n;for(a=0;a<=t;a++){var b=r+a*g*i,w=Math.sin(b),M=Math.cos(b);for(s=0;s<=e.length-1;s++)v.x=e[s].x*w,v.y=e[s].y,v.z=e[s].x*M,f.setXYZ(p,v.x,v.y,v.z),y.x=a/t,y.y=s/(e.length-1),d.setXY(p,y.x,y.y),p++}for(a=0;a<t;a++)for(s=0;s<e.length-1;s++){o=s+a*e.length;var E=o,A=o+e.length,x=o+e.length+1,T=o+1;h.setX(m,E),m++,h.setX(m,A),m++,h.setX(m,T),m++,h.setX(m,A),m++,h.setX(m,x),m++,h.setX(m,T),m++}if(this.setIndex(h),this.addAttribute("position",f),this.addAttribute("uv",d),this.computeVertexNormals(),i===2*Math.PI){var _=this.attributes.normal.array,k=new u,S=new u,N=new u;for(o=t*e.length*3,a=0,s=0;a<e.length;a++,s+=3)k.x=_[s+0],k.y=_[s+1],k.z=_[s+2],S.x=_[o+s+0],S.y=_[o+s+1],S.z=_[o+s+2],N.addVectors(k,S).normalize(),_[s+0]=_[o+s+0]=N.x,_[s+1]=_[o+s+1]=N.y,_[s+2]=_[o+s+2]=N.z}}function $t(e,t,n,r){xe.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Jt(e,t,n,r)),this.mergeVertices()}function en(e,t){function n(e){var n,s,c,l=r.length/3,h=e.extractPoints(t),f=h.shape,d=h.holes;if(hc.isClockWise(f)===!1)for(f=f.reverse(),n=0,s=d.length;n<s;n++)c=d[n],hc.isClockWise(c)===!0&&(d[n]=c.reverse());var p=hc.triangulateShape(f,d);for(n=0,s=d.length;n<s;n++)c=d[n],f=f.concat(c);for(n=0,s=f.length;n<s;n++){var m=f[n];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var g=p[n],v=g[0]+l,y=g[1]+l,b=g[2]+l;a.push(v,y,b),u+=3}}_e.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(Array.isArray(e)===!1)n(e);else for(var c=0;c<e.length;c++)n(e[c]),this.addGroup(s,u,c),s+=u,u=0;this.setIndex(new(a.length>65535?we:ye)(a,1)),this.addAttribute("position",new Me(r,3)),this.addAttribute("normal",new Me(i,3)),this.addAttribute("uv",new Me(o,2))}function tn(e,t){xe.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new en(e,t)),this.mergeVertices()}function nn(e,t){function n(e,t){return e-t}_e.call(this),t=void 0!==t?t:1;var r,i=Math.cos(Za.DEG2RAD*t),o=[0,0],a={},s=["a","b","c"];e.isBufferGeometry?(r=new xe,r.fromBufferGeometry(e)):r=e.clone(),r.mergeVertices(),r.computeFaceNormals();for(var u=r.vertices,c=r.faces,l=0,h=c.length;l<h;l++)for(var f=c[l],d=0;d<3;d++){o[0]=f[s[d]],o[1]=f[s[(d+1)%3]],o.sort(n);var p=o.toString();void 0===a[p]?a[p]={vert1:o[0],vert2:o[1],face1:l,face2:void 0}:a[p].face2=l}var m=[];for(var p in a){var g=a[p];if(void 0===g.face2||c[g.face1].normal.dot(c[g.face2].normal)<=i){var v=u[g.vert1];m.push(v.x),m.push(v.y),m.push(v.z),v=u[g.vert2],m.push(v.x),m.push(v.y),m.push(v.z)}}this.addAttribute("position",new Me(m,3))}function rn(e,t,r,i,o,a,s,c){function l(){var e=(i+1)*(o+1);return a===!1&&(e+=(i+1)*m+i*m),e}function h(){var e=i*o*2*3;return a===!1&&(e+=i*m*3),e}function f(){var n,a,l=new u,h=new u,f=0,d=(t-e)/r;for(a=0;a<=o;a++){var m=[],g=a/o,v=g*(t-e)+e;for(n=0;n<=i;n++){var k=n/i,S=k*c+s,N=Math.sin(S),L=Math.cos(S);h.x=v*N,h.y=-g*r+T,h.z=v*L,b.setXYZ(E,h.x,h.y,h.z),l.set(N,d,L).normalize(),w.setXYZ(E,l.x,l.y,l.z),M.setXY(E,k,1-g),m.push(E),E++}x.push(m)}for(n=0;n<i;n++)for(a=0;a<o;a++){var D=x[a][n],C=x[a+1][n],I=x[a+1][n+1],O=x[a][n+1];y.setX(A,D),A++,y.setX(A,C),A++,y.setX(A,O),A++,y.setX(A,C),A++,y.setX(A,I),A++,y.setX(A,O),A++,f+=6}p.addGroup(_,f,0),_+=f}function d(r){var o,a,l,h=new n,f=new u,d=0,m=r===!0?e:t,g=r===!0?1:-1;for(a=E,o=1;o<=i;o++)b.setXYZ(E,0,T*g,0),w.setXYZ(E,0,g,0),h.x=.5,h.y=.5,M.setXY(E,h.x,h.y),E++;for(l=E,o=0;o<=i;o++){var v=o/i,x=v*c+s,k=Math.cos(x),S=Math.sin(x);f.x=m*S,f.y=T*g,f.z=m*k,b.setXYZ(E,f.x,f.y,f.z),w.setXYZ(E,0,g,0),h.x=.5*k+.5,h.y=.5*S*g+.5,M.setXY(E,h.x,h.y),E++}for(o=0;o<i;o++){var N=a+o,L=l+o;r===!0?(y.setX(A,L),A++,y.setX(A,L+1),A++,y.setX(A,N),A++):(y.setX(A,L+1),A++,y.setX(A,L),A++,y.setX(A,N),A++),d+=3}p.addGroup(_,d,r===!0?1:2),_+=d}_e.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:c};var p=this;e=void 0!==e?e:20,t=void 0!==t?t:20,r=void 0!==r?r:100,i=Math.floor(i)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,c=void 0!==c?c:2*Math.PI;var m=0;a===!1&&(e>0&&m++,t>0&&m++);var g=l(),v=h(),y=new de(new(v>65535?Uint32Array:Uint16Array)(v),1),b=new de(new Float32Array(3*g),3),w=new de(new Float32Array(3*g),3),M=new de(new Float32Array(2*g),2),E=0,A=0,x=[],T=r/2,_=0;f(),a===!1&&(e>0&&d(!0),t>0&&d(!1)),this.setIndex(y),this.addAttribute("position",b),this.addAttribute("normal",w),this.addAttribute("uv",M)}function on(e,t,n,r,i,o,a,s){xe.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new rn(e,t,n,r,i,o,a,s)),this.mergeVertices()}function an(e,t,n,r,i,o,a){on.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function sn(e,t,n,r,i,o,a){rn.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function un(e,t,n,r){_e.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||50,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=t+2,o=new Float32Array(3*i),a=new Float32Array(3*i),s=new Float32Array(2*i);a[2]=1,s[0]=.5,s[1]=.5;for(var c=0,l=3,h=2;c<=t;c++,l+=3,h+=2){var f=n+c/t*r;o[l]=e*Math.cos(f),o[l+1]=e*Math.sin(f),a[l+2]=1,s[h]=(o[l]/e+1)/2,s[h+1]=(o[l+1]/e+1)/2}for(var d=[],l=1;l<=t;l++)d.push(l,l+1,0);this.setIndex(new de(new Uint16Array(d),1)),this.addAttribute("position",new de(o,3)),this.addAttribute("normal",new de(a,3)),this.addAttribute("uv",new de(s,2)),this.boundingSphere=new ee(new u,e)}function cn(e,t,n,r){xe.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new un(e,t,n,r))}function ln(e,t,n,r,i,o){xe.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Se(e,t,n,r,i,o)),this.mergeVertices()}function hn(){Z.call(this,{uniforms:is.merge([oc.lights,{opacity:{value:1}}]),vertexShader:rc.shadow_vert,fragmentShader:rc.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}}})}function fn(e){Z.call(this,e),this.type="RawShaderMaterial"}function dn(e){this.uuid=Za.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(e)?e:[],this.visible=!0}function pn(e){K.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Y(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function mn(e){pn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function gn(e){K.call(this),this.type="MeshPhongMaterial",this.color=new Y(16777215),this.specular=new Y(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_o,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function vn(e){gn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function yn(e){K.call(this,e),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e);
}function bn(e){K.call(this),this.type="MeshLambertMaterial",this.color=new Y(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Y(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_o,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function wn(e){K.call(this),this.type="LineDashedMaterial",this.color=new Y(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(e)}function Mn(e,t,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,i===!1&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)}}function En(e){this.manager=void 0!==e?e:mc}function An(e){this.manager=void 0!==e?e:mc,this._parser=null}function xn(e){this.manager=void 0!==e?e:mc,this._parser=null}function Tn(e){this.manager=void 0!==e?e:mc}function _n(e){this.manager=void 0!==e?e:mc}function kn(e){this.manager=void 0!==e?e:mc}function Sn(e,t){ue.call(this),this.type="Light",this.color=new Y(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Nn(e,t,n){Sn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ue.DefaultUp),this.updateMatrix(),this.groundColor=new Y(t)}function Ln(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new n(512,512),this.map=null,this.matrix=new c}function Dn(){Ln.call(this,new De(50,1,.5,500))}function Cn(e,t,n,r,i,o){Sn.call(this,e,t),this.type="SpotLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Dn}function In(e,t,n,r){Sn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Ln(new De(90,1,.5,500))}function On(e){Ln.call(this,new Ce(-5,5,5,-5,.5,500))}function Rn(e,t){Sn.call(this,e,t),this.type="DirectionalLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,this.shadow=new On}function jn(e,t){Sn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Pn(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Un(e,t,n,r){Pn.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Fn(e,t,n,r){Pn.call(this,e,t,n,r)}function zn(e,t,n,r){Pn.call(this,e,t,n,r)}function Bn(e,t,n,r){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=vc.convertArray(t,this.TimeBufferType),this.values=vc.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Hn(e,t,n,r){Bn.call(this,e,t,n,r)}function Vn(e,t,n,r){Pn.call(this,e,t,n,r)}function Gn(e,t,n,r){Bn.call(this,e,t,n,r)}function Yn(e,t,n,r){Bn.call(this,e,t,n,r)}function Qn(e,t,n,r){Bn.call(this,e,t,n,r)}function Wn(e,t,n){Bn.call(this,e,t,n)}function qn(e,t,n,r){Bn.call(this,e,t,n,r)}function Xn(e,t,n,r){Bn.apply(this,arguments)}function Kn(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Za.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Zn(e){this.manager=void 0!==e?e:mc,this.textures={}}function Jn(e){this.manager=void 0!==e?e:mc}function $n(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function er(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:mc,this.withCredentials=!1}function tr(e){this.manager=void 0!==e?e:mc,this.texturePath=""}function nr(){}function rr(e,t){this.v1=e,this.v2=t}function ir(){this.curves=[],this.autoClose=!1}function or(e,t,n,r,i,o,a,s){this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function ar(e){this.points=void 0===e?[]:e}function sr(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r}function ur(e,t,n){this.v0=e,this.v1=t,this.v2=n}function cr(){lr.apply(this,arguments),this.holes=[]}function lr(e){ir.call(this),this.currentPoint=new n,e&&this.fromPoints(e)}function hr(){this.subPaths=[],this.currentPath=null}function fr(e){this.data=e}function dr(e){this.manager=void 0!==e?e:mc}function pr(e){this.manager=void 0!==e?e:mc}function mr(e,t,n,r){Sn.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function gr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new De,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new De,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function vr(e,t,n){ue.call(this),this.type="CubeCamera";var r=90,i=1,o=new De(r,i,e,t);o.up.set(0,-1,0),o.lookAt(new u(1,0,0)),this.add(o);var s=new De(r,i,e,t);s.up.set(0,-1,0),s.lookAt(new u(-1,0,0)),this.add(s);var c=new De(r,i,e,t);c.up.set(0,0,1),c.lookAt(new u(0,1,0)),this.add(c);var l=new De(r,i,e,t);l.up.set(0,0,-1),l.lookAt(new u(0,-1,0)),this.add(l);var h=new De(r,i,e,t);h.up.set(0,-1,0),h.lookAt(new u(0,0,1)),this.add(h);var f=new De(r,i,e,t);f.up.set(0,-1,0),f.lookAt(new u(0,0,-1)),this.add(f);var d={format:da,magFilter:Ko,minFilter:Ko};this.renderTarget=new a(n,n,d),this.updateCubeMap=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,o,n),n.activeCubeFace=1,e.render(t,s,n),n.activeCubeFace=2,e.render(t,c,n),n.activeCubeFace=3,e.render(t,l,n),n.activeCubeFace=4,e.render(t,h,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,f,n),e.setRenderTarget(null)}}function yr(){ue.call(this),this.type="AudioListener",this.context=Ec.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function br(e){ue.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function wr(e){br.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Mr(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Er(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Ar(e,t,n){this.path=t,this.parsedPath=n||Ar.parseTrackName(t),this.node=Ar.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function xr(e){this.uuid=Za.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Tr(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:Ra,endingEnd:Ra},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=La,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function _r(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function kr(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Sr(){_e.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Nr(e,t,n,r){this.uuid=Za.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=r===!0}function Lr(e,t){this.uuid=Za.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Dr(e,t,n){Lr.call(this,e,t),this.meshPerAttribute=n||1}function Cr(e,t,n){de.call(this,e,t),this.meshPerAttribute=n||1}function Ir(e,t,n,r){this.ray=new oe(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Or(e,t){return e.distance-t.distance}function Rr(e,t,n,r){if(e.visible!==!1&&(e.raycast(t,n),r===!0))for(var i=e.children,o=0,a=i.length;o<a;o++)Rr(i[o],t,n,!0)}function jr(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Pr(e){function t(e,t,n,r,i,o,a){var s=.5*(n-e),u=.5*(r-t);return(2*(t-n)+s+u)*a+(-3*(t-n)-2*s-u)*o+s*i+t}this.points=e;var n,r,i,o,a,s,c,l,h,f=[],d={x:0,y:0,z:0};this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return n=(this.points.length-1)*e,r=Math.floor(n),i=n-r,f[0]=0===r?r:r-1,f[1]=r,f[2]=r>this.points.length-2?this.points.length-1:r+1,f[3]=r>this.points.length-3?this.points.length-1:r+2,s=this.points[f[0]],c=this.points[f[1]],l=this.points[f[2]],h=this.points[f[3]],o=i*i,a=i*o,d.x=t(s.x,c.x,l.x,h.x,i,o,a),d.y=t(s.y,c.y,l.y,h.y,i,o,a),d.z=t(s.z,c.z,l.z,h.z,i,o,a),d},this.getControlPointsArray=function(){var e,t,n=this.points.length,r=[];for(e=0;e<n;e++)t=this.points[e],r[e]=[t.x,t.y,t.z];return r},this.getLength=function(e){var t,n,r,i,o=0,a=0,s=0,c=new u,l=new u,h=[],f=0;for(h[0]=0,e||(e=100),r=this.points.length*e,c.copy(this.points[0]),t=1;t<r;t++)n=t/r,i=this.getPoint(n),l.copy(i),f+=l.distanceTo(c),c.copy(i),o=(this.points.length-1)*n,a=Math.floor(o),a!==s&&(h[a]=f,s=a);return h[h.length]=f,{chunks:h,total:f}},this.reparametrizeByArcLength=function(e){var t,n,r,i,o,a,s,c,l=[],h=new u,f=this.getLength();for(l.push(h.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(a=f.chunks[t]-f.chunks[t-1],s=Math.ceil(e*a/f.total),i=(t-1)/(this.points.length-1),o=t/(this.points.length-1),n=1;n<s-1;n++)r=i+n*(1/s)*(o-i),c=this.getPoint(r),l.push(h.copy(c).clone());l.push(h.copy(this.points[t]).clone())}this.points=l}}function Ur(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Fr(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function zr(e,t){ke.call(this,e,t),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r="__default",i=0,o=n-1,a=n/1;this.createAnimation(r,i,o,a),this.setAnimationWeight(r,1)}function Br(e){ue.call(this),this.material=e,this.render=function(e){}}function Hr(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new _e,c=new Me(2*a*3,3);u.addAttribute("position",c),yt.call(this,u,new gt({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Vr(e){ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;for(var t=new _e,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1,o=32;r<o;r++,i++){var a=r/o*Math.PI*2,s=i/o*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}t.addAttribute("position",new Me(n,3));var u=new gt({fog:!1});this.cone=new yt(t,u),this.add(this.cone),this.update()}function Gr(e){this.bones=this.getBoneList(e);for(var t=new _e,n=[],r=[],i=new Y(0,0,1),o=new Y(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}t.addAttribute("position",new Me(n,3)),t.addAttribute("color",new Me(r,3));var u=new gt({vertexColors:Wi,depthTest:!1,depthWrite:!1,transparent:!0});yt.call(this,t,u),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Yr(e,t){this.light=e,this.light.updateMatrixWorld();var n=new Wt(t,4,2),r=new fe({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),ke.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function Qr(e){ue.call(this),this.light=e,this.light.updateMatrixWorld();var t=new fe({color:e.color,fog:!1}),n=new fe({color:e.color,fog:!1,wireframe:!0}),r=new _e;r.addAttribute("position",new de(new Float32Array(18),3)),this.add(new ke(r,t)),this.add(new ke(r,n)),this.update()}function Wr(e,t){ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var n=new Ct(t);n.rotateY(.5*Math.PI);var r=new fe({vertexColors:Wi,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new de(o,3)),this.add(new ke(n,r)),this.update()}function qr(e,t,n,r){e=e||10,t=t||10,n=new Y(void 0!==n?n:4473924),r=new Y(void 0!==r?r:8947848);for(var i=t/2,o=2*e/t,a=[],s=[],u=0,c=0,l=-e;u<=t;u++,l+=o){a.push(-e,0,l,e,0,l),a.push(l,0,-e,l,0,e);var h=u===i?n:r;h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3}var f=new _e;f.addAttribute("position",new Me(a,3)),f.addAttribute("color",new Me(s,3));var d=new gt({vertexColors:Wi});yt.call(this,f,d)}function Xr(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Y(void 0!==i?i:4473924),o=new Y(void 0!==o?o:8947848);var a,s,u,c,l,h,f,d=[],p=[];for(c=0;c<=t;c++)u=c/t*(2*Math.PI),a=Math.sin(u)*e,s=Math.cos(u)*e,d.push(0,0,0),d.push(a,0,s),f=1&c?i:o,p.push(f.r,f.g,f.b),p.push(f.r,f.g,f.b);for(c=0;c<=n;c++)for(f=1&c?i:o,h=e-e/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,d.push(a,0,s),p.push(f.r,f.g,f.b),u=(l+1)/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,d.push(a,0,s),p.push(f.r,f.g,f.b);var m=new _e;m.addAttribute("position",new Me(d,3)),m.addAttribute("color",new Me(p,3));var g=new gt({vertexColors:Wi});yt.call(this,m,g)}function Kr(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new _e,c=new Me(2*a*3,3);u.addAttribute("position",c),yt.call(this,u,new gt({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Zr(e,t){ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,void 0===t&&(t=1);var n=new _e;n.addAttribute("position",new Me([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new gt({fog:!1});this.add(new vt(n,r)),n=new _e,n.addAttribute("position",new Me([0,0,0,0,0,1],3)),this.add(new vt(n,r)),this.update()}function Jr(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){o.push(0,0,0),a.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}var r=new _e,i=new gt({color:16777215,vertexColors:Qi}),o=[],a=[],s={},u=new Y(16755200),c=new Y(16711680),l=new Y(43775),h=new Y(16777215),f=new Y(3355443);t("n1","n2",u),t("n2","n4",u),t("n4","n3",u),t("n3","n1",u),t("f1","f2",u),t("f2","f4",u),t("f4","f3",u),t("f3","f1",u),t("n1","f1",u),t("n2","f2",u),t("n3","f3",u),t("n4","f4",u),t("p","n1",c),t("p","n2",c),t("p","n3",c),t("p","n4",c),t("u1","u2",l),t("u2","u3",l),t("u3","u1",l),t("c","t",h),t("p","c",f),t("cn1","cn2",f),t("cn3","cn4",f),t("cf1","cf2",f),t("cf3","cf4",f),r.addAttribute("position",new Me(o,3)),r.addAttribute("color",new Me(a,3)),yt.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function $r(e,t){void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new _e;i.setIndex(new de(n,1)),i.addAttribute("position",new de(r,3)),yt.call(this,i,new gt({color:t})),void 0!==e&&this.update(e)}function ei(e,t,n,r,i,o){ue.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),this.position.copy(t),this.line=new vt(Ac,new gt({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ke(xc,new fe({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function ti(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new _e;r.addAttribute("position",new Me(t,3)),r.addAttribute("color",new Me(n,3));var i=new gt({vertexColors:Wi});yt.call(this,r,i)}function ni(e,t,n,r,i,o){or.call(this,e,t,n,n,r,i,o)}function ri(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new he(e,t,n,i,o,a)}function ii(e){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new dn(e)}function oi(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new wt(e,t)}function ai(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ht(e)}function si(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new wt(e,t)}function ui(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new bt(e)}function ci(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new bt(e)}function li(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new bt(e)}function hi(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new u(e,t,n)}function fi(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new de(e,t).setDynamic(!0)}function di(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new pe(e,t)}function pi(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new me(e,t)}function mi(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ge(e,t)}function gi(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ve(e,t)}function vi(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ye(e,t)}function yi(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new be(e,t)}function bi(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new we(e,t)}function wi(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Me(e,t)}function Mi(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ee(e,t)}function Ei(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Tc.call(this,e),this.type="catmullrom",this.closed=!0}function Ai(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new $r(e,t)}function xi(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new yt(new nn(e.geometry),new gt({color:void 0!==t?t:16777215}))}function Ti(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new yt(new _t(e.geometry),new gt({color:void 0!==t?t:16777215}))}function _i(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new En(e)}function ki(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Si(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&!function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}}(),Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;var r=[],i=0,o=n.length;for(i=0;i<o;i++)r[i]=n[i];for(i=0;i<o;i++)r[i].call(this,e)}}}});var Ni="83",Li={LEFT:0,MIDDLE:1,RIGHT:2},Di=0,Ci=1,Ii=2,Oi=3,Ri=0,ji=1,Pi=0,Ui=1,Fi=2,zi=0,Bi=1,Hi=2,Vi=1,Gi=2,Yi=0,Qi=1,Wi=2,qi=0,Xi=1,Ki=2,Zi=3,Ji=4,$i=5,eo={NoBlending:qi,NormalBlending:Xi,AdditiveBlending:Ki,SubtractiveBlending:Zi,MultiplyBlending:Ji,CustomBlending:$i},to=100,no=101,ro=102,io=103,oo=104,ao=200,so=201,uo=202,co=203,lo=204,ho=205,fo=206,po=207,mo=208,go=209,vo=210,yo=0,bo=1,wo=2,Mo=3,Eo=4,Ao=5,xo=6,To=7,_o=0,ko=1,So=2,No=0,Lo=1,Do=2,Co=3,Io=4,Oo=300,Ro=301,jo=302,Po=303,Uo=304,Fo=305,zo=306,Bo=307,Ho={UVMapping:Oo,CubeReflectionMapping:Ro,CubeRefractionMapping:jo,EquirectangularReflectionMapping:Po,EquirectangularRefractionMapping:Uo,SphericalReflectionMapping:Fo,CubeUVReflectionMapping:zo,CubeUVRefractionMapping:Bo},Vo=1e3,Go=1001,Yo=1002,Qo={RepeatWrapping:Vo,ClampToEdgeWrapping:Go,MirroredRepeatWrapping:Yo},Wo=1003,qo=1004,Xo=1005,Ko=1006,Zo=1007,Jo=1008,$o={NearestFilter:Wo,NearestMipMapNearestFilter:qo,NearestMipMapLinearFilter:Xo,LinearFilter:Ko,LinearMipMapNearestFilter:Zo,LinearMipMapLinearFilter:Jo},ea=1009,ta=1010,na=1011,ra=1012,ia=1013,oa=1014,aa=1015,sa=1016,ua=1017,ca=1018,la=1019,ha=1020,fa=1021,da=1022,pa=1023,ma=1024,ga=1025,va=pa,ya=1026,ba=1027,wa=2001,Ma=2002,Ea=2003,Aa=2004,xa=2100,Ta=2101,_a=2102,ka=2103,Sa=2151,Na=2200,La=2201,Da=2202,Ca=2300,Ia=2301,Oa=2302,Ra=2400,ja=2401,Pa=2402,Ua=0,Fa=1,za=2,Ba=3e3,Ha=3001,Va=3007,Ga=3002,Ya=3003,Qa=3004,Wa=3005,qa=3006,Xa=3200,Ka=3201,Za={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,n[i]=t[19===i?3&e|8:e]);return n.join("")}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Za.DEG2RAD},radToDeg:function(e){return e*Za.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}};n.prototype={constructor:n,isVector2:!0,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new n,t=new n),e.set(r,r),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}};var Ja=0;r.DEFAULT_IMAGE=void 0,r.DEFAULT_MAPPING=Oo,r.prototype={constructor:r,isTexture:!0,set needsUpdate(e){e===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){function t(e){var t;return void 0!==e.toDataURL?t=e:(t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height)),t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=Za.generateUUID()),void 0===e.images[r.uuid]&&(e.images[r.uuid]={uuid:r.uuid,url:t(r)}),n.image=r.uuid}return e.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===Oo){if(e.multiply(this.repeat),
e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case Vo:e.x=e.x-Math.floor(e.x);break;case Go:e.x=e.x<0?0:1;break;case Yo:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Vo:e.y=e.y-Math.floor(e.y);break;case Go:e.y=e.y<0?0:1;break;case Yo:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}},Object.assign(r.prototype,t.prototype),i.prototype={constructor:i,isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,u=s[0],c=s[4],l=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<o&&Math.abs(l-p)<o&&Math.abs(d-m)<o){if(Math.abs(c+h)<a&&Math.abs(l+p)<a&&Math.abs(d+m)<a&&Math.abs(u+f+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var v=(u+1)/2,y=(f+1)/2,b=(g+1)/2,w=(c+h)/4,M=(l+p)/4,E=(d+m)/4;return v>y&&v>b?v<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(v),r=w/n,i=M/n):y>b?y<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(y),n=w/r,i=E/r):b<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(b),n=M/i,r=E/i),this.set(n,r,i,t),this}var A=Math.sqrt((m-d)*(m-d)+(l-p)*(l-p)+(h-c)*(h-c));return Math.abs(A)<.001&&(A=1),this.x=(m-d)/A,this.y=(l-p)/A,this.z=(h-c)/A,this.w=Math.acos((u+f+g-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new i,t=new i),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},Object.assign(o.prototype,t.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.isWebGLRenderTargetCube=!0,s.prototype={constructor:s,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if((e&&e.isEuler)===!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(e._x/2),r=Math.cos(e._y/2),i=Math.cos(e._z/2),o=Math.sin(e._x/2),a=Math.sin(e._y/2),s=Math.sin(e._z/2),u=e.order;return"XYZ"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"YXZ"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"ZXY"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"ZYX"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"YZX"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):"XZY"===u&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],f=r+s+h;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-r-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+h-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t,n=1e-6;return function(r,i){return void 0===e&&(e=new u),t=r.dot(i)+1,t<n?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,i),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),c=Math.sin((1-t)*u)/s,l=Math.sin(t*u)/s;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Object.assign(s,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(l!==p||s!==h||u!==f||c!==d){var m=1-a,g=s*h+u*f+c*d+l*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,g*v);m=Math.sin(m*w)/b,a=Math.sin(a*w)/b}var M=a*v;if(s=s*m+h*M,u=u*m+f*M,c=c*m+d*M,l=l*m+p*M,m===1-a){var E=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=E,u*=E,c*=E,l*=E}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),u.prototype={constructor:u,isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return(t&&t.isEuler)===!1&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new s),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e;return function(t,n){return void 0===e&&(e=new s),this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12],this.y=i[1]*t+i[5]*n+i[9]*r+i[13],this.z=i[2]*t+i[6]*n+i[10]*r+i[14],this},applyProjection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e;return function(t){return void 0===e&&(e=new c),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new c),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new u,t=new u),e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,i=this.z;return this.x=r*e.z-i*e.y,this.y=i*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new u),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new u),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Za.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){return this.setFromMatrixColumn(e,3)},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){if("number"==typeof e){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=e;e=t,t=n}return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},c.prototype={constructor:c,isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new c).fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e;return function(t){void 0===e&&(e=new u);var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(e){(e&&e.isEuler)===!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var h=o*c,f=o*l,d=a*c,p=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=f+d*u,t[5]=h-p*u,t[9]=-a*s,t[2]=p-h*u,t[6]=d+f*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m-y*a,t[4]=-o*l,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var h=o*c,f=o*l,d=a*c,p=a*l;t[0]=s*c,t[4]=d*u-f,t[8]=h*u+p,t[1]=s*l,t[5]=p*u+h,t[9]=f*u-d,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,w=o*u,M=a*s,E=a*u;t[0]=s*c,t[4]=E-b*l,t[8]=M*l+w,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=w*l+M,t[10]=b-E*l}else if("XZY"===e.order){var b=o*s,w=o*u,M=a*s,E=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=b*l+E,t[5]=o*c,t[9]=w*l-M,t[2]=M*l-w,t[6]=a*c,t[10]=E*l+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,o=e.w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,f=r*s,d=r*u,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-(f+p),t[4]=l-v,t[8]=h+g,t[1]=l+v,t[5]=1-(c+p),t[9]=d-m,t[2]=h-g,t[6]=d+m,t[10]=1-(c+f),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e,t,n;return function(r,i,o){void 0===e&&(e=new u,t=new u,n=new u);var a=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),e.crossVectors(o,n).normalize(),0===e.lengthSq()&&(n.z+=1e-4,e.crossVectors(o,n).normalize()),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],M=r[0],E=r[4],A=r[8],x=r[12],T=r[1],_=r[5],k=r[9],S=r[13],N=r[2],L=r[6],D=r[10],C=r[14],I=r[3],O=r[7],R=r[11],j=r[15];return i[0]=o*M+a*T+s*N+u*I,i[4]=o*E+a*_+s*L+u*O,i[8]=o*A+a*k+s*D+u*R,i[12]=o*x+a*S+s*C+u*j,i[1]=c*M+l*T+h*N+f*I,i[5]=c*E+l*_+h*L+f*O,i[9]=c*A+l*k+h*D+f*R,i[13]=c*x+l*S+h*C+f*j,i[2]=d*M+p*T+m*N+g*I,i[6]=d*E+p*_+m*L+g*O,i[10]=d*A+p*k+m*D+g*R,i[14]=d*x+p*S+m*C+g*j,i[3]=v*M+y*T+b*N+w*I,i[7]=v*E+y*_+b*L+w*O,i[11]=v*A+y*k+b*D+w*R,i[15]=v*x+y*S+b*C+w*j,this},multiplyToArray:function(e,t,n){var r=this.elements;return this.multiplyMatrices(e,t),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToVector3Array:function(){var e;return function(t,n,r){void 0===e&&(e=new u),void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;i<r;i+=3,o+=3)e.fromArray(t,o),e.applyMatrix4(this),e.toArray(t,o);return t}}(),applyToBufferAttribute:function(){var e;return function(t){void 0===e&&(e=new u);for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],f=e[14],d=e[3],p=e[7],m=e[11],g=e[15];return d*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*f-n*s*f)+p*(+t*s*f-t*u*h+i*o*h-r*o*f+r*u*c-i*s*c)+m*(+t*u*l-t*a*f-i*o*l+n*o*f+i*a*c-n*u*c)+g*(-r*a*c-t*s*l+t*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],w=d*y*h-v*p*h+v*l*m-c*y*m-d*l*b+c*p*b,M=g*p*h-f*y*h-g*l*m+u*y*m+f*l*b-u*p*b,E=f*v*h-g*d*h+g*c*m-u*v*m-f*c*b+u*d*b,A=g*d*l-f*v*l-g*c*p+u*v*p+f*c*y-u*d*y,x=i*w+o*M+a*E+s*A;if(0===x){var T="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t===!0)throw new Error(T);return console.warn(T),this.identity()}var _=1/x;return n[0]=w*_,n[1]=(v*p*s-d*y*s-v*a*m+o*y*m+d*a*b-o*p*b)*_,n[2]=(c*y*s-v*l*s+v*a*h-o*y*h-c*a*b+o*l*b)*_,n[3]=(d*l*s-c*p*s-d*a*h+o*p*h+c*a*m-o*l*m)*_,n[4]=M*_,n[5]=(f*y*s-g*p*s+g*a*m-i*y*m-f*a*b+i*p*b)*_,n[6]=(g*l*s-u*y*s-g*a*h+i*y*h+u*a*b-i*l*b)*_,n[7]=(u*p*s-f*l*s+f*a*h-i*p*h-u*a*m+i*l*m)*_,n[8]=E*_,n[9]=(g*d*s-f*v*s-g*o*m+i*v*m+f*o*b-i*d*b)*_,n[10]=(u*v*s-g*c*s+g*o*h-i*v*h-u*o*b+i*c*b)*_,n[11]=(f*c*s-u*d*s-f*o*h+i*d*h+u*o*m-i*c*m)*_,n[12]=A*_,n[13]=(f*v*a-g*d*a+g*o*p-i*v*p-f*o*y+i*d*y)*_,n[14]=(g*c*a-u*v*a-g*o*l+i*v*l+u*o*y-i*c*y)*_,n[15]=(u*d*a-f*c*a+f*o*l-i*d*l-u*o*p+i*c*p)*_,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e,t;return function(n,r,i){void 0===e&&(e=new u,t=new c);var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),l=e.set(o[8],o[9],o[10]).length(),h=this.determinant();h<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.elements.set(this.elements);var f=1/a,d=1/s,p=1/l;return t.elements[0]*=f,t.elements[1]*=f,t.elements[2]*=f,t.elements[4]*=d,t.elements[5]*=d,t.elements[6]*=d,t.elements[8]*=p,t.elements[9]*=p,t.elements[10]*=p,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=l,this}}(),makeFrustum:function(e,t,n,r,i,o){var a=this.elements,s=2*i/(t-e),u=2*i/(r-n),c=(t+e)/(t-e),l=(r+n)/(r-n),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,n,r){var i=n*Math.tan(Za.DEG2RAD*e*.5),o=-i,a=o*t,s=i*t;return this.makeFrustum(a,s,o,i,n,r)},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i),l=(t+e)*s,h=(n+r)*u,f=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},l.prototype=Object.create(r.prototype),l.prototype.constructor=l,l.prototype.isCubeTexture=!0,Object.defineProperty(l.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var $a=new r,es=new l,ts=[],ns=[];B.prototype.setValue=function(e,t){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(e,t[o.id])}};var rs=/([\w\d_]+)(\])?(\[|\.)?/g;G.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},G.prototype.set=function(e,t,n){var r=this.map[n];void 0!==r&&r.setValue(e,t[n],this.renderer)},G.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},G.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];s.needsUpdate!==!1&&a.setValue(e,s.value,r)}},G.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var is={merge:function(e){for(var t={},n=0;n<e.length;n++){var r=this.clone(e[n]);for(var i in r)t[i]=r[i]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}},os="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",as="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",ss="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",us="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",cs="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",ls="\nvec3 transformed = vec3( position );\n",hs="\nvec3 objectNormal = vec3( normal );\n",fs="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",ds="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",ps="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",ms="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",gs="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",vs="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",ys="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",bs="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",ws="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Ms="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",Es="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",As="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",xs="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",Ts="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",_s="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",ks="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",Ss="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",Ns="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",Ls="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",Ds="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",Cs="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",Is="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",Os="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",Rs="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",js="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Ps="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",Us="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Fs="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",zs="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Bs="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",Hs="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Vs="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n    void RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n        vec3 matDiffColor = material.diffuseColor;\n        vec3 matSpecColor = material.specularColor;\n        vec3 lightColor   = rectAreaLight.color;\n        float roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n        vec3 spec = Rect_Area_Light_Specular_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n                roughness,\n                ltcMat, ltcMag );\n        vec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n        reflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n        reflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n    }\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Gs="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",Ys="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n    void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n        vec3 matDiffColor = material.diffuseColor;\n        vec3 matSpecColor = material.specularColor;\n        vec3 lightColor   = rectAreaLight.color;\n        float roughness = material.specularRoughness;\n        vec3 spec = Rect_Area_Light_Specular_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n                roughness,\n                ltcMat, ltcMag );\n        vec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n        reflectedLight.directSpecular += lightColor * matSpecColor * spec;\n        reflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n    }\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Qs="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",Ws="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",qs="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",Xs="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Ks="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",Zs="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",Js="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",$s="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",eu="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",tu="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",nu="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",ru="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",iu="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",ou="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",au="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",su="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",uu="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",cu="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",lu="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",hu="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",fu="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",du="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",pu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",mu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n#endif\n",gu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n#endif\n",vu="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",yu="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",bu="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",wu="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",Mu="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",Eu="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Au="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",xu="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",Tu="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",_u="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",ku="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",Su="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",Nu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Lu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",Du="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",Cu="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",Iu="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",Ou="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Ru="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",ju="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Pu="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",Uu="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",Fu="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",zu="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Bu="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Hu="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Vu="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Gu="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",Yu="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Qu="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",Wu="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",qu="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",Xu="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ku="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Zu="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#include <premultiplied_alpha_fragment>\n\t#include <encodings_fragment>\n}\n",Ju="#define NORMAL\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",$u="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",ec="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",tc="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",nc="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",rc={
alphamap_fragment:os,alphamap_pars_fragment:as,alphatest_fragment:ss,aomap_fragment:us,aomap_pars_fragment:cs,begin_vertex:ls,beginnormal_vertex:hs,bsdfs:fs,bumpmap_pars_fragment:ds,clipping_planes_fragment:ps,clipping_planes_pars_fragment:ms,clipping_planes_pars_vertex:gs,clipping_planes_vertex:vs,color_fragment:ys,color_pars_fragment:bs,color_pars_vertex:ws,color_vertex:Ms,common:Es,cube_uv_reflection_fragment:As,defaultnormal_vertex:xs,displacementmap_pars_vertex:Ts,displacementmap_vertex:_s,emissivemap_fragment:ks,emissivemap_pars_fragment:Ss,encodings_fragment:Ns,encodings_pars_fragment:Ls,envmap_fragment:Ds,envmap_pars_fragment:Cs,envmap_pars_vertex:Is,envmap_vertex:Os,fog_fragment:Rs,fog_pars_fragment:js,gradientmap_pars_fragment:Ps,lightmap_fragment:Us,lightmap_pars_fragment:Fs,lights_lambert_vertex:zs,lights_pars:Bs,lights_phong_fragment:Hs,lights_phong_pars_fragment:Vs,lights_physical_fragment:Gs,lights_physical_pars_fragment:Ys,lights_template:Qs,logdepthbuf_fragment:Ws,logdepthbuf_pars_fragment:qs,logdepthbuf_pars_vertex:Xs,logdepthbuf_vertex:Ks,map_fragment:Zs,map_pars_fragment:Js,map_particle_fragment:$s,map_particle_pars_fragment:eu,metalnessmap_fragment:tu,metalnessmap_pars_fragment:nu,morphnormal_vertex:ru,morphtarget_pars_vertex:iu,morphtarget_vertex:ou,normal_flip:au,normal_fragment:su,normalmap_pars_fragment:uu,packing:cu,premultiplied_alpha_fragment:lu,project_vertex:hu,roughnessmap_fragment:fu,roughnessmap_pars_fragment:du,shadowmap_pars_fragment:pu,shadowmap_pars_vertex:mu,shadowmap_vertex:gu,shadowmask_pars_fragment:vu,skinbase_vertex:yu,skinning_pars_vertex:bu,skinning_vertex:wu,skinnormal_vertex:Mu,specularmap_fragment:Eu,specularmap_pars_fragment:Au,tonemapping_fragment:xu,tonemapping_pars_fragment:Tu,uv_pars_fragment:_u,uv_pars_vertex:ku,uv_vertex:Su,uv2_pars_fragment:Nu,uv2_pars_vertex:Lu,uv2_vertex:Du,worldpos_vertex:Cu,cube_frag:Iu,cube_vert:Ou,depth_frag:Ru,depth_vert:ju,distanceRGBA_frag:Pu,distanceRGBA_vert:Uu,equirect_frag:Fu,equirect_vert:zu,linedashed_frag:Bu,linedashed_vert:Hu,meshbasic_frag:Vu,meshbasic_vert:Gu,meshlambert_frag:Yu,meshlambert_vert:Qu,meshphong_frag:Wu,meshphong_vert:qu,meshphysical_frag:Xu,meshphysical_vert:Ku,normal_frag:Zu,normal_vert:Ju,points_frag:$u,points_vert:ec,shadow_frag:tc,shadow_vert:nc};Y.prototype={constructor:Y,isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=Za.euclideanModulo(t,1),n=Za.clamp(n,0,1),r=Za.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(e&&e.length>0){var c=ic[e];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,r=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)t=0,n=0;else{var l=s-u;switch(n=c<=.5?l/(s+u):l/(2-s-u),s){case i:t=(o-a)/l+(o<a?6:0);break;case o:t=(a-i)/l+2;break;case a:t=(i-o)/l+4}t/=6}return r.h=t,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}};var ic={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Q.prototype=Object.create(r.prototype),Q.prototype.constructor=Q,Q.prototype.isDataTexture=!0;var oc={common:{diffuse:{value:new Y(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new i(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Y(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Y(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new i(0,0,1,1)}}},ac={basic:{uniforms:is.merge([oc.common,oc.aomap,oc.lightmap,oc.fog]),vertexShader:rc.meshbasic_vert,fragmentShader:rc.meshbasic_frag},lambert:{uniforms:is.merge([oc.common,oc.aomap,oc.lightmap,oc.emissivemap,oc.fog,oc.lights,{emissive:{value:new Y(0)}}]),vertexShader:rc.meshlambert_vert,fragmentShader:rc.meshlambert_frag},phong:{uniforms:is.merge([oc.common,oc.aomap,oc.lightmap,oc.emissivemap,oc.bumpmap,oc.normalmap,oc.displacementmap,oc.gradientmap,oc.fog,oc.lights,{emissive:{value:new Y(0)},specular:{value:new Y(1118481)},shininess:{value:30}}]),vertexShader:rc.meshphong_vert,fragmentShader:rc.meshphong_frag},standard:{uniforms:is.merge([oc.common,oc.aomap,oc.lightmap,oc.emissivemap,oc.bumpmap,oc.normalmap,oc.displacementmap,oc.roughnessmap,oc.metalnessmap,oc.fog,oc.lights,{emissive:{value:new Y(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rc.meshphysical_vert,fragmentShader:rc.meshphysical_frag},points:{uniforms:is.merge([oc.points,oc.fog]),vertexShader:rc.points_vert,fragmentShader:rc.points_frag},dashed:{uniforms:is.merge([oc.common,oc.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rc.linedashed_vert,fragmentShader:rc.linedashed_frag},depth:{uniforms:is.merge([oc.common,oc.displacementmap]),vertexShader:rc.depth_vert,fragmentShader:rc.depth_frag},normal:{uniforms:is.merge([oc.common,oc.bumpmap,oc.normalmap,oc.displacementmap,{opacity:{value:1}}]),vertexShader:rc.normal_vert,fragmentShader:rc.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rc.cube_vert,fragmentShader:rc.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:rc.equirect_vert,fragmentShader:rc.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new u}},vertexShader:rc.distanceRGBA_vert,fragmentShader:rc.distanceRGBA_frag}};ac.physical={uniforms:is.merge([ac.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:rc.meshphysical_vert,fragmentShader:rc.meshphysical_frag},W.prototype={constructor:W,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new n;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new n;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new n;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var r=t||new n;return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){var r=t||new n;return r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new n;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};var sc=0;K.prototype={constructor:K,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){e===!0&&this.update(),this._needsUpdate=e},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):"overdraw"===t?this[t]=Number(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Xi&&(r.blending=this.blending),this.shading!==Gi&&(r.shading=this.shading),this.side!==zi&&(r.side=this.side),this.vertexColors!==Yi&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,n){var i=t(e.textures),o=t(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.shading=e.shading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(K.prototype,t.prototype),Z.prototype=Object.create(K.prototype),Z.prototype.constructor=Z,Z.prototype.isShaderMaterial=!0,Z.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=is.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Z.prototype.toJSON=function(e){var t=K.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},J.prototype=Object.create(K.prototype),J.prototype.constructor=J,J.prototype.isMeshDepthMaterial=!0,J.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},$.prototype={constructor:$,isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=+(1/0),n=+(1/0),r=+(1/0),i=-(1/0),o=-(1/0),a=-(1/0),s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],h=e[s+2];c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}this.min.set(t,n,r),this.max.set(i,o,a)},setFromBufferAttribute:function(e){for(var t=+(1/0),n=+(1/0),r=+(1/0),i=-(1/0),o=-(1/0),a=-(1/0),s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),h=e.getZ(s);c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}this.min.set(t,n,r),this.max.set(i,o,a)},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new u;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(){var e=new u;return function(t){var n=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){var r,i,o=t.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)e.copy(a[r]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)e.fromAttribute(s,r).applyMatrix4(t.matrixWorld),n.expandByPoint(e)}}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new u;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new u;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var n=t||new u;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e;return function(t){return void 0===e&&(e=new u),this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){var n=t||new u;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new u;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),getBoundingSphere:function(){var e=new u;return function(t){var n=t||new ee;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new u,new u,new u,new u,new u,new u,new u,new u];return function(t){return this.isEmpty()?this:(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e),this)}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},ee.prototype={constructor:ee,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new $;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(this.center.dot(e.normal)-e.constant)<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new u;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new $;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},te.prototype={constructor:te,isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToVector3Array:function(){var e;return function(t,n,r){void 0===e&&(e=new u),void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;i<r;i+=3,o+=3)e.fromArray(t,o),e.applyMatrix3(this),e.toArray(t,o);return t}}(),applyToBufferAttribute:function(){var e;return function(t){void 0===e&&(e=new u);for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=n[8],d=f*u-c*h,p=c*l-f*s,m=h*s-u*l,g=i*d+o*p+a*m;if(0===g){var v="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t===!0)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=d*y,r[1]=(a*h-f*o)*y,r[2]=(c*o-a*u)*y,r[3]=p*y,r[4]=(f*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},ne.prototype={constructor:ne,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new u,t=new u;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var n=this.distanceToPoint(e),r=t||new u;return r.copy(this.normal).multiplyScalar(n)},intersectLine:function(){var e=new u;return function(t,n){var r=n||new u,i=t.delta(e),o=this.normal.dot(i);if(0!==o){var a=-(t.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(t.start)}else if(0===this.distanceToPoint(t.start))return r.copy(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var t=e||new u;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new u,t=new te;return function(n,r){var i=this.coplanarPoint(e).applyMatrix4(n),o=r||t.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();
return this.constant=-i.dot(a),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},re.prototype={constructor:re,set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,l-s,p-h,y-m).normalize(),t[1].setComponents(a+r,l+s,p+h,y+m).normalize(),t[2].setComponents(a+i,l+u,p+f,y+g).normalize(),t[3].setComponents(a-i,l-u,p-f,y-g).normalize(),t[4].setComponents(a-o,l-c,p-d,y-v).normalize(),t[5].setComponents(a+o,l+c,p+d,y+v).normalize(),this},intersectsObject:function(){var e=new ee;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ee;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){var o=t[i].distanceToPoint(n);if(o<r)return!1}return!0},intersectsBox:function(){var e=new u,t=new u;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];e.x=o.normal.x>0?n.min.x:n.max.x,t.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.min.y:n.max.y,t.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.min.z:n.max.z,t.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},oe.prototype={constructor:oe,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var n=t||new u;return n.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new u;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new u;n.subVectors(e,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new u;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new u,t=new u,n=new u;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,h=.5*r.distanceTo(i),f=-this.direction.dot(t),d=n.dot(this.direction),p=-n.dot(t),m=n.lengthSq(),g=Math.abs(1-f*f);if(g>0)if(s=f*p-d,u=f*d-p,l=h*g,s>=0)if(u>=-l)if(u<=l){var v=1/g;s*=v,u*=v,c=s*(s+f*u+2*d)+u*(f*s+u+2*p)+m}else u=h,s=Math.max(0,-(f*u+d)),c=-s*s+u*(u+2*p)+m;else u=-h,s=Math.max(0,-(f*u+d)),c=-s*s+u*(u+2*p)+m;else u<=-l?(s=Math.max(0,-(-f*h+d)),u=s>0?-h:Math.min(Math.max(-h,-p),h),c=-s*s+u*(u+2*p)+m):u<=l?(s=0,u=Math.min(Math.max(-h,-p),h),c=u*(u+2*p)+m):(s=Math.max(0,-(f*h+d)),u=s>0?h:Math.min(Math.max(-h,-p),h),c=-s*s+u*(u+2*p)+m);else u=f>0?-h:h,s=Math.max(0,-(f*u+d)),c=-s*s+u*(u+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new u;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var n=e.normal.dot(this.direction);return n*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(){var e=new u;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new u,t=new u,n=new u,r=new u;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var f=c*this.direction.dot(t.cross(e));if(f<0)return null;if(h+f>l)return null;var d=-c*e.dot(r);return d<0?null:this.at(d/l,u)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},ae.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ae.DefaultOrder="XYZ",ae.prototype={constructor:ae,isEuler:!0,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Za.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],f=i[6],d=i[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===t?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,n,r){return void 0===e&&(e=new c),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new s;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new u(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},se.prototype={constructor:se,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return 0!==(this.mask&e.mask)}};var uc=0;ue.DefaultUp=new u(0,1,0),ue.DefaultMatrixAutoUpdate=!0,Object.assign(ue.prototype,t.prototype,{isObject3D:!0,applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new s;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new u(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new u(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new u(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new u;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new u(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new u(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new u(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new c;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new c;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var n=this.children.indexOf(e);n!==-1&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){var t=e||new u;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new u,t=new u;return function(n){var r=n||new s;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new s;return function(t){var n=t||new ae;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new u,t=new s;return function(n){var r=n||new u;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new s;return function(t){var n=t||new u;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&e!==!0||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e||""===e,r={};n&&(e={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===e.geometries[this.geometry.uuid]&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===e.materials[this.material.uuid]&&(e.materials[this.material.uuid]=this.material.toJSON(e)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(n){var a=t(e.geometries),s=t(e.materials),u=t(e.textures),c=t(e.images);a.length>0&&(r.geometries=a),s.length>0&&(r.materials=s),u.length>0&&(r.textures=u),c.length>0&&(r.images=c)}return r.object=i,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),ce.prototype={constructor:ce,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){var t=e||new u;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new u;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new u;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new u,t=new u;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e),a=o/i;return r&&(a=Za.clamp(a,0,1)),a}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t),i=n||new u;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},le.normal=function(){var e=new u;return function(t,n,r,i){var o=i||new u;o.subVectors(r,n),e.subVectors(t,n),o.cross(e);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),le.barycoordFromPoint=function(){var e=new u,t=new u,n=new u;return function(r,i,o,a,s){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var c=e.dot(e),l=e.dot(t),h=e.dot(n),f=t.dot(t),d=t.dot(n),p=c*f-l*l,m=s||new u;if(0===p)return m.set(-2,-1,-1);var g=1/p,v=(f*h-l*d)*g,y=(c*d-l*h)*g;return m.set(1-v-y,y,v)}}(),le.containsPoint=function(){var e=new u;return function(t,n,r,i){var o=le.barycoordFromPoint(t,n,r,i,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),le.prototype={constructor:le,set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new u,t=new u;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){var t=e||new u;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return le.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new ne;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return le.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return le.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e,t,n,r;return function(i,o){void 0===e&&(e=new ne,t=[new ce,new ce,new ce],n=new u,r=new u);var a=o||new u,s=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(i,n),this.containsPoint(n)===!0)a.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var c=0;c<t.length;c++){t[c].closestPointToPoint(n,!0,r);var l=n.distanceToSquared(r);l<s&&(s=l,a.copy(r))}}return a}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},he.prototype={constructor:he,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},fe.prototype=Object.create(K.prototype),fe.prototype.constructor=fe,fe.prototype.isMeshBasicMaterial=!0,fe.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},de.prototype={constructor:de,isBufferAttribute:!0,set needsUpdate(e){e===!0&&this.version++},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Y),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];t[n++]=o.a,t[n++]=o.b,t[n++]=o.c}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,i=0,o=e.length;i<o;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new n),t[r++]=a.x,t[r++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new u),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,o=e.length;r<o;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new i),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return(new this.constructor).copy(this)}},pe.prototype=Object.create(de.prototype),pe.prototype.constructor=pe,me.prototype=Object.create(de.prototype),me.prototype.constructor=me,ge.prototype=Object.create(de.prototype),ge.prototype.constructor=ge,ve.prototype=Object.create(de.prototype),ve.prototype.constructor=ve,ye.prototype=Object.create(de.prototype),ye.prototype.constructor=ye,be.prototype=Object.create(de.prototype),be.prototype.constructor=be,we.prototype=Object.create(de.prototype),we.prototype.constructor=we,Me.prototype=Object.create(de.prototype),Me.prototype.constructor=Me,Ee.prototype=Object.create(de.prototype),Ee.prototype.constructor=Ee,Object.assign(Ae.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,r=e.faces,i=e.vertices,o=e.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=e.morphTargets,c=u.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]=[];this.morphTargets.position=t}var h,f=e.morphNormals,d=f.length;if(d>0){h=[];for(var l=0;l<d;l++)h[l]=[];this.morphTargets.normal=h}for(var p=e.skinIndices,m=e.skinWeights,g=p.length===i.length,v=m.length===i.length,l=0;l<r.length;l++){var y=r[l];this.vertices.push(i[y.a],i[y.b],i[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var w=y.normal;this.normals.push(w,w,w)}var M=y.vertexColors;if(3===M.length)this.colors.push(M[0],M[1],M[2]);else{var E=y.color;this.colors.push(E,E,E)}if(a===!0){var A=o[0][l];void 0!==A?this.uvs.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new n,new n,new n))}if(s===!0){var A=o[1][l];void 0!==A?this.uvs2.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new n,new n,new n))}for(var x=0;x<c;x++){var T=u[x].vertices;t[x].push(T[y.a],T[y.b],T[y.c])}for(var x=0;x<d;x++){var _=f[x].vertexNormals[l];h[x].push(_.a,_.b,_.c)}g&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}}),Object.assign(xe.prototype,t.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new te).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){var i=this.vertices[n];i.applyMatrix4(e)}for(var n=0,r=this.faces.length;n<r;n++){var o=this.faces[n];o.normal.applyMatrix3(t).normalize();for(var a=0,s=o.vertexNormals.length;a<s;a++)o.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e;return function(t){return void 0===e&&(e=new c),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new c),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new c),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,n,r){return void 0===e&&(e=new c),e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,n,r){return void 0===e&&(e=new c),e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new ue),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,n,i){var o=void 0!==s?[f[e].clone(),f[t].clone(),f[n].clone()]:[],a=void 0!==c?[r.colors[e].clone(),r.colors[t].clone(),r.colors[n].clone()]:[],u=new he(e,t,n,o,a,i);r.faces.push(u),void 0!==l&&r.faceVertexUvs[0].push([d[e].clone(),d[t].clone(),d[n].clone()]),void 0!==h&&r.faceVertexUvs[1].push([p[e].clone(),p[t].clone(),p[n].clone()])}var r=this,i=null!==e.index?e.index.array:void 0,o=e.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,c=void 0!==o.color?o.color.array:void 0,l=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var f=[],d=[],p=[],m=0,g=0;m<a.length;m+=3,g+=2)r.vertices.push(new u(a[m],a[m+1],a[m+2])),void 0!==s&&f.push(new u(s[m],s[m+1],s[m+2])),void 0!==c&&r.colors.push(new Y(c[m],c[m+1],c[m+2])),void 0!==l&&d.push(new n(l[g],l[g+1])),void 0!==h&&p.push(new n(h[g],h[g+1]));if(void 0!==i){var v=e.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],b=y.start,w=y.count,g=b,M=b+w;g<M;g+=3)t(i[g],i[g+1],i[g+2],y.materialIndex);else for(var m=0;m<i.length;m+=3)t(i[m],i[m+1],i[m+2])}else for(var m=0;m<a.length/3;m+=3)t(m,m+1,m+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new c;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new u,t=new u,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);var t,n,r,i,o,a;for(a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new u;if(e){var s,c,l,h=new u,f=new u;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],h.subVectors(l,c),f.subVectors(s,c),h.cross(f),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var d=o.vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){n=this.faces[e];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new xe;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a,s,c=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)a=new u,s={a:new u,b:new u,c:new u},c.push(a),l.push(s)}var h=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],a=h.faceNormals[n],s=h.vertexNormals[n],a.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new $),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ee),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if((e&&e.isGeometry)===!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.faceVertexUvs[0],l=e.faceVertexUvs[0],h=this.colors,f=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new te).getNormalMatrix(t));for(var d=0,p=a.length;d<p;d++){var m=a[d],g=m.clone();void 0!==t&&g.applyMatrix4(t),o.push(g)}for(var d=0,p=f.length;d<p;d++)h.push(f[d].clone());for(d=0,p=u.length;d<p;d++){var v,y,b,w=u[d],M=w.vertexNormals,E=w.vertexColors;v=new he(w.a+i,w.b+i,w.c+i),v.normal.copy(w.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var A=0,x=M.length;A<x;A++)y=M[A].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),v.vertexNormals.push(y);v.color.copy(w.color);for(var A=0,x=E.length;A<x;A++)b=E[A],v.vertexColors.push(b.clone());v.materialIndex=w.materialIndex+n,s.push(v)}for(d=0,p=l.length;d<p;d++){var T=l[d],_=[];if(void 0!==T){for(var A=0,x=T.length;A<x;A++)_.push(T[A].clone());c.push(_);
}}},mergeMesh:function(e){return(e&&e.isMesh)===!1?void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e):(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[],h=4,f=Math.pow(10,h);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f),void 0===u[t]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=-1,m=0;m<3;m++)if(o[m]===o[(m+1)%3]){p=m,d.push(n);break}}for(n=d.length-1;n>=0;n--){var g=d[n];for(this.faces.splice(g,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(g,1)}var v=this.vertices.length-c.length;return this.vertices=c,v},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,n=t.length,r=0;r<n;r++)t[r]._id=r;t.sort(e);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(i=[]),s&&s.length===n&&(o=[]);for(var r=0;r<n;r++){var u=t[r]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==f[t]?f[t]:(f[t]=h.length/3,h.push(e.x,e.y,e.z),f[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==p[t]?p[t]:(p[t]=d.length,d.push(e.getHex()),p[t])}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=m.length/2,m.push(e.x,e.y),g[t])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],f={},d=[],p={},m=[],g={},u=0;u<this.faces.length;u++){var v=this.faces[u],y=!0,b=!1,w=void 0!==this.faceVertexUvs[0][u],M=v.normal.length()>0,E=v.vertexNormals.length>0,A=1!==v.color.r||1!==v.color.g||1!==v.color.b,x=v.vertexColors.length>0,T=0;if(T=e(T,0,0),T=e(T,1,y),T=e(T,2,b),T=e(T,3,w),T=e(T,4,M),T=e(T,5,E),T=e(T,6,A),T=e(T,7,x),l.push(T),l.push(v.a,v.b,v.c),l.push(v.materialIndex),w){var _=this.faceVertexUvs[0][u];l.push(r(_[0]),r(_[1]),r(_[2]))}if(M&&l.push(t(v.normal)),E){var k=v.vertexNormals;l.push(t(k[0]),t(k[1]),t(k[2]))}if(A&&l.push(n(v.color)),x){var S=v.vertexColors;l.push(n(S[0]),n(S[1]),n(S[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){return(new xe).copy(this)},copy:function(e){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]],this.colors=[];for(var t=e.vertices,n=0,r=t.length;n<r;n++)this.vertices.push(t[n].clone());for(var i=e.colors,n=0,r=i.length;n<r;n++)this.colors.push(i[n].clone());for(var o=e.faces,n=0,r=o.length;n<r;n++)this.faces.push(o[n].clone());for(var n=0,r=e.faceVertexUvs.length;n<r;n++){var a=e.faceVertexUvs[n];void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]);for(var s=0,u=a.length;s<u;s++){for(var c=a[s],l=[],h=0,f=c.length;h<f;h++){var d=c[h];l.push(d.clone())}this.faceVertexUvs[n].push(l)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var cc=0;Object.assign(_e.prototype,t.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){this.index=e},addAttribute:function(e,t){return(t&&t.isBufferAttribute)===!1&&(t&&t.isInterleavedBufferAttribute)===!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new de(arguments[1],arguments[2]))):"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this)},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new te).getNormalMatrix(e);r.applyToVector3Array(n.array),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e;return function(t){return void 0===e&&(e=new c),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new c),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new c),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,n,r){return void 0===e&&(e=new c),e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,n,r){return void 0===e&&(e=new c),e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new ue),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Me(3*t.vertices.length,3),r=new Me(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Me(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}var r;return t.verticesNeedUpdate===!0&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1),t.normalsNeedUpdate===!0&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1),t.colorsNeedUpdate===!0&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Ae).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new de(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new de(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new de(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new de(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new de(o,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var a=e.vertices.length>65535?Uint32Array:Uint16Array,s=new a(3*e.indices.length);this.setIndex(new de(s,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var u in e.morphTargets){for(var c=[],l=e.morphTargets[u],h=0,f=l.length;h<f;h++){var d=l[h],p=new Me(3*d.length,3);c.push(p.copyVector3sArray(d))}this.morphAttributes[u]=c}if(e.skinIndices.length>0){var m=new Me(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new Me(4*e.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new $);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new $,t=new u;return function(){null===this.boundingSphere&&(this.boundingSphere=new ee);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new de(new Float32Array(r.length),3));else for(var i=t.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,c,l,h=t.normal.array,f=new u,d=new u,p=new u,m=new u,g=new u;if(e){var v=e.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y)for(var w=n[y],M=w.start,E=w.count,o=M,a=M+E;o<a;o+=3)s=3*v[o+0],c=3*v[o+1],l=3*v[o+2],f.fromArray(r,s),d.fromArray(r,c),p.fromArray(r,l),m.subVectors(p,d),g.subVectors(f,d),m.cross(g),h[s]+=m.x,h[s+1]+=m.y,h[s+2]+=m.z,h[c]+=m.x,h[c+1]+=m.y,h[c+2]+=m.z,h[l]+=m.x,h[l+1]+=m.y,h[l+2]+=m.z}else for(var o=0,a=r.length;o<a;o+=9)f.fromArray(r,o),d.fromArray(r,o+3),p.fromArray(r,o+6),m.subVectors(p,d),g.subVectors(f,d),m.cross(g),h[o]=m.x,h[o+1]=m.y,h[o+2]=m.z,h[o+3]=m.x,h[o+4]=m.y,h[o+5]=m.z,h[o+6]=m.x,h[o+7]=m.y,h[o+8]=m.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if((e&&e.isBufferGeometry)===!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r],o=i.array,a=e.attributes[r],s=a.array,u=a.itemSize,c=0,l=u*t;c<s.length;c++,l++)o[l]=s[c];return this},normalizeNormals:function(){for(var e,t,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)e=i[o],t=i[o+1],n=i[o+2],r=1/Math.sqrt(e*e+t*t+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new _e,t=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(t.length*a),u=0,c=0,l=0,h=t.length;l<h;l++){u=t[l]*a;for(var f=0;f<a;f++)s[c++]=o[u++]}e.addAttribute(r,new de(s,a))}return e},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new _e).copy(this)},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=e.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),_e.MaxIndex=65535,ke.prototype=Object.assign(Object.create(ue.prototype),{constructor:ke,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ue.prototype.copy.call(this,e),this.drawMode=e.drawMode,this},updateMorphTargets:function(){var e=this.geometry.morphTargets;if(void 0!==e&&e.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,n=e.length;t<n;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[e[t].name]=t}},raycast:function(){function e(e,t,n,r,i,o,a){return le.barycoordFromPoint(e,t,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function t(e,t,n,r,i,o,a){var s,u=e.material;if(s=u.side===Bi?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,u.side!==Hi,a),null===s)return null;w.copy(a),w.applyMatrix4(e.matrixWorld);var c=t.ray.origin.distanceTo(w);return c<t.near||c>t.far?null:{distance:c,point:w.clone(),object:e}}function r(n,r,i,o,a,u,c,f){s.fromArray(o,3*u),l.fromArray(o,3*c),h.fromArray(o,3*f);var d=t(n,r,i,s,l,h,b);return d&&(a&&(m.fromArray(a,2*u),g.fromArray(a,2*c),v.fromArray(a,2*f),d.uv=e(b,s,l,h,m,g,v)),d.face=new he(u,c,f,le.normal(s,l,h)),d.faceIndex=u),d}var i=new c,o=new oe,a=new ee,s=new u,l=new u,h=new u,f=new u,d=new u,p=new u,m=new n,g=new n,v=new n,y=new u,b=new u,w=new u;return function(n,u){var c=this.geometry,y=this.material,w=this.matrixWorld;if(void 0!==y&&(null===c.boundingSphere&&c.computeBoundingSphere(),a.copy(c.boundingSphere),a.applyMatrix4(w),n.ray.intersectsSphere(a)!==!1&&(i.getInverse(w),o.copy(n.ray).applyMatrix4(i),null===c.boundingBox||o.intersectsBox(c.boundingBox)!==!1))){var M,E;if(c.isBufferGeometry){var A,x,T,_=c.index,k=c.attributes,S=k.position.array;if(void 0!==k.uv&&(M=k.uv.array),null!==_)for(var N=_.array,L=0,D=N.length;L<D;L+=3)A=N[L],x=N[L+1],T=N[L+2],E=r(this,n,o,S,M,A,x,T),E&&(E.faceIndex=Math.floor(L/3),u.push(E));else for(var L=0,D=S.length;L<D;L+=9)A=L/3,x=A+1,T=A+2,E=r(this,n,o,S,M,A,x,T),E&&(E.index=A,u.push(E))}else if(c.isGeometry){var C,I,O,R=y&&y.isMultiMaterial,j=R===!0?y.materials:null,P=c.vertices,U=c.faces,F=c.faceVertexUvs[0];F.length>0&&(M=F);for(var z=0,B=U.length;z<B;z++){var H=U[z],V=R===!0?j[H.materialIndex]:y;if(void 0!==V){if(C=P[H.a],I=P[H.b],O=P[H.c],V.morphTargets===!0){var G=c.morphTargets,Y=this.morphTargetInfluences;s.set(0,0,0),l.set(0,0,0),h.set(0,0,0);for(var Q=0,W=G.length;Q<W;Q++){var q=Y[Q];if(0!==q){var X=G[Q].vertices;s.addScaledVector(f.subVectors(X[H.a],C),q),l.addScaledVector(d.subVectors(X[H.b],I),q),h.addScaledVector(p.subVectors(X[H.c],O),q)}}s.add(C),l.add(I),h.add(O),C=s,I=l,O=h}if(E=t(this,n,o,C,I,O,b)){if(M){var K=M[z];m.copy(K[0]),g.copy(K[1]),v.copy(K[2]),E.uv=e(b,C,I,O,m,g,v)}E.face=H,E.faceIndex=z,u.push(E)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Se.prototype=Object.create(_e.prototype),Se.prototype.constructor=Se,Ne.prototype=Object.create(_e.prototype),Ne.prototype.constructor=Ne,Le.prototype=Object.create(ue.prototype),Le.prototype.constructor=Le,Le.prototype.isCamera=!0,Le.prototype.getWorldDirection=function(){var e=new s;return function(t){var n=t||new u;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),Le.prototype.lookAt=function(){var e=new c;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),Le.prototype.clone=function(){return(new this.constructor).copy(this)},Le.prototype.copy=function(e){return ue.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},De.prototype=Object.assign(Object.create(Le.prototype),{constructor:De,isPerspectiveCamera:!0,copy:function(e){return Le.prototype.copy.call(this,e),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Za.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Za.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Za.RAD2DEG*Math.atan(Math.tan(.5*Za.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Za.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makeFrustum(i,i+r,t-n,t,e,this.far)},toJSON:function(e){var t=ue.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Ce.prototype=Object.assign(Object.create(Le.prototype),{constructor:Ce,isOrthographicCamera:!0,copy:function(e){return Le.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=l*(this.view.offsetX/u),o=i+l*(this.view.width/u),a-=h*(this.view.offsetY/c),s=a-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(e){var t=ue.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}});var lc=0;at.prototype.isFogExp2=!0,at.prototype.clone=function(){return new at(this.color.getHex(),this.density)},at.prototype.toJSON=function(e){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},st.prototype.isFog=!0,st.prototype.clone=function(){return new st(this.color.getHex(),this.near,this.far)},st.prototype.toJSON=function(e){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},ut.prototype=Object.create(ue.prototype),ut.prototype.constructor=ut,ut.prototype.copy=function(e,t){return ue.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},ut.prototype.toJSON=function(e){var t=ue.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},ct.prototype=Object.assign(Object.create(ue.prototype),{constructor:ct,isLensFlare:!0,copy:function(e){ue.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,r,i,o){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new Y(16777215)),void 0===r&&(r=Xi),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<n;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),lt.prototype=Object.create(K.prototype),lt.prototype.constructor=lt,lt.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},ht.prototype=Object.assign(Object.create(ue.prototype),{constructor:ht,isSprite:!0,raycast:function(){var e=new u;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceSqToPoint(e),i=this.scale.x*this.scale.y/4;r>i||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),ft.prototype=Object.assign(Object.create(ue.prototype),{constructor:ft,copy:function(e){ue.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new u;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new u,t=new u;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=ue.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Object.assign(dt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new c;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e,t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(var t=0,n=this.bones.length;t<n;t++)e=this.bones[t],e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new c;return function(){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(r,this.boneInverses[t]),e.toArray(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new dt(this.bones,this.boneInverses,this.useVertexTexture)}}),pt.prototype=Object.assign(Object.create(ue.prototype),{constructor:pt,isBone:!0}),mt.prototype=Object.assign(Object.create(ke.prototype),{constructor:mt,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var e=0;e<this.geometry.skinWeights.length;e++){var t=this.geometry.skinWeights[e],n=1/t.lengthManhattan();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var r=new i,o=this.geometry.attributes.skinWeight,e=0;e<o.count;e++){r.x=o.getX(e),r.y=o.getY(e),r.z=o.getZ(e),r.w=o.getW(e);var n=1/r.lengthManhattan();n!==1/0?r.multiplyScalar(n):r.set(1,0,0,0),o.setXYZW(e,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(e){ke.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),gt.prototype=Object.create(K.prototype),gt.prototype.constructor=gt,gt.prototype.isLineBasicMaterial=!0,gt.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},vt.prototype=Object.assign(Object.create(ue.prototype),{constructor:vt,isLine:!0,raycast:function(){var e=new c,t=new oe,n=new ee;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(c),r.ray.intersectsSphere(n)!==!1){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var l=new u,h=new u,f=new u,d=new u,p=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var m=s.index,g=s.attributes,v=g.position.array;if(null!==m)for(var y=m.array,b=0,w=y.length-1;b<w;b+=p){var M=y[b],E=y[b+1];l.fromArray(v,3*M),h.fromArray(v,3*E);var A=t.distanceSqToSegment(l,h,d,f);if(!(A>a)){d.applyMatrix4(this.matrixWorld);var x=r.ray.origin.distanceTo(d);x<r.near||x>r.far||i.push({distance:x,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,w=v.length/3-1;b<w;b+=p){l.fromArray(v,3*b),h.fromArray(v,3*b+3);var A=t.distanceSqToSegment(l,h,d,f);if(!(A>a)){d.applyMatrix4(this.matrixWorld);var x=r.ray.origin.distanceTo(d);x<r.near||x>r.far||i.push({distance:x,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry)for(var T=s.vertices,_=T.length,b=0;b<_-1;b+=p){var A=t.distanceSqToSegment(T[b],T[b+1],d,f);if(!(A>a)){d.applyMatrix4(this.matrixWorld);var x=r.ray.origin.distanceTo(d);x<r.near||x>r.far||i.push({distance:x,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yt.prototype=Object.assign(Object.create(vt.prototype),{constructor:yt,isLineSegments:!0}),bt.prototype=Object.create(K.prototype),bt.prototype.constructor=bt,bt.prototype.isPointsMaterial=!0,bt.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},wt.prototype=Object.assign(Object.create(ue.prototype),{constructor:wt,isPoints:!0,raycast:function(){var e=new c,t=new oe,n=new ee;return function(r,i){function o(e,n){var o=t.distanceSqToPoint(e);if(o<f){var s=t.closestPointToPoint(e);s.applyMatrix4(c);var u=r.ray.origin.distanceTo(s);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,c=this.matrixWorld,l=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(c),r.ray.intersectsSphere(n)!==!1){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var h=l/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,d=new u;if(s.isBufferGeometry){var p=s.index,m=s.attributes,g=m.position.array;if(null!==p)for(var v=p.array,y=0,b=v.length;y<b;y++){var w=v[y];d.fromArray(g,3*w),o(d,w)}else for(var y=0,M=g.length/3;y<M;y++)d.fromArray(g,3*y),o(d,y)}else for(var E=s.vertices,y=0,M=E.length;y<M;y++)o(E[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Mt.prototype=Object.assign(Object.create(ue.prototype),{constructor:Mt}),Et.prototype=Object.create(r.prototype),Et.prototype.constructor=Et,At.prototype=Object.create(r.prototype),At.prototype.constructor=At,At.prototype.isCompressedTexture=!0,xt.prototype=Object.create(r.prototype),xt.prototype.constructor=xt,Tt.prototype=Object.create(r.prototype),Tt.prototype.constructor=Tt,Tt.prototype.isDepthTexture=!0,_t.prototype=Object.create(_e.prototype),_t.prototype.constructor=_t,kt.prototype=Object.create(_e.prototype),kt.prototype.constructor=kt,St.prototype=Object.create(xe.prototype),St.prototype.constructor=St,Nt.prototype=Object.create(_e.prototype),Nt.prototype.constructor=Nt,Lt.prototype=Object.create(Nt.prototype),Lt.prototype.constructor=Lt,Dt.prototype=Object.create(xe.prototype),Dt.prototype.constructor=Dt,Ct.prototype=Object.create(Nt.prototype),Ct.prototype.constructor=Ct,It.prototype=Object.create(xe.prototype),It.prototype.constructor=It,Ot.prototype=Object.create(Nt.prototype),Ot.prototype.constructor=Ot,Rt.prototype=Object.create(xe.prototype),Rt.prototype.constructor=Rt,jt.prototype=Object.create(Nt.prototype),jt.prototype.constructor=jt,Pt.prototype=Object.create(xe.prototype),Pt.prototype.constructor=Pt,Ut.prototype=Object.create(xe.prototype),Ut.prototype.constructor=Ut,Ft.prototype=Object.create(_e.prototype),Ft.prototype.constructor=Ft,zt.prototype=Object.create(xe.prototype),zt.prototype.constructor=zt,Bt.prototype=Object.create(_e.prototype),Bt.prototype.constructor=Bt,Ht.prototype=Object.create(xe.prototype),Ht.prototype.constructor=Ht,Vt.prototype=Object.create(_e.prototype),Vt.prototype.constructor=Vt,Gt.prototype=Object.create(xe.prototype),Gt.prototype.constructor=Gt;var hc={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},triangulate:function(){function e(e,t,n,r,i,o){var a,s,u,c,l,h,f,d,p;if(s=e[o[t]].x,u=e[o[t]].y,c=e[o[n]].x,l=e[o[n]].y,h=e[o[r]].x,f=e[o[r]].y,(c-s)*(f-u)-(l-u)*(h-s)<=0)return!1;var m,g,v,y,b,w,M,E,A,x,T,_,k,S,N;for(m=h-c,g=f-l,v=s-h,y=u-f,b=c-s,w=l-u,a=0;a<i;a++)if(d=e[o[a]].x,p=e[o[a]].y,!(d===s&&p===u||d===c&&p===l||d===h&&p===f)&&(M=d-s,E=p-u,A=d-c,x=p-l,T=d-h,_=p-f,N=m*x-g*A,k=b*E-w*M,S=v*_-y*T,N>=-Number.EPSILON&&S>=-Number.EPSILON&&k>=-Number.EPSILON))return!1;return!0}return function(t,n){var r=t.length;if(r<3)return null;var i,o,a,s=[],u=[],c=[];if(hc.area(t)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;
var l=r,h=2*l;for(o=l-1;l>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:s;if(i=o,l<=i&&(i=0),o=i+1,l<=o&&(o=0),a=o+1,l<=a&&(a=0),e(t,i,o,a,l,u)){var f,d,p,m,g;for(f=u[i],d=u[o],p=u[a],s.push([t[f],t[d],t[p]]),c.push([u[i],u[o],u[a]]),m=o,g=o+1;g<l;m++,g++)u[m]=u[g];l--,h=2*l}}return n?c:s}}(),triangulateShape:function(e,t){function n(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function r(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function i(e,t,n,i,o){var a=t.x-e.x,s=t.y-e.y,u=i.x-n.x,c=i.y-n.y,l=e.x-n.x,h=e.y-n.y,f=s*u-a*c,d=s*l-a*h;if(Math.abs(f)>Number.EPSILON){var p;if(f>0){if(d<0||d>f)return[];if(p=c*l-u*h,p<0||p>f)return[]}else{if(d>0||d<f)return[];if(p=c*l-u*h,p>0||p<f)return[]}if(0===p)return!o||0!==d&&d!==f?[e]:[];if(p===f)return!o||0!==d&&d!==f?[t]:[];if(0===d)return[n];if(d===f)return[i];var m=p/f;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!==d||c*l!==u*h)return[];var g=0===a&&0===s,v=0===u&&0===c;if(g&&v)return e.x!==n.x||e.y!==n.y?[]:[e];if(g)return r(n,i,e)?[e]:[];if(v)return r(e,t,n)?[n]:[];var y,b,w,M,E,A,x,T;return 0!==a?(e.x<t.x?(y=e,w=e.x,b=t,M=t.x):(y=t,w=t.x,b=e,M=e.x),n.x<i.x?(E=n,x=n.x,A=i,T=i.x):(E=i,x=i.x,A=n,T=n.x)):(e.y<t.y?(y=e,w=e.y,b=t,M=t.y):(y=t,w=t.y,b=e,M=e.y),n.y<i.y?(E=n,x=n.y,A=i,T=i.y):(E=i,x=i.y,A=n,T=n.y)),w<=x?M<x?[]:M===x?o?[]:[E]:M<=T?[E,b]:[E,A]:w>T?[]:w===T?o?[]:[y]:M<=T?[y,b]:[y,A]}function o(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,u=r.x-e.x,c=r.y-e.y,l=i*s-o*a,h=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var f=u*s-c*a;return l>0?h>=0&&f>=0:h>=0||f>=0}return h>0}function a(e,t){function n(e,t){var n=y.length-1,r=e-1;r<0&&(r=n);var i=e+1;i>n&&(i=0);var a=o(y[e],y[r],y[i],s[t]);if(!a)return!1;var u=s.length-1,c=t-1;c<0&&(c=u);var l=t+1;return l>u&&(l=0),a=o(s[t],s[c],s[l],y[e]),!!a}function r(e,t){var n,r,o;for(n=0;n<y.length;n++)if(r=n+1,r%=y.length,o=i(e,t,y[n],y[r],!0),o.length>0)return!0;return!1}function a(e,n){var r,o,a,s,u;for(r=0;r<b.length;r++)for(o=t[b[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(e,n,o[a],o[s],!0),u.length>0)return!0;return!1}for(var s,u,c,l,h,f,d,p,m,g,v,y=e.concat(),b=[],w=[],M=0,E=t.length;M<E;M++)b.push(M);for(var A=0,x=2*b.length;b.length>0;){if(x--,x<0){console.log("Infinite Loop! Holes left:"+b.length+", Probably Hole outside Shape!");break}for(c=A;c<y.length;c++){l=y[c],u=-1;for(var M=0;M<b.length;M++)if(f=b[M],d=l.x+":"+l.y+":"+f,void 0===w[d]){s=t[f];for(var T=0;T<s.length;T++)if(h=s[T],n(c,T)&&!r(l,h)&&!a(l,h)){u=T,b.splice(M,1),p=y.slice(0,c+1),m=y.slice(c),g=s.slice(u),v=s.slice(0,u+1),y=p.concat(g).concat(v).concat(m),A=c;break}if(u>=0)break;w[d]=!0}if(u>=0)break}}return y}n(e),t.forEach(n);for(var s,u,c,l,h,f,d={},p=e.concat(),m=0,g=t.length;m<g;m++)Array.prototype.push.apply(p,t[m]);for(s=0,u=p.length;s<u;s++)h=p[s].x+":"+p[s].y,void 0!==d[h]&&console.warn("THREE.ShapeUtils: Duplicate point",h,s),d[h]=s;var v=a(e,t),y=hc.triangulate(v,!1);for(s=0,u=y.length;s<u;s++)for(l=y[s],c=0;c<3;c++)h=l[c].x+":"+l[c].y,f=d[h],void 0!==f&&(l[c]=f);return y.concat()},isClockWise:function(e){return hc.area(e)<0},b2:function(){function e(e,t){var n=1-e;return n*n*t}function t(e,t){return 2*(1-e)*e*t}function n(e,t){return e*e*t}return function(r,i,o,a){return e(r,i)+t(r,o)+n(r,a)}}(),b3:function(){function e(e,t){var n=1-e;return n*n*n*t}function t(e,t){var n=1-e;return 3*n*n*e*t}function n(e,t){var n=1-e;return 3*n*e*e*t}function r(e,t){return e*e*e*t}return function(i,o,a,s,u){return e(i,o)+t(i,a)+n(i,s)+r(i,u)}}()};Yt.prototype=Object.create(xe.prototype),Yt.prototype.constructor=Yt,Yt.prototype.addShapeList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];this.addShape(i,t)}},Yt.prototype.addShape=function(e,t){function r(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function i(e,t,r){var i,o,a=1,s=e.x-t.x,u=e.y-t.y,c=r.x-e.x,l=r.y-e.y,h=s*s+u*u,f=s*l-u*c;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(h),p=Math.sqrt(c*c+l*l),m=t.x-u/d,g=t.y+s/d,v=r.x-l/p,y=r.y+c/p,b=((v-m)*l-(y-g)*c)/(s*l-u*c);i=m+s*b-e.x,o=g+u*b-e.y;var w=i*i+o*o;if(w<=2)return new n(i,o);a=Math.sqrt(w/2)}else{var M=!1;s>Number.EPSILON?c>Number.EPSILON&&(M=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(M=!0):Math.sign(u)===Math.sign(l)&&(M=!0),M?(i=-u,o=s,a=Math.sqrt(h)):(i=s,o=u,a=Math.sqrt(h/2))}return new n(i/a,o/a)}function o(){if(M){var e=0,t=G*e;for(W=0;W<Y;W++)V=j[W],l(V[2]+t,V[1]+t,V[0]+t);for(e=A+2*w,t=G*e,W=0;W<Y;W++)V=j[W],l(V[0]+t,V[1]+t,V[2]+t)}else{for(W=0;W<Y;W++)V=j[W],l(V[2],V[1],V[0]);for(W=0;W<Y;W++)V=j[W],l(V[0]+G*A,V[1]+G*A,V[2]+G*A)}}function a(){var e=0;for(s(P,e),e+=P.length,S=0,N=O.length;S<N;S++)k=O[S],s(k,e),e+=k.length}function s(e,t){var n,r;for(W=e.length;--W>=0;){n=W,r=W-1,r<0&&(r=e.length-1);var i=0,o=A+2*w;for(i=0;i<o;i++){var a=G*i,s=G*(i+1),u=t+n+a,c=t+r+a,l=t+r+s,f=t+n+s;h(u,c,l,f,e,i,o,n,r)}}}function c(e,t,n){L.vertices.push(new u(e,t,n))}function l(e,t,n){e+=D,t+=D,n+=D,L.faces.push(new he(e,t,n,null,null,0));var r=_.generateTopUV(L,e,t,n);L.faceVertexUvs[0].push(r)}function h(e,t,n,r,i,o,a,s,u){e+=D,t+=D,n+=D,r+=D,L.faces.push(new he(e,t,r,null,null,1)),L.faces.push(new he(t,n,r,null,null,1));var c=_.generateSideWallUV(L,e,t,n,r);L.faceVertexUvs[0].push([c[0],c[1],c[3]]),L.faceVertexUvs[0].push([c[1],c[2],c[3]])}var f,d,p,m,g,v=void 0!==t.amount?t.amount:100,y=void 0!==t.bevelThickness?t.bevelThickness:6,b=void 0!==t.bevelSize?t.bevelSize:y-2,w=void 0!==t.bevelSegments?t.bevelSegments:3,M=void 0===t.bevelEnabled||t.bevelEnabled,E=void 0!==t.curveSegments?t.curveSegments:12,A=void 0!==t.steps?t.steps:1,x=t.extrudePath,T=!1,_=void 0!==t.UVGenerator?t.UVGenerator:Yt.WorldUVGenerator;x&&(f=x.getSpacedPoints(A),T=!0,M=!1,d=void 0!==t.frames?t.frames:x.computeFrenetFrames(A,!1),p=new u,m=new u,g=new u),M||(w=0,y=0,b=0);var k,S,N,L=this,D=this.vertices.length,C=e.extractPoints(E),I=C.shape,O=C.holes,R=!hc.isClockWise(I);if(R){for(I=I.reverse(),S=0,N=O.length;S<N;S++)k=O[S],hc.isClockWise(k)&&(O[S]=k.reverse());R=!1}var j=hc.triangulateShape(I,O),P=I;for(S=0,N=O.length;S<N;S++)k=O[S],I=I.concat(k);for(var U,F,z,B,H,V,G=I.length,Y=j.length,Q=[],W=0,q=P.length,X=q-1,K=W+1;W<q;W++,X++,K++)X===q&&(X=0),K===q&&(K=0),Q[W]=i(P[W],P[X],P[K]);var Z,J=[],$=Q.concat();for(S=0,N=O.length;S<N;S++){for(k=O[S],Z=[],W=0,q=k.length,X=q-1,K=W+1;W<q;W++,X++,K++)X===q&&(X=0),K===q&&(K=0),Z[W]=i(k[W],k[X],k[K]);J.push(Z),$=$.concat(Z)}for(U=0;U<w;U++){for(z=U/w,B=y*Math.cos(z*Math.PI/2),F=b*Math.sin(z*Math.PI/2),W=0,q=P.length;W<q;W++)H=r(P[W],Q[W],F),c(H.x,H.y,-B);for(S=0,N=O.length;S<N;S++)for(k=O[S],Z=J[S],W=0,q=k.length;W<q;W++)H=r(k[W],Z[W],F),c(H.x,H.y,-B)}for(F=b,W=0;W<G;W++)H=M?r(I[W],$[W],F):I[W],T?(m.copy(d.normals[0]).multiplyScalar(H.x),p.copy(d.binormals[0]).multiplyScalar(H.y),g.copy(f[0]).add(m).add(p),c(g.x,g.y,g.z)):c(H.x,H.y,0);var ee;for(ee=1;ee<=A;ee++)for(W=0;W<G;W++)H=M?r(I[W],$[W],F):I[W],T?(m.copy(d.normals[ee]).multiplyScalar(H.x),p.copy(d.binormals[ee]).multiplyScalar(H.y),g.copy(f[ee]).add(m).add(p),c(g.x,g.y,g.z)):c(H.x,H.y,v/A*ee);for(U=w-1;U>=0;U--){for(z=U/w,B=y*Math.cos(z*Math.PI/2),F=b*Math.sin(z*Math.PI/2),W=0,q=P.length;W<q;W++)H=r(P[W],Q[W],F),c(H.x,H.y,v+B);for(S=0,N=O.length;S<N;S++)for(k=O[S],Z=J[S],W=0,q=k.length;W<q;W++)H=r(k[W],Z[W],F),T?c(H.x,H.y+f[A-1].y,f[A-1].x+B):c(H.x,H.y,v+B)}o(),a()},Yt.WorldUVGenerator={generateTopUV:function(e,t,r,i){var o=e.vertices,a=o[t],s=o[r],u=o[i];return[new n(a.x,a.y),new n(s.x,s.y),new n(u.x,u.y)]},generateSideWallUV:function(e,t,r,i,o){var a=e.vertices,s=a[t],u=a[r],c=a[i],l=a[o];return Math.abs(s.y-u.y)<.01?[new n(s.x,1-s.z),new n(u.x,1-u.z),new n(c.x,1-c.z),new n(l.x,1-l.z)]:[new n(s.y,1-s.z),new n(u.y,1-u.z),new n(c.y,1-c.z),new n(l.y,1-l.z)]}},Qt.prototype=Object.create(Yt.prototype),Qt.prototype.constructor=Qt,Wt.prototype=Object.create(_e.prototype),Wt.prototype.constructor=Wt,qt.prototype=Object.create(xe.prototype),qt.prototype.constructor=qt,Xt.prototype=Object.create(_e.prototype),Xt.prototype.constructor=Xt,Kt.prototype=Object.create(xe.prototype),Kt.prototype.constructor=Kt,Zt.prototype=Object.create(xe.prototype),Zt.prototype.constructor=Zt,Jt.prototype=Object.create(_e.prototype),Jt.prototype.constructor=Jt,$t.prototype=Object.create(xe.prototype),$t.prototype.constructor=$t,en.prototype=Object.create(_e.prototype),en.prototype.constructor=en,tn.prototype=Object.create(xe.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(_e.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(_e.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(xe.prototype),on.prototype.constructor=on,an.prototype=Object.create(on.prototype),an.prototype.constructor=an,sn.prototype=Object.create(rn.prototype),sn.prototype.constructor=sn,un.prototype=Object.create(_e.prototype),un.prototype.constructor=un,cn.prototype=Object.create(xe.prototype),cn.prototype.constructor=cn,ln.prototype=Object.create(xe.prototype),ln.prototype.constructor=ln;var fc=Object.freeze({WireframeGeometry:_t,ParametricGeometry:St,ParametricBufferGeometry:kt,TetrahedronGeometry:Dt,TetrahedronBufferGeometry:Lt,OctahedronGeometry:It,OctahedronBufferGeometry:Ct,IcosahedronGeometry:Rt,IcosahedronBufferGeometry:Ot,DodecahedronGeometry:Pt,DodecahedronBufferGeometry:jt,PolyhedronGeometry:Ut,PolyhedronBufferGeometry:Nt,TubeGeometry:zt,TubeBufferGeometry:Ft,TorusKnotGeometry:Ht,TorusKnotBufferGeometry:Bt,TorusGeometry:Gt,TorusBufferGeometry:Vt,TextGeometry:Qt,SphereBufferGeometry:Wt,SphereGeometry:qt,RingGeometry:Kt,RingBufferGeometry:Xt,PlaneBufferGeometry:Ne,PlaneGeometry:Zt,LatheGeometry:$t,LatheBufferGeometry:Jt,ShapeGeometry:tn,ShapeBufferGeometry:en,ExtrudeGeometry:Yt,EdgesGeometry:nn,ConeGeometry:an,ConeBufferGeometry:sn,CylinderGeometry:on,CylinderBufferGeometry:rn,CircleBufferGeometry:un,CircleGeometry:cn,BoxBufferGeometry:Se,BoxGeometry:ln});hn.prototype=Object.create(Z.prototype),hn.prototype.constructor=hn,hn.prototype.isShadowMaterial=!0,fn.prototype=Object.create(Z.prototype),fn.prototype.constructor=fn,fn.prototype.isRawShaderMaterial=!0,dn.prototype={constructor:dn,isMultiMaterial:!0,toJSON:function(e){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(e);delete o.metadata,t.materials.push(o)}return t.visible=this.visible,t},clone:function(){for(var e=new this.constructor,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e.visible=this.visible,e}},pn.prototype=Object.create(K.prototype),pn.prototype.constructor=pn,pn.prototype.isMeshStandardMaterial=!0,pn.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},mn.prototype=Object.create(pn.prototype),mn.prototype.constructor=mn,mn.prototype.isMeshPhysicalMaterial=!0,mn.prototype.copy=function(e){return pn.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},gn.prototype=Object.create(K.prototype),gn.prototype.constructor=gn,gn.prototype.isMeshPhongMaterial=!0,gn.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},vn.prototype=Object.create(gn.prototype),vn.prototype.constructor=vn,vn.prototype.isMeshToonMaterial=!0,vn.prototype.copy=function(e){return gn.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},yn.prototype=Object.create(K.prototype),yn.prototype.constructor=yn,yn.prototype.isMeshNormalMaterial=!0,yn.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},bn.prototype=Object.create(K.prototype),bn.prototype.constructor=bn,bn.prototype.isMeshLambertMaterial=!0,bn.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},wn.prototype=Object.create(K.prototype),wn.prototype.constructor=wn,wn.prototype.isLineDashedMaterial=!0,wn.prototype.copy=function(e){return K.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var dc=Object.freeze({ShadowMaterial:hn,SpriteMaterial:lt,RawShaderMaterial:fn,ShaderMaterial:Z,PointsMaterial:bt,MultiMaterial:dn,MeshPhysicalMaterial:mn,MeshStandardMaterial:pn,MeshPhongMaterial:gn,MeshToonMaterial:vn,MeshNormalMaterial:yn,MeshLambertMaterial:bn,MeshDepthMaterial:J,MeshBasicMaterial:fe,LineDashedMaterial:wn,LineBasicMaterial:gt,Material:K}),pc={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},mc=new Mn;Object.assign(En.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,o=pc.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);if(s){var u=s[1],c=!!s[2],l=s[3];l=window.decodeURIComponent(l),c&&(l=window.atob(l));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":h=new ArrayBuffer(l.length);for(var d=new Uint8Array(h),p=0;p<l.length;p++)d[p]=l.charCodeAt(p);"blob"===f&&(h=new Blob([h],{type:u}));break;case"document":var m=new DOMParser;h=m.parseFromString(l,u);break;case"json":h=JSON.parse(l);break;default:h=l}window.setTimeout(function(){t&&t(h),i.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){r&&r(t),i.manager.itemError(e)},0)}}else{var g=new XMLHttpRequest;g.open("GET",e,!0),g.addEventListener("load",function(n){var o=n.target.response;pc.add(e,o),200===this.status?(t&&t(o),i.manager.itemEnd(e)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),t&&t(o),i.manager.itemEnd(e)):(r&&r(n),i.manager.itemError(e))},!1),void 0!==n&&g.addEventListener("progress",function(e){n(e)},!1),g.addEventListener("error",function(t){r&&r(t),i.manager.itemError(e)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),g.send(null)}return i.manager.itemStart(e),g},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Object.assign(An.prototype,{load:function(e,t,n,r){function i(i){u.load(e[i],function(e){var n=o._parser(e,!0);a[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(s.minFilter=Ko),s.format=n.format,s.needsUpdate=!0,t&&t(s))},n,r)}var o=this,a=[],s=new At;s.image=a;var u=new En(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=0,h=e.length;l<h;++l)i(l);else u.load(e,function(e){var n=o._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,i=0;i<r;i++){a[i]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+u]),a[i].format=n.format,a[i].width=n.width,a[i].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=Ko),s.format=n.format,s.needsUpdate=!0,t&&t(s)},n,r);return s},setPath:function(e){return this.path=e,this}});var gc=xn;Object.assign(xn.prototype,{load:function(e,t,n,r){var i=this,o=new Q,a=new En(this.manager);return a.setResponseType("arraybuffer"),a.load(e,function(e){var n=i._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Go,o.wrapT=void 0!==n.wrapT?n.wrapT:Go,o.magFilter=void 0!==n.magFilter?n.magFilter:Ko,o.minFilter=void 0!==n.minFilter?n.minFilter:Jo,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Ko),o.needsUpdate=!0,t&&t(o,n))},n,r),o}}),Object.assign(Tn.prototype,{load:function(e,t,n,r){var i=this,o=document.createElementNS("http://www.w3.org/1999/xhtml","img");if(o.onload=function(){o.onload=null,URL.revokeObjectURL(o.src),t&&t(o),i.manager.itemEnd(e)},o.onerror=r,0===e.indexOf("data:"))o.src=e;else if(void 0!==this.crossOrigin)o.crossOrigin=this.crossOrigin,o.src=e;else{var a=new En;a.setPath(this.path),a.setResponseType("blob"),a.setWithCredentials(this.withCredentials),a.load(e,function(e){o.src=URL.createObjectURL(e)},n,r)}return i.manager.itemStart(e),o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(_n.prototype,{load:function(e,t,n,r){function i(n){a.load(e[n],function(e){o.images[n]=e,s++,6===s&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}var o=new l,a=new Tn(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,u=0;u<e.length;++u)i(u);return o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(kn.prototype,{load:function(e,t,n,i){var o=new r,a=new Tn(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setWithCredentials(this.withCredentials),a.setPath(this.path),a.load(e,function(n){var r=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);o.format=r?da:pa,o.image=n,o.needsUpdate=!0,void 0!==t&&t(o)},n,i),o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this}}),Sn.prototype=Object.assign(Object.create(ue.prototype),{constructor:Sn,isLight:!0,copy:function(e){return ue.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ue.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Nn.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Nn,isHemisphereLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ln.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Dn.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Dn,isSpotLightShadow:!0,update:function(e){var t=2*Za.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,r=e.distance||500,i=this.camera;t===i.fov&&n===i.aspect&&r===i.far||(i.fov=t,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Cn.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Cn,isSpotLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),In.prototype=Object.assign(Object.create(Sn.prototype),{constructor:In,isPointLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),On.prototype=Object.assign(Object.create(Ln.prototype),{constructor:On}),Rn.prototype=Object.assign(Object.create(Sn.prototype),{constructor:Rn,isDirectionalLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),jn.prototype=Object.assign(Object.create(Sn.prototype),{constructor:jn,isAmbientLight:!0});var vc={arraySlice:function(e,t,n){return vc.isTypedArray(e)?new e.constructor(e.subarray(t,n)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,n){return e[t]-e[n]}for(var n=e.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a)){do a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++];while(void 0!==o)}else if(void 0!==a.toArray){do a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++];while(void 0!==o)}else do a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++];while(void 0!==o)}}};Pn.prototype={constructor:Pn,evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}{if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(e,t,n,r){throw new Error("call to abstract method")},intervalChanged_:function(e,t,n){}},Object.assign(Pn.prototype,{beforeStart_:Pn.prototype.copySampleValue_,afterEnd_:Pn.prototype.copySampleValue_}),Un.prototype=Object.assign(Object.create(Pn.prototype),{constructor:Un,DefaultSettings_:{endingStart:Ra,endingEnd:Ra},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case ja:i=e,a=2*t-n;break;case Pa:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ja:o=e,s=2*n-t;break;case Pa:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,g=-h*m+2*h*p-h*d,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,b=f*m-f*p,w=0;w!==a;++w)i[w]=g*o[c+w]+v*o[u+w]+y*o[s+w]+b*o[l+w];return i}}),Fn.prototype=Object.assign(Object.create(Pn.prototype),{constructor:Fn,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=(n-t)/(r-t),l=1-c,h=0;h!==a;++h)i[h]=o[u+h]*l+o[s+h]*c;return i}}),zn.prototype=Object.assign(Object.create(Pn.prototype),{constructor:zn,interpolate_:function(e,t,n,r){return this.copySampleValue_(e-1)}});var yc;yc={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Ia,InterpolantFactoryMethodDiscrete:function(e){return new zn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Fn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Un(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Ca:t=this.InterpolantFactoryMethodDiscrete;break;case Ia:t=this.InterpolantFactoryMethodLinear;break;case Oa:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ca;case this.InterpolantFactoryMethodLinear:return Ia;case this.InterpolantFactoryMethodSmooth:return Oa}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;o!==-1&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=vc.arraySlice(n,i,o),this.values=vc.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("invalid value size in track",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&vc.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("value is not a valid number",this,a,c),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===Oa,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a],c=e[a+1];if(u!==c&&(1!==a||u!==u[0]))if(r)s=!0;else for(var l=a*n,h=l-n,f=l+n,d=0;d!==n;++d){var p=t[l+d];if(p!==t[h+d]||p!==t[f+d]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];for(var m=a*n,g=i*n,d=0;d!==n;++d)t[g+d]=t[m+d]}++i}}if(o>0){e[i]=e[o];for(var m=o*n,g=i*n,d=0;d!==n;++d)t[g+d]=t[m+d];++i}return i!==e.length&&(this.times=vc.arraySlice(e,0,i),this.values=vc.arraySlice(t,0,i*n)),this}},Hn.prototype=Object.assign(Object.create(yc),{constructor:Hn,ValueTypeName:"vector"}),Vn.prototype=Object.assign(Object.create(Pn.prototype),{constructor:Vn,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,c=(n-t)/(r-t),l=u+a;u!==l;u+=4)s.slerpFlat(i,0,o,u-a,o,u,c);return i}}),Gn.prototype=Object.assign(Object.create(yc),{constructor:Gn,ValueTypeName:"quaternion",DefaultInterpolation:Ia,InterpolantFactoryMethodLinear:function(e){return new Vn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Yn.prototype=Object.assign(Object.create(yc),{constructor:Yn,ValueTypeName:"number"}),Qn.prototype=Object.assign(Object.create(yc),{constructor:Qn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ca,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Wn.prototype=Object.assign(Object.create(yc),{constructor:Wn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ca,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qn.prototype=Object.assign(Object.create(yc),{constructor:qn,ValueTypeName:"color"}),Xn.prototype=yc,yc.constructor=Xn,Object.assign(Xn,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=Xn._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],r=[];vc.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:vc.convertArray(e.times,Array),values:vc.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yn;case"vector":case"vector2":case"vector3":case"vector4":return Hn;case"color":return qn;case"quaternion":return Gn;
case"bool":case"boolean":return Wn;case"string":return Qn}throw new Error("Unsupported typeName: "+e)}}),Kn.prototype={constructor:Kn,resetDuration:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},Object.assign(Kn,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Xn.parse(n[i]).scale(r));return new Kn(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t},i=0,o=n.length;i!==o;++i)t.push(Xn.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=vc.getKeyframeOrder(s);s=vc.sortedArray(s,1,c),u=vc.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Yn(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new Kn(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(Kn.CreateFromMorphTargetSequence(c,r[c],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("  no animation in JSONLoader data"),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];vc.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)l[c[h].morphTargets[f]]=-1;for(var d in l){for(var p=[],m=[],f=0;f!==c[h].morphTargets.length;++f){var g=c[h];p.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new Yn(".morphTargetInfluence["+d+"]",p,m))}o=l.length*(a||1)}else{var v=".bones["+t[u].name+"]";n(Hn,v+".position",c,"pos",r),n(Gn,v+".quaternion",c,"rot",r),n(Hn,v+".scale",c,"scl",r)}}if(0===r.length)return null;var y=new Kn(i,o,r);return y}}),Object.assign(Zn.prototype,{load:function(e,t,n,r){var i=this,o=new En(i.manager);o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===r[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),r[e]}var r=this.textures,i=new dc[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.shading&&(i.shading=e.shading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=t(e.map)),void 0!==e.alphaMap&&(i.alphaMap=t(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=t(e.normalMap)),void 0!==e.normalScale){var o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=(new n).fromArray(o)}if(void 0!==e.displacementMap&&(i.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=t(e.specularMap)),void 0!==e.envMap&&(i.envMap=t(e.envMap)),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=t(e.gradientMap)),void 0!==e.materials)for(var a=0,s=e.materials.length;a<s;a++)i.materials.push(this.parse(e.materials[a]));return i}}),Object.assign(Jn.prototype,{load:function(e,t,n,r){var i=this,o=new En(i.manager);o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},parse:function(e){var t=new _e,n=e.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);t.setIndex(new de(i,1))}var o=e.data.attributes;for(var a in o){var s=o[a],i=new r[s.type](s.array);t.addAttribute(a,new de(i,s.itemSize,s.normalized))}var c=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==c)for(var l=0,h=c.length;l!==h;++l){var f=c[l];t.addGroup(f.start,f.count,f.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var p=new u;void 0!==d.center&&p.fromArray(d.center),t.boundingSphere=new ee(p,d.radius)}return t}}),$n.prototype={constructor:$n,crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e,t,n;return function(r,i,o){function a(e,n,r,a,u){var c,l=i+e,h=$n.Handlers.get(l);null!==h?c=h.load(l):(t.setCrossOrigin(o),c=t.load(l)),void 0!==n&&(c.repeat.fromArray(n),1!==n[0]&&(c.wrapS=Vo),1!==n[1]&&(c.wrapT=Vo)),void 0!==r&&c.offset.fromArray(r),void 0!==a&&("repeat"===a[0]&&(c.wrapS=Vo),"mirror"===a[0]&&(c.wrapS=Yo),"repeat"===a[1]&&(c.wrapT=Vo),"mirror"===a[1]&&(c.wrapT=Yo)),void 0!==u&&(c.anisotropy=u);var f=Za.generateUUID();return s[f]=c,f}void 0===e&&(e=new Y),void 0===t&&(t=new kn),void 0===n&&(n=new Zn);var s={},u={uuid:Za.generateUUID(),type:"MeshLambertMaterial"};for(var c in r){var l=r[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=l;break;case"blending":u.blending=eo[l];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":u.color=e.fromArray(l).getHex();break;case"colorSpecular":u.specular=e.fromArray(l).getHex();break;case"colorEmissive":u.emissive=e.fromArray(l).getHex();break;case"specularCoef":u.shininess=l;break;case"shading":"basic"===l.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===l.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===l.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=a(l,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=a(l,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=a(l,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=a(l,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=a(l,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=l;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=a(l,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[l,l];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=a(l,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=a(l,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=a(l,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=a(l,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=Bi;break;case"doubleSided":u.side=Hi;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=l;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=l;break;case"vertexColors":l===!0&&(u.vertexColors=Wi),"face"===l&&(u.vertexColors=Qi);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,l)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),n.setTextures(s),n.parse(u)}}()},$n.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(er.prototype,{load:function(e,t,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:$n.prototype.extractUrlBase(e),a=new En(this.manager);a.setWithCredentials(this.withCredentials),a.load(e,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);t(u.geometry,u.materials)},n,r)},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){function r(t){function r(e,t){return e&1<<t}var i,o,a,s,l,h,f,d,p,m,g,v,y,b,w,M,E,A,x,T,_,k,S,N,L,D,C,I=e.faces,O=e.vertices,R=e.normals,j=e.colors,P=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&P++;for(i=0;i<P;i++)c.faceVertexUvs[i]=[]}for(s=0,l=O.length;s<l;)A=new u,A.x=O[s++]*t,A.y=O[s++]*t,A.z=O[s++]*t,c.vertices.push(A);for(s=0,l=I.length;s<l;)if(m=I[s++],g=r(m,0),v=r(m,1),y=r(m,3),b=r(m,4),w=r(m,5),M=r(m,6),E=r(m,7),g){if(T=new he,T.a=I[s],T.b=I[s+1],T.c=I[s+3],_=new he,_.a=I[s+1],_.b=I[s+2],_.c=I[s+3],s+=4,v&&(p=I[s++],T.materialIndex=p,_.materialIndex=p),a=c.faces.length,y)for(i=0;i<P;i++)for(N=e.uvs[i],c.faceVertexUvs[i][a]=[],c.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)d=I[s++],D=N[2*d],C=N[2*d+1],L=new n(D,C),2!==o&&c.faceVertexUvs[i][a].push(L),0!==o&&c.faceVertexUvs[i][a+1].push(L);if(b&&(f=3*I[s++],T.normal.set(R[f++],R[f++],R[f]),_.normal.copy(T.normal)),w)for(i=0;i<4;i++)f=3*I[s++],S=new u(R[f++],R[f++],R[f]),2!==i&&T.vertexNormals.push(S),0!==i&&_.vertexNormals.push(S);if(M&&(h=I[s++],k=j[h],T.color.setHex(k),_.color.setHex(k)),E)for(i=0;i<4;i++)h=I[s++],k=j[h],2!==i&&T.vertexColors.push(new Y(k)),0!==i&&_.vertexColors.push(new Y(k));c.faces.push(T),c.faces.push(_)}else{if(x=new he,x.a=I[s++],x.b=I[s++],x.c=I[s++],v&&(p=I[s++],x.materialIndex=p),a=c.faces.length,y)for(i=0;i<P;i++)for(N=e.uvs[i],c.faceVertexUvs[i][a]=[],o=0;o<3;o++)d=I[s++],D=N[2*d],C=N[2*d+1],L=new n(D,C),c.faceVertexUvs[i][a].push(L);if(b&&(f=3*I[s++],x.normal.set(R[f++],R[f++],R[f])),w)for(i=0;i<3;i++)f=3*I[s++],S=new u(R[f++],R[f++],R[f]),x.vertexNormals.push(S);if(M&&(h=I[s++],x.color.setHex(j[h])),E)for(i=0;i<3;i++)h=I[s++],x.vertexColors.push(new Y(j[h]));c.faces.push(x)}}function o(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var n=0,r=e.skinWeights.length;n<r;n+=t){var o=e.skinWeights[n],a=t>1?e.skinWeights[n+1]:0,s=t>2?e.skinWeights[n+2]:0,u=t>3?e.skinWeights[n+3]:0;c.skinWeights.push(new i(o,a,s,u))}if(e.skinIndices)for(var n=0,r=e.skinIndices.length;n<r;n+=t){var l=e.skinIndices[n],h=t>1?e.skinIndices[n+1]:0,f=t>2?e.skinIndices[n+2]:0,d=t>3?e.skinIndices[n+3]:0;c.skinIndices.push(new i(l,h,f,d))}c.bones=e.bones,c.bones&&c.bones.length>0&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.")}function a(t){if(void 0!==e.morphTargets)for(var n=0,r=e.morphTargets.length;n<r;n++){c.morphTargets[n]={},c.morphTargets[n].name=e.morphTargets[n].name,c.morphTargets[n].vertices=[];for(var i=c.morphTargets[n].vertices,o=e.morphTargets[n].vertices,a=0,s=o.length;a<s;a+=3){var l=new u;l.x=o[a]*t,l.y=o[a+1]*t,l.z=o[a+2]*t,i.push(l)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=c.faces,f=e.morphColors[0].colors,n=0,r=h.length;n<r;n++)h[n].color.fromArray(f,3*n)}}function s(){var t=[],n=[];void 0!==e.animation&&n.push(e.animation),void 0!==e.animations&&(e.animations.length?n=n.concat(e.animations):n.push(e.animations));for(var r=0;r<n.length;r++){var i=Kn.parseAnimation(n[r],c.bones);i&&t.push(i)}if(c.morphTargets){var o=Kn.CreateClipsFromMorphTargetSequences(c.morphTargets,10);t=t.concat(o)}t.length>0&&(c.animations=t)}var c=new xe,l=void 0!==e.scale?1/e.scale:1;if(r(l),o(),a(l),s(),c.computeFaceNormals(),c.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:c};var h=$n.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:c,materials:h}}}),Object.assign(tr.prototype,{load:function(e,t,n,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var i=this,o=new En(i.manager);o.load(e,function(n){var r=null;try{r=JSON.parse(n)}catch(t){return void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var o=r.metadata;return void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase()?void console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead."):void i.parse(r,t)},n,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),i=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,i),a=this.parseObject(e.object,n,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new er,r=new Jn,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new fc[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new fc[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new fc[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new fc[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new fc[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new fc[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new fc[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new fc[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new fc[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new fc[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new fc[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),t[s.uuid]=a}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var r=new Zn;r.setTextures(t);for(var i=0,o=e.length;i<o;i++){var a=r.parse(e[i]);n[a.uuid]=a}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=Kn.parse(e[n]);t.push(r)}return t},parseImages:function(e,t){function n(e){return r.manager.itemStart(e),a.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemError(e)})}var r=this,i={};if(void 0!==e&&e.length>0){var o=new Mn(t),a=new Tn(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var c=e[s],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.texturePath+c.url;i[c.uuid]=n(l)}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var o=0,a=e.length;o<a;o++){var s=e[o];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u=new r(t[s.image]);u.needsUpdate=!0,u.uuid=s.uuid,void 0!==s.name&&(u.name=s.name),void 0!==s.mapping&&(u.mapping=n(s.mapping,Ho)),void 0!==s.offset&&u.offset.fromArray(s.offset),void 0!==s.repeat&&u.repeat.fromArray(s.repeat),void 0!==s.wrap&&(u.wrapS=n(s.wrap[0],Qo),u.wrapT=n(s.wrap[1],Qo)),void 0!==s.minFilter&&(u.minFilter=n(s.minFilter,$o)),void 0!==s.magFilter&&(u.magFilter=n(s.magFilter,$o)),void 0!==s.anisotropy&&(u.anisotropy=s.anisotropy),void 0!==s.flipY&&(u.flipY=s.flipY),i[s.uuid]=u}return i},parseObject:function(){var e=new c;return function(t,n,r){function i(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function o(e){if(void 0!==e)return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}var a;switch(t.type){case"Scene":a=new ut,void 0!==t.background&&Number.isInteger(t.background)&&(a.background=new Y(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?a.fog=new st(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(a.fog=new at(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":a=new De(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(a.focus=t.focus),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.filmGauge&&(a.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(a.filmOffset=t.filmOffset),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new Ce(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":a=new jn(t.color,t.intensity);break;case"DirectionalLight":a=new Rn(t.color,t.intensity);break;case"PointLight":a=new In(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":a=new Cn(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new Nn(t.color,t.groundColor,t.intensity);break;case"Mesh":var s=i(t.geometry),u=o(t.material);a=s.bones&&s.bones.length>0?new mt(s,u):new ke(s,u);break;case"LOD":a=new ft;break;case"Line":a=new vt(i(t.geometry),o(t.material),t.mode);break;case"LineSegments":a=new yt(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":a=new wt(i(t.geometry),o(t.material));break;case"Sprite":a=new ht(o(t.material));break;case"Group":a=new Mt;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:a=new ue}if(a.uuid=t.uuid,void 0!==t.name&&(a.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(a.position,a.quaternion,a.scale)):(void 0!==t.position&&a.position.fromArray(t.position),void 0!==t.rotation&&a.rotation.fromArray(t.rotation),void 0!==t.quaternion&&a.quaternion.fromArray(t.quaternion),void 0!==t.scale&&a.scale.fromArray(t.scale)),void 0!==t.castShadow&&(a.castShadow=t.castShadow),void 0!==t.receiveShadow&&(a.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(a.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(a.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&a.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(a.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(a.visible=t.visible),void 0!==t.userData&&(a.userData=t.userData),void 0!==t.children)for(var c in t.children)a.add(this.parseObject(t.children[c],n,r));if("LOD"===t.type)for(var l=t.levels,h=0;h<l.length;h++){var f=l[h],c=a.getObjectByProperty("uuid",f.object);void 0!==c&&a.addLevel(c,f.distance)}return a}}()}),nr.prototype={constructor:nr,getPoint:function(e){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){e||(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e||(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)t=this.getPoint(n/e),o+=t.distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t?t:e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),a=r[i]-n,a<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]===n){var c=i/(o-1);return c}var l=r[i],h=r[i+1],f=h-l,d=(n-l)/f,c=(i+d)/(o-1);return c},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),a=o.clone().sub(i);return a.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new u,a=[],s=[],l=[],h=new u,f=new c;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new u,l[0]=new u;var d=Number.MAX_VALUE,p=Math.abs(a[0].x),m=Math.abs(a[0].y),g=Math.abs(a[0].z);for(p<=d&&(d=p,o.set(1,0,0)),m<=d&&(d=m,o.set(0,1,0)),g<=d&&o.set(0,0,1),h.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],h),l[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),h.crossVectors(a[n-1],a[n]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(Za.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(f.makeRotationAxis(h,i))),l[n].crossVectors(a[n],s[n]);if(t===!0)for(i=Math.acos(Za.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(h.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(f.makeRotationAxis(a[n],i*n)),l[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:l}}},nr.create=function(e,t){return e.prototype=Object.create(nr.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},rr.prototype=Object.create(nr.prototype),rr.prototype.constructor=rr,rr.prototype.isLineCurve=!0,rr.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},rr.prototype.getPointAt=function(e){return this.getPoint(e)},rr.prototype.getTangent=function(e){var t=this.v2.clone().sub(this.v1);return t.normalize()},ir.prototype=Object.assign(Object.create(nr.prototype),{constructor:ir,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new rr(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e||(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&o.isLineCurve?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(e){var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){for(var t=new xe,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new u(i.x,i.y,i.z||0))}return t}}),or.prototype=Object.create(nr.prototype),or.prototype.constructor=or,or.prototype.isEllipseCurve=!0,or.prototype.getPoint=function(e){for(var t=2*Math.PI,r=this.aEndAngle-this.aStartAngle,i=Math.abs(r)<Number.EPSILON;r<0;)r+=t;for(;r>t;)r-=t;r<Number.EPSILON&&(r=i?0:t),this.aClockwise!==!0||i||(r===t?r=-t:r-=t);var o=this.aStartAngle+e*r,a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),l=a-this.aX,h=s-this.aY;a=l*u-h*c+this.aX,s=l*c+h*u+this.aY}return new n(a,s)};var bc={tangentQuadraticBezier:function(e,t,n,r){return 2*(1-e)*(n-t)+2*e*(r-n)},tangentCubicBezier:function(e,t,n,r,i){return-3*t*(1-e)*(1-e)+3*n*(1-e)*(1-e)-6*e*n*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*i},tangentSpline:function(e,t,n,r,i){var o=6*e*e-6*e,a=3*e*e-4*e+1,s=-6*e*e+6*e,u=3*e*e-2*e;return o+a+s+u},interpolate:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i,u=i*s;return(2*t-2*n+o+a)*u+(-3*t+3*n-2*o-a)*s+o*i+t}};ar.prototype=Object.create(nr.prototype),ar.prototype.constructor=ar,ar.prototype.isSplineCurve=!0,ar.prototype.getPoint=function(e){var t=this.points,r=(t.length-1)*e,i=Math.floor(r),o=r-i,a=t[0===i?i:i-1],s=t[i],u=t[i>t.length-2?t.length-1:i+1],c=t[i>t.length-3?t.length-1:i+2],l=bc.interpolate;return new n(l(a.x,s.x,u.x,c.x,o),l(a.y,s.y,u.y,c.y,o))},sr.prototype=Object.create(nr.prototype),sr.prototype.constructor=sr,sr.prototype.getPoint=function(e){var t=hc.b3;return new n(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},sr.prototype.getTangent=function(e){var t=bc.tangentCubicBezier;return new n(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},ur.prototype=Object.create(nr.prototype),ur.prototype.constructor=ur,ur.prototype.getPoint=function(e){var t=hc.b2;return new n(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y))},ur.prototype.getTangent=function(e){var t=bc.tangentQuadraticBezier;return new n(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y)).normalize()};var wc=Object.assign(Object.create(ir.prototype),{fromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var r=new rr(this.currentPoint.clone(),new n(e,t));this.curves.push(r),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,r,i){var o=new ur(this.currentPoint.clone(),new n(e,t),new n(r,i));this.curves.push(o),this.currentPoint.set(r,i)},bezierCurveTo:function(e,t,r,i,o,a){var s=new sr(this.currentPoint.clone(),new n(e,t),new n(r,i),new n(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new ar(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var u=new or(e,t,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)}});cr.prototype=Object.assign(Object.create(wc),{constructor:cr,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractAllPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},extractPoints:function(e){return this.extractAllPoints(e)}}),lr.prototype=wc,wc.constructor=lr,hr.prototype={moveTo:function(e,t){this.currentPath=new lr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new cr;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;
if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=hc.isClockWise,o=this.subPaths;if(0===o.length)return[];if(t===!0)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],u=new cr,u.curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=e?!l:l;var h,f=[],d=[],p=[],m=0;d[m]=void 0,p[m]=[];for(var g=0,v=o.length;g<v;g++)s=o[g],h=s.getPoints(),a=i(h),a=e?!a:a,a?(!l&&d[m]&&m++,d[m]={s:new cr,p:h},d[m].s.curves=s.curves,l&&m++,p[m]=[]):p[m].push({h:s,p:h[0]});if(!d[0])return n(o);if(d.length>1){for(var y=!1,b=[],w=0,M=d.length;w<M;w++)f[w]=[];for(var w=0,M=d.length;w<M;w++)for(var E=p[w],A=0;A<E.length;A++){for(var x=E[A],T=!0,_=0;_<d.length;_++)r(x.p,d[_].p)&&(w!==_&&b.push({froms:w,tos:_,hole:A}),T?(T=!1,f[_].push(x)):y=!0);T&&f[w].push(x)}b.length>0&&(y||(p=f))}for(var k,g=0,S=d.length;g<S;g++){u=d[g].s,c.push(u),k=p[g];for(var N=0,L=k.length;N<L;N++)u.holes.push(k[N].h)}return c}},Object.assign(fr.prototype,{isFont:!0,generateShapes:function(e,t,n){function r(e){for(var n=String(e).split(""),r=t/o.resolution,a=0,s=[],u=0;u<n.length;u++){var c=i(n[u],r,a);a+=c.offset,s.push(c.path)}return s}function i(e,t,r){var i=o.glyphs[e]||o.glyphs["?"];if(i){var a,s,u,c,l,h,f,d,p,m,g,v=new hr,y=[],b=hc.b2,w=hc.b3;if(i.o)for(var M=i._cachedOutline||(i._cachedOutline=i.o.split(" ")),E=0,A=M.length;E<A;){var x=M[E++];switch(x){case"m":a=M[E++]*t+r,s=M[E++]*t,v.moveTo(a,s);break;case"l":a=M[E++]*t+r,s=M[E++]*t,v.lineTo(a,s);break;case"q":if(u=M[E++]*t+r,c=M[E++]*t,f=M[E++]*t+r,d=M[E++]*t,v.quadraticCurveTo(f,d,u,c),g=y[y.length-1]){l=g.x,h=g.y;for(var T=1;T<=n;T++){var _=T/n;b(_,l,f,u),b(_,h,d,c)}}break;case"b":if(u=M[E++]*t+r,c=M[E++]*t,f=M[E++]*t+r,d=M[E++]*t,p=M[E++]*t+r,m=M[E++]*t,v.bezierCurveTo(f,d,p,m,u,c),g=y[y.length-1]){l=g.x,h=g.y;for(var T=1;T<=n;T++){var _=T/n;w(_,l,f,p,u),w(_,h,d,m,c)}}}}return{offset:i.ha*t,path:v}}}void 0===t&&(t=100),void 0===n&&(n=4);for(var o=this.data,a=r(e),s=[],u=0,c=a.length;u<c;u++)Array.prototype.push.apply(s,a[u].toShapes());return s}}),Object.assign(dr.prototype,{load:function(e,t,n,r){var i=this,o=new En(this.manager);o.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)},n,r)},parse:function(e){return new fr(e)}});var Mc,Ec={getContext:function(){return void 0===Mc&&(Mc=new(window.AudioContext||window.webkitAudioContext)),Mc},setContext:function(e){Mc=e}};Object.assign(pr.prototype,{load:function(e,t,n,r){var i=new En(this.manager);i.setResponseType("arraybuffer"),i.load(e,function(e){var n=Ec.getContext();n.decodeAudioData(e,function(e){t(e)})},n,r)}}),mr.prototype=Object.assign(Object.create(Sn.prototype),{constructor:mr,isRectAreaLight:!0,copy:function(e){return Sn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this}}),Object.assign(gr.prototype,{update:function(){var e,t,n,r,i,o,a,s=new c,u=new c;return function(c){var l=e!==this||t!==c.focus||n!==c.fov||r!==c.aspect*this.aspect||i!==c.near||o!==c.far||a!==c.zoom;if(l){e=this,t=c.focus,n=c.fov,r=c.aspect*this.aspect,i=c.near,o=c.far,a=c.zoom;var h,f,d=c.projectionMatrix.clone(),p=this.eyeSep/2,m=p*i/t,g=i*Math.tan(Za.DEG2RAD*n*.5)/a;u.elements[12]=-p,s.elements[12]=p,h=-g*r+m,f=g*r+m,d.elements[0]=2*i/(f-h),d.elements[8]=(f+h)/(f-h),this.cameraL.projectionMatrix.copy(d),h=-g*r-m,f=g*r-m,d.elements[0]=2*i/(f-h),d.elements[8]=(f+h)/(f-h),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(s)}}()}),vr.prototype=Object.create(ue.prototype),vr.prototype.constructor=vr,yr.prototype=Object.assign(Object.create(ue.prototype),{constructor:yr,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new u,t=new s,n=new u,r=new u;return function(i){ue.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX?(o.positionX.setValueAtTime(e.x,this.context.currentTime),o.positionY.setValueAtTime(e.y,this.context.currentTime),o.positionZ.setValueAtTime(e.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),br.prototype=Object.assign(Object.create(ue.prototype),{constructor:br,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),e.start(0,this.startTime),this.isPlaying=!0,this.source=e,this.connect()},pause:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),wr.prototype=Object.assign(Object.create(br.prototype),{constructor:wr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new u;return function(t){ue.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(Mr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Er.prototype={constructor:Er,accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{o+=t;var s=t/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r,i){s.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}},Ar.prototype={constructor:Ar,getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Ar.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("  can not bind to material as node does not have a material",this);if(!e.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("  can not bind to objectName of node, undefined",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);e=e[o]}}var s=e[r];if(void 0===s){var u=t.nodeName;return void console.error("  trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}var c=this.Versioning.None;void 0!==e.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!e.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Ar.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Ar.prototype.getValue,_setValue_unbound:Ar.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Ar.Composite=function(e,t,n){var r=n||Ar.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)},Ar.Composite.prototype={constructor:Ar.Composite,getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Ar.create=function(e,t,n){return e&&e.isAnimationObjectGroup?new Ar.Composite(e,t,n):new Ar(e,t,n)},Ar.parseTrackName=function(e){var t=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/,n=t.exec(e);if(!n)throw new Error("cannot parse trackName at all: "+e);var r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+e);return r},Ar.findNode=function(e,t){if(!t||""===t||"root"===t||"."===t||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var r=e.bones[n];if(r.name===t)return r}return null},r=n(e.skeleton);if(r)return r}if(e.children){var i=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t||r.uuid===t)return r;var o=i(r.children);if(o)return o}return null},o=i(e.children);if(o)return o}return null},xr.prototype={constructor:xr,isAnimationObjectGroup:!0,add:function(e){for(var t=this._objects,n=t.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],f=h.uuid,d=i[f],p=void 0;if(void 0===d){d=n++,i[f]=d,t.push(h);for(var m=0,g=u;m!==g;++m)s[m].push(new Ar(h,o[m],a[m]))}else if(d<r){p=t[d];var v=--r,y=t[v];i[y.uuid]=d,t[d]=y,i[f]=v,t[v]=h;for(var m=0,g=u;m!==g;++m){var b=s[m],w=b[v],M=b[d];b[d]=w,void 0===M&&(M=new Ar(h,o[m],a[m])),b[v]=M}}else t[d]!==p&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(e){for(var t=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=r[c];if(void 0!==l&&l>=n){var h=n++,f=t[h];r[f.uuid]=l,t[l]=f,r[c]=h,t[h]=u;for(var d=0,p=o;d!==p;++d){var m=i[d],g=m[h],v=m[l];m[l]=g,m[h]=v}}}this.nCachedObjects_=n},uncache:function(e){for(var t=this._objects,n=t.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s],l=c.uuid,h=i[l];if(void 0!==h)if(delete i[l],h<r){var f=--r,d=t[f],p=--n,m=t[p];i[d.uuid]=h,t[h]=d,i[m.uuid]=f,t[f]=m,t.pop();for(var g=0,v=a;g!==v;++g){var y=o[g],b=y[f],w=y[p];y[h]=b,y[f]=w,y.pop()}}else{var p=--n,m=t[p];i[m.uuid]=h,t[h]=m,t.pop();for(var g=0,v=a;g!==v;++g){var y=o[g];y[h]=y[p],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var h=c,f=s.length;h!==f;++h){var d=s[h];l[h]=new Ar(d,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],u=e[a];t[u]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},Tr.prototype={constructor:Tr,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===Na){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var o=r===Da;if(i===-1&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===s){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=ja,r.endingEnd=ja):(e?r.endingStart=this.zeroSlopeAtStart?ja:Ra:r.endingStart=Pa,t?r.endingEnd=this.zeroSlopeAtEnd?ja:Ra:r.endingEnd=Pa)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}},Object.assign(_r.prototype,t.prototype,{clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Kn.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new Tr(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Kn.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){var s=t[a];s.enabled&&s._update(r,e,i,o)}for(var u=this._bindings,c=this._nActiveBindings,a=0;a!==c;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[t];if(void 0!==s)for(var u in s){var c=s[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Object.assign(_r.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],f=h.name,d=c[f];if(void 0!==d)o[l]=d;else{if(d=o[l],void 0!==d){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=t&&t._propertyBindings[l].binding.parsedPath;d=new Er(Ar.create(n,f,p),h.ValueTypeName,h.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,f),o[l]=d}a[l].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null;var l=a.actionByRoot,h=(t._localRoot||this._root).uuid;delete l[h],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new Fn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),kr.prototype.clone=function(){return new kr(void 0===this.value.clone?this.value:this.value.clone())},Sr.prototype=Object.create(_e.prototype),Sr.prototype.constructor=Sr,Sr.prototype.isInstancedBufferGeometry=!0,Sr.prototype.addGroup=function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n})},Sr.prototype.copy=function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=e.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},Nr.prototype={constructor:Nr,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},Lr.prototype={constructor:Lr,isInterleavedBuffer:!0,set needsUpdate(e){e===!0&&this.version++},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}},Dr.prototype=Object.create(Lr.prototype),Dr.prototype.constructor=Dr,Dr.prototype.isInstancedInterleavedBuffer=!0,Dr.prototype.copy=function(e){return Lr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},Cr.prototype=Object.create(de.prototype),Cr.prototype.constructor=Cr,Cr.prototype.isInstancedBufferAttribute=!0,Cr.prototype.copy=function(e){return de.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},Ir.prototype={constructor:Ir,linePrecision:1,set:function(e,t){
this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return Rr(e,this,n,t),n.sort(Or),n},intersectObjects:function(e,t){var n=[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=e.length;r<i;r++)Rr(e[r],this,n,t);return n.sort(Or),n}},jr.prototype={constructor:jr,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=(performance||Date).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},Ur.prototype={constructor:Ur,set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Za.clamp(e.y/this.radius,-1,1))),this}},Fr.prototype={constructor:Fr,set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}},zr.prototype=Object.create(ke.prototype),zr.prototype.constructor=zr,zr.prototype.createAnimation=function(e,t,n,r){var i={start:t,end:n,length:n-t+1,fps:r,duration:(n-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=i,this.animationsList.push(i)},zr.prototype.autoCreateAnimations=function(e){for(var t,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],u=s.name.match(n);if(u&&u.length>1){var c=u[1];r[c]||(r[c]={start:1/0,end:-(1/0)});var l=r[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),t||(t=c)}}for(var c in r){var l=r[c];this.createAnimation(c,l.start,l.end,e)}this.firstAnimation=t},zr.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},zr.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},zr.prototype.setAnimationFPS=function(e,t){var n=this.animationsMap[e];n&&(n.fps=t,n.duration=(n.end-n.start)/n.fps)},zr.prototype.setAnimationDuration=function(e,t){var n=this.animationsMap[e];n&&(n.duration=t,n.fps=(n.end-n.start)/n.duration)},zr.prototype.setAnimationWeight=function(e,t){var n=this.animationsMap[e];n&&(n.weight=t)},zr.prototype.setAnimationTime=function(e,t){var n=this.animationsMap[e];n&&(n.time=t)},zr.prototype.getAnimationTime=function(e){var t=0,n=this.animationsMap[e];return n&&(t=n.time),t},zr.prototype.getAnimationDuration=function(e){var t=-1,n=this.animationsMap[e];return n&&(t=n.duration),t},zr.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("THREE.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")},zr.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},zr.prototype.update=function(e){for(var t=0,n=this.animationsList.length;t<n;t++){var r=this.animationsList[t];if(r.active){var i=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+Za.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},Br.prototype=Object.create(ue.prototype),Br.prototype.constructor=Br,Br.prototype.isImmediateRenderObject=!0,Hr.prototype=Object.create(yt.prototype),Hr.prototype.constructor=Hr,Hr.prototype.update=function(){var e=new u,t=new u,n=new te;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,h=u.length;l<h;l++)for(var f=u[l],d=0,p=f.vertexNormals.length;d<p;d++){var m=s[f[r[d]]],g=f.vertexNormals[d];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}else if(a&&a.isBufferGeometry)for(var v=a.attributes.position,y=a.attributes.normal,c=0,d=0,p=v.count;d<p;d++)e.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),t.set(y.getX(d),y.getY(d),y.getZ(d)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1;return o.needsUpdate=!0,this}}(),Vr.prototype=Object.create(ue.prototype),Vr.prototype.constructor=Vr,Vr.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Vr.prototype.update=function(){var e=new u,t=new u;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Gr.prototype=Object.create(yt.prototype),Gr.prototype.constructor=Gr,Gr.prototype.getBoneList=function(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,this.getBoneList(e.children[n]));return t},Gr.prototype.update=function(){var e=new u,t=new c,n=new c;return function(){var r=this.geometry,i=r.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var o=0,a=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(t.multiplyMatrices(n,s.matrixWorld),e.setFromMatrixPosition(t),i.setXYZ(a,e.x,e.y,e.z),t.multiplyMatrices(n,s.parent.matrixWorld),e.setFromMatrixPosition(t),i.setXYZ(a+1,e.x,e.y,e.z),a+=2)}r.getAttribute("position").needsUpdate=!0}}(),Yr.prototype=Object.create(ke.prototype),Yr.prototype.constructor=Yr,Yr.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Yr.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},Qr.prototype=Object.create(ue.prototype),Qr.prototype.constructor=Qr,Qr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},Qr.prototype.update=function(){var e=new u,t=new u;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld);var i=t.clone().sub(e);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var o=.5*this.light.width,a=.5*this.light.height,s=n.geometry.getAttribute("position"),u=s.array;u[0]=o,u[1]=-a,u[2]=0,u[3]=o,u[4]=a,u[5]=0,u[6]=-o,u[7]=a,u[8]=0,u[9]=-o,u[10]=a,u[11]=0,u[12]=-o,u[13]=-a,u[14]=0,u[15]=o,u[16]=-a,u[17]=0,s.needsUpdate=!0}}(),Wr.prototype=Object.create(ue.prototype),Wr.prototype.constructor=Wr,Wr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Wr.prototype.update=function(){var e=new u,t=new Y,n=new Y;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");t.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?t:n;i.setXYZ(o,s.r,s.g,s.b)}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),qr.prototype=Object.create(yt.prototype),qr.prototype.constructor=qr,Xr.prototype=Object.create(yt.prototype),Xr.prototype.constructor=Xr,Kr.prototype=Object.create(yt.prototype),Kr.prototype.constructor=Kr,Kr.prototype.update=function(){var e=new u,t=new u,n=new te;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],f=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),t.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}return i.needsUpdate=!0,this}}(),Zr.prototype=Object.create(ue.prototype),Zr.prototype.constructor=Zr,Zr.prototype.dispose=function(){var e=this.children[0],t=this.children[1];e.geometry.dispose(),e.material.dispose(),t.geometry.dispose(),t.material.dispose()},Zr.prototype.update=function(){var e=new u,t=new u,n=new u;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),Jr.prototype=Object.create(yt.prototype),Jr.prototype.constructor=Jr,Jr.prototype.update=function(){function e(e,o,a,s){r.set(o,a,s).unproject(i);var u=n[e];if(void 0!==u)for(var c=t.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],r.x,r.y,r.z)}var t,n,r=new u,i=new Le;return function(){t=this.geometry,n=this.pointMap;var r=1,o=1;i.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-r,-o,-1),e("n2",r,-o,-1),e("n3",-r,o,-1),e("n4",r,o,-1),e("f1",-r,-o,1),e("f2",r,-o,1),e("f3",-r,o,1),e("f4",r,o,1),e("u1",.7*r,1.1*o,-1),e("u2",.7*-r,1.1*o,-1),e("u3",0,2*o,-1),e("cf1",-r,0,1),e("cf2",r,0,1),e("cf3",0,-o,1),e("cf4",0,o,1),e("cn1",-r,0,-1),e("cn2",r,0,-1),e("cn3",0,-o,-1),e("cn4",0,o,-1),t.getAttribute("position").needsUpdate=!0}}(),$r.prototype=Object.create(yt.prototype),$r.prototype.constructor=$r,$r.prototype.update=function(){var e=new $;return function(t){if(t&&t.isBox3?e.copy(t):e.setFromObject(t),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Ac=new _e;Ac.addAttribute("position",new Me([0,0,0,0,1,0],3));var xc=new rn(0,.5,1,5,1);xc.translate(0,-.5,0),ei.prototype=Object.create(ue.prototype),ei.prototype.constructor=ei,ei.prototype.setDirection=function(){var e,t=new u;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),ei.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},ei.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},ti.prototype=Object.create(yt.prototype),ti.prototype.constructor=ti;var Tc=function(){function e(){}var t=new u,n=new e,r=new e,i=new e;return e.prototype.init=function(e,t,n,r){this.c0=e,this.c1=n,this.c2=-3*e+3*t-2*n-r,this.c3=2*e-2*t+n+r},e.prototype.initNonuniformCatmullRom=function(e,t,n,r,i,o,a){var s=(t-e)/i-(n-e)/(i+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+a)+(r-n)/a;s*=o,u*=o,this.init(t,n,s,u)},e.prototype.initCatmullRom=function(e,t,n,r,i){this.init(t,n,i*(n-e),i*(r-t))},e.prototype.calc=function(e){var t=e*e,n=t*e;return this.c0+this.c1*e+this.c2*t+this.c3*n},nr.create(function(e){this.points=e||[],this.closed=!1},function(e){var o,a,s,c,l=this.points;c=l.length,c<2&&console.log("duh, you need at least 2 points"),o=(c-(this.closed?0:1))*e,a=Math.floor(o),s=o-a,this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/l.length)+1)*l.length:0===s&&a===c-1&&(a=c-2,s=1);var h,f,d,p;if(this.closed||a>0?h=l[(a-1)%c]:(t.subVectors(l[0],l[1]).add(l[0]),h=t),f=l[a%c],d=l[(a+1)%c],this.closed||a+2<c?p=l[(a+2)%c]:(t.subVectors(l[c-1],l[c-2]).add(l[c-1]),p=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var m="chordal"===this.type?.5:.25,g=Math.pow(h.distanceToSquared(f),m),v=Math.pow(f.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(p),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),n.initNonuniformCatmullRom(h.x,f.x,d.x,p.x,g,v,y),r.initNonuniformCatmullRom(h.y,f.y,d.y,p.y,g,v,y),i.initNonuniformCatmullRom(h.z,f.z,d.z,p.z,g,v,y)}else if("catmullrom"===this.type){var b=void 0!==this.tension?this.tension:.5;n.initCatmullRom(h.x,f.x,d.x,p.x,b),r.initCatmullRom(h.y,f.y,d.y,p.y,b),i.initCatmullRom(h.z,f.z,d.z,p.z,b)}var w=new u(n.calc(s),r.calc(s),i.calc(s));return w})}(),_c=nr.create(function(e){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0===e?[]:e},function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),i=n-r,o=t[0==r?r:r-1],a=t[r],s=t[r>t.length-2?t.length-1:r+1],c=t[r>t.length-3?t.length-1:r+2],l=bc.interpolate;return new u(l(o.x,a.x,s.x,c.x,i),l(o.y,a.y,s.y,c.y,i),l(o.z,a.z,s.z,c.z,i))}),kc=nr.create(function(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r},function(e){var t=hc.b3;return new u(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),Sc=nr.create(function(e,t,n){this.v0=e,this.v1=t,this.v2=n},function(e){var t=hc.b2;return new u(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y),t(e,this.v0.z,this.v1.z,this.v2.z))}),Nc=nr.create(function(e,t){this.v1=e,this.v2=t},function(e){if(1===e)return this.v2.clone();var t=new u;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t});ni.prototype=Object.create(or.prototype),ni.prototype.constructor=ni;var Lc={createMultiMaterialObject:function(e,t){for(var n=new Mt,r=0,i=t.length;r<i;r++)n.add(new ke(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){var r=new c;r.getInverse(n.matrixWorld),e.applyMatrix(r),t.remove(e),n.add(e)}},Dc=0,Cc=1;Ei.prototype=Object.create(Tc.prototype),qr.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(W.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign($.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),ce.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Za.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(te.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToBuffer:function(e,t,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)}}),Object.assign(c.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new u),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e,t,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)}}),ne.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},s.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(oe.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(cr.prototype,{extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Yt(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new tn(this,e)}}),Object.assign(u.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)}}),xe.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(ue.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(ue.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ft.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),De.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Sn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(de.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(_e.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(_e.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(kr.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(K.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new Y}}}),Object.defineProperties(gn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Z.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),t.prototype=Object.assign(Object.create({constructor:t,apply:function(e){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),Object.assign(e,this)}}),t.prototype),Object.assign(ot.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(ot.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(ie.prototype,{cullFace:{get:function(){return this.renderReverseSided?Ii:Ci},set:function(e){var t=e!==Ci;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(o.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter;
},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),br.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this,n=new pr;return n.load(e,function(e){t.setBuffer(e)}),this},Mr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Ic={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},Oc={crossOrigin:void 0,loadTexture:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new kn;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadTextureCube:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new _n;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};e.WebGLRenderTargetCube=a,e.WebGLRenderTarget=o,e.WebGLRenderer=ot,e.ShaderLib=ac,e.UniformsLib=oc,e.UniformsUtils=is,e.ShaderChunk=rc,e.FogExp2=at,e.Fog=st,e.Scene=ut,e.LensFlare=ct,e.Sprite=ht,e.LOD=ft,e.SkinnedMesh=mt,e.Skeleton=dt,e.Bone=pt,e.Mesh=ke,e.LineSegments=yt,e.Line=vt,e.Points=wt,e.Group=Mt,e.VideoTexture=Et,e.DataTexture=Q,e.CompressedTexture=At,e.CubeTexture=l,e.CanvasTexture=xt,e.DepthTexture=Tt,e.Texture=r,e.CompressedTextureLoader=An,e.BinaryTextureLoader=xn,e.DataTextureLoader=gc,e.CubeTextureLoader=_n,e.TextureLoader=kn,e.ObjectLoader=tr,e.MaterialLoader=Zn,e.BufferGeometryLoader=Jn,e.DefaultLoadingManager=mc,e.LoadingManager=Mn,e.JSONLoader=er,e.ImageLoader=Tn,e.FontLoader=dr,e.FileLoader=En,e.Loader=$n,e.Cache=pc,e.AudioLoader=pr,e.SpotLightShadow=Dn,e.SpotLight=Cn,e.PointLight=In,e.RectAreaLight=mr,e.HemisphereLight=Nn,e.DirectionalLightShadow=On,e.DirectionalLight=Rn,e.AmbientLight=jn,e.LightShadow=Ln,e.Light=Sn,e.StereoCamera=gr,e.PerspectiveCamera=De,e.OrthographicCamera=Ce,e.CubeCamera=vr,e.Camera=Le,e.AudioListener=yr,e.PositionalAudio=wr,e.AudioContext=Ec,e.AudioAnalyser=Mr,e.Audio=br,e.VectorKeyframeTrack=Hn,e.StringKeyframeTrack=Qn,e.QuaternionKeyframeTrack=Gn,e.NumberKeyframeTrack=Yn,e.ColorKeyframeTrack=qn,e.BooleanKeyframeTrack=Wn,e.PropertyMixer=Er,e.PropertyBinding=Ar,e.KeyframeTrack=Xn,e.AnimationUtils=vc,e.AnimationObjectGroup=xr,e.AnimationMixer=_r,e.AnimationClip=Kn,e.Uniform=kr,e.InstancedBufferGeometry=Sr,e.BufferGeometry=_e,e.GeometryIdCount=Te,e.Geometry=xe,e.InterleavedBufferAttribute=Nr,e.InstancedInterleavedBuffer=Dr,e.InterleavedBuffer=Lr,e.InstancedBufferAttribute=Cr,e.Face3=he,e.Object3D=ue,e.Raycaster=Ir,e.Layers=se,e.EventDispatcher=t,e.Clock=jr,e.QuaternionLinearInterpolant=Vn,e.LinearInterpolant=Fn,e.DiscreteInterpolant=zn,e.CubicInterpolant=Un,e.Interpolant=Pn,e.Triangle=le,e.Spline=Pr,e.Math=Za,e.Spherical=Ur,e.Cylindrical=Fr,e.Plane=ne,e.Frustum=re,e.Sphere=ee,e.Ray=oe,e.Matrix4=c,e.Matrix3=te,e.Box3=$,e.Box2=W,e.Line3=ce,e.Euler=ae,e.Vector4=i,e.Vector3=u,e.Vector2=n,e.Quaternion=s,e.Color=Y,e.MorphBlendMesh=zr,e.ImmediateRenderObject=Br,e.VertexNormalsHelper=Hr,e.SpotLightHelper=Vr,e.SkeletonHelper=Gr,e.PointLightHelper=Yr,e.RectAreaLightHelper=Qr,e.HemisphereLightHelper=Wr,e.GridHelper=qr,e.PolarGridHelper=Xr,e.FaceNormalsHelper=Kr,e.DirectionalLightHelper=Zr,e.CameraHelper=Jr,e.BoxHelper=$r,e.ArrowHelper=ei,e.AxisHelper=ti,e.CatmullRomCurve3=Tc,e.SplineCurve3=_c,e.CubicBezierCurve3=kc,e.QuadraticBezierCurve3=Sc,e.LineCurve3=Nc,e.ArcCurve=ni,e.EllipseCurve=or,e.SplineCurve=ar,e.CubicBezierCurve=sr,e.QuadraticBezierCurve=ur,e.LineCurve=rr,e.Shape=cr,e.ShapePath=hr,e.Path=lr,e.Font=fr,e.CurvePath=ir,e.Curve=nr,e.ShapeUtils=hc,e.SceneUtils=Lc,e.CurveUtils=bc,e.WireframeGeometry=_t,e.ParametricGeometry=St,e.ParametricBufferGeometry=kt,e.TetrahedronGeometry=Dt,e.TetrahedronBufferGeometry=Lt,e.OctahedronGeometry=It,e.OctahedronBufferGeometry=Ct,e.IcosahedronGeometry=Rt,e.IcosahedronBufferGeometry=Ot,e.DodecahedronGeometry=Pt,e.DodecahedronBufferGeometry=jt,e.PolyhedronGeometry=Ut,e.PolyhedronBufferGeometry=Nt,e.TubeGeometry=zt,e.TubeBufferGeometry=Ft,e.TorusKnotGeometry=Ht,e.TorusKnotBufferGeometry=Bt,e.TorusGeometry=Gt,e.TorusBufferGeometry=Vt,e.TextGeometry=Qt,e.SphereBufferGeometry=Wt,e.SphereGeometry=qt,e.RingGeometry=Kt,e.RingBufferGeometry=Xt,e.PlaneBufferGeometry=Ne,e.PlaneGeometry=Zt,e.LatheGeometry=$t,e.LatheBufferGeometry=Jt,e.ShapeGeometry=tn,e.ShapeBufferGeometry=en,e.ExtrudeGeometry=Yt,e.EdgesGeometry=nn,e.ConeGeometry=an,e.ConeBufferGeometry=sn,e.CylinderGeometry=on,e.CylinderBufferGeometry=rn,e.CircleBufferGeometry=un,e.CircleGeometry=cn,e.BoxBufferGeometry=Se,e.BoxGeometry=ln,e.ShadowMaterial=hn,e.SpriteMaterial=lt,e.RawShaderMaterial=fn,e.ShaderMaterial=Z,e.PointsMaterial=bt,e.MultiMaterial=dn;e.MeshPhysicalMaterial=mn;e.MeshStandardMaterial=pn,e.MeshPhongMaterial=gn,e.MeshToonMaterial=vn,e.MeshNormalMaterial=yn,e.MeshLambertMaterial=bn,e.MeshDepthMaterial=J,e.MeshBasicMaterial=fe,e.LineDashedMaterial=wn,e.LineBasicMaterial=gt,e.Material=K,e.Float64BufferAttribute=Ee,e.Float32BufferAttribute=Me,e.Uint32BufferAttribute=we,e.Int32BufferAttribute=be,e.Uint16BufferAttribute=ye,e.Int16BufferAttribute=ve,e.Uint8ClampedBufferAttribute=ge,e.Uint8BufferAttribute=me,e.Int8BufferAttribute=pe,e.BufferAttribute=de,e.REVISION=Ni,e.MOUSE=Li,e.CullFaceNone=Di,e.CullFaceBack=Ci,e.CullFaceFront=Ii,e.CullFaceFrontBack=Oi,e.FrontFaceDirectionCW=Ri,e.FrontFaceDirectionCCW=ji,e.BasicShadowMap=Pi,e.PCFShadowMap=Ui,e.PCFSoftShadowMap=Fi,e.FrontSide=zi,e.BackSide=Bi,e.DoubleSide=Hi,e.FlatShading=Vi,e.SmoothShading=Gi,e.NoColors=Yi,e.FaceColors=Qi,e.VertexColors=Wi,e.NoBlending=qi,e.NormalBlending=Xi,e.AdditiveBlending=Ki,e.SubtractiveBlending=Zi,e.MultiplyBlending=Ji,e.CustomBlending=$i,e.BlendingMode=eo,e.AddEquation=to,e.SubtractEquation=no,e.ReverseSubtractEquation=ro,e.MinEquation=io,e.MaxEquation=oo,e.ZeroFactor=ao,e.OneFactor=so,e.SrcColorFactor=uo,e.OneMinusSrcColorFactor=co,e.SrcAlphaFactor=lo,e.OneMinusSrcAlphaFactor=ho,e.DstAlphaFactor=fo,e.OneMinusDstAlphaFactor=po,e.DstColorFactor=mo,e.OneMinusDstColorFactor=go,e.SrcAlphaSaturateFactor=vo,e.NeverDepth=yo,e.AlwaysDepth=bo,e.LessDepth=wo,e.LessEqualDepth=Mo,e.EqualDepth=Eo,e.GreaterEqualDepth=Ao,e.GreaterDepth=xo,e.NotEqualDepth=To,e.MultiplyOperation=_o,e.MixOperation=ko,e.AddOperation=So,e.NoToneMapping=No,e.LinearToneMapping=Lo,e.ReinhardToneMapping=Do,e.Uncharted2ToneMapping=Co,e.CineonToneMapping=Io,e.UVMapping=Oo,e.CubeReflectionMapping=Ro,e.CubeRefractionMapping=jo,e.EquirectangularReflectionMapping=Po,e.EquirectangularRefractionMapping=Uo,e.SphericalReflectionMapping=Fo,e.CubeUVReflectionMapping=zo,e.CubeUVRefractionMapping=Bo,e.TextureMapping=Ho,e.RepeatWrapping=Vo,e.ClampToEdgeWrapping=Go,e.MirroredRepeatWrapping=Yo,e.TextureWrapping=Qo,e.NearestFilter=Wo,e.NearestMipMapNearestFilter=qo,e.NearestMipMapLinearFilter=Xo,e.LinearFilter=Ko,e.LinearMipMapNearestFilter=Zo,e.LinearMipMapLinearFilter=Jo,e.TextureFilter=$o,e.UnsignedByteType=ea,e.ByteType=ta,e.ShortType=na,e.UnsignedShortType=ra,e.IntType=ia,e.UnsignedIntType=oa,e.FloatType=aa,e.HalfFloatType=sa,e.UnsignedShort4444Type=ua,e.UnsignedShort5551Type=ca,e.UnsignedShort565Type=la,e.UnsignedInt248Type=ha,e.AlphaFormat=fa,e.RGBFormat=da,e.RGBAFormat=pa,e.LuminanceFormat=ma,e.LuminanceAlphaFormat=ga,e.RGBEFormat=va,e.DepthFormat=ya,e.DepthStencilFormat=ba,e.RGB_S3TC_DXT1_Format=wa,e.RGBA_S3TC_DXT1_Format=Ma,e.RGBA_S3TC_DXT3_Format=Ea,e.RGBA_S3TC_DXT5_Format=Aa,e.RGB_PVRTC_4BPPV1_Format=xa,e.RGB_PVRTC_2BPPV1_Format=Ta,e.RGBA_PVRTC_4BPPV1_Format=_a,e.RGBA_PVRTC_2BPPV1_Format=ka,e.RGB_ETC1_Format=Sa,e.LoopOnce=Na,e.LoopRepeat=La,e.LoopPingPong=Da,e.InterpolateDiscrete=Ca,e.InterpolateLinear=Ia,e.InterpolateSmooth=Oa,e.ZeroCurvatureEnding=Ra,e.ZeroSlopeEnding=ja,e.WrapAroundEnding=Pa,e.TrianglesDrawMode=Ua,e.TriangleStripDrawMode=Fa,e.TriangleFanDrawMode=za,e.LinearEncoding=Ba,e.sRGBEncoding=Ha,e.GammaEncoding=Va,e.RGBEEncoding=Ga,e.LogLuvEncoding=Ya,e.RGBM7Encoding=Qa,e.RGBM16Encoding=Wa,e.RGBDEncoding=qa,e.BasicDepthPacking=Xa,e.RGBADepthPacking=Ka,e.CubeGeometry=ln,e.Face4=ri,e.LineStrip=Dc,e.LinePieces=Cc,e.MeshFaceMaterial=ii,e.PointCloud=oi,e.Particle=ai,e.ParticleSystem=si,e.PointCloudMaterial=ui,e.ParticleBasicMaterial=ci,e.ParticleSystemMaterial=li,e.Vertex=hi,e.DynamicBufferAttribute=fi,e.Int8Attribute=di,e.Uint8Attribute=pi,e.Uint8ClampedAttribute=mi,e.Int16Attribute=gi,e.Uint16Attribute=vi,e.Int32Attribute=yi,e.Uint32Attribute=bi,e.Float32Attribute=wi,e.Float64Attribute=Mi,e.ClosedSplineCurve3=Ei,e.BoundingBoxHelper=Ai,e.EdgesHelper=xi,e.WireframeHelper=Ti,e.XHRLoader=_i,e.GeometryUtils=Ic,e.ImageUtils=Oc,e.Projector=ki,e.CanvasRenderer=Si,Object.defineProperty(e,"__esModule",{value:!0})})},{}],43:[function(e,t,n){THREE.BlendCharacter=function(){this.weightSchedule=[],this.warpSchedule=[],this.load=function(e,t){var n=this,r=new THREE.ObjectLoader;r.load(e,function(r){if(r.traverse(function(e){e instanceof THREE.SkinnedMesh&&(n.skinnedMesh=e)}),THREE.SkinnedMesh.call(n,n.skinnedMesh.geometry,n.skinnedMesh.material),void 0==n.skinnedMesh)return void console.log("unable to find skinned mesh in "+e);n.material.skinning=!0,n.mixer=new THREE.AnimationMixer(n);for(var i=0;i<n.geometry.animations.length;++i)n.mixer.clipAction(n.geometry.animations[i]);void 0!==t&&t()})},this.loadJSON=function(e,t){var n=this,r=new THREE.JSONLoader;r.load(e,function(e,r){var i=r[0];i.skinning=!0,THREE.SkinnedMesh.call(n,e,i);var o=new THREE.AnimationMixer(n);n.mixer=o;for(var a=0;a<e.animations.length;++a)o.clipAction(e.animations[a]);void 0!==t&&t()})},this.update=function(e){this.mixer.update(e)},this.play=function(e,t){return this.mixer.clipAction(e).setEffectiveWeight(t).play()},this.crossfade=function(e,t,n){this.mixer.stopAllAction();var r=this.play(e,1),i=this.play(t,1);r.crossFadeTo(i,n,!1)},this.warp=function(e,t,n){this.mixer.stopAllAction();var r=this.play(e,1),i=this.play(t,1);r.crossFadeTo(i,n,!0)},this.applyWeight=function(e,t){this.mixer.clipAction(e).setEffectiveWeight(t)},this.getWeight=function(e){return this.mixer.clipAction(e).getEffectiveWeight()},this.pauseAll=function(){this.mixer.timeScale=0},this.unPauseAll=function(){this.mixer.timeScale=1},this.stopAll=function(){this.mixer.stopAllAction()},this.showModel=function(e){this.visible=e}},THREE.BlendCharacter.prototype=Object.create(THREE.SkinnedMesh.prototype),THREE.BlendCharacter.prototype.constructor=THREE.BlendCharacter,THREE.BlendCharacter.prototype.getForward=function(){var e=new THREE.Vector3;return function(){return e.set(-this.matrix.elements[8],-this.matrix.elements[9],-this.matrix.elements[10]),e}}},{}],44:[function(e,t,n){THREE.ColladaLoader=function(){function e(e,n,r,i){var o=0;if(document.implementation&&document.implementation.createDocument){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState?0===a.status||200===a.status?a.response?(Ue=n,t(a.response,void 0,e)):i?i({type:"error",url:e}):console.error("ColladaLoader: Empty or non-existing file ("+e+")"):i?i({type:"error",url:e}):console.error("ColladaLoader: Couldn't load \""+e+'" ('+a.status+")"):3===a.readyState&&r&&(0===o&&(o=a.getResponseHeader("Content-Length")),r({total:o,loaded:a.responseText.length}))},a.open("GET",e,!0),a.send(null)}else alert("Don't know how to parse XML!")}function t(e,t,n){if(je=(new DOMParser).parseFromString(e,"text/xml"),t=t||Ue,void 0!==n){var u=n.split("/");u.pop(),Ie=(u.length<1?".":u.join("/"))+"/"}r(),we(),ze=i("library_images image",_,"image"),Ge=i("library_materials material",Q,"material"),Ye=i("library_effects effect",Z,"effect"),Ve=i("library_geometries geometry",j,"geometry"),Qe=i("library_cameras camera",re,"camera"),We=i("library_lights light",oe,"light"),He=i("library_controllers controller",k,"controller"),Be=i("library_animations animation",$,"animation"),De=i("library_visual_scenes visual_scene",L,"visual_scene"),Ce=i("library_kinematics_models kinematics_model",se,"kinematics_model"),Oe=[],Re=[],ke=o(),Pe=new THREE.Group;for(var c=0;c<ke.nodes.length;c++)Pe.add(v(ke.nodes[c]));Pe.scale.multiplyScalar(Ke),s(),Se=a(),g();var l={scene:Pe,morphs:Oe,skins:Re,animations:Ne,kinematics:Le,dae:{images:ze,materials:Ge,cameras:Qe,lights:We,effects:Ye,geometries:Ve,controllers:He,animations:Be,visualScenes:De,visualScene:ke,scene:ke,kinematicsModels:Ce,kinematicsModel:Se}};return t&&t(l),l}function n(e){qe=e}function r(){var e=je.querySelectorAll("asset"),t=e[0];if(t&&t.childNodes)for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];switch(r.nodeName){case"unit":var i=r.getAttribute("meter");i&&(Ke=parseFloat(i));break;case"up_axis":Ze=r.textContent.charAt(0)}}}function i(e,t,n){for(var r=je.querySelectorAll(e),i={},o=0,a=r.length,s=0;s<a;s++){var u=r[s],c=(new t).parse(u);c.id&&0!==c.id.length||(c.id=n+o++),i[c.id]=c}return i}function o(){var e=je.querySelectorAll("scene instance_visual_scene")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return De[t.length>0?t:"visual_scene0"]}return null}function a(){var e=je.querySelectorAll("instance_kinematics_model")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return Ce[t.length>0?t:"kinematics_model0"]}return null}function s(){Ne=[],u(Pe)}function u(e){var t=ke.getChildById(e.colladaId,!0),n=null;if(t&&t.keys){n={fps:60,hierarchy:[{node:t,keys:t.keys,sids:t.sids}],node:e,name:"animation_"+e.name,length:0},Ne.push(n);for(var r=0,i=t.keys.length;r<i;r++)n.length=Math.max(n.length,t.keys[r].time)}else n={hierarchy:[{keys:[],sids:[]}]};for(var r=0,i=e.children.length;r<i;r++)for(var o=u(e.children[r]),a=0,s=o.hierarchy.length;a<s;a++)n.hierarchy.push({keys:[],sids:[]});return n}function c(){var e,t=1e6,n=-t,r=0;for(var i in Be){var o=Be[i];e=e||o.id;for(var a=0;a<o.sampler.length;a++){var s=o.sampler[a];s.create(),t=Math.min(t,s.startTime),n=Math.max(n,s.endTime),r=Math.max(r,s.input.length)}}return{start:t,end:n,frames:r,ID:e}}function l(e,t){var n=t instanceof I?He[t.url]:t;if(!n||!n.morph)return void console.log("could not find morph controller!");for(var r=n.morph,i=0;i<r.targets.length;i++){var o=r.targets[i],a=Ve[o];if(a.mesh&&a.mesh.primitives&&a.mesh.primitives.length){var s=a.mesh.primitives[0].geometry;s.vertices.length===e.vertices.length&&e.morphTargets.push({name:"target_1",vertices:s.vertices})}}e.morphTargets.push({name:"target_Z",vertices:e.vertices})}function h(e,t,n,r){if(e.world=e.world||new THREE.Matrix4,e.localworld=e.localworld||new THREE.Matrix4,e.world.copy(e.matrix),e.localworld.copy(e.matrix),e.channels&&e.channels.length){var i=e.channels[0],o=i.sampler.output[n];o instanceof THREE.Matrix4&&(e.world.copy(o),e.localworld.copy(o),0===n&&e.matrix.copy(o))}r&&e.world.multiplyMatrices(r,e.world),t.push(e);for(var a=0;a<e.nodes.length;a++)h(e.nodes[a],t,n,e.world)}function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=-1;if("JOINT"==r.type){for(var o=0;o<t.joints.length;o++)if(r.sid===t.joints[o]){i=o;break}if(i>=0){var a=t.invBindMatrices[i];r.invBindMatrix=a,r.skinningMatrix=new THREE.Matrix4,r.skinningMatrix.multiplyMatrices(r.world,a),r.animatrix=new THREE.Matrix4,r.animatrix.copy(r.localworld),r.weights=[];for(var o=0;o<t.weights.length;o++)for(var s=0;s<t.weights[o].length;s++){var u=t.weights[o][s];u.joint===i&&r.weights.push(u)}}else console.warn("ColladaLoader: Could not find joint '"+r.sid+"'."),r.skinningMatrix=new THREE.Matrix4,r.weights=[]}}}function d(e){var t=[],n=function(e,t,r){var i={};i.name=t.sid,i.parent=e,i.matrix=t.matrix;var o=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];i.matrix.decompose(o[0],o[1],o[2]),i.pos=[o[0].x,o[0].y,o[0].z],i.scl=[o[2].x,o[2].y,o[2].z],i.rotq=[o[1].x,o[1].y,o[1].z,o[1].w],r.push(i);for(var a in t.nodes)n(t.sid,t.nodes[a],r)};return n(-1,e,t),t}function p(e,t,n){var r=[];h(t,r,-1),f(r,n.skin);for(var i=new THREE.Vector3,o=[],a=0;a<e.vertices.length;a++)o.push(new THREE.Vector3);for(a=0;a<r.length;a++)if("JOINT"==r[a].type)for(var s=0;s<r[a].weights.length;s++){var u=r[a].weights[s],c=u.index,l=u.weight,d=e.vertices[c],p=o[c];i.x=d.x,i.y=d.y,i.z=d.z,i.applyMatrix4(r[a].skinningMatrix),p.x+=i.x*l,p.y+=i.y*l,p.z+=i.z*l}for(var a=0;a<e.vertices.length;a++)e.vertices[a]=o[a]}function m(e,t,n){var r=He[t.url];if(n=void 0!==n?n:40,!r||!r.skin)return void console.log("ColladaLoader: Could not find skin controller.");if(!t.skeleton||!t.skeleton.length)return void console.log("ColladaLoader: Could not find the skeleton for the skin. ");for(var i=c(),o=ke.getChildById(t.skeleton[0],!0)||ke.getChildBySid(t.skeleton[0],!0),a=d(o),s=r.skin.joints,u=[],l=0;l<s.length;l++)for(var m=0;m<a.length;m++)a[m].name===s[l]&&(u[l]=a[m]);for(var l=0;l<u.length;l++)for(var m=0;m<u.length;m++)u[l].parent===u[m].name&&(u[l].parent=m);var l,m,g;new THREE.Vector3;for(l=0;l<e.vertices.length;l++)e.vertices[l].applyMatrix4(r.skin.bindShapeMatrix);for(var v=[],y=[],b=r.skin.weights,l=0;l<b.length;l++){var w=new THREE.Vector4(b[l][0]?b[l][0].joint:0,b[l][1]?b[l][1].joint:0,b[l][2]?b[l][2].joint:0,b[l][3]?b[l][3].joint:0),g=new THREE.Vector4(b[l][0]?b[l][0].weight:0,b[l][1]?b[l][1].weight:0,b[l][2]?b[l][2].weight:0,b[l][3]?b[l][3].weight:0);v.push(w),y.push(g)}e.skinIndices=v,e.skinWeights=y,e.bones=u;for(var M={name:i.ID,fps:30,length:i.frames/30,hierarchy:[]},m=0;m<u.length;m++)M.hierarchy.push({parent:u[m].parent,name:u[m].name,keys:[]});for(console.log("ColladaLoader:",i.ID+" has "+u.length+" bones."),p(e,o,r),n=0;n<i.frames;n++){var E=[];h(o,E,n),f(E,r.skin);for(var l=0;l<E.length;l++)for(var m=0;m<M.hierarchy.length;m++)if(M.hierarchy[m].name===E[l].sid){var A={};A.time=n/30,A.matrix=E[l].animatrix,0===n&&(E[l].matrix=A.matrix);var x=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];A.matrix.decompose(x[0],x[1],x[2]),A.pos=[x[0].x,x[0].y,x[0].z],A.scl=[x[2].x,x[2].y,x[2].z],A.rot=x[1],M.hierarchy[m].keys.push(A)}e.animation=M}}function g(){if(Se&&0===Se.joints.length)return void(Le=void 0);var e={},t=function(t,n){var r=n.getAttribute("id"),i=ke.getChildById(r,!0),o=Se.joints[t];Pe.traverse(function(n){n.colladaId==r&&(e[t]={node:n,transforms:i.transforms,joint:o,position:o.zeroPosition})})};Le={joints:Se&&Se.joints,getJointValue:function(t){var n=e[t];return n?n.position:void console.log("getJointValue: joint "+t+" doesn't exist")},setJointValue:function(t,n){var i=e[t];if(i){var o=i.joint;if(n>o.limits.max||n<o.limits.min)console.log("setJointValue: joint "+t+" value "+n+" outside of limits (min: "+o.limits.min+", max: "+o.limits.max+")");else if(o.static)console.log("setJointValue: joint "+t+" is static");else{var a=i.node,s=o.axis,u=i.transforms,c=new THREE.Matrix4;for(r=0;r<u.length;r++){var l=u[r];if(l.sid&&l.sid.indexOf("joint"+t)!==-1)switch(o.type){case"revolute":c.multiply(h.makeRotationAxis(s,THREE.Math.degToRad(n)));break;case"prismatic":c.multiply(h.makeTranslation(s.x*n,s.y*n,s.z*n));break;default:console.warn("setJointValue: unknown joint type: "+o.type)}else{var h=new THREE.Matrix4;switch(l.type){case"matrix":c.multiply(l.obj);break;case"translate":c.multiply(h.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"rotate":c.multiply(h.makeRotationAxis(l.obj,l.angle))}}}var f=c.elements,d=Array.prototype.slice.call(f),p=[d[0],d[4],d[8],d[12],d[1],d[5],d[9],d[13],d[2],d[6],d[10],d[14],d[3],d[7],d[11],d[15]];a.matrix.set.apply(a.matrix,p),a.matrix.decompose(a.position,a.quaternion,a.scale)}}else console.log("setJointValue: joint "+t+" doesn't exist")}};var n=je.querySelector("scene instance_kinematics_scene");if(n)for(var r=0;r<n.childNodes.length;r++){var i=n.childNodes[r];if(1==i.nodeType)switch(i.nodeName){case"bind_joint_axis":var o=i.getAttribute("target").split("/").pop(),a=i.querySelector("axis param").textContent,s=parseInt(a.split("joint").pop().split(".")[0]),u=je.querySelector('[sid="'+o+'"]');if(u){var c=u.parentElement;t(s,c)}}}}function v(e,t){var n,r,i,o,a=new THREE.Object3D,s=!1;for(i=0;i<e.controllers.length;i++){var u=He[e.controllers[i].url];switch(u.type){case"skin":if(Ve[u.skin.source]){var c=new R;c.url=u.skin.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c),s=!0,n=e.controllers[i]}else if(He[u.skin.source]){var h=He[u.skin.source];if(r=h,h.morph&&Ve[h.morph.source]){var c=new R;c.url=h.morph.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c)}}break;case"morph":if(Ve[u.morph.source]){var c=new R;c.url=u.morph.source,c.instance_material=e.controllers[i].instance_material,e.geometries.push(c),r=e.controllers[i]}console.log("ColladaLoader: Morph-controller partially supported.")}}var f={};for(i=0;i<e.geometries.length;i++){var d,p=e.geometries[i],g=p.instance_material,y=Ve[p.url],b={},w=[],M=0;if(y){if(!y.mesh||!y.mesh.primitives)continue;if(0===a.name.length&&(a.name=y.id),g)for(o=0;o<g.length;o++){var E=g[o],A=Ge[E.target],x=A.instance_effect.url,T=Ye[x].shader,_=T.material;if(y.doubleSided){if(!(E.symbol in f)){var k=_.clone();k.side=THREE.DoubleSide,f[E.symbol]=k}_=f[E.symbol]}_.opacity=_.opacity?_.opacity:1,b[E.symbol]=M,w.push(_),d=_,d.name=null===A.name||""===A.name?A.id:A.name,M++}var S,N=d||new THREE.MeshLambertMaterial({color:14540253,side:y.doubleSided?THREE.DoubleSide:THREE.FrontSide}),L=y.mesh.geometry3js;if(M>1)for(N=new THREE.MultiMaterial(w),o=0;o<L.faces.length;o++){var D=L.faces[o];D.materialIndex=b[D.daeMaterial]}void 0!==n?(m(L,n),L.morphTargets.length>0?(N.morphTargets=!0,N.skinning=!1):(N.morphTargets=!1,N.skinning=!0),S=new THREE.SkinnedMesh(L,N,!1),S.name="skin_"+Re.length,Re.push(S)):void 0!==r?(l(L,r),N.morphTargets=!0,S=new THREE.Mesh(L,N),S.name="morph_"+Oe.length,Oe.push(S)):S=L.isLineStrip===!0?new THREE.Line(L):new THREE.Mesh(L,N),a.add(S)}}for(i=0;i<e.cameras.length;i++){var C=e.cameras[i],I=Qe[C.url],O=new THREE.PerspectiveCamera(I.yfov,parseFloat(I.aspect_ratio),parseFloat(I.znear),parseFloat(I.zfar));a.add(O)}for(i=0;i<e.lights.length;i++){var j=null,P=e.lights[i],U=We[P.url];if(U&&U.technique){var F=U.color.getHex(),z=U.intensity,B=U.distance,H=U.falloff_angle;switch(U.technique){case"directional":j=new THREE.DirectionalLight(F,z,B),j.position.set(0,0,1);break;case"point":j=new THREE.PointLight(F,z,B);break;case"spot":j=new THREE.SpotLight(F,z,B,H),j.position.set(0,0,1);break;case"ambient":j=new THREE.AmbientLight(F)}}j&&a.add(j)}if(a.name=e.name||e.id||"",a.colladaId=e.id||"",a.layer=e.layer||"",a.matrix=e.matrix,a.matrix.decompose(a.position,a.quaternion,a.scale),Xe.centerGeometry&&a.geometry){var V=a.geometry.center();V.multiply(a.scale),V.applyQuaternion(a.quaternion),a.position.sub(V)}for(i=0;i<e.nodes.length;i++)a.add(v(e.nodes[i],e));return a}function y(e){for(var t=je.querySelectorAll("library_nodes node"),n=0;n<t.length;n++){var r=t[n].attributes.getNamedItem("id");if(r&&r.value===e)return t[n]}}function b(e){var t=[],n=1e6,r=-1e6;for(var i in Be)for(var o=Be[i],a=0;a<o.channel.length;a++){var s=o.channel[a],u=o.sampler[a],i=s.target.split("/")[0];i==e.id&&(u.create(),s.sampler=u,n=Math.min(n,u.startTime),r=Math.max(r,u.endTime),t.push(s))}return t.length&&(e.startTime=n,e.endTime=r),t}function w(e){if(e.channels&&e.channels.length){for(var t=[],n=[],r=0,i=e.channels.length;r<i;r++){var o,a=e.channels[r],s=a.fullSid,u=a.sampler,c=u.input,l=e.getTransformBySid(a.sid);if(a.arrIndices){o=[];for(var h=0,f=a.arrIndices.length;h<f;h++)o[h]=Te(a.arrIndices[h])}else o=_e(a.member);if(l){n.indexOf(s)===-1&&n.push(s);for(var h=0,f=c.length;h<f;h++){var d=c[h],p=u.getData(l.type,h,o),m=M(t,d);if(!m){m=new ne(d);var g=E(t,d);t.splice(g===-1?t.length:g,0,m)}m.addTarget(s,l,o,p)}}else console.log('Could not find transform "'+a.sid+'" in node '+e.id)}for(var r=0;r<n.length;r++)for(var v=n[r],h=0;h<t.length;h++){var m=t[h];m.hasTarget(v)||A(t,m,h,v)}e.keys=t,e.sids=n}}function M(e,t){for(var n=null,r=0,i=e.length;r<i&&null===n;r++){var o=e[r];if(o.time===t)n=o;else if(o.time>t)break}return n}function E(e,t){for(var n=-1,r=0,i=e.length;r<i&&n===-1;r++){var o=e[r];o.time>=t&&(n=r)}return n}function A(e,t,n,r){var i=T(e,r,n?n-1:0),o=x(e,r,n+1);if(i&&o){var a,s=(t.time-i.time)/(o.time-i.time),u=i.getTarget(r),c=o.getTarget(r).data,l=u.data;if("matrix"===u.type)a=l;else if(l.length){a=[];for(var h=0;h<l.length;++h)a[h]=l[h]+(c[h]-l[h])*s}else a=l+(c-l)*s;t.addTarget(r,u.transform,u.member,a)}}function x(e,t,n){for(;n<e.length;n++){var r=e[n];if(r.hasTarget(t))return r}return null}function T(e,t,n){for(n=n>=0?n:n+e.length;n>=0;n--){var r=e[n];if(r.hasTarget(t))return r}return null}function _(){this.id="",this.init_from=""}function k(){this.id="",this.name="",this.type="",this.skin=null,this.morph=null}function S(){this.method=null,this.source=null,this.targets=null,this.weights=null}function N(){this.source="",this.bindShapeMatrix=null,this.invBindMatrices=[],this.joints=[],this.weights=[]}function L(){this.id="",this.name="",this.nodes=[],this.scene=new THREE.Group}function D(){this.id="",this.name="",this.sid="",this.nodes=[],this.controllers=[],this.transforms=[],this.geometries=[],this.channels=[],this.matrix=new THREE.Matrix4}function C(){this.sid="",this.type="",this.data=[],this.obj=null}function I(){this.url="",this.skeleton=[],this.instance_material=[]}function O(){this.symbol="",this.target=""}function R(){this.url="",this.instance_material=[]}function j(){this.id="",this.mesh=null}function P(e){this.geometry=e.id,this.primitives=[],this.vertices=null,this.geometry3js=null}function U(){this.material="",this.count=0,this.inputs=[],this.vcount=null,this.p=[],this.geometry=new THREE.Geometry}function F(){U.call(this),this.vcount=[]}function z(){U.call(this),this.vcount=1}function B(){U.call(this),this.vcount=3}function H(){this.source="",this.count=0,this.stride=0,this.params=[]}function V(){this.input={}}function G(){this.semantic="",this.offset=0,this.source="",this.set=0}function Y(e){this.id=e,this.type=null}function Q(){this.id="",this.name="",this.instance_effect=null}function W(){this.color=new THREE.Color,this.color.setRGB(Math.random(),Math.random(),Math.random()),this.color.a=1,this.texture=null,this.texcoord=null,this.texOpts=null}function q(e,t){this.type=e,this.effect=t,this.material=null}function X(e){this.effect=e,this.init_from=null,this.format=null}function K(e){this.effect=e,this.source=null,this.wrap_s=null,this.wrap_t=null,this.minfilter=null,this.magfilter=null,this.mipfilter=null}function Z(){this.id="",this.name="",this.shader=null,this.surface={},this.sampler={}}function J(){this.url=""}function $(){this.id="",this.name="",this.source={},this.sampler=[],this.channel=[]}function ee(e){this.animation=e,this.source="",this.target="",this.fullSid=null,this.sid=null,this.dotSyntax=null,this.arrSyntax=null,this.arrIndices=null,this.member=null}function te(e){this.id="",this.animation=e,this.inputs=[],this.input=null,this.output=null,this.strideOut=null,this.interpolation=null,this.startTime=null,this.endTime=null,this.duration=0}function ne(e){this.targets=[],this.time=e}function re(){this.id="",this.name="",this.technique=""}function ie(){this.url=""}function oe(){this.id="",this.name="",this.technique=""}function ae(){this.url=""}function se(){this.id="",this.name="",this.joints=[],this.links=[]}function ue(){this.sid="",this.name="",this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type="",this.static=!1,this.zeroPosition=0,this.middlePosition=0}function ce(){this.sid="",this.name="",this.transforms=[],this.attachments=[]}function le(){this.joint="",this.transforms=[],this.links=[]}function he(e){var t=e.getAttribute("id");return void 0!=Fe[t]?Fe[t]:(Fe[t]=new Y(t).parse(e),Fe[t])}function fe(e){for(var t=me(e),n=[],r=0,i=t.length;r<i;r++)n.push("true"===t[r]||"1"===t[r]);return n}function de(e){for(var t=me(e),n=[],r=0,i=t.length;r<i;r++)n.push(parseFloat(t[r]));return n}function pe(e){for(var t=me(e),n=[],r=0,i=t.length;r<i;r++)n.push(parseInt(t[r],10));return n}function me(e){return e.length>0?ge(e).split(/\s+/):[]}function ge(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function ve(e,t,n){return e.hasAttribute(t)?parseInt(e.getAttribute(t),10):n}function ye(e,t){var n=new THREE.ImageLoader;n.load(t,function(t){e.image=t,e.needsUpdate=!0})}function be(e,t){e.doubleSided=!1;var n=t.querySelectorAll("extra double_sided")[0];n&&n&&1===parseInt(n.textContent,10)&&(e.doubleSided=!0)}function we(){if(Xe.convertUpAxis!==!0||Ze===Xe.upAxis)Je=null;else switch(Ze){case"X":Je="Y"===Xe.upAxis?"XtoY":"XtoZ";break;case"Y":Je="X"===Xe.upAxis?"YtoX":"YtoZ";break;case"Z":Je="X"===Xe.upAxis?"ZtoX":"ZtoY"}}function Me(e,t){if(Xe.convertUpAxis===!0&&Ze!==Xe.upAxis)switch(Je){case"XtoY":var n=e[0];e[0]=t*e[1],e[1]=n;break;case"XtoZ":var n=e[2];e[2]=e[1],e[1]=e[0],e[0]=n;break;case"YtoX":var n=e[0];e[0]=e[1],e[1]=t*n;break;case"YtoZ":var n=e[1];e[1]=t*e[2],e[2]=n;break;case"ZtoX":var n=e[0];e[0]=e[1],e[1]=e[2],e[2]=n;break;case"ZtoY":var n=e[1];e[1]=e[2],e[2]=t*n}}function Ee(e,t){if(Xe.convertUpAxis!==!0||Ze===Xe.upAxis)return t;switch(e){case"X":t="XtoY"===Je?t*-1:t;break;case"Y":t="YtoZ"===Je||"YtoX"===Je?t*-1:t;break;case"Z":t="ZtoY"===Je?t*-1:t}return t}function Ae(e,t){var n=[e[t],e[t+1],e[t+2]];return Me(n,-1),new THREE.Vector3(n[0],n[1],n[2])}function xe(e){if(Xe.convertUpAxis){var t=[e[0],e[4],e[8]];Me(t,-1),e[0]=t[0],e[4]=t[1],e[8]=t[2],t=[e[1],e[5],e[9]],Me(t,-1),e[1]=t[0],e[5]=t[1],e[9]=t[2],t=[e[2],e[6],e[10]],Me(t,-1),e[2]=t[0],e[6]=t[1],e[10]=t[2],t=[e[0],e[1],e[2]],Me(t,-1),e[0]=t[0],e[1]=t[1],e[2]=t[2],t=[e[4],e[5],e[6]],Me(t,-1),e[4]=t[0],e[5]=t[1],e[6]=t[2],t=[e[8],e[9],e[10]],Me(t,-1),e[8]=t[0],e[9]=t[1],e[10]=t[2],t=[e[3],e[7],e[11]],Me(t,-1),e[3]=t[0],e[7]=t[1],e[11]=t[2]}return(new THREE.Matrix4).set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Te(e){if(e>-1&&e<3){var t=["X","Y","Z"],n={X:0,Y:1,Z:2};e=_e(t[e]),
e=n[e]}return e}function _e(e){if(Xe.convertUpAxis)switch(e){case"X":switch(Je){case"XtoY":case"XtoZ":case"YtoX":e="Y";break;case"ZtoX":e="Z"}break;case"Y":switch(Je){case"XtoY":case"YtoX":case"ZtoX":e="X";break;case"XtoZ":case"YtoZ":case"ZtoY":e="Z"}break;case"Z":switch(Je){case"XtoZ":e="X";break;case"YtoZ":case"ZtoX":case"ZtoY":e="Y"}}return e}var ke,Se,Ne,Le,De,Ce,Ie,Oe,Re,je=null,Pe=null,Ue=null,Fe={},ze={},Be={},He={},Ve={},Ge={},Ye={},Qe={},We={},qe=THREE.SmoothShading,Xe={centerGeometry:!1,convertUpAxis:!1,subdivideFaces:!0,upAxis:"Y",defaultEnvMap:null},Ke=1,Ze="Y",Je=null;return _.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"init_from"===n.nodeName&&(this.init_from=n.textContent)}return this},k.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.type="none";for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"skin":this.skin=(new N).parse(n),this.type=n.nodeName;break;case"morph":this.morph=(new S).parse(n),this.type=n.nodeName}}return this},S.prototype.parse=function(e){var t,n={},r=[];for(this.method=e.getAttribute("method"),this.source=e.getAttribute("source").replace(/^#/,""),t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"source":var o=(new Y).parse(i);n[o.id]=o;break;case"targets":r=this.parseInputs(i);break;default:console.log(i.nodeName)}}for(t=0;t<r.length;t++){var a=r[t],o=n[a.source];switch(a.semantic){case"MORPH_TARGET":this.targets=o.read();break;case"MORPH_WEIGHT":this.weights=o.read()}}return this},S.prototype.parseInputs=function(e){for(var t=[],n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType)switch(r.nodeName){case"input":t.push((new G).parse(r))}}return t},N.prototype.parse=function(e){var t,n,r={};this.source=e.getAttribute("source").replace(/^#/,""),this.invBindMatrices=[],this.joints=[],this.weights=[];for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i];if(1==o.nodeType)switch(o.nodeName){case"bind_shape_matrix":var a=de(o.textContent);this.bindShapeMatrix=xe(a);break;case"source":var s=(new Y).parse(o);r[s.id]=s;break;case"joints":t=o;break;case"vertex_weights":n=o;break;default:console.log(o.nodeName)}}return this.parseJoints(t,r),this.parseWeights(n,r),this},N.prototype.parseJoints=function(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType)switch(r.nodeName){case"input":var i=(new G).parse(r),o=t[i.source];"JOINT"===i.semantic?this.joints=o.read():"INV_BIND_MATRIX"===i.semantic&&(this.invBindMatrices=o.read())}}},N.prototype.parseWeights=function(e,t){for(var n,r,i=[],o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(1==a.nodeType)switch(a.nodeName){case"input":i.push((new G).parse(a));break;case"v":n=pe(a.textContent);break;case"vcount":r=pe(a.textContent)}}for(var s=0,o=0;o<r.length;o++){for(var u=r[o],c=[],l=0;l<u;l++){for(var h={},f=0;f<i.length;f++){var d=i[f],p=n[s+d.offset];switch(d.semantic){case"JOINT":h.joint=p;break;case"WEIGHT":h.weight=t[d.source].data[p]}}c.push(h),s+=i.length}for(var l=0;l<c.length;l++)c[l].index=o;this.weights.push(c)}},L.prototype.getChildById=function(e,t){for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n].getChildById(e,t);if(r)return r}return null},L.prototype.getChildBySid=function(e,t){for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n].getChildBySid(e,t);if(r)return r}return null},L.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.nodes=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"node":this.nodes.push((new D).parse(n))}}return this},D.prototype.getChannelForTransform=function(e){for(var t=0;t<this.channels.length;t++){var n,r,i=this.channels[t],o=i.target.split("/"),a=(o.shift(),o.shift()),s=a.indexOf(".")>=0,u=a.indexOf("(")>=0;if(s)o=a.split("."),a=o.shift(),r=o.shift();else if(u){n=a.split("("),a=n.shift();for(var c=0;c<n.length;c++)n[c]=parseInt(n[c].replace(/\)/,""))}if(a===e)return i.info={sid:a,dotSyntax:s,arrSyntax:u,arrIndices:n},i}return null},D.prototype.getChildById=function(e,t){if(this.id===e)return this;if(t)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n].getChildById(e,t);if(r)return r}return null},D.prototype.getChildBySid=function(e,t){if(this.sid===e)return this;if(t)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n].getChildBySid(e,t);if(r)return r}return null},D.prototype.getTransformBySid=function(e){for(var t=0;t<this.transforms.length;t++)if(this.transforms[t].sid===e)return this.transforms[t];return null},D.prototype.parse=function(e){var t;this.id=e.getAttribute("id"),this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.type=e.getAttribute("type"),this.layer=e.getAttribute("layer"),this.type="JOINT"===this.type?this.type:"NODE",this.nodes=[],this.transforms=[],this.geometries=[],this.cameras=[],this.lights=[],this.controllers=[],this.matrix=new THREE.Matrix4;for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType)switch(r.nodeName){case"node":this.nodes.push((new D).parse(r));break;case"instance_camera":this.cameras.push((new ie).parse(r));break;case"instance_controller":this.controllers.push((new I).parse(r));break;case"instance_geometry":this.geometries.push((new R).parse(r));break;case"instance_light":this.lights.push((new ae).parse(r));break;case"instance_node":t=r.getAttribute("url").replace(/^#/,"");var i=y(t);i&&this.nodes.push((new D).parse(i));break;case"rotate":case"translate":case"scale":case"matrix":case"lookat":case"skew":this.transforms.push((new C).parse(r));break;case"extra":break;default:console.log(r.nodeName)}}return this.channels=b(this),w(this),this.updateMatrix(),this},D.prototype.updateMatrix=function(){this.matrix.identity();for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(this.matrix)},C.prototype.parse=function(e){return this.sid=e.getAttribute("sid"),this.type=e.nodeName,this.data=de(e.textContent),this.convert(),this},C.prototype.convert=function(){switch(this.type){case"matrix":this.obj=xe(this.data);break;case"rotate":this.angle=THREE.Math.degToRad(this.data[3]);case"translate":Me(this.data,-1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;case"scale":Me(this.data,1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;default:console.log("Can not convert Transform of type "+this.type)}},C.prototype.apply=function(){var e=new THREE.Matrix4;return function(t){switch(this.type){case"matrix":t.multiply(this.obj);break;case"translate":t.multiply(e.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case"rotate":t.multiply(e.makeRotationAxis(this.obj,this.angle));break;case"scale":t.scale(this.obj)}}}(),C.prototype.update=function(e,t){var n=["X","Y","Z","ANGLE"];switch(this.type){case"matrix":if(t)if(1===t.length)switch(t[0]){case 0:this.obj.n11=e[0],this.obj.n21=e[1],this.obj.n31=e[2],this.obj.n41=e[3];break;case 1:this.obj.n12=e[0],this.obj.n22=e[1],this.obj.n32=e[2],this.obj.n42=e[3];break;case 2:this.obj.n13=e[0],this.obj.n23=e[1],this.obj.n33=e[2],this.obj.n43=e[3];break;case 3:this.obj.n14=e[0],this.obj.n24=e[1],this.obj.n34=e[2],this.obj.n44=e[3]}else if(2===t.length){var r="n"+(t[0]+1)+(t[1]+1);this.obj[r]=e}else console.log("Incorrect addressing of matrix in transform.");else this.obj.copy(e);break;case"translate":case"scale":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=n[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2]}break;case"rotate":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=n[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;case"ANGLE":this.angle=THREE.Math.degToRad(e);break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2],this.angle=THREE.Math.degToRad(e[3])}}},I.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.skeleton=[],this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1===n.nodeType)switch(n.nodeName){case"skeleton":this.skeleton.push(n.textContent.replace(/^#/,""));break;case"bind_material":for(var r=n.querySelectorAll("instance_material"),i=0;i<r.length;i++){var o=r[i];this.instance_material.push((new O).parse(o))}break;case"extra":}}return this},O.prototype.parse=function(e){return this.symbol=e.getAttribute("symbol"),this.target=e.getAttribute("target").replace(/^#/,""),this},R.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType&&"bind_material"===n.nodeName){for(var r=n.querySelectorAll("instance_material"),i=0;i<r.length;i++){var o=r[i];this.instance_material.push((new O).parse(o))}break}}return this},j.prototype.parse=function(e){this.id=e.getAttribute("id"),be(this,e);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"mesh":this.mesh=new P(this).parse(n);break;case"extra":}}return this},P.prototype.parse=function(e){this.primitives=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"source":he(n);break;case"vertices":this.vertices=(new V).parse(n);break;case"linestrips":this.primitives.push((new z).parse(n));break;case"triangles":this.primitives.push((new B).parse(n));break;case"polygons":this.primitives.push((new U).parse(n));break;case"polylist":this.primitives.push((new F).parse(n))}}if(this.geometry3js=new THREE.Geometry,null===this.vertices)return this;for(var r=Fe[this.vertices.input.POSITION.source].data,t=0;t<r.length;t+=3)this.geometry3js.vertices.push(Ae(r,t).clone());for(var t=0;t<this.primitives.length;t++){var i=this.primitives[t];i.setVertices(this.vertices),this.handlePrimitive(i,this.geometry3js)}return this.geometry3js.calcNormals&&(this.geometry3js.computeVertexNormals(),delete this.geometry3js.calcNormals),this},P.prototype.handlePrimitive=function(e,t){if(e instanceof z)return void(t.isLineStrip=!0);var n,r,i,o,a,s,u,c=e.p,l=e.inputs,h=0,f=3,d=0,p=[];for(n=0;n<l.length;n++){i=l[n];var m=i.offset+1;switch(d=d<m?m:d,i.semantic){case"TEXCOORD":p.push(i.set)}}for(var g=0;g<c.length;++g)for(var v=c[g],y=0;y<v.length;){var b=[],w=[],M=null,E=[];for(f=e.vcount?e.vcount.length?e.vcount[h++]:e.vcount:v.length/d,n=0;n<f;n++)for(r=0;r<l.length;r++)switch(i=l[r],s=Fe[i.source],o=v[y+n*d+i.offset],u=s.accessor.params.length,a=o*u,i.semantic){case"VERTEX":b.push(o);break;case"NORMAL":w.push(Ae(s.data,a));break;case"TEXCOORD":M=M||{},void 0===M[i.set]&&(M[i.set]=[]),M[i.set].push(new THREE.Vector2(s.data[a],s.data[a+1]));break;case"COLOR":E.push((new THREE.Color).setRGB(s.data[a],s.data[a+1],s.data[a+2]))}if(0===w.length)if(i=this.vertices.input.NORMAL){s=Fe[i.source],u=s.accessor.params.length;for(var A=0,x=b.length;A<x;A++)w.push(Ae(s.data,b[A]*u))}else t.calcNormals=!0;if(!M&&(M={},i=this.vertices.input.TEXCOORD)){p.push(i.set),s=Fe[i.source],u=s.accessor.params.length;for(var A=0,x=b.length;A<x;A++)a=b[A]*u,void 0===M[i.set]&&(M[i.set]=[]),M[i.set].push(new THREE.Vector2(s.data[a],1-s.data[a+1]))}if(0===E.length&&(i=this.vertices.input.COLOR)){s=Fe[i.source],u=s.accessor.params.length;for(var A=0,x=b.length;A<x;A++)a=b[A]*u,E.push((new THREE.Color).setRGB(s.data[a],s.data[a+1],s.data[a+2]))}var T,_,k=null,S=[];if(3===f)S.push(new THREE.Face3(b[0],b[1],b[2],w,E.length?E:new THREE.Color));else if(4===f)S.push(new THREE.Face3(b[0],b[1],b[3],w.length?[w[0].clone(),w[1].clone(),w[3].clone()]:[],E.length?[E[0],E[1],E[3]]:new THREE.Color)),S.push(new THREE.Face3(b[1],b[2],b[3],w.length?[w[1].clone(),w[2].clone(),w[3].clone()]:[],E.length?[E[1],E[2],E[3]]:new THREE.Color));else if(f>4&&Xe.subdivideFaces){var N=E.length?E:new THREE.Color;for(r=1;r<f-1;)S.push(new THREE.Face3(b[0],b[r],b[r+1],w.length?[w[0].clone(),w[r++].clone(),w[r].clone()]:[],N))}if(S.length)for(var A=0,x=S.length;A<x;A++)for(k=S[A],k.daeMaterial=e.material,t.faces.push(k),r=0;r<p.length;r++)T=M[p[r]],_=f>4?[T[0],T[A+1],T[A+2]]:4===f?0===A?[T[0],T[1],T[3]]:[T[1].clone(),T[2],T[3].clone()]:[T[0],T[1],T[2]],void 0===t.faceVertexUvs[r]&&(t.faceVertexUvs[r]=[]),t.faceVertexUvs[r].push(_);else console.log("dropped face with vcount "+f+" for geometry with id: "+t.id);y+=d*f}},U.prototype.setVertices=function(e){for(var t=0;t<this.inputs.length;t++)this.inputs[t].source===e.id&&(this.inputs[t].source=e.input.POSITION.source)},U.prototype.parse=function(e){this.material=e.getAttribute("material"),this.count=ve(e,"count",0);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"input":this.inputs.push((new G).parse(e.childNodes[t]));break;case"vcount":this.vcount=pe(n.textContent);break;case"p":this.p.push(pe(n.textContent));break;case"ph":console.warn("polygon holes not yet supported!")}}return this},F.prototype=Object.create(U.prototype),F.prototype.constructor=F,z.prototype=Object.create(U.prototype),z.prototype.constructor=z,B.prototype=Object.create(U.prototype),B.prototype.constructor=B,H.prototype.parse=function(e){this.params=[],this.source=e.getAttribute("source"),this.count=ve(e,"count",0),this.stride=ve(e,"stride",0);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if("param"===n.nodeName){var r={};r.name=n.getAttribute("name"),r.type=n.getAttribute("type"),this.params.push(r)}}return this},V.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++)if("input"===e.childNodes[t].nodeName){var n=(new G).parse(e.childNodes[t]);this.input[n.semantic]=n}return this},G.prototype.parse=function(e){return this.semantic=e.getAttribute("semantic"),this.source=e.getAttribute("source").replace(/^#/,""),this.set=ve(e,"set",-1),this.offset=ve(e,"offset",0),"TEXCOORD"===this.semantic&&this.set<0&&(this.set=0),this},Y.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"bool_array":this.data=fe(n.textContent),this.type=n.nodeName;break;case"float_array":this.data=de(n.textContent),this.type=n.nodeName;break;case"int_array":this.data=pe(n.textContent),this.type=n.nodeName;break;case"IDREF_array":case"Name_array":this.data=me(n.textContent),this.type=n.nodeName;break;case"technique_common":for(var r=0;r<n.childNodes.length;r++)if("accessor"===n.childNodes[r].nodeName){this.accessor=(new H).parse(n.childNodes[r]);break}}}return this},Y.prototype.read=function(){var e=[],t=this.accessor.params[0];switch(t.type){case"IDREF":case"Name":case"name":case"float":return this.data;case"float4x4":for(var n=0;n<this.data.length;n+=16){var r=this.data.slice(n,n+16),i=xe(r);e.push(i)}break;default:console.log("ColladaLoader: Source: Read dont know how to read "+t.type+".")}return e},Q.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++)if("instance_effect"===e.childNodes[t].nodeName){this.instance_effect=(new J).parse(e.childNodes[t]);break}return this},W.prototype.isColor=function(){return null===this.texture},W.prototype.isTexture=function(){return null!=this.texture},W.prototype.parse=function(e){"transparent"===e.nodeName&&(this.opaque=e.getAttribute("opaque"));for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"color":var r=de(n.textContent);this.color=new THREE.Color,this.color.setRGB(r[0],r[1],r[2]),this.color.a=r[3];break;case"texture":this.texture=n.getAttribute("texture"),this.texcoord=n.getAttribute("texcoord"),this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1},this.parseTexture(n)}}return this},W.prototype.parseTexture=function(e){if(!e.childNodes)return this;e.childNodes[1]&&"extra"===e.childNodes[1].nodeName&&(e=e.childNodes[1],e.childNodes[1]&&"technique"===e.childNodes[1].nodeName&&(e=e.childNodes[1]));for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"offsetU":case"offsetV":case"repeatU":case"repeatV":this.texOpts[n.nodeName]=parseFloat(n.textContent);break;case"wrapU":case"wrapV":"TRUE"===n.textContent.toUpperCase()?this.texOpts[n.nodeName]=1:this.texOpts[n.nodeName]=parseInt(n.textContent);break;default:this.texOpts[n.nodeName]=n.textContent}}return this},q.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"emission":case"diffuse":case"specular":case"transparent":this[n.nodeName]=(new W).parse(n);break;case"bump":var r=n.getAttribute("bumptype");r?"heightfield"===r.toLowerCase()?this.bump=(new W).parse(n):"normalmap"===r.toLowerCase()?this.normal=(new W).parse(n):(console.error("Shader.prototype.parse: Invalid value for attribute 'bumptype' ("+r+") - valid bumptypes are 'HEIGHTFIELD' and 'NORMALMAP' - defaulting to 'HEIGHTFIELD'"),this.bump=(new W).parse(n)):(console.warn("Shader.prototype.parse: Attribute 'bumptype' missing from bump node - defaulting to 'HEIGHTFIELD'"),this.bump=(new W).parse(n));break;case"shininess":case"reflectivity":case"index_of_refraction":case"transparency":var i=n.querySelectorAll("float");i.length>0&&(this[n.nodeName]=parseFloat(i[0].textContent))}}return this.create(),this},q.prototype.create=function(){var e={},t=!1;if(void 0!==this.transparency&&void 0!==this.transparent){var n=(this.transparent,(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency);n>0&&(t=!0,e.transparent=!0,e.opacity=1-n)}var r={diffuse:"map",ambient:"lightMap",specular:"specularMap",emission:"emissionMap",bump:"bumpMap",normal:"normalMap"};for(var i in this)switch(i){case"ambient":case"emission":case"diffuse":case"specular":case"bump":case"normal":var o=this[i];if(o instanceof W)if(o.isTexture()){var a=o.texture,s=this.effect.sampler[a];if(void 0!==s&&void 0!==s.source){var u=this.effect.surface[s.source];if(void 0!==u){var c=ze[u.init_from];if(c){var l,h=Ie+c.init_from,f=THREE.Loader.Handlers.get(h);null!==f?l=f.load(h):(l=new THREE.Texture,ye(l,h)),l.wrapS=o.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,l.wrapT=o.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,l.offset.x=o.texOpts.offsetU,l.offset.y=o.texOpts.offsetV,l.repeat.x=o.texOpts.repeatU,l.repeat.y=o.texOpts.repeatV,e[r[i]]=l,"emission"===i&&(e.emissive=16777215)}}}}else"diffuse"!==i&&t||("emission"===i?e.emissive=o.color.getHex():e[i]=o.color.getHex());break;case"shininess":e[i]=this[i];break;case"reflectivity":e[i]=this[i],e[i]>0&&(e.envMap=Xe.defaultEnvMap),e.combine=THREE.MixOperation;break;case"index_of_refraction":e.refractionRatio=this[i],1!==this[i]&&(e.envMap=Xe.defaultEnvMap);break;case"transparency":}switch(e.shading=qe,e.side=this.effect.doubleSided?THREE.DoubleSide:THREE.FrontSide,void 0!==e.diffuse&&(e.color=e.diffuse,delete e.diffuse),this.type){case"constant":void 0!=e.emissive&&(e.color=e.emissive),this.material=new THREE.MeshBasicMaterial(e);break;case"phong":case"blinn":this.material=new THREE.MeshPhongMaterial(e);break;case"lambert":default:this.material=new THREE.MeshLambertMaterial(e)}return this.material},X.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"init_from":this.init_from=n.textContent;break;case"format":this.format=n.textContent;break;default:console.log("unhandled Surface prop: "+n.nodeName)}}return this},K.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"source":this.source=n.textContent;break;case"minfilter":this.minfilter=n.textContent;break;case"magfilter":this.magfilter=n.textContent;break;case"mipfilter":this.mipfilter=n.textContent;break;case"wrap_s":this.wrap_s=n.textContent;break;case"wrap_t":this.wrap_t=n.textContent;break;default:console.log("unhandled Sampler2D prop: "+n.nodeName)}}return this},Z.prototype.create=function(){if(null===this.shader)return null},Z.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),be(this,e),this.shader=null;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"profile_COMMON":this.parseTechnique(this.parseProfileCOMMON(n))}}return this},Z.prototype.parseNewparam=function(e){for(var t=e.getAttribute("sid"),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType)switch(r.nodeName){case"surface":this.surface[t]=new X(this).parse(r);break;case"sampler2D":this.sampler[t]=new K(this).parse(r);break;case"extra":break;default:console.log(r.nodeName)}}},Z.prototype.parseProfileCOMMON=function(e){for(var t,n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType)switch(r.nodeName){case"profile_COMMON":this.parseProfileCOMMON(r);break;case"technique":t=r;break;case"newparam":this.parseNewparam(r);break;case"image":var i=(new _).parse(r);ze[i.id]=i;break;case"extra":break;default:console.log(r.nodeName)}}return t},Z.prototype.parseTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"constant":case"lambert":case"blinn":case"phong":this.shader=new q(n.nodeName,this).parse(n);break;case"extra":this.parseExtra(n)}}},Z.prototype.parseExtra=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"technique":this.parseExtraTechnique(n)}}},Z.prototype.parseExtraTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"bump":this.shader.parse(e)}}},J.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},$.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.source={};for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"animation":var r=(new $).parse(n);for(var i in r.source)this.source[i]=r.source[i];for(var o=0;o<r.channel.length;o++)this.channel.push(r.channel[o]),this.sampler.push(r.sampler[o]);break;case"source":var i=(new Y).parse(n);this.source[i.id]=i;break;case"sampler":this.sampler.push(new te(this).parse(n));break;case"channel":this.channel.push(new ee(this).parse(n))}}return this},ee.prototype.parse=function(e){this.source=e.getAttribute("source").replace(/^#/,""),this.target=e.getAttribute("target");var t=this.target.split("/"),n=(t.shift(),t.shift()),r=n.indexOf(".")>=0,i=n.indexOf("(")>=0;if(r)t=n.split("."),this.sid=t.shift(),this.member=t.shift();else if(i){var o=n.split("(");this.sid=o.shift();for(var a=0;a<o.length;a++)o[a]=parseInt(o[a].replace(/\)/,""));this.arrIndices=o}else this.sid=n;return this.fullSid=n,this.dotSyntax=r,this.arrSyntax=i,this},te.prototype.parse=function(e){this.id=e.getAttribute("id"),this.inputs=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"input":this.inputs.push((new G).parse(n))}}return this},te.prototype.create=function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],n=this.animation.source[t.source];switch(t.semantic){case"INPUT":this.input=n.read();break;case"OUTPUT":this.output=n.read(),this.strideOut=n.accessor.stride;break;case"INTERPOLATION":this.interpolation=n.read();break;case"IN_TANGENT":break;case"OUT_TANGENT":break;default:console.log(t.semantic)}}if(this.startTime=0,this.endTime=0,this.duration=0,this.input.length){this.startTime=1e8,this.endTime=-1e8;for(var e=0;e<this.input.length;e++)this.startTime=Math.min(this.startTime,this.input[e]),this.endTime=Math.max(this.endTime,this.input[e]);this.duration=this.endTime-this.startTime}},te.prototype.getData=function(e,t,n){var r;if("matrix"===e&&16===this.strideOut)r=this.output[t];else if(this.strideOut>1){r=[],t*=this.strideOut;for(var i=0;i<this.strideOut;++i)r[i]=this.output[t+i];if(3===this.strideOut)switch(e){case"rotate":case"translate":Me(r,-1);break;case"scale":Me(r,1)}else 4===this.strideOut&&"matrix"===e&&Me(r,-1)}else r=this.output[t],n&&"translate"===e&&(r=Ee(n,r));return r},ne.prototype.addTarget=function(e,t,n,r){this.targets.push({sid:e,member:n,transform:t,data:r})},ne.prototype.apply=function(e){for(var t=0;t<this.targets.length;++t){var n=this.targets[t];e&&n.sid!==e||n.transform.update(n.data,n.member)}},ne.prototype.getTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return this.targets[t];return null},ne.prototype.hasTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return!0;return!1},ne.prototype.interpolate=function(e,t){for(var n=0,r=this.targets.length;n<r;n++){var i,o=this.targets[n],a=e.getTarget(o.sid);if("matrix"!==o.transform.type&&a){var s=(t-this.time)/(e.time-this.time),u=a.data,c=o.data;if(s<0&&(s=0),s>1&&(s=1),c.length){i=[];for(var l=0;l<c.length;++l)i[l]=c[l]+(u[l]-c[l])*s}else i=c+(u-c)*s}else i=o.data;o.transform.update(i,o.member)}},re.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"optics":this.parseOptics(n)}}return this},re.prototype.parseOptics=function(e){for(var t=0;t<e.childNodes.length;t++)if("technique_common"===e.childNodes[t].nodeName)for(var n=e.childNodes[t],r=0;r<n.childNodes.length;r++)if(this.technique=n.childNodes[r].nodeName,"perspective"===this.technique)for(var i=n.childNodes[r],o=0;o<i.childNodes.length;o++){var a=i.childNodes[o];switch(a.nodeName){case"yfov":this.yfov=a.textContent;break;case"xfov":this.xfov=a.textContent;break;case"znear":this.znear=a.textContent;break;case"zfar":this.zfar=a.textContent;break;case"aspect_ratio":this.aspect_ratio=a.textContent}}else if("orthographic"===this.technique)for(var s=n.childNodes[r],o=0;o<s.childNodes.length;o++){var a=s.childNodes[o];switch(a.nodeName){case"xmag":this.xmag=a.textContent;break;case"ymag":this.ymag=a.textContent;break;case"znear":this.znear=a.textContent;break;case"zfar":this.zfar=a.textContent;break;case"aspect_ratio":this.aspect_ratio=a.textContent}}return this},ie.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},oe.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"technique_common":this.parseCommon(n);break;case"technique":this.parseTechnique(n)}}return this},oe.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++)switch(e.childNodes[t].nodeName){case"directional":case"point":case"spot":case"ambient":this.technique=e.childNodes[t].nodeName;for(var n=e.childNodes[t],r=0;r<n.childNodes.length;r++){var i=n.childNodes[r];switch(i.nodeName){case"color":var o=de(i.textContent);this.color=new THREE.Color(0),this.color.setRGB(o[0],o[1],o[2]),this.color.a=o[3];break;case"falloff_angle":this.falloff_angle=parseFloat(i.textContent);break;case"quadratic_attenuation":var a=parseFloat(i.textContent);this.distance=a?Math.sqrt(1/a):0}}}return this},oe.prototype.parseTechnique=function(e){this.profile=e.getAttribute("profile");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"intensity":this.intensity=parseFloat(n.textContent)}}return this},ae.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},se.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.joints=[],this.links=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"technique_common":this.parseCommon(n)}}return this},se.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(e.childNodes[t].nodeName){case"joint":this.joints.push((new ue).parse(n));break;case"link":this.links.push((new ce).parse(n))}}return this},ue.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type="",this.static=!1,this.zeroPosition=0,this.middlePosition=0;var t=e.querySelector("axis"),n=de(t.textContent);this.axis=Ae(n,0);var r=e.querySelector("limits min")?parseFloat(e.querySelector("limits min").textContent):-360,i=e.querySelector("limits max")?parseFloat(e.querySelector("limits max").textContent):360;this.limits={min:r,max:i};for(var o=["prismatic","revolute"],a=0;a<o.length;a++){var s=o[a],u=e.querySelector(s);u&&(this.type=s)}return this.limits.min>=this.limits.max&&(this.static=!0),this.middlePosition=(this.limits.min+this.limits.max)/2,this},ce.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.transforms=[],this.attachments=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"attachment_full":this.attachments.push((new le).parse(n));break;case"rotate":case"translate":case"matrix":this.transforms.push((new C).parse(n))}}return this},le.prototype.parse=function(e){this.joint=e.getAttribute("joint").split("/").pop(),this.links=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"link":this.links.push((new ce).parse(n));break;case"rotate":case"translate":case"matrix":this.transforms.push((new C).parse(n))}}return this},{load:e,parse:t,setPreferredShading:n,applySkin:m,geometries:Ve,options:Xe}}},{}],45:[function(e,t,n){THREE.GLTFLoader=function(){function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}},update:function(t,n){for(var r in e){var i=e[r];i.update&&i.update(t,n)}}}}function n(e,t){var n={},r=e.material.uniforms;for(var i in r){var o=r[i];if(o.semantic){var a=o.node,s=e;a&&(s=t[a]),n[i]={semantic:o.semantic,sourceNode:s,targetNode:e,uniform:o}}}this.boundUniforms=n,this._m4=new THREE.Matrix4}function r(e,t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];o.times=THREE.AnimationUtils.arraySlice(o.times,0),o.values=THREE.AnimationUtils.arraySlice(o.values,0),o.target.updateMatrix(),o.target.matrixAutoUpdate=!0,n.push(new THREE.KeyframeTrack(o.name,o.times,o.values,o.type))}return new THREE.AnimationClip(e,void 0,n)}function i(e,t,n){if(!e)return Promise.resolve();var r,i=[];if("[object Array]"===Object.prototype.toString.call(e)){r=[];for(var o=e.length,a=0;a<o;a++){var s=t.call(n||this,e[a],a);s&&(i.push(s),s instanceof Promise?s.then(function(e,t){r[a]=t}.bind(this,u)):r[a]=s)}}else{r={};for(var u in e)if(e.hasOwnProperty(u)){var s=t.call(n||this,e[u],u);s&&(i.push(s),s instanceof Promise?s.then(function(e,t){r[e]=t}.bind(this,u)):r[u]=s)}}return Promise.all(i).then(function(){return r})}function o(e,t){return"string"!=typeof e||""===e?"":/^https?:\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:(t||"")+e}function a(e,t){var n={};for(var r in t.attributes){var i=t.attributes[r],o=t.parameters[i],a=o.type,s=o.semantic;n[r]={type:a,semantic:s}}var u=t.parameters,c=t.attributes,l={};for(var r in n){var i=c[r],h=u[i],s=h.semantic;s&&(l[r]=h)}for(var i in l){var o=l[i],s=o.semantic,f=new RegExp("\\b"+i+"\\b","g");switch(s){case"POSITION":e=e.replace(f,"position");break;case"NORMAL":e=e.replace(f,"normal");break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":e=e.replace(f,"uv");break;case"WEIGHT":e=e.replace(f,"skinWeight");break;case"JOINT":e=e.replace(f,"skinIndex")}}return e}function s(e){this.isDeferredShaderMaterial=!0,this.params=e}function u(e,n){this.json=e||{},this.options=n||{},this.cache=new t}e.prototype={constructor:e,load:function(e,t,n,r){var i=this,o=this.path&&"string"==typeof this.path?this.path:THREE.Loader.prototype.extractUrlBase(e),a=new THREE.FileLoader(i.manager);
a.load(e,function(e){i.parse(JSON.parse(e),t,o)},n,r)},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e},parse:function(e,t,n){console.time("GLTFLoader");var r=new u(e,{path:n||this.path,crossOrigin:!!this.crossOrigin});r.parse(function(e,n,r){console.timeEnd("GLTFLoader");var i={scene:e,cameras:n,animations:r};t(i)})}},e.Shaders=new t,n.prototype.update=function(e,t){e.updateMatrixWorld(),t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld);var n=this.boundUniforms;for(var r in n){var i=n[r];switch(i.semantic){case"MODELVIEW":var o=i.uniform.value;o.multiplyMatrices(t.matrixWorldInverse,i.sourceNode.matrixWorld);break;case"MODELVIEWINVERSETRANSPOSE":var a=i.uniform.value;this._m4.multiplyMatrices(t.matrixWorldInverse,i.sourceNode.matrixWorld),a.getNormalMatrix(this._m4);break;case"PROJECTION":var o=i.uniform.value;o.copy(t.projectionMatrix);break;case"JOINTMATRIX":for(var s=i.uniform.value,u=0;u<s.length;u++)s[u].getInverse(i.sourceNode.matrixWorld).multiply(i.targetNode.skeleton.bones[u].matrixWorld).multiply(i.targetNode.skeleton.boneInverses[u]).multiply(i.targetNode.bindMatrix);break;default:console.warn("Unhandled shader semantic: "+i.semantic)}}},e.Animations={update:function(){console.warn("THREE.GLTFLoader.Animation has been deprecated. Use THREE.AnimationMixer instead.")}};var c={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,TRIANGLES:4,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,VERTEX_SHADER:35633,FRAGMENT_SHADER:35632},l={5126:Number,35675:THREE.Matrix3,35676:THREE.Matrix4,35664:THREE.Vector2,35665:THREE.Vector3,35666:THREE.Vector4,35678:THREE.Texture},h={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},f={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},d={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},p={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},m={scale:"scale",translation:"position",rotation:"quaternion"},g={LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete};return s.prototype.create=function(){var e=THREE.UniformsUtils.clone(this.params.uniforms);for(var t in this.params.uniforms){var n=this.params.uniforms[t];n.value instanceof THREE.Texture&&(e[t].value=n.value,e[t].value.needsUpdate=!0),e[t].semantic=n.semantic,e[t].node=n.node}return this.params.uniforms=e,new THREE.RawShaderMaterial(this.params)},u.prototype._withDependencies=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n],o="load"+r.charAt(0).toUpperCase()+r.slice(1),a=this.cache.get(r);if(void 0!==a)t[r]=a;else if(this[o]){var s=this[o]();this.cache.add(r,s),t[r]=s}}return i(t,function(e){return e})},u.prototype.parse=function(e){var t=this.json;this.cache.removeAll(),this._withDependencies(["scenes","cameras","animations"]).then(function(n){var r=n.scenes[t.scene],i=[];for(var o in n.cameras){var a=n.cameras[o];i.push(a)}var s=[];for(var o in n.animations)s.push(n.animations[o]);e(r,i,s)})},u.prototype.loadShaders=function(){var e=this.json,t=this.options;return i(e.shaders,function(e){return new Promise(function(n){var r=new THREE.FileLoader;r.responseType="text",r.load(o(e.uri,t.path),function(e){n(e)})})})},u.prototype.loadBuffers=function(){var e=this.json,t=this.options;return i(e.buffers,function(e){if("arraybuffer"===e.type)return new Promise(function(n){var r=new THREE.FileLoader;r.responseType="arraybuffer",r.load(o(e.uri,t.path),function(e){n(e)})})})},u.prototype.loadBufferViews=function(){var e=this.json;return this._withDependencies(["buffers"]).then(function(t){return i(e.bufferViews,function(e){var n=t.buffers[e.buffer];return n.slice(e.byteOffset,e.byteOffset+e.byteLength)})})},u.prototype.loadAccessors=function(){var e=this.json;return this._withDependencies(["bufferViews"]).then(function(t){return i(e.accessors,function(e){var n=t.bufferViews[e.bufferView],r=p[e.type],i=h[e.componentType],o=i.BYTES_PER_ELEMENT,a=o*r;if(e.byteStride&&e.byteStride!==a){var s=new i(n),u=new THREE.InterleavedBuffer(s,e.byteStride/o);return new THREE.InterleavedBufferAttribute(u,r,e.byteOffset/o)}return s=new i(n,e.byteOffset,e.count*r),new THREE.BufferAttribute(s,r)})})},u.prototype.loadTextures=function(){var e=this.json,t=this.options;return i(e.textures,function(n){if(n.source)return new Promise(function(r){var i=e.images[n.source],a=THREE.Loader.Handlers.get(i.uri);null===a&&(a=new THREE.TextureLoader),a.crossOrigin=t.crossOrigin||!1,a.load(o(i.uri,t.path),function(t){if(t.flipY=!1,n.sampler){var i=e.samplers[n.sampler];t.magFilter=f[i.magFilter],t.minFilter=f[i.minFilter],t.wrapS=d[i.wrapS],t.wrapT=d[i.wrapT]}r(t)},void 0,function(){r()})})})},u.prototype.loadMaterials=function(){var e=this.json;return this._withDependencies(["shaders","textures"]).then(function(t){return i(e.materials,function(n){var r,i,o={},u={};if(n.extensions&&n.extensions.KHR_materials_common?i=n.extensions.KHR_materials_common:e.extensions&&e.extensions.KHR_materials_common&&(i=e.extensions.KHR_materials_common),i){switch(i.technique){case"BLINN":case"PHONG":r=THREE.MeshPhongMaterial;break;case"LAMBERT":r=THREE.MeshLambertMaterial;break;case"CONSTANT":default:r=THREE.MeshBasicMaterial}Object.assign(o,i.values),(i.doubleSided||o.doubleSided)&&(u.side=THREE.DoubleSide),(i.transparent||o.transparent)&&(u.transparent=!0,u.opacity=void 0!==o.transparency?o.transparency:1)}else if(void 0===n.technique)r=THREE.MeshPhongMaterial,Object.assign(o,n.values);else{r=s;var h=e.techniques[n.technique];u.uniforms={};var f=e.programs[h.program];if(f){u.fragmentShader=t.shaders[f.fragmentShader],u.fragmentShader||(console.warn("ERROR: Missing fragment shader definition:",f.fragmentShader),r=THREE.MeshPhongMaterial);var d=t.shaders[f.vertexShader];d||(console.warn("ERROR: Missing vertex shader definition:",f.vertexShader),r=THREE.MeshPhongMaterial),u.vertexShader=a(d,h);var p=h.uniforms;for(var m in p){var g=p[m],v=h.parameters[g],y=v.type;if(!l[y])throw new Error("Unknown shader uniform param type: "+y);var b=v.count,w=n.values[g],M=new l[y],E=v.semantic,A=v.node;switch(y){case c.FLOAT:M=v.value,"transparency"==g&&(u.transparent=!0),void 0!==w&&(M=w);break;case c.FLOAT_VEC2:case c.FLOAT_VEC3:case c.FLOAT_VEC4:case c.FLOAT_MAT3:v&&v.value&&M.fromArray(v.value),w&&M.fromArray(w);break;case c.FLOAT_MAT2:console.warn("FLOAT_MAT2 is not a supported uniform type");break;case c.FLOAT_MAT4:if(b){M=new Array(b);for(var x=0;x<b;x++)M[x]=new l[y];if(v&&v.value){var T=v.value;M.fromArray(T)}w&&M.fromArray(w)}else{if(v&&v.value){var _=v.value;M.fromArray(_)}w&&M.fromArray(w)}break;case c.SAMPLER_2D:M=w?t.textures[w]:null}u.uniforms[m]={value:M,semantic:E,node:A}}}}Array.isArray(o.diffuse)?u.color=(new THREE.Color).fromArray(o.diffuse):"string"==typeof o.diffuse&&(u.map=t.textures[o.diffuse]),delete u.diffuse,"string"==typeof o.reflective&&(u.envMap=t.textures[o.reflective]),"string"==typeof o.bump&&(u.bumpMap=t.textures[o.bump]),Array.isArray(o.emission)?r===THREE.MeshBasicMaterial?u.color=(new THREE.Color).fromArray(o.emission):u.emissive=(new THREE.Color).fromArray(o.emission):"string"==typeof o.emission&&(r===THREE.MeshBasicMaterial?u.map=t.textures[o.emission]:u.emissiveMap=t.textures[o.emission]),Array.isArray(o.specular)?u.specular=(new THREE.Color).fromArray(o.specular):"string"==typeof o.specular&&(u.specularMap=t.textures[o.specular]),void 0!==o.shininess&&(u.shininess=o.shininess);var k=new r(u);return k.name=n.name,k})})},u.prototype.loadMeshes=function(){var e=this.json;return this._withDependencies(["accessors","materials"]).then(function(t){return i(e.meshes,function(e){var n=new THREE.Object3D;n.name=e.name;var r=e.primitives;for(var i in r){var o=r[i];if(o.mode===c.TRIANGLES||void 0===o.mode){var a=new THREE.BufferGeometry,s=o.attributes;for(var u in s){var l=s[u];if(!l)return;var h=t.accessors[l];switch(u){case"POSITION":a.addAttribute("position",h);break;case"NORMAL":a.addAttribute("normal",h);break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":a.addAttribute("uv",h);break;case"WEIGHT":a.addAttribute("skinWeight",h);break;case"JOINT":a.addAttribute("skinIndex",h)}}if(o.indices){var f=t.accessors[o.indices];a.setIndex(f);var d={start:0,index:0,count:f.count};a.groups.push(d),a.computeBoundingSphere()}var p=t.materials[o.material],m=new THREE.Mesh(a,p);m.castShadow=!0,n.add(m)}else console.warn("Non-triangular primitives are not supported")}return n})})},u.prototype.loadCameras=function(){var e=this.json;return i(e.cameras,function(e){if("perspective"==e.type&&e.perspective){var t=e.perspective.yfov,n=e.perspective.xfov,r=e.perspective.aspect_ratio||1;n=void 0===n&&t?t*r:n;var i=new THREE.PerspectiveCamera(THREE.Math.radToDeg(n),r,e.perspective.znear||1,e.perspective.zfar||2e6);return i.name=e.name,i}if("orthographic"==e.type&&e.orthographic){var i=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,e.orthographic.znear,e.orthographic.zfar);return i.name=e.name,i}})},u.prototype.loadSkins=function(){var e=this.json;return this._withDependencies(["accessors"]).then(function(t){return i(e.skins,function(e){var n={bindShapeMatrix:(new THREE.Matrix4).fromArray(e.bindShapeMatrix),jointNames:e.jointNames,inverseBindMatrices:t.accessors[e.inverseBindMatrices]};return n})})},u.prototype.loadAnimations=function(){var e=this.json;return this._withDependencies(["accessors","nodes"]).then(function(t){return i(e.animations,function(e,n){var i=[];for(var o in e.channels){var a=e.channels[o],s=e.samplers[a.sampler];if(s&&e.parameters){var u=a.target,c=u.id,l=e.parameters[s.input],h=e.parameters[s.output],f=t.accessors[l],d=t.accessors[h],p=t.nodes[c];if(p){var v={times:f.array,values:d.array,target:p,type:g[s.interpolation],name:p.name+"."+m[u.path]};i.push(v)}}}return r("animation_"+n,i)})})},u.prototype.loadNodes=function(){var e=this.json,t=this;return i(e.nodes,function(e){var t,n=new THREE.Matrix4;return e.jointName?(t=new THREE.Bone,t.jointName=e.jointName):t=new THREE.Object3D,t.name=e.name,t.matrixAutoUpdate=!1,void 0!==e.matrix?(n.fromArray(e.matrix),t.applyMatrix(n)):(void 0!==e.translation&&t.position.fromArray(e.translation),void 0!==e.rotation&&t.quaternion.fromArray(e.rotation),void 0!==e.scale&&t.scale.fromArray(e.scale)),t}).then(function(n){return t._withDependencies(["meshes","skins","cameras","extensions"]).then(function(t){return i(n,function(r,i){var o=e.nodes[i];if(void 0!==o.meshes)for(var a in o.meshes){var s=o.meshes[a],u=t.meshes[s];for(var c in u.children){var l,h=u.children[c],f=h.material,d=h.geometry;f.isDeferredShaderMaterial?f=l=f.create():l=f,h=new THREE.Mesh(d,l),h.castShadow=!0;var p;if(o.skin&&(p=t.skins[o.skin]),p){var m=d,l=f;l.skinning=!0,h=new THREE.SkinnedMesh(m,l,!1),h.castShadow=!0;for(var g=[],v=[],y=Object.keys(n),b=0,w=p.jointNames.length;b<w;b++){for(var M,E=p.jointNames[b],A=0,x=y.length;A<x;A++){var T=n[y[A]];if(T.jointName===E){M=T;break}}if(M){M.skin=h,g.push(M);var _=p.inverseBindMatrices.array,k=(new THREE.Matrix4).fromArray(_,16*b);v.push(k)}else console.warn("WARNING: joint: ''"+E+"' could not be found")}h.bind(new THREE.Skeleton(g,v,!1),p.bindShapeMatrix)}r.add(h)}}if(void 0!==o.camera){var S=t.cameras[o.camera];r.add(S)}if(o.extensions&&o.extensions.KHR_materials_common&&o.extensions.KHR_materials_common.light){var N=t.extensions.KHR_materials_common.lights[o.extensions.KHR_materials_common.light];r.add(N)}return r})})})},u.prototype.loadExtensions=function(){var e=this.json;return i(e.extensions,function(e,t){switch(t){case"KHR_materials_common":var n={lights:{}},r=e.lights;for(var i in r){var o,a=r[i],s=a[a.type],u=(new THREE.Color).fromArray(s.color);switch(a.type){case"directional":o=new THREE.DirectionalLight(u),o.position.set(0,0,1);break;case"point":o=new THREE.PointLight(u);break;case"spot ":o=new THREE.SpotLight(u),o.position.set(0,0,1);break;case"ambient":o=new THREE.AmbientLight(u)}o&&(n.lights[i]=o)}return n}})},u.prototype.loadScenes=function(){function t(e,n,i){var o=i[e];n.add(o);var a=r.nodes[e];if(a.children)for(var s=a.children,u=0,c=s.length;u<c;u++){var l=s[u];t(l,o,i)}}var r=this.json;return this._withDependencies(["nodes"]).then(function(o){return i(r.scenes,function(r){var i=new THREE.Scene;i.name=r.name;for(var a=r.nodes,s=0,u=a.length;s<u;s++){var c=a[s];t(c,i,o.nodes)}return i.traverse(function(t){if(t.material&&t.material.isRawShaderMaterial){var r=new n(t,o.nodes);e.Shaders.add(t.uuid,r)}}),i})})},e}()},{}],46:[function(e,t,n){THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.MTLLoader.prototype,THREE.EventDispatcher.prototype,{load:function(e,t,n,r){var i=this,o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.load(e,function(e){t(i.parse(e))},n,r)},setPath:function(e){this.path=e},setTexturePath:function(e){this.texturePath=e},setBaseUrl:function(e){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),n={},r=/\s+/,i={},o=0;o<t.length;o++){var a=t[o];if(a=a.trim(),0!==a.length&&"#"!==a.charAt(0)){var s=a.indexOf(" "),u=s>=0?a.substring(0,s):a;u=u.toLowerCase();var c=s>=0?a.substring(s+1):"";if(c=c.trim(),"newmtl"===u)n={name:c},i[c]=n;else if(n)if("ka"===u||"kd"===u||"ks"===u){var l=c.split(r,3);n[u]=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])]}else n[u]=c}}var h=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(i),h}}),THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var r=e[n],i={};t[n]=i;for(var o in r){var a=!0,s=r[o],u=o.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[u]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){function t(e,t){if(!i[e]){var r=n.getTextureParams(t,i),a=n.loadTexture(o(n.baseUrl,r.url));a.repeat.copy(r.scale),a.offset.copy(r.offset),a.wrapS=n.wrap,a.wrapT=n.wrap,i[e]=a}}var n=this,r=this.materialsInfo[e],i={name:e,side:this.side},o=function(e,t){return"string"!=typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+t};for(var a in r){var s=r[a];if(""!==s)switch(a.toLowerCase()){case"kd":i.color=(new THREE.Color).fromArray(s);break;case"ks":i.specular=(new THREE.Color).fromArray(s);break;case"map_kd":t("map",s);break;case"map_ks":t("specularMap",s);break;case"map_bump":case"bump":t("bumpMap",s);break;case"ns":i.shininess=parseFloat(s);break;case"d":s<1&&(i.opacity=s,i.transparent=!0);break;case"Tr":s>0&&(i.opacity=1-s,i.transparent=!0)}}return this.materials[e]=new THREE.MeshPhongMaterial(i),this.materials[e]},getTextureParams:function(e,t){var n,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},i=e.split(/\s+/);return n=i.indexOf("-bm"),n>=0&&(t.bumpScale=parseFloat(i[n+1]),i.splice(n,2)),n=i.indexOf("-s"),n>=0&&(r.scale.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),n=i.indexOf("-o"),n>=0&&(r.offset.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),r.url=i.join(" ").trim(),r},loadTexture:function(e,t,n,r,i){var o,a=THREE.Loader.Handlers.get(e),s=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===a&&(a=new THREE.TextureLoader(s)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),o=a.load(e,n,r,i),void 0!==t&&(o.mapping=t),o}}},{}],47:[function(e,t,n){THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,n,r){var i=this,o=new THREE.FileLoader(i.manager);o.setPath(this.path),o.load(e,function(e){t(i.parse(e))},n,r)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=e,void(this.object.fromDeclaration=t!==!1);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&t.groupEnd===-1&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0]),n.push(t[e+1]),n.push(t[e+2])},addNormal:function(e,t,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addUV:function(e,t,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0]),i.push(r[e+1]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[n+0]),i.push(r[n+1])},addUVLine:function(e){var t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0]),n.push(t[e+1])},addFace:function(e,t,n,r,i,o,a,s,u,c,l,h){var f,d=this.vertices.length,p=this.parseVertexIndex(e,d),m=this.parseVertexIndex(t,d),g=this.parseVertexIndex(n,d);if(void 0===r?this.addVertex(p,m,g):(f=this.parseVertexIndex(r,d),this.addVertex(p,m,f),this.addVertex(m,g,f)),void 0!==i){var v=this.uvs.length;p=this.parseUVIndex(i,v),m=this.parseUVIndex(o,v),g=this.parseUVIndex(a,v),void 0===r?this.addUV(p,m,g):(f=this.parseUVIndex(s,v),this.addUV(p,m,f),this.addUV(m,g,f))}if(void 0!==u){var y=this.normals.length;p=this.parseNormalIndex(u,y),m=u===c?p:this.parseNormalIndex(c,y),g=u===l?p:this.parseNormalIndex(l,y),void 0===r?this.addNormal(p,m,g):(f=this.parseNormalIndex(h,y),this.addNormal(p,m,f),this.addNormal(m,g,f))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(var a=0,o=t.length;a<o;a++)this.addUVLine(this.parseUVIndex(t[a],r))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();e.indexOf("\r\n")!==-1&&(e=e.replace(/\r\n/g,"\n")),e.indexOf("\\\n")!==-1&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),r="",i="",o="",a=0,s=[],u="function"==typeof"".trimLeft,c=0,l=n.length;c<l;c++)if(r=n[c],r=u?r.trimLeft():r.trim(),a=r.length,0!==a&&(i=r.charAt(0),"#"!==i))if("v"===i)if(o=r.charAt(1)," "===o&&null!==(s=this.regexp.vertex_pattern.exec(r)))t.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else if("n"===o&&null!==(s=this.regexp.normal_pattern.exec(r)))t.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else{if("t"!==o||null===(s=this.regexp.uv_pattern.exec(r)))throw new Error("Unexpected vertex/normal/uv line: '"+r+"'");t.uvs.push(parseFloat(s[1]),parseFloat(s[2]))}else if("f"===i)if(null!==(s=this.regexp.face_vertex_uv_normal.exec(r)))t.addFace(s[1],s[4],s[7],s[10],s[2],s[5],s[8],s[11],s[3],s[6],s[9],s[12]);else if(null!==(s=this.regexp.face_vertex_uv.exec(r)))t.addFace(s[1],s[3],s[5],s[7],s[2],s[4],s[6],s[8]);else if(null!==(s=this.regexp.face_vertex_normal.exec(r)))t.addFace(s[1],s[3],s[5],s[7],void 0,void 0,void 0,void 0,s[2],s[4],s[6],s[8]);else{if(null===(s=this.regexp.face_vertex.exec(r)))throw new Error("Unexpected face line: '"+r+"'");t.addFace(s[1],s[2],s[3],s[4])}else if("l"===i){var h=r.substring(1).trim().split(" "),f=[],d=[];if(r.indexOf("/")===-1)f=h;else for(var p=0,m=h.length;p<m;p++){var g=h[p].split("/");""!==g[0]&&f.push(g[0]),""!==g[1]&&d.push(g[1])}t.addLineGeometry(f,d)}else if(null!==(s=this.regexp.object_pattern.exec(r))){var v=(" "+s[0].substr(1).trim()).substr(1);t.startObject(v)}else if(this.regexp.material_use_pattern.test(r))t.object.startMaterial(r.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(r))t.materialLibraries.push(r.substring(7).trim());else{if(null===(s=this.regexp.smoothing_pattern.exec(r))){if("\0"===r)continue;throw new Error("Unexpected line: '"+r+"'")}var y=s[1].trim().toLowerCase();t.object.smooth="1"===y||"on"===y;var b=t.object.currentMaterial();b&&(b.smooth=t.object.smooth)}t.finalize();var w=new THREE.Group;w.materialLibraries=[].concat(t.materialLibraries);for(var c=0,l=t.objects.length;c<l;c++){var M=t.objects[c],E=M.geometry,A=M.materials,x="Line"===E.type;if(0!==E.vertices.length){var T=new THREE.BufferGeometry;T.addAttribute("position",new THREE.BufferAttribute(new Float32Array(E.vertices),3)),E.normals.length>0?T.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(E.normals),3)):T.computeVertexNormals(),E.uvs.length>0&&T.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(E.uvs),2));for(var _=[],k=0,S=A.length;k<S;k++){var N=A[k],b=void 0;if(null!==this.materials&&(b=this.materials.create(N.name),x&&b&&!(b instanceof THREE.LineBasicMaterial))){var L=new THREE.LineBasicMaterial;L.copy(b),b=L}b||(b=x?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial,b.name=N.name),b.shading=N.smooth?THREE.SmoothShading:THREE.FlatShading,_.push(b)}var D;if(_.length>1){for(var k=0,S=A.length;k<S;k++){var N=A[k];T.addGroup(N.groupStart,N.groupCount,k)}var C=new THREE.MultiMaterial(_);D=x?new THREE.LineSegments(T,C):new THREE.Mesh(T,C)}else D=x?new THREE.LineSegments(T,_[0]):new THREE.Mesh(T,_[0]);D.name=M.name,w.add(D)}}return console.timeEnd("OBJLoader"),w}}},{}],48:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=r,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],49:[function(e,n,r){!function(e){if("performance"in e==!1&&(e.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in e.performance==!1){var t=e.performance.timing&&e.performance.timing.navigationStart?performance.timing.navigationStart:Date.now();e.performance.now=function(){return Date.now()-t}}}(this);var i=i||function(){var e=[];return{REVISION:"14",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)},update:function(t){if(0===e.length)return!1;var n=0;for(t=void 0!==t?t:window.performance.now();n<e.length;)e[n].update(t)?n++:e.splice(n,1);return!0}}}();i.Tween=function(e){var t=e,n={},r={},o={},a=1e3,s=0,u=!1,c=!1,l=!1,h=0,f=null,d=i.Easing.Linear.None,p=i.Interpolation.Linear,m=[],g=null,v=!1,y=null,b=null,w=null;for(var M in e)n[M]=parseFloat(e[M],10);this.to=function(e,t){return void 0!==t&&(a=t),r=e,this},this.start=function(e){i.add(this),c=!0,v=!1,f=void 0!==e?e:window.performance.now(),f+=h;for(var a in r){if(r[a]instanceof Array){if(0===r[a].length)continue;r[a]=[t[a]].concat(r[a])}n[a]=t[a],n[a]instanceof Array==!1&&(n[a]*=1),o[a]=n[a]||0}return this},this.stop=function(){return c?(i.remove(this),c=!1,null!==w&&w.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=m.length;e<t;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return u=e,this},this.easing=function(e){return d=e,this},this.interpolation=function(e){return p=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return y=e,this},this.onComplete=function(e){return b=e,this},this.onStop=function(e){return w=e,this},this.update=function(e){var i;if(e<f)return!0;v===!1&&(null!==g&&g.call(t),v=!0);var c=(e-f)/a;c=c>1?1:c;var w=d(c);for(i in r){var M=n[i]||0,E=r[i];E instanceof Array?t[i]=p(E,w):("string"==typeof E&&(E=M+parseFloat(E,10)),"number"==typeof E&&(t[i]=M+(E-M)*w))}if(null!==y&&y.call(t,w),1==c){if(s>0){isFinite(s)&&s--;for(i in o){if("string"==typeof r[i]&&(o[i]=o[i]+parseFloat(r[i],10)),u){var A=o[i];o[i]=r[i],r[i]=A}n[i]=o[i]}return u&&(l=!l),f=e+h,!0}null!==b&&b.call(t);for(var x=0,T=m.length;x<T;x++)m[x].start(e);return!1}return!0}},i.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},Out:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},InOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-i.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*i.Easing.Bounce.In(2*e):.5*i.Easing.Bounce.Out(2*e-1)+.5}}},i.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),a=i.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[o],e[o+1>n?n:o+1],r-o)},Bezier:function(e,t){var n,r=0,o=e.length-1,a=Math.pow,s=i.Interpolation.Utils.Bernstein;for(n=0;n<=o;n++)r+=a(1-t,o-n)*a(t,n)*e[n]*s(o,n);return r},CatmullRom:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),a=i.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(r=n*(1+t))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],r-o)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],r-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=i.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n,r=1;if(e[t])return e[t];for(n=t;n>1;n--)r*=n;return e[t]=r}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i,u=i*s;return(2*t-2*n+o+a)*u+(-3*t+3*n-2*o-a)*s+o*i+t}}},function(e){"function"==typeof t&&t.amd?t([],function(){return i}):"object"==typeof r?n.exports=i:e.TWEEN=i}(this)},{}],50:[function(e,r,i){(function(n){!function(e){if("object"==typeof i&&"undefined"!=typeof r)r.exports=e();else if("function"==typeof t&&t.amd)t([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:this,o.WebVRPolyfill=e()}}(function(){return function t(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var c="function"==typeof e&&e;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[s]={exports:{}};n[s][0].call(h.exports,function(e){var t=n[s][1][e];return o(t?t:e)},h,h.exports,t,n,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);
return o}({1:[function(e,t,n){"use strict";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)a.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e,t){var n=s?s+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},o.prototype.emit=function(e,t,n,r,i,o){var a=s?s+e:e;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,i),!0;case 6:return l.fn.call(l.context,t,n,r,i,o),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},o.prototype.on=function(e,t,n){var r=new i(t,n||this),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(e,t,n){var r=new i(t,n||this,!0),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,i){var o=s?s+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new r:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==t||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,"undefined"!=typeof t&&(t.exports=o)},{}],2:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(e,t){for(var n,i,s=r(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var l=0;l<i.length;l++)a.call(n,i[l])&&(s[i[l]]=n[i[l]])}}return s}},{}],3:[function(e,t,n){function r(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function i(){this.isPolyfilled=!0,this.displayId=l++,this.displayName="webvr-polyfill displayName",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new c}function o(){this.isPolyfilled=!0,this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function a(){}function s(){}var u=e("./util.js"),c=e("./wakelock.js"),l=1e3,h=!1,f=[0,0,.5,1],d=[.5,0,.5,1];i.prototype.getFrameData=function(e){return u.frameDataFromPose(e,this.getPose(),this)},i.prototype.getPose=function(){return this.getImmediatePose()},i.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},i.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},i.prototype.wrapForFullscreen=function(e){function t(){if(i.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];i.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}if(u.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var n=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",n.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var r=this.fullscreenElement_.parentElement;r.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),r.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var i=this;return t(),this.fullscreenWrapper_},i.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),t.insertBefore(e,this.fullscreenWrapper_),t.removeChild(this.fullscreenWrapper_),e}},i.prototype.requestPresent=function(e){var t=this.isPresenting,n=this;return e instanceof Array||(h||(console.warn("Using a deprecated form of requestPresent. Should pass in an array of VRLayers."),h=!0),e=[e]),new Promise(function(r,i){function o(){var e=u.getFullscreenElement();n.isPresenting=m===e,n.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)}),n.waitingForPresent_=!1,n.beginPresent_(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),n.removeFullscreenWrapper(),n.wakelock_.release(),n.endPresent_(),n.removeFullscreenListeners_()),n.fireVRDisplayPresentChange_()}function a(){n.waitingForPresent_&&(n.removeFullscreenWrapper(),n.removeFullscreenListeners_(),n.wakelock_.release(),n.waitingForPresent_=!1,n.isPresenting=!1,i(new Error("Unable to present.")))}if(!n.capabilities.canPresent)return void i(new Error("VRDisplay is not capable of presenting."));if(0==e.length||e.length>n.capabilities.maxLayers)return void i(new Error("Invalid number of layers."));var s=e[0];if(!s.source)return void r();var c=s.leftBounds||f,l=s.rightBounds||d;if(t){var h=n.layer_;h.source!==s.source&&(h.source=s.source);for(var p=0;p<4;p++)h.leftBounds[p]!==c[p]&&(h.leftBounds[p]=c[p]),h.rightBounds[p]!==l[p]&&(h.rightBounds[p]=l[p]);return void r()}if(n.layer_={predistorted:s.predistorted,source:s.source,leftBounds:c.slice(0),rightBounds:l.slice(0)},n.waitingForPresent_=!1,n.layer_&&n.layer_.source){var m=n.wrapForFullscreen(n.layer_.source);n.addFullscreenListeners_(m,o,a),u.requestFullscreen(m)?(n.wakelock_.request(),n.waitingForPresent_=!0):(u.isIOS()||u.isWebViewAndroid())&&(n.wakelock_.request(),n.isPresenting=!0,n.beginPresent_(),n.fireVRDisplayPresentChange_(),r())}n.waitingForPresent_||u.isIOS()||(u.exitFullscreen(),i(new Error("Unable to present.")))})},i.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(n,r){e?(!u.exitFullscreen()&&u.isIOS()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),u.isWebViewAndroid()&&(t.removeFullscreenWrapper(),t.removeFullscreenListeners_(),t.endPresent_(),t.fireVRDisplayPresentChange_()),n()):r(new Error("Was not presenting to VRDisplay."))})},i.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},i.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},i.prototype.addFullscreenListeners_=function(e,t,n){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=n,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),n&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",n,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",n,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",n,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",n,!1))},i.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var n=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",n,!1),e.removeEventListener("webkitfullscreenerror",n,!1),document.removeEventListener("mozfullscreenerror",n,!1),e.removeEventListener("msfullscreenerror",n,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},i.prototype.beginPresent_=function(){},i.prototype.endPresent_=function(){},i.prototype.submitFrame=function(e){},i.prototype.getEyeParameters=function(e){return null},a.prototype=new o,s.prototype=new o,t.exports.VRFrameData=r,t.exports.VRDisplay=i,t.exports.VRDevice=o,t.exports.HMDVRDevice=a,t.exports.PositionSensorVRDevice=s},{"./util.js":23,"./wakelock.js":25}],4:[function(e,t,n){function r(e){this.gl=e,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=WebVRConfig.BUFFER_SCALE,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,o.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=o.linkProgram(e,s,u,this.attribs),this.uniforms=o.getProgramUniforms(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize(),WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new i(e))}var i=e("./cardboard-ui.js"),o=e("./util.js"),a=e("./deps/wglu-preserve-state.js"),s=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),u=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");r.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},r.prototype.onResize=function(){var e=this.gl,t=this,n=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];a(e,n,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},r.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,n=this.gl;o.isIOS()||(t.width=o.getScreenWidth()*this.bufferScale,t.height=o.getScreenHeight()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(n){e.bufferWidth=n,e.realCanvasWidth.set.call(t,n),e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(n){e.bufferHeight=n,e.realCanvasHeight.set.call(t,n),e.onResize()}})),this.lastBoundFramebuffer=n.getParameter(n.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,r){e.lastBoundFramebuffer=r?r:e.framebuffer,e.realBindFramebuffer.call(n,t,e.lastBoundFramebuffer)},this.cullFace=n.getParameter(n.CULL_FACE),this.depthTest=n.getParameter(n.DEPTH_TEST),this.blend=n.getParameter(n.BLEND),this.scissorTest=n.getParameter(n.SCISSOR_TEST),this.stencilTest=n.getParameter(n.STENCIL_TEST),n.enable=function(t){switch(t){case n.CULL_FACE:e.cullFace=!0;break;case n.DEPTH_TEST:e.depthTest=!0;break;case n.BLEND:e.blend=!0;break;case n.SCISSOR_TEST:e.scissorTest=!0;break;case n.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(n,t)},n.disable=function(t){switch(t){case n.CULL_FACE:e.cullFace=!1;break;case n.DEPTH_TEST:e.depthTest=!1;break;case n.BLEND:e.blend=!1;break;case n.SCISSOR_TEST:e.scissorTest=!1;break;case n.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(n,t)},this.colorMask=n.getParameter(n.COLOR_WRITEMASK),n.colorMask=function(t,r,i,o){e.colorMask[0]=t,e.colorMask[1]=r,e.colorMask[2]=i,e.colorMask[3]=o,e.realColorMask.call(n,t,r,i,o)},this.clearColor=n.getParameter(n.COLOR_CLEAR_VALUE),n.clearColor=function(t,r,i,o){e.clearColor[0]=t,e.clearColor[1]=r,e.clearColor[2]=i,e.clearColor[3]=o,e.realClearColor.call(n,t,r,i,o)},this.viewport=n.getParameter(n.VIEWPORT),n.viewport=function(t,r,i,o){e.viewport[0]=t,e.viewport[1]=r,e.viewport[2]=i,e.viewport[3]=o,e.realViewport.call(n,t,r,i,o)},this.isPatched=!0,o.safariCssSizeWorkaround(t)}},r.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;o.isIOS()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){o.safariCssSizeWorkaround(t)},1)}},r.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},r.prototype.submitFrame=function(){var e=this.gl,t=this,n=[];if(WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||n.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),a(e,n,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||o.isIOS())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),o.isIOS()){var r=e.canvas;r.width==t.bufferWidth&&r.height==t.bufferHeight||(t.bufferWidth=r.width,t.bufferHeight=r.height,t.onResize())}},r.prototype.updateDeviceInfo=function(e){var t=this.gl,n=this,r=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];a(t,r,function(t){var r=n.computeMeshVertices_(n.meshWidth,n.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),!n.indexCount){var i=n.computeMeshIndices_(n.meshWidth,n.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),n.indexCount=i.length}})},r.prototype.computeMeshVertices_=function(e,t,n){for(var r=new Float32Array(2*e*t*5),i=n.getLeftEyeVisibleTanAngles(),a=n.getLeftEyeNoLensTanAngles(),s=n.getLeftEyeVisibleScreenRect(a),u=0,c=0;c<2;c++){for(var l=0;l<t;l++)for(var h=0;h<e;h++,u++){var f=h/(e-1),d=l/(t-1),p=f,m=d,g=o.lerp(i[0],i[2],f),v=o.lerp(i[3],i[1],d),y=Math.sqrt(g*g+v*v),b=n.distortion.distortInverse(y),w=g*b/y,M=v*b/y;f=(w-a[0])/(a[2]-a[0]),d=(M-a[3])/(a[1]-a[3]);n.device.widthMeters/n.device.heightMeters;f=2*(s.x+f*s.width-.5),d=2*(s.y+d*s.height-.5),r[5*u+0]=f,r[5*u+1]=d,r[5*u+2]=p,r[5*u+3]=m,r[5*u+4]=c}var E=i[2]-i[0];i[0]=-(E+i[0]),i[2]=E-i[2],E=a[2]-a[0],a[0]=-(E+a[0]),a[2]=E-a[2],s.x=1-(s.x+s.width)}return r},r.prototype.computeMeshIndices_=function(e,t){for(var n=new Uint16Array(2*(e-1)*(t-1)*6),r=e/2,i=t/2,o=0,a=0,s=0;s<2;s++)for(var u=0;u<t;u++)for(var c=0;c<e;c++,o++)0!=c&&0!=u&&(c<=r==u<=i?(n[a++]=o,n[a++]=o-e-1,n[a++]=o-e,n[a++]=o-e-1,n[a++]=o,n[a++]=o-1):(n[a++]=o-1,n[a++]=o-e,n[a++]=o,n[a++]=o-e,n[a++]=o-1,n[a++]=o-e-1));return n},r.prototype.getOwnPropertyDescriptor_=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return void 0!==n.get&&void 0!==n.set||(n.configurable=!0,n.enumerable=!0,n.get=function(){return this.getAttribute(t)},n.set=function(e){this.setAttribute(t,e)}),n},t.exports=r},{"./cardboard-ui.js":5,"./deps/wglu-preserve-state.js":7,"./util.js":23}],5:[function(e,t,n){function r(e){this.gl=e,this.attribs={position:0},this.program=i.linkProgram(e,a,s,this.attribs),this.uniforms=i.getProgramUniforms(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}var i=e("./util.js"),o=e("./deps/wglu-preserve-state.js"),a=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),s=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),u=Math.PI/180,c=60,l=12,h=20,f=1,d=.75,p=.3125,m=4,g=28,v=1.5;r.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},r.prototype.listen=function(e,t){var n=this.gl.canvas;this.listener=function(r){var i=n.clientWidth/2,o=g*v;r.clientX>i-o&&r.clientX<i+o&&r.clientY>n.clientHeight-o?e(r):r.clientX<o&&r.clientY<o&&t(r)},n.addEventListener("click",this.listener,!1)},r.prototype.onResize=function(){var e=this.gl,t=this,n=[e.ARRAY_BUFFER_BINDING];o(e,n,function(e){function n(e,t){var n=(90-e)*u,r=Math.cos(n),i=Math.sin(n);o.push(p*r*w+a,p*i*w+w),o.push(t*r*w+a,t*i*w+w)}function r(t,n){o.push(M+t,e.drawingBufferHeight-M-n)}var o=[],a=e.drawingBufferWidth/2,s=e.drawingBufferWidth/(screen.width*window.devicePixelRatio);i.isIOS()||(s*=window.devicePixelRatio);var y=m*s/2,b=g*v*s,w=g*s/2,M=(g*v-g)*s;o.push(a-y,b),o.push(a-y,e.drawingBufferHeight),o.push(a+y,b),o.push(a+y,e.drawingBufferHeight),t.gearOffset=o.length/2;for(var E=0;E<=6;E++){var A=E*c;n(A,f),n(A+l,f),n(A+h,d),n(A+(c-h),d),n(A+(c-l),f)}t.gearVertexCount=o.length/2-t.gearOffset,t.arrowOffset=o.length/2;var x=y/Math.sin(45*u);r(0,w),r(w,0),r(w+x,x),r(x,w+x),r(x,w-x),r(0,w),r(w,2*w),r(w+x,2*w-x),r(x,w-x),r(0,w),r(x,w-y),r(g*s,w-y),r(x,w+y),r(g*s,w+y),t.arrowVertexCount=o.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW)})},r.prototype.render=function(){var e=this.gl,t=this,n=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];o(e,n,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},r.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),i.orthoMatrix(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},t.exports=r},{"./deps/wglu-preserve-state.js":7,"./util.js":23}],6:[function(e,t,n){function r(){this.displayName="Cardboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=WebVRConfig.BUFFER_SCALE,this.poseSensor_=new u,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new s(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new a(this.dpdb_.getDeviceParams()),this.viewerSelector_=new l,this.viewerSelector_.on("change",this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new c),f.isIOS()&&window.addEventListener("resize",this.onResize_.bind(this))}var i=e("./cardboard-distorter.js"),o=e("./cardboard-ui.js"),a=e("./device-info.js"),s=e("./dpdb/dpdb.js"),u=e("./sensor-fusion/fusion-pose-sensor.js"),c=e("./rotate-instructions.js"),l=e("./viewer-selector.js"),h=e("./base.js").VRDisplay,f=e("./util.js"),d={LEFT:"left",RIGHT:"right"};r.prototype=new h,r.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},r.prototype.resetPose=function(){this.poseSensor_.resetPose()},r.prototype.getEyeParameters=function(e){var t,n=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==d.LEFT)n[0]*=-1,t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=d.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:t,offset:n,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},r.prototype.onDeviceParamsUpdated_=function(e){f.isDebug()&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},r.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},r.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=f.getScreenWidth()*this.bufferScale_,e.canvas.height=f.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new o(e)):(this.distorter_=new i(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(f.isLandscapeMode()&&f.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},r.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},r.prototype.submitFrame=function(e){if(this.distorter_)this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},r.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},r.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl"),n=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0 10px 10px 0"];t.canvas.setAttribute("style",n.join("; ")+";"),f.safariCssSizeWorkaround(t.canvas)}},r.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},r.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},t.exports=r},{"./base.js":3,"./cardboard-distorter.js":4,"./cardboard-ui.js":5,"./device-info.js":8,"./dpdb/dpdb.js":13,
"./rotate-instructions.js":17,"./sensor-fusion/fusion-pose-sensor.js":19,"./util.js":23,"./viewer-selector.js":24}],7:[function(e,t,n){function r(e,t,n){if(!t)return void n(e);for(var r=[],i=null,o=0;o<t.length;++o){var a=t[o];switch(a){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}i||(i=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(s),r.push(e.getParameter(a),null);break;case e.ACTIVE_TEXTURE:i=e.getParameter(e.ACTIVE_TEXTURE),r.push(null);break;default:r.push(e.getParameter(a))}}n(e);for(var o=0;o<t.length;++o){var a=t[o],u=r[o];switch(a){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,u);break;case e.COLOR_CLEAR_VALUE:e.clearColor(u[0],u[1],u[2],u[3]);break;case e.COLOR_WRITEMASK:e.colorMask(u[0],u[1],u[2],u[3]);break;case e.CURRENT_PROGRAM:e.useProgram(u);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,u);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,u);break;case e.TEXTURE_BINDING_2D:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_2D,u);break;case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++o];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_CUBE_MAP,u);break;case e.VIEWPORT:e.viewport(u[0],u[1],u[2],u[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:u?e.enable(a):e.disable(a);break;default:console.log("No GL restore behavior for 0x"+a.toString(16))}i&&e.activeTexture(i)}}t.exports=r},{}],8:[function(e,t,n){function r(e){this.width=e.width||u.getScreenWidth(),this.height=e.height||u.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function i(e){this.viewer=h.CardboardV2,this.updateDeviceParams(e),this.distortion=new a(this.viewer.distortionCoefficients)}function o(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}var a=e("./distortion/distortion.js"),s=e("./math-util.js"),u=e("./util.js"),c=new r({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),l=new r({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),h={CardboardV1:new o({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new o({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};i.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},i.prototype.getDevice=function(){return this.device},i.prototype.setViewer=function(e){this.viewer=e,this.distortion=new a(this.viewer.distortionCoefficients)},i.prototype.determineDevice_=function(e){if(!e)return u.isIOS()?(console.warn("Using fallback iOS device measurements."),l):(console.warn("Using fallback Android device measurements."),c);var t=.0254,n=t/e.xdpi,i=t/e.ydpi,o=u.getScreenWidth(),a=u.getScreenHeight();return new r({widthMeters:n*o,heightMeters:i*a,bevelMeters:.001*e.bevelMm})},i.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,n=this.distortion,r=e.screenLensDistance,i=(t.widthMeters-e.interLensDistance)/2,o=e.interLensDistance/2,a=e.baselineLensDistance-t.bevelMeters,u=t.heightMeters-a,c=s.radToDeg*Math.atan(n.distort(i/r)),l=s.radToDeg*Math.atan(n.distort(o/r)),h=s.radToDeg*Math.atan(n.distort(a/r)),f=s.radToDeg*Math.atan(n.distort(u/r));return{leftDegrees:Math.min(c,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(h,e.fov),upDegrees:Math.min(f,e.fov)}},i.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,r=Math.tan(-s.degToRad*e.fov),i=Math.tan(s.degToRad*e.fov),o=Math.tan(s.degToRad*e.fov),a=Math.tan(-s.degToRad*e.fov),u=t.widthMeters/4,c=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-c,h=e.interLensDistance/2-u,f=-l,d=e.screenLensDistance,p=n.distort((h-u)/d),m=n.distort((f+c)/d),g=n.distort((h+u)/d),v=n.distort((f-c)/d),y=new Float32Array(4);return y[0]=Math.max(r,p),y[1]=Math.min(i,m),y[2]=Math.min(o,g),y[3]=Math.max(a,v),y},i.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,r=new Float32Array(4),i=n.distortInverse(Math.tan(-s.degToRad*e.fov)),o=n.distortInverse(Math.tan(s.degToRad*e.fov)),a=n.distortInverse(Math.tan(s.degToRad*e.fov)),u=n.distortInverse(Math.tan(-s.degToRad*e.fov)),c=t.widthMeters/4,l=t.heightMeters/2,h=e.baselineLensDistance-t.bevelMeters-l,f=e.interLensDistance/2-c,d=-h,p=e.screenLensDistance,m=(f-c)/p,g=(d+l)/p,v=(f+c)/p,y=(d-l)/p;return r[0]=Math.max(i,m),r[1]=Math.min(o,g),r[2]=Math.min(a,v),r[3]=Math.max(u,y),r},i.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,n=this.device,r=t.screenLensDistance,i=(n.widthMeters-t.interLensDistance)/2,o=t.baselineLensDistance-n.bevelMeters,a=(e[0]*r+i)/n.widthMeters,s=(e[1]*r+o)/n.heightMeters,u=(e[2]*r+i)/n.widthMeters,c=(e[3]*r+o)/n.heightMeters;return{x:a,y:c,width:u-a,height:s-c}},i.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},i.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},i.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:s.radToDeg*Math.atan(e.outerDist),rightDegrees:s.radToDeg*Math.atan(e.innerDist),downDegrees:s.radToDeg*Math.atan(e.bottomDist),upDegrees:s.radToDeg*Math.atan(e.topDist)}},i.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,n=this.device,r=t.screenLensDistance,i=n.widthMeters/r,o=n.heightMeters/r,a=n.width/i,s=n.height/o,u=Math.round((e.eyePosX-e.outerDist)*a),c=Math.round((e.eyePosY-e.bottomDist)*s);return{x:u,y:c,width:Math.round((e.eyePosX+e.innerDist)*a)-u,height:Math.round((e.eyePosY+e.topDist)*s)-c}},i.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,n=this.distortion,r=e.screenLensDistance,i=e.interLensDistance/2/r,o=t.widthMeters/r,a=t.heightMeters/r,u=o/2-i,c=(e.baselineLensDistance-t.bevelMeters)/r,l=e.fov,h=n.distortInverse(Math.tan(s.degToRad*l)),f=Math.min(u,h),d=Math.min(i,h),p=Math.min(c,h),m=Math.min(a-c,h);return{outerDist:f,innerDist:d,topDist:m,bottomDist:p,eyePosX:u,eyePosY:c}},i.Viewers=h,t.exports=i},{"./distortion/distortion.js":10,"./math-util.js":15,"./util.js":23}],9:[function(e,t,n){function r(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:HMD:"+e.displayId,this.deviceName=e.displayName+" (HMD)"}function i(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:PositionSensor: "+e.displayId,this.deviceName=e.displayName+" (PositionSensor)"}var o=(e("./base.js").VRDisplay,e("./base.js").HMDVRDevice),a=e("./base.js").PositionSensorVRDevice;r.prototype=new o,r.prototype.getEyeParameters=function(e){var t=this.display.getEyeParameters(e);return{currentFieldOfView:t.fieldOfView,maximumFieldOfView:t.fieldOfView,minimumFieldOfView:t.fieldOfView,recommendedFieldOfView:t.fieldOfView,eyeTranslation:{x:t.offset[0],y:t.offset[1],z:t.offset[2]},renderRect:{x:"right"==e?t.renderWidth:0,y:0,width:t.renderWidth,height:t.renderHeight}}},r.prototype.setFieldOfView=function(e,t,n,r){},i.prototype=new a,i.prototype.getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},i.prototype.resetState=function(){return this.positionDevice.resetPose()},t.exports.VRDisplayHMDDevice=r,t.exports.VRDisplayPositionSensorDevice=i},{"./base.js":3}],10:[function(e,t,n){function r(e){this.coefficients=e}r.prototype.distortInverse=function(e){for(var t=0,n=1,r=e-this.distort(t);Math.abs(n-t)>1e-4;){var i=e-this.distort(n),o=n-i*((n-t)/(i-r));t=n,n=o,r=i}return n},r.prototype.distort=function(e){for(var t=e*e,n=0,r=0;r<this.coefficients.length;r++)n=t*(n+this.coefficients[r]);return(n+1)*e},r.prototype.solveLinear_=function(e,t){for(var n=e.length,r=0;r<n-1;++r)for(var i=r+1;i<n;++i){for(var o=e[r][i]/e[r][r],a=r+1;a<n;++a)e[a][i]-=o*e[a][r];t[i]-=o*t[r]}for(var s=new Array(n),r=n-1;r>=0;--r){for(var u=t[r],a=r+1;a<n;++a)u-=e[a][r]*s[a];s[r]=u/e[r][r]}return s},r.prototype.solveLeastSquares_=function(e,t){var n,r,i,o,a=e.length,s=e[0].length;if(a!=t.Length)throw new Error("Matrix / vector dimension mismatch");var u=new Array(s);for(i=0;i<s;++i)for(u[i]=new Array(s),r=0;r<s;++r){for(o=0,n=0;n<a;++n)o+=e[r][n]*e[i][n];u[i][r]=o}var c=new Array(s);for(r=0;r<s;++r){for(o=0,n=0;n<a;++n)o+=e[r][n]*t[n];c[r]=o}return this.solveLinear_(u,c)},r.prototype.approximateInverse=function(e,t){e=e||1,t=t||100;var n,i,o=6,a=new Array(o);for(i=0;i<o;++i)a[i]=new Array(t);var s=new Array(t);for(n=0;n<t;++n){var u=e*(n+1)/t,c=this.distort(u),l=c;for(i=0;i<o;++i)l*=c*c,a[i][n]=l;s[n]=u-c}var h=this.solveLeastSquares_(a,s);return new r(h)},t.exports=r},{}],11:[function(e,t,n){var r={format:1,last_updated:"2016-01-20T00:18:35Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google//Pixel XL/"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 "}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 "}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:534,bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3}]};t.exports=r},{}],12:[function(e,t,n){t.exports={format:1,last_updated:"2017-01-12T08:41:55Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google//Pixel XL/"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3}]}},{}],13:[function(e,t,n){function r(e,t){if(this.dpdb=o,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var n=new XMLHttpRequest,r=this;n.open("GET",s,!0),n.addEventListener("load",function(){r.loading=!1,n.status>=200&&n.status<=299?(r.dpdb=JSON.parse(n.response),r.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),n.send()}}function i(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}var o=e("./dpdb-cache.js"),a=e("../util.js"),s=e("./dpdb.json");r.prototype.getDeviceParams=function(){return this.deviceParams},r.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},r.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,n=a.getScreenWidth(),r=a.getScreenHeight();if(!e.devices)return console.error("DPDB has no devices section."),null;for(var o=0;o<e.devices.length;o++){var s=e.devices[o];if(s.rules)if("ios"==s.type||"android"==s.type){if(a.isIOS()==("ios"==s.type)){for(var u=!1,c=0;c<s.rules.length;c++){var l=s.rules[c];if(this.matchRule_(l,t,n,r)){u=!0;break}}if(u){var h=s.dpi[0]||s.dpi,f=s.dpi[1]||s.dpi;return new i({xdpi:h,ydpi:f,bevelMm:s.bw})}}}else console.warn("Device["+o+"] has invalid type.");else console.warn("Device["+o+"] has no rules section.")}return console.warn("No DPDB device match."),null},r.prototype.matchRule_=function(e,t,n,r){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var i=e.res[0],o=e.res[1];if(Math.min(n,r)!=Math.min(i,o)||Math.max(n,r)!=Math.max(i,o))return!1}return!0},t.exports=r},{"../util.js":23,"./dpdb-cache.js":11,"./dpdb.json":12}],14:[function(e,t,n){var r=e("./util.js"),i=e("./webvr-polyfill.js").WebVRPolyfill;window.WebVRConfig=r.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1,ALWAYS_APPEND_POLYFILL_DISPLAY:!1},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new i}:new i},{"./util.js":23,"./webvr-polyfill.js":26}],15:[function(e,t,n){var r=window.MathUtil||{};r.degToRad=Math.PI/180,r.radToDeg=180/Math.PI,r.Vector2=function(e,t){this.x=e||0,this.y=t||0},r.Vector2.prototype={constructor:r.Vector2,set:function(e,t){return this.x=e,this.y=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},r.Vector3=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0},r.Vector3.prototype={constructor:r.Vector3,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}},r.Quaternion=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1},r.Quaternion.prototype={constructor:r.Quaternion,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,n){var r=Math.cos(e/2),i=Math.cos(t/2),o=Math.cos(n/2),a=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=a*i*o+r*s*u,this.y=r*s*o-a*i*u,this.z=r*i*u+a*s*o,this.w=r*i*o-a*s*u,this},setFromEulerYXZ:function(e,t,n){var r=Math.cos(e/2),i=Math.cos(t/2),o=Math.cos(n/2),a=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=a*i*o+r*s*u,this.y=r*s*o-a*i*u,
this.z=r*i*u-a*s*o,this.w=r*i*o+a*s*u,this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(n),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var n=e.x,r=e.y,i=e.z,o=e.w,a=t.x,s=t.y,u=t.z,c=t.w;return this.x=n*c+o*a+r*u-i*s,this.y=r*c+o*s+i*a-n*u,this.z=i*c+o*u+n*s-r*a,this.w=o*c-n*a-r*s-i*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this.x,r=this.y,i=this.z,o=this.w,a=o*e.w+n*e.x+r*e.y+i*e.z;if(a<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,a=-a):this.copy(e),a>=1)return this.w=o,this.x=n,this.y=r,this.z=i,this;var s=Math.acos(a),u=Math.sqrt(1-a*a);if(Math.abs(u)<.001)return this.w=.5*(o+this.w),this.x=.5*(n+this.x),this.y=.5*(r+this.y),this.z=.5*(i+this.z),this;var c=Math.sin((1-t)*s)/u,l=Math.sin(t*s)/u;return this.w=o*c+this.w*l,this.x=n*c+this.x*l,this.y=r*c+this.y*l,this.z=i*c+this.z*l,this},setFromUnitVectors:function(){var e,t,n=1e-6;return function(i,o){return void 0===e&&(e=new r.Vector3),t=i.dot(o)+1,t<n?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,o),this.x=e.x,this.y=e.y,this.z=e.z,this.w=t,this.normalize(),this}}()},t.exports=r},{}],16:[function(e,t,n){function r(){this.displayName="Mouse and Keyboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new o.Quaternion,this.rotateStart_=new o.Vector2,this.rotateEnd_=new o.Vector2,this.rotateDelta_=new o.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var i=e("./base.js").VRDisplay,o=e("./math-util.js"),a=e("./util.js"),s=.15,u=80,c=.5,l=.3;r.prototype=new i,r.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},r.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+s):39==e.keyCode?this.animateTheta_(this.theta_-s):40==e.keyCode?this.animatePhi_(this.phi_-s):37==e.keyCode&&this.animateTheta_(this.theta_+s)},r.prototype.animateTheta_=function(e){this.animateKeyTransitions_("theta_",e)},r.prototype.animatePhi_=function(e){e=a.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi_",e)},r.prototype.animateKeyTransitions_=function(e,t){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var n=this[e],r=new Date;this.angleAnimation_=requestAnimationFrame(function i(){var o=new Date-r;if(o>=u)return this[e]=t,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(i.bind(this));var a=o/u;this[e]=n+(t-n)*a}.bind(this))},r.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},r.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var t=e.movementX||e.mozMovementX||0,n=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-t,this.rotateStart_.y-n)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*l,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*c,this.phi_=a.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},r.prototype.onMouseUp_=function(e){this.isDragging_=!1},r.prototype.isPointerLocked_=function(){var e=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return void 0!==e},r.prototype.resetPose=function(){this.phi_=0,this.theta_=0},t.exports=r},{"./base.js":3,"./math-util.js":15,"./util.js":23}],17:[function(e,t,n){function r(){this.loadIcon_();var e=document.createElement("div"),t=e.style;t.position="fixed",t.top=0,t.right=0,t.bottom=0,t.left=0,t.backgroundColor="gray",t.fontFamily="sans-serif",t.zIndex=1e6;var n=document.createElement("img");n.src=this.icon;var t=n.style;t.marginLeft="25%",t.marginTop="25%",t.width="50%",e.appendChild(n);var r=document.createElement("div"),t=r.style;t.textAlign="center",t.fontSize="16px",t.lineHeight="24px",t.margin="24px 25%",t.width="50%",r.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(r);var i=document.createElement("div"),t=i.style;t.backgroundColor="#CFD8DC",t.position="fixed",t.bottom=0,t.width="100%",t.height="48px",t.padding="14px 24px",t.boxSizing="border-box",t.color="#656A6B",e.appendChild(i);var o=document.createElement("div");o.style.float="left",o.innerHTML="No Cardboard viewer?";var a=document.createElement("a");a.href="https://www.google.com/get/cardboard/get-cardboard/",a.innerHTML="get one",a.target="_blank";var t=a.style;t.float="right",t.fontWeight=600,t.textTransform="uppercase",t.borderLeft="1px solid gray",t.paddingLeft="24px",t.textDecoration="none",t.color="#656A6B",i.appendChild(o),i.appendChild(a),this.overlay=e,this.text=r,this.hide()}var i=e("./util.js");r.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img"),n=t.style;i.isLandscapeMode()?(n.width="20%",n.marginLeft="40%",n.marginTop="3%"):(n.width="50%",n.marginLeft="25%",n.marginTop="25%")},r.prototype.hide=function(){this.overlay.style.display="none"},r.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},r.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},r.prototype.update=function(){this.disableShowTemporarily(),!i.isLandscapeMode()&&i.isMobile()?this.show():this.hide()},r.prototype.loadIcon_=function(){this.icon=i.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+");
},t.exports=r},{"./util.js":23}],18:[function(e,t,n){function r(e){this.kFilter=e,this.currentAccelMeasurement=new i,this.currentGyroMeasurement=new i,this.previousGyroMeasurement=new i,a.isIOS()?this.filterQ=new o.Quaternion(-1,0,0,1):this.filterQ=new o.Quaternion(1,0,0,1),this.previousFilterQ=new o.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new o.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new o.Vector3,this.measuredGravity=new o.Vector3,this.gyroIntegralQ=new o.Quaternion}var i=e("./sensor-sample.js"),o=e("../math-util.js"),a=e("../util.js");r.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},r.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var n=t-this.previousGyroMeasurement.timestampS;a.isTimestampDeltaValid(n)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},r.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var n=new o.Quaternion;n.copy(this.filterQ),n.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(n),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r=new o.Quaternion;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),a.isDebug()&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",o.radToDeg*a.getQuaternionAngle(r),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var i=new o.Quaternion;i.copy(this.filterQ),i.multiply(r),this.filterQ.slerp(i,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},r.prototype.getOrientation=function(){return this.filterQ},r.prototype.accelToQuaternion_=function(e){var t=new o.Vector3;t.copy(e),t.normalize();var n=new o.Quaternion;return n.setFromUnitVectors(new o.Vector3(0,0,-1),t),n.inverse(),n},r.prototype.gyroToQuaternionDelta_=function(e,t){var n=new o.Quaternion,r=new o.Vector3;return r.copy(e),r.normalize(),n.setFromAxisAngle(r,e.length()*t),n},t.exports=r},{"../math-util.js":15,"../util.js":23,"./sensor-sample.js":21}],19:[function(e,t,n){function r(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new s.Vector3,this.gyroscope=new s.Vector3,this.start(),this.filter=new i(WebVRConfig.K_FILTER),this.posePredictor=new o(WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new a,this.filterToWorldQ=new s.Quaternion,u.isIOS()?this.filterToWorldQ.setFromAxisAngle(new s.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new s.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new s.Quaternion,this.worldToScreenQ=new s.Quaternion,this.originalPoseAdjustQ=new s.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new s.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),u.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new s.Quaternion,this.isFirefoxAndroid=u.isFirefoxAndroid(),this.isIOS=u.isIOS(),this.orientationOut_=new Float32Array(4)}var i=e("./complementary-filter.js"),o=e("./pose-predictor.js"),a=e("../touch-panner.js"),s=e("../math-util.js"),u=e("../util.js");r.prototype.getPosition=function(){return null},r.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var t=new s.Quaternion;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),WebVRConfig.TOUCH_PANNER_DISABLED||t.multiply(this.touchPanner.getOrientation()),t.multiply(this.predictedQ),t.multiply(this.worldToScreenQ),WebVRConfig.YAW_ONLY&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},r.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),u.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},r.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},r.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,n=e.rotationRate,r=e.timeStamp/1e3;this.isFirefoxAndroid&&(r/=1e3);var i=r-this.previousTimestampS;return i<=u.MIN_TIMESTEP||i>u.MAX_TIMESTEP?(console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=r)):(this.accelerometer.set(-t.x,-t.y,-t.z),this.gyroscope.set(n.alpha,n.beta,n.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),void(this.previousTimestampS=r))},r.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},r.prototype.onMessage_=function(e){var t=e.data;if(t&&t.type){var n=t.type.toLowerCase();"devicemotion"===n&&this.updateDeviceMotion_(t.deviceMotionEvent)}},r.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new s.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new s.Vector3(0,0,1),Math.PI/2);break;case 180:}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},r.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),u.isIOS()&&u.isInsideCrossDomainIFrame()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},r.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)},t.exports=r},{"../math-util.js":15,"../touch-panner.js":22,"../util.js":23,"./complementary-filter.js":18,"./pose-predictor.js":20}],20:[function(e,t,n){function r(e){this.predictionTimeS=e,this.previousQ=new i.Quaternion,this.previousTimestampS=null,this.deltaQ=new i.Quaternion,this.outQ=new i.Quaternion}var i=e("../math-util"),o=e("../util");r.prototype.getPrediction=function(e,t,n){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=n,e;var r=new i.Vector3;r.copy(t),r.normalize();var a=t.length();if(a<20*i.degToRad)return o.isDebug()&&console.log("Moving slowly, at %s deg/s: no prediction",(i.radToDeg*a).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var s=(n-this.previousTimestampS,a*this.predictionTimeS);return this.deltaQ.setFromAxisAngle(r,s),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=n,this.outQ},t.exports=r},{"../math-util":15,"../util":23}],21:[function(e,t,n){function r(e,t){this.set(e,t)}r.prototype.set=function(e,t){this.sample=e,this.timestampS=t},r.prototype.copy=function(e){this.set(e.sample,e.timestampS)},t.exports=r},{}],22:[function(e,t,n){function r(){window.addEventListener("touchstart",this.onTouchStart_.bind(this)),window.addEventListener("touchmove",this.onTouchMove_.bind(this)),window.addEventListener("touchend",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new i.Vector2,this.rotateEnd=new i.Vector2,this.rotateDelta=new i.Vector2,this.theta=0,this.orientation=new i.Quaternion}var i=e("./math-util.js"),o=e("./util.js"),a=.5;r.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},r.prototype.resetSensor=function(){this.theta=0},r.prototype.onTouchStart_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},r.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),o.isIOS()&&(this.rotateDelta.x*=-1);var t=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/t.clientWidth*a}},r.prototype.onTouchEnd_=function(e){this.isTouching=!1},t.exports=r},{"./math-util.js":15,"./util.js":23}],23:[function(e,t,n){var r=e("object-assign"),i=window.Util||{};i.MIN_TIMESTEP=.001,i.MAX_TIMESTEP=1,i.base64=function(e,t){return"data:"+e+";base64,"+t},i.clamp=function(e,t,n){return Math.min(Math.max(t,e),n)},i.lerp=function(e,t,n){return e+(t-e)*n},i.isIOS=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),i.isWebViewAndroid=function(){var e=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return e}}(),i.isSafari=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),i.isFirefoxAndroid=function(){var e=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return e}}(),i.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},i.isTimestampDeltaValid=function(e){return!isNaN(e)&&(!(e<=i.MIN_TIMESTEP)&&!(e>i.MAX_TIMESTEP))},i.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},i.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},i.requestFullscreen=function(e){if(i.isWebViewAndroid())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},i.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},i.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},i.linkProgram=function(e,t,n,r){var i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,t),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,n),e.compileShader(o);var a=e.createProgram();e.attachShader(a,i),e.attachShader(a,o);for(var s in r)e.bindAttribLocation(a,r[s],s);return e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),a},i.getProgramUniforms=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i="",o=0;o<r;o++){var a=e.getActiveUniform(t,o);i=a.name.replace("[0]",""),n[i]=e.getUniformLocation(t,i)}return n},i.orthoMatrix=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*c,e[15]=1,e},i.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},i.extend=r,i.safariCssSizeWorkaround=function(e){if(i.isIOS()){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(n)+"px",setTimeout(function(){e.style.width=t,e.style.height=n},100)}window.Util=i,window.canvas=e},i.isDebug=function(){return i.getQueryParameter("debug")},i.getQueryParameter=function(e){var e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},i.frameDataFromPose=function(){function e(e,t,n,r){var i=Math.tan(t?t.upDegrees*o:a),s=Math.tan(t?t.downDegrees*o:a),u=Math.tan(t?t.leftDegrees*o:a),c=Math.tan(t?t.rightDegrees*o:a),l=2/(u+c),h=2/(i+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=-((u-c)*l*.5),e[9]=(i-s)*h*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function t(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,u=i+i,c=o+o,l=r*s,h=r*u,f=r*c,d=i*u,p=i*c,m=o*c,g=a*s,v=a*u,y=a*c;return e[0]=1-(d+m),e[1]=h+y,e[2]=f-v,e[3]=0,e[4]=h-y,e[5]=1-(l+m),e[6]=p+g,e[7]=0,e[8]=f+v,e[9]=p-g,e[10]=1-(l+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function n(e,t,n){var r,i,o,a,s,u,c,l,h,f,d,p,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=h,e[9]=f,e[10]=d,e[11]=p,e[12]=r*m+s*g+h*v+t[12],e[13]=i*m+u*g+f*v+t[13],e[14]=o*m+c*g+d*v+t[14],e[15]=a*m+l*g+p*v+t[15]),e}function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*u-i*a,w=n*c-o*a,M=r*u-i*s,E=r*c-o*s,A=i*c-o*u,x=l*m-h*p,T=l*g-f*p,_=l*v-d*p,k=h*g-f*m,S=h*v-d*m,N=f*v-d*g,L=y*N-b*S+w*k+M*_-E*T+A*x;return L?(L=1/L,e[0]=(s*N-u*S+c*k)*L,e[1]=(i*S-r*N-o*k)*L,e[2]=(m*A-g*E+v*M)*L,e[3]=(f*E-h*A-d*M)*L,e[4]=(u*_-a*N-c*T)*L,e[5]=(n*N-i*_+o*T)*L,e[6]=(g*w-p*A-v*b)*L,e[7]=(l*A-f*w+d*b)*L,e[8]=(a*S-s*_+c*x)*L,e[9]=(r*_-n*S-o*x)*L,e[10]=(p*E-m*w+v*y)*L,e[11]=(h*w-l*E-d*y)*L,e[12]=(s*T-a*k-u*x)*L,e[13]=(n*k-r*T+i*x)*L,e[14]=(m*b-p*M-g*y)*L,e[15]=(l*M-h*b+f*y)*L,e):null}function i(i,o,a,c,l){e(i,c?c.fieldOfView:null,l.depthNear,l.depthFar);var h=a.orientation||s,f=a.position||u;t(o,h,f),c&&n(o,o,c.offset),r(o,o)}var o=Math.PI/180,a=.25*Math.PI,s=new Float32Array([0,0,0,1]),u=new Float32Array([0,0,0]);return function(e,t,n){return!(!e||!t)&&(e.pose=t,e.timestamp=t.timestamp,i(e.leftProjectionMatrix,e.leftViewMatrix,t,n.getEyeParameters("left"),n),i(e.rightProjectionMatrix,e.rightViewMatrix,t,n.getEyeParameters("right"),n),!0)}}(),i.isInsideCrossDomainIFrame=function(){var e=window.self!==window.top,t=i.getDomainFromUrl(document.referrer),n=i.getDomainFromUrl(window.location.href);return e&&t!==n},i.getDomainFromUrl=function(e){var t;return t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0]},t.exports=i},{"object-assign":2}],24:[function(e,t,n){function r(){try{this.selectedKey=localStorage.getItem(s)||a}catch(e){console.error("Failed to load viewer profile: %s",e)}this.dialog=this.createDialog_(i.Viewers),this.root=null}var i=e("./device-info.js"),o=e("eventemitter3"),a=(e("./util.js"),"CardboardV1"),s="WEBVR_CARDBOARD_VIEWER",u="webvr-polyfill-viewer-selector";r.prototype=new o,r.prototype.show=function(e){this.root=e,e.appendChild(this.dialog);var t=this.dialog.querySelector("#"+this.selectedKey);t.checked=!0,this.dialog.style.display="block"},r.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},r.prototype.getCurrentViewer=function(){return i.Viewers[this.selectedKey]},r.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},r.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!i.Viewers[this.selectedKey])return void console.error("ViewerSelector.onSave_: this should never happen!");this.emit("change",i.Viewers[this.selectedKey]);try{localStorage.setItem(s,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()},r.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add(u),t.style.display="none";var n=document.createElement("div"),r=n.style;r.position="fixed",r.left=0,r.top=0,r.width="100%",r.height="100%",r.background="rgba(0, 0, 0, 0.3)",n.addEventListener("click",this.hide.bind(this));var i=280,o=document.createElement("div"),r=o.style;r.boxSizing="border-box",r.position="fixed",r.top="24px",r.left="50%",r.marginLeft=-i/2+"px",r.width=i+"px",r.padding="24px",r.overflow="hidden",r.background="#fafafa",r.fontFamily="'Roboto', sans-serif",r.boxShadow="0px 5px 20px #666",o.appendChild(this.createH1_("Select your viewer"));for(var a in e)o.appendChild(this.createChoice_(a,e[a].label));return o.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(n),t.appendChild(o),t},r.prototype.createH1_=function(e){var t=document.createElement("h1"),n=t.style;return n.color="black",n.fontSize="20px",n.fontWeight="bold",n.marginTop=0,n.marginBottom="24px",t.innerHTML=e,t},r.prototype.createChoice_=function(e,t){var n=document.createElement("div");n.style.marginTop="8px",n.style.color="black";var r=document.createElement("input");r.style.fontSize="30px",r.setAttribute("id",e),r.setAttribute("type","radio"),r.setAttribute("value",e),r.setAttribute("name","field");var i=document.createElement("label");return i.style.marginLeft="4px",i.setAttribute("for",e),i.innerHTML=t,n.appendChild(r),n.appendChild(i),n},r.prototype.createButton_=function(e,t){var n=document.createElement("button");n.innerHTML=e;var r=n.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",n.addEventListener("click",t),n},t.exports=r},{"./device-info.js":8,"./util.js":23,eventemitter3:1}],25:[function(e,t,n){function r(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=a.base64("video/mp4","AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B"),e.play())},this.release=function(){e.pause(),e.src=""}}function i(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function o(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?i:r}var a=e("./util.js");t.exports=o()},{"./util.js":23}],26:[function(e,t,n){function r(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeGetVRDisplaysFunc=this.nativeWebVRAvailable?navigator.getVRDisplays:null,this.nativeLegacyWebVRAvailable||(this.enablePolyfill(),WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),i()}function i(){"VRDisplay"in window&&!("VRFrameData"in window)&&(window.VRFrameData=c,"depthNear"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),"depthFar"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return o.frameDataFromPose(e,this.getPose(),this)})}var o=e("./util.js"),a=e("./cardboard-vr-display.js"),s=e("./mouse-keyboard-vr-display.js"),u=e("./base.js").VRDisplay,c=e("./base.js").VRFrameData,l=e("./base.js").HMDVRDevice,h=e("./base.js").PositionSensorVRDevice,f=e("./display-wrappers.js").VRDisplayHMDDevice,d=e("./display-wrappers.js").VRDisplayPositionSensorDevice;r.prototype.isWebVRAvailable=function(){return"getVRDisplays"in navigator},r.prototype.isDeprecatedWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},r.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new a,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new f(e)),this.devices.push(new d(e)))),this.isMobile()||WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new s,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new f(e)),this.devices.push(new d(e)))),this.devicesPopulated=!0}},r.prototype.enablePolyfill=function(){navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=u;var e=this;Object.defineProperty(navigator,"vrEnabled",{get:function(){return e.isCardboardCompatible()&&(e.isFullScreenAvailable()||o.isIOS())}}),!1 in window&&(window.VRFrameData=c)},r.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=l,window.PositionSensorVRDevice=h},r.prototype.getVRDisplays=function(){this.populateDevices();var e=this.displays;return this.nativeWebVRAvailable?this.nativeGetVRDisplaysFunc.call(navigator).then(function(t){return WebVRConfig.ALWAYS_APPEND_POLYFILL_DISPLAY?t.concat(e):t.length>0?t:e}):new Promise(function(t,n){try{t(e)}catch(e){n(e)}})},r.prototype.getVRDevices=function(){console.warn("getVRDevices is deprecated. Please update your code to use getVRDisplays instead.");var e=this;return new Promise(function(t,n){try{if(!e.devicesPopulated){if(e.nativeWebVRAvailable)return navigator.getVRDisplays(function(n){for(var r=0;r<n.length;++r)e.devices.push(new f(n[r])),e.devices.push(new d(n[r]));e.devicesPopulated=!0,t(e.devices)},n);if(e.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(n){for(var r=0;r<n.length;++r)n[r]instanceof l&&e.devices.push(n[r]),n[r]instanceof h&&e.devices.push(n[r]);e.devicesPopulated=!0,t(e.devices)},n)}e.populateDevices(),t(e.devices)}catch(e){n(e)}})},r.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},r.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},r.prototype.isFullScreenAvailable=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1},t.exports.WebVRPolyfill=r},{"./base.js":3,"./cardboard-vr-display.js":6,"./display-wrappers.js":9,"./mouse-keyboard-vr-display.js":16,"./util.js":23}]},{},[14])(14)})}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(e,t,n){function r(e,t,n,r){var i=e.indexOf(t,n);return i===-1||i>r?r:i}function i(e){return l.test(e)}function o(e,t,n,r,i){for(var o=[],a=n,s=n;s<r&&s<t.length;s++){var c=t.charAt(s),l=u.test(c);if(l||s===r-1){var h=l?s:s+1,f=e(t,a,h,i);o.push(f),a=s+1}}return o}function a(e,t,n,o,a,s){var u=[],l=a;for("nowrap"===s&&(l=Number.MAX_VALUE);n<o&&n<t.length;){for(var h=r(t,c,n,o);n<h&&i(t.charAt(n));)n++;var f=e(t,n,h,l),d=n+(f.end-f.start),p=d+c.length;if(d<h){for(;d>n&&!i(t.charAt(d));)d--;if(d===n)p>n+c.length&&p--,d=p;else for(p=d;d>n&&i(t.charAt(d-c.length));)d--}if(d>=n){var m=e(t,n,d,l);u.push(m)}n=p}return u}function s(e,t,n,r){var i=Math.min(r,n-t);return{start:t,end:t+i}}var u=/\n/,c="\n",l=/\s/;t.exports=function(e,n){var r=t.exports.lines(e,n);return r.map(function(t){return e.substring(t.start,t.end)}).join("\n")},t.exports.lines=function(e,t){if(t=t||{},0===t.width&&"nowrap"!==t.mode)return[];e=e||"";var n="number"==typeof t.width?t.width:Number.MAX_VALUE,r=Math.max(0,t.start||0),i="number"==typeof t.end?t.end:e.length,u=t.mode,c=t.measure||s;return"pre"===u?o(c,e,r,i,n):a(c,e,r,i,n,u)}},{}],52:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)t(e[n])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,n){var r=e;return h(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=d(t,{uri:e}),r.callback=n,r}function a(e,t,n){return t=o(e,t,n),s(t)}function s(e){function t(){4===l.readyState&&o()}function n(){var e=void 0;
if(e=l.response?l.response:l.responseText||u(l),w)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(p),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,c(e,M)}function o(){if(!d){var t;clearTimeout(p),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=M,i=null;return 0!==t?(r={body:n(),statusCode:t,method:g,headers:{},url:m,rawRequest:l},l.getAllResponseHeaders&&(r.headers=f(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),c(i,r,r.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var s=!1,c=function(t,n,r){s||(s=!0,e.callback(t,n,r))},l=e.xhr||null;l||(l=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var h,d,p,m=l.url=e.uri||e.url,g=l.method=e.method||"GET",v=e.body||e.data,y=l.headers=e.headers||{},b=!!e.sync,w=!1,M={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:l};if("json"in e&&e.json!==!1&&(w=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(e.json===!0?v:e.json))),l.onreadystatechange=t,l.onload=o,l.onerror=r,l.onprogress=function(){},l.onabort=function(){d=!0},l.ontimeout=r,l.open(g,m,!b,e.username,e.password),b||(l.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(p=setTimeout(function(){if(!d){d=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),l.setRequestHeader)for(h in y)y.hasOwnProperty(h)&&l.setRequestHeader(h,y[h]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(v||null),l}function u(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function c(){}var l=e("global/window"),h=e("is-function"),f=e("parse-headers"),d=e("xtend");t.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||c,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,r(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,n,r){return n=o(t,n,r),n.method=e.toUpperCase(),s(n)}})},{"global/window":20,"is-function":24,"parse-headers":33,xtend:54}],53:[function(e,t,n){t.exports=function(){return"undefined"!=typeof window.DOMParser?function(e){var t=new window.DOMParser;return t.parseFromString(e,"application/xml")}:"undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}}()},{}],54:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var i=Object.prototype.hasOwnProperty},{}],55:[function(e,t,n){t.exports={name:"aframe",version:"0.5.0",description:"A web framework for building virtual reality experiences.",homepage:"https://aframe.io/",main:"dist/aframe-master.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"mkdirp build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js",codecov:"codecov",dev:"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify",dist:"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-master.js.map > dist/aframe-master.js","dist:min":"npm run browserify -s -- --debug -p [minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map] -o dist/aframe-master.min.js",docs:"markserv --dir docs --port 9001",ghpages:"ghpages -p gh-pages/",lint:"semistandard -v | snazzy",precommit:"npm run lint",preghpages:"npm run dist && rimraf gh-pages && mkdirp gh-pages && cp -r {.nojekyll,dist,lib,examples,index.html,style} gh-pages/. 2>/dev/null || : && git checkout dist/ && replace 'build/aframe-master.js' 'dist/aframe-master.min.js' gh-pages/ -r --silent",prerelease:"npm run dist && node scripts/release.js 0.4.0 0.5.0",start:"npm run dev",test:"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"karma start ./tests/karma.conf.js --browsers Firefox","test:chrome":"karma start ./tests/karma.conf.js --browsers Chrome"},repository:"aframevr/aframe",license:"MIT",dependencies:{"browserify-css":"^0.8.2",debug:"^2.2.0","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7",envify:"^3.4.1","load-bmfont":"^1.2.3","object-assign":"^4.0.1",present:"0.0.6","promise-polyfill":"^3.1.0","style-attr":"^1.0.2",three:"^0.83.0","three-bmfont-text":"^2.1.0","tween.js":"^15.0.0","webvr-polyfill":"dmarcos/webvr-polyfill#a02a8089b"},devDependencies:{browserify:"^13.1.0","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0",budo:"^9.2.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.4.0",chalk:"^1.1.3",codecov:"^1.0.1","cross-env":"^3.1.3",exorcist:"^0.4.0",ghpages:"0.0.8","git-rev":"^0.2.1",glob:"^7.1.1",husky:"^0.11.7",istanbul:"^0.4.5",karma:"^1.3.0","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.0.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"^1.2.4",lolex:"^1.5.1",markserv:"0.0.20",minifyify:"^7.3.3",mkdirp:"^0.5.1",mocha:"^3.0.2","mozilla-download":"^1.1.1",open:"0.0.5",replace:"^0.3.0",rimraf:"^2.5.4",semistandard:"^9.0.0",sinon:"^1.17.5","sinon-chai":"^2.8.0",snazzy:"^5.0.0","too-wordy":"ngokevin/too-wordy",uglifyjs:"^2.4.10","write-good":"^0.9.1"},link:!0,browserify:{transform:["browserify-css","envify"]},semistandard:{ignore:["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},keywords:["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{minify:!0},engines:{node:">= 4.6.0",npm:"^2.15.9"}}},{}],56:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=r("blend-character-model",{schema:{type:"asset"},init:function(){this.model=null},update:function(){var e=this,t=this.el,n=this.data;n&&(this.remove(),this.model=new i.BlendCharacter,this.model.load(n,function(){t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"blend",model:e.model}),e.model.castShadow=!0,e.model.receiveShadow=!0,e.model.material.shading=i.FlatShading,e.model.geometry.computeBoundingBox()}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":100,"../lib/three":146}],57:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three"),o=e("../utils/"),a=o.bind,s=o.device.checkHasPositionalTracking;t.exports.Component=r("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},userHeight:{default:0,min:0},zoom:{default:1,min:0}},init:function(){var e,t=this.el,n=t.sceneEl;this.savedPose=null,e=this.camera=new i.PerspectiveCamera,t.setObject3D("camera",e),this.onEnterVR=a(this.onEnterVR,this),this.onExitVR=a(this.onExitVR,this),n.addEventListener("enter-vr",this.onEnterVR),n.addEventListener("exit-vr",this.onExitVR)},update:function(e){var t=this.el,n=this.data,r=this.camera,i=this.system;this.addHeightOffset(e.userHeight),r.aspect=n.aspect||window.innerWidth/window.innerHeight,r.far=n.far,r.fov=n.fov,r.near=n.near,r.zoom=n.zoom,r.updateProjectionMatrix(),e&&e.active===n.active||(n.active&&i.activeCameraEl!==t?i.setActiveCamera(t):n.active||i.activeCameraEl!==t||i.disableActiveCamera())},remove:function(){var e=this.el.sceneEl;this.el.removeObject3D("camera"),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR)},onEnterVR:function(){this.saveCameraPose(),this.removeHeightOffset()},onExitVR:function(){this.restoreCameraPose()},addHeightOffset:function(e){var t,n=this.el,r=this.data.userHeight;e=e||0,t=n.getAttribute("position")||{x:0,y:0,z:0},n.setAttribute("position",{x:t.x,y:t.y-e+r,z:t.z})},removeHeightOffset:function(){var e,t,n=this.el,r=this.data.userHeight;t=this.hasPositionalTracking||s(),r&&t&&(e=n.getAttribute("position")||{x:0,y:0,z:0},n.setAttribute("position",{x:e.x,y:e.y-r,z:e.z}))},saveCameraPose:function(){var e=this.el,t=this.hasPositionalTracking||s();!this.savedPose&&t&&(this.savedPose={position:e.getAttribute("position"),rotation:e.getAttribute("rotation")})},restoreCameraPose:function(){var e=this.el,t=this.savedPose,n=this.hasPositionalTracking||s();t&&n&&(e.setAttribute("position",t.position),e.setAttribute("rotation",t.rotation),this.savedPose=null)}})},{"../core/component":100,"../lib/three":146,"../utils/":167}],58:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=r("collada-model",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new i.ColladaLoader,this.loader.options.convertUpAxis=!0},update:function(){var e=this,t=this.el,n=this.data;n&&(this.remove(),this.loader.load(n,function(n){e.model=n.scene,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"collada",model:e.model})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":100,"../lib/three":146}],59:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../utils/"),o=i.bind,a={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},s={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"};t.exports.Component=r("cursor",{dependencies:["raycaster"],schema:{fuse:{default:i.device.isMobile()},fuseTimeout:{default:1500,min:0}},init:function(){var e=this.el,t=e.sceneEl.canvas;return this.fuseTimeout=void 0,this.mouseDownEl=null,this.intersection=null,this.intersectedEl=null,t?(t.addEventListener("mousedown",o(this.onMouseDown,this)),t.addEventListener("mouseup",o(this.onMouseUp,this)),e.addEventListener("raycaster-intersection",o(this.onIntersection,this)),void e.addEventListener("raycaster-intersection-cleared",o(this.onIntersectionCleared,this))):void e.sceneEl.addEventListener("render-target-loaded",o(this.init,this))},onMouseDown:function(e){this.twoWayEmit(a.MOUSEDOWN),this.mouseDownEl=this.intersectedEl},onMouseUp:function(e){this.twoWayEmit(a.MOUSEUP),!this.data.fuse&&this.intersectedEl&&this.mouseDownEl===this.intersectedEl&&this.twoWayEmit(a.CLICK)},onIntersection:function(e){var t,n,r,i=this,o=this.el,u=this.data;if(t=e.detail.els[0]===o?1:0,r=e.detail.intersections[t],n=e.detail.els[t]){if(this.intersectedEl===n)return void(this.intersection=r);this.intersectedEl&&this.clearCurrentIntersection(),this.intersection=r,this.intersectedEl=n,o.addState(s.HOVERING),n.addState(s.HOVERED),i.twoWayEmit(a.MOUSEENTER),0!==u.fuseTimeout&&u.fuse&&(o.addState(s.FUSING),this.twoWayEmit(a.FUSING),this.fuseTimeout=setTimeout(function(){o.removeState(s.FUSING),i.twoWayEmit(a.CLICK)},u.fuseTimeout))}},onIntersectionCleared:function(e){var t=this.el,n=e.detail.el;t!==n&&n===this.intersectedEl&&this.clearCurrentIntersection()},clearCurrentIntersection:function(){var e=this.el;this.intersectedEl.removeState(s.HOVERED),e.removeState(s.HOVERING),e.removeState(s.FUSING),this.twoWayEmit(a.MOUSELEAVE),this.intersection=null,this.intersectedEl=null,clearTimeout(this.fuseTimeout)},twoWayEmit:function(e){var t=this.el,n=this.intersectedEl,r=this.intersection;t.emit(e,{intersectedEl:n,intersection:r}),n&&n.emit(e,{cursorEl:t,intersection:r})}})},{"../core/component":100,"../utils/":167}],60:[function(e,t,n){var r=e("../utils/debug"),i=e("../core/geometry").geometries,o=e("../core/geometry").geometryNames,a=e("../core/component").registerComponent,s=e("../lib/three"),u=new s.Geometry,c=r("components:geometry:warn");t.exports.Component=a("geometry",{schema:{buffer:{default:!0},mergeTo:{type:"selector"},primitive:{default:"box",oneOf:o},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t=this.data,n=this.el.getOrCreateObject3D("mesh",s.Mesh),r=this.system;this.geometry&&(r.unuseGeometry(e),this.geometry=null),this.geometry=n.geometry=r.getOrCreateGeometry(t),t.mergeTo&&this.mergeTo(t.mergeTo)},mergeTo:function(e){var t,n=this.el,r=n.getObject3D("mesh");return e&&e.isEntity?e===n?void c("Source and target geometries cannot be the same for merge"):(t=e.getObject3D("mesh"))?t.geometry instanceof s.Geometry==!1||r.geometry instanceof s.Geometry==!1?void c("Geometry merge is only available for `THREE.Geometry` types. Check that both of the merging geometry and the target geometry have `buffer` set to false"):this.data.skipCache===!1?void c("Cached geometries are not allowed to merge. Set `skipCache` to true"):(r.parent.updateMatrixWorld(),t.geometry.merge(r.geometry,r.matrixWorld),n.emit("geometry-merged",{mergeTarget:e}),void n.parentNode.removeChild(n)):(t=e.getOrCreateObject3D("mesh",s.Mesh),void e.setAttribute("material",n.getAttribute("material"))):void c("There is not a valid entity to merge the geometry to")},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=u,this.geometry=null},updateSchema:function(e){var t=e.primitive,n=this.data&&this.data.primitive,r=i[t]&&i[t].schema;if(!r)throw new Error("Unknown geometry schema `"+t+"`");n&&n===t||this.extendSchema(r)}})},{"../core/component":100,"../core/geometry":101,"../lib/three":146,"../utils/debug":163}],61:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=r("gltf-model",{schema:{type:"model"},init:function(){this.model=null,this.loader=new i.GLTFLoader},update:function(){var e=this,t=this.el,n=this.data;n&&(this.remove(),this.loader.load(n,function(n){e.model=n.scene,e.system.registerModel(e.model),t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"gltf",model:e.model})}))},remove:function(){this.model&&(this.el.removeObject3D("mesh"),this.system.unregisterModel(this.model))}})},{"../core/component":100,"../lib/three":146}],62:[function(e,t,n){var r=e("../core/component").registerComponent,i="https://cdn.aframe.io/controllers/oculus-hands/v2/leftHand.json",o="https://cdn.aframe.io/controllers/oculus-hands/v2/rightHand.json";t.exports.Component=r("hand-controls",{schema:{default:"left"},init:function(){var e=this;this.touchedButtons={},this.pressedButtons={},this.onGripDown=function(){e.handleButton("grip","down")},this.onGripUp=function(){e.handleButton("grip","up")},this.onTrackpadDown=function(){e.handleButton("trackpad","down")},this.onTrackpadUp=function(){e.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){e.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){e.handleButton("trackpad","touchend")},this.onTriggerDown=function(){e.handleButton("trigger","down")},this.onTriggerUp=function(){e.handleButton("trigger","up")},this.onTriggerTouchStart=function(){e.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){e.handleButton("trigger","touchend")},this.onGripTouchStart=function(){e.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){e.handleButton("grip","touchend")},this.onThumbstickDown=function(){e.handleButton("thumbstick","down")},this.onThumbstickUp=function(){e.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){e.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){e.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){e.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){e.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){e.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){e.handleButton("surface","touchend")}},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},addEventListeners:function(){var e=this.el;e.addEventListener("gripdown",this.onGripDown),e.addEventListener("gripup",this.onGripUp),e.addEventListener("trackpaddown",this.onTrackpadDown),e.addEventListener("trackpadup",this.onTrackpadUp),e.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.addEventListener("triggerdown",this.onTriggerDown),e.addEventListener("triggerup",this.onTriggerUp),e.addEventListener("triggertouchstart",this.onTriggerTouchStart),e.addEventListener("triggertouchend",this.onTriggerTouchEnd),e.addEventListener("griptouchstart",this.onGripTouchStart),e.addEventListener("griptouchend",this.onGripTouchEnd),e.addEventListener("thumbstickdown",this.onThumbstickDown),e.addEventListener("thumbstickup",this.onThumbstickUp),e.addEventListener("Atouchstart",this.onAorXTouchStart),e.addEventListener("Atouchend",this.onAorXTouchEnd),e.addEventListener("Btouchstart",this.onBorYTouchStart),e.addEventListener("Btouchend",this.onBorYTouchEnd),e.addEventListener("Xtouchstart",this.onAorXTouchStart),e.addEventListener("Xtouchend",this.onAorXTouchEnd),e.addEventListener("Ytouchstart",this.onBorYTouchStart),e.addEventListener("Ytouchend",this.onBorYTouchEnd),e.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var e=this.el;e.removeEventListener("gripdown",this.onGripDown),e.removeEventListener("gripup",this.onGripUp),e.removeEventListener("trackpaddown",this.onTrackpadDown),e.removeEventListener("trackpadup",this.onTrackpadUp),e.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.removeEventListener("triggerdown",this.onTriggerDown),e.removeEventListener("triggerup",this.onTriggerUp),e.removeEventListener("triggertouchstart",this.onTriggerTouchStart),e.removeEventListener("triggertouchend",this.onTriggerTouchEnd),e.removeEventListener("griptouchstart",this.onGripTouchStart),e.removeEventListener("griptouchend",this.onGripTouchEnd),e.removeEventListener("thumbstickdown",this.onThumbstickDown),e.removeEventListener("thumbstickup",this.onThumbstickUp),e.removeEventListener("Atouchstart",this.onAorXTouchStart),e.removeEventListener("Atouchend",this.onAorXTouchEnd),e.removeEventListener("Btouchstart",this.onBorYTouchStart),e.removeEventListener("Btouchend",this.onBorYTouchEnd),e.removeEventListener("Xtouchstart",this.onAorXTouchStart),e.removeEventListener("Xtouchend",this.onAorXTouchEnd),e.removeEventListener("Ytouchstart",this.onBorYTouchStart),e.removeEventListener("Ytouchend",this.onBorYTouchEnd),e.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(){var e,t=this.el,n=this.data,r={hand:n,model:!1,rotationOffset:"left"===n?90:-90};e="left"===n?"url("+i+")":"url("+o+")",t.setAttribute("vive-controls",r),t.setAttribute("oculus-touch-controls",r),t.setAttribute("blend-character-model",e)},handleButton:function(e,t){var n,r="down"===t,i="touchstart"===t;if(0===t.indexOf("touch")){if(i===this.touchedButtons[e])return;this.touchedButtons[e]=i}else{if(r===this.pressedButtons[e])return;this.pressedButtons[e]=r}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture),this.emitGestureEvents(this.gesture,n))},isOculusTouchController:function(){var e=this.el.components["tracked-controls"],t=e&&e.controller&&e.controller.id;return t&&0===t.indexOf("Oculus Touch")},determineGesture:function(){var e,t=this.pressedButtons.grip,n=this.pressedButtons.surface||this.touchedButtons.surface,r=this.pressedButtons.trackpad||this.touchedButtons.trackpad,i=this.pressedButtons.trigger||this.touchedButtons.trigger,o=this.touchedButtons.AorX||this.touchedButtons.BorY,a=this.isOculusTouchController();return t?e=a?n||o||r?i?"fist":"pointing":i?"thumb":"pistol":"fist":i?e=a?"touch":"fist":!a&&r&&(e="pointing"),e},gestureAnimationMapping:{default:"Open",pointing:"Point",pistol:"Point + Thumb",fist:"Fist",touch:"Hold",thumb:"Thumb Up"},animateGesture:function(e){var t=this.isOculusTouchController();if(!e&&!t)return void this.playAnimation("Open",!0);var n=this.gestureAnimationMapping[e||"default"];this.playAnimation(n||"Open",!n&&t)},gestureEventMapping:{fist:"grip",touch:"point",thumb:"thumb",pointing:"pointing",pistol:"pistol"},gestureEventName:function(e,t){if(!e)return 0;var n=this.gestureEventMapping[e];return"grip"===n?n+(t?"close":"open"):"point"===n||"thumb"===n?n+(t?"up":"down"):"pointing"===n||"pistol"===n?n+(t?"start":"end"):0},emitGestureEvents:function(e,t){var n,r=this.el;t!==e&&(n=this.gestureEventName(t,!1),n&&r.emit(n),n=this.gestureEventName(e,!0),n&&r.emit(n))},playAnimation:function(e,t){var n,r=this.animationActive,i=1,o=this.el.getObject3D("mesh");o&&(t&&(i=-1),r&&o.play(r,0),n=o.mixer.clipAction(e),n.loop=2200,n.clampWhenFinished=!0,n.timeScale=i,o.play(e,1),this.animationActive=e)}})},{"../core/component":100}],63:[function(e,t,n){e("./blend-character-model"),e("./camera"),e("./collada-model"),e("./cursor"),e("./geometry"),e("./gltf-model"),e("./hand-controls"),e("./light"),e("./look-controls"),e("./material"),e("./obj-model"),e("./oculus-touch-controls"),e("./position"),e("./raycaster"),e("./rotation"),e("./scale"),e("./sound"),e("./text"),e("./tracked-controls"),e("./visible"),e("./vive-controls"),e("./wasd-controls"),e("./scene/auto-enter-vr"),e("./scene/canvas"),e("./scene/debug"),e("./scene/embedded"),e("./scene/inspector"),e("./scene/fog"),e("./scene/keyboard-shortcuts"),e("./scene/pool"),e("./scene/screenshot"),e("./scene/stats"),e("./scene/vr-mode-ui")},{"./blend-character-model":56,"./camera":57,"./collada-model":58,"./cursor":59,"./geometry":60,"./gltf-model":61,"./hand-controls":62,"./light":64,"./look-controls":65,"./material":66,"./obj-model":67,"./oculus-touch-controls":68,"./position":69,"./raycaster":70,"./rotation":71,"./scale":72,"./scene/auto-enter-vr":73,"./scene/canvas":74,"./scene/debug":75,"./scene/embedded":76,"./scene/fog":77,"./scene/inspector":78,"./scene/keyboard-shortcuts":79,"./scene/pool":80,"./scene/screenshot":81,"./scene/stats":82,"./scene/vr-mode-ui":83,"./sound":84,"./text":85,"./tracked-controls":86,"./visible":87,"./vive-controls":88,"./wasd-controls":89}],64:[function(e,t,n){var r=e("../utils/bind"),i=e("../utils").diff,o=e("../utils/debug"),a=e("../core/component").registerComponent,s=e("../lib/three"),u=s.Math.degToRad,c=o("components:light:warn");t.exports.Component=a("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"]},target:{type:"selector",if:{type:["spot","directional"]}}},init:function(){var e=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(e)},update:function(e){var t=this.data,n=i(t,e),o=this.light,a=this;return!o||"type"in n?void this.setLight(this.data):void Object.keys(n).forEach(function(e){var n=t[e];switch(e){case"color":o.color.set(n);break;case"groundColor":o.groundColor.set(n);break;case"angle":o.angle=u(n);break;case"target":null===n?"spot"!==t.type&&"directional"!==t.type||(o.target=a.defaultTarget):n.hasLoaded?a.onSetTarget(n):n.addEventListener("loaded",r(a.onSetTarget,a,n));break;default:o[e]=n}})},setLight:function(e){var t=this.el,n=this.getLight(e);n&&(this.light&&t.removeObject3D("light"),this.light=n,this.light.el=t,t.setObject3D("light",this.light),"spot"!==e.type&&"directional"!==e.type&&"hemisphere"!==e.type||t.getObject3D("light").translateY(-1),"spot"===e.type&&(t.setObject3D("light-target",this.defaultTarget),t.getObject3D("light-target").position.set(0,0,-1)))},getLight:function(e){var t=e.angle,n=new s.Color(e.color).getHex(),i=e.decay,o=e.distance,a=new s.Color(e.groundColor).getHex(),l=e.intensity,h=e.type,f=e.target,d=null;switch(h.toLowerCase()){case"ambient":return new s.AmbientLight(n,l);case"directional":return d=new s.DirectionalLight(n,l),this.defaultTarget=d.target,f&&(f.hasLoaded?this.onSetTarget(f):f.addEventListener("loaded",r(this.onSetTarget,this,f))),d;case"hemisphere":return new s.HemisphereLight(n,a,l);case"point":return new s.PointLight(n,l,o,i);case"spot":return d=new s.SpotLight(n,l,o,u(t),e.penumbra,i),this.defaultTarget=d.target,f&&(f.hasLoaded?this.onSetTarget(f):f.addEventListener("loaded",r(this.onSetTarget,this,f))),d;default:c("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",h)}},onSetTarget:function(e){this.light.target=e.object3D},remove:function(){this.el.removeObject3D("light")}})},{"../core/component":100,"../lib/three":146,"../utils":167,"../utils/bind":161,"../utils/debug":163}],65:[function(e,t,n){function r(e){return 0===e.x&&0===e.y&&0===e.z}var i=e("../core/component").registerComponent,o=e("../lib/three"),a=e("../utils/").device.isMobile(),s=e("../utils/bind"),u=Math.PI/2,c=o.Math.radToDeg;t.exports.Component=i("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},reverseMouseDrag:{default:!1},standing:{default:!0}},init:function(){function e(){t.canvas.classList.add("a-grab-cursor")}var t=this.el.sceneEl;this.previousHMDPosition=new o.Vector3,this.hmdQuaternion=new o.Quaternion,this.hmdEuler=new o.Euler,this.setupMouseControls(),this.setupHMDControls(),this.bindMethods(),t.canvas?e():t.addEventListener("render-target-loaded",e)},update:function(e){var t=this.data,n=t.hmdEnabled;t.enabled&&(!n&&e&&n!==e.hmdEnabled&&(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),this.controls.standing=t.standing,this.controls.update(),this.updateOrientation(),this.updatePosition())},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(e){this.update()},remove:function(){this.pause()},bindMethods:function(){this.onMouseDown=s(this.onMouseDown,this),this.onMouseMove=s(this.onMouseMove,this),this.releaseMouse=s(this.releaseMouse,this),this.onTouchStart=s(this.onTouchStart,this),this.onTouchMove=s(this.onTouchMove,this),this.onTouchEnd=s(this.onTouchEnd,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new o.Object3D,this.yawObject=new o.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},setupHMDControls:function(){this.dolly=new o.Object3D,this.euler=new o.Euler,this.controls=new o.VRControls(this.dolly),this.controls.userHeight=0},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;return t?(t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.releaseMouse,!1),t.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),void window.addEventListener("touchend",this.onTouchEnd)):void e.addEventListener("render-target-loaded",s(this.addEventListeners,this))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mouseup",this.releaseMouse),t.removeEventListener("mouseout",this.releaseMouse),t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd))},updateOrientation:function(){var e,t,n,i=this.hmdEuler,o=this.pitchObject,s=this.yawObject,u=this.calculateHMDQuaternion(),l=this.el.sceneEl;i.setFromQuaternion(u,"YXZ"),a?n={x:c(i.x)+c(o.rotation.x),y:c(i.y)+c(s.rotation.y),z:c(i.z)}:l.is("vr-mode")&&!r(i)&&this.data.hmdEnabled?n={x:c(i.x),y:c(i.y),z:c(i.z)}:(e=this.el.getAttribute("rotation"),t=this.calculateDeltaRotation(),n=this.data.reverseMouseDrag?{x:e.x-t.x,y:e.y-t.y,z:e.z}:{x:e.x+t.x,y:e.y+t.y,z:e.z}),this.el.setAttribute("rotation",n)},calculateDeltaRotation:function(){var e,t=c(this.pitchObject.rotation.x),n=c(this.yawObject.rotation.y);return this.previousRotationX=this.previousRotationX||t,this.previousRotationY=this.previousRotationY||n,e={x:t-this.previousRotationX,y:n-this.previousRotationY},this.previousRotationX=t,this.previousRotationY=n,e},calculateHMDQuaternion:function(){var e=this.hmdQuaternion;return e.copy(this.dolly.quaternion),e},updatePosition:function(){var e=new o.Vector3;return function(){var t,n=this.el,i=n.getAttribute("position"),o=this.previousHMDPosition,a=this.el.sceneEl;t=this.calculateHMDPosition(),e.copy(t).sub(o),a.is("vr-mode")&&!r(e)&&(o.copy(t),a.is("vr-mode")&&n.setAttribute("position",{x:i.x+e.x,y:i.y+e.y,z:i.z+e.z}))}}(),calculateHMDPosition:function(){var e=this.dolly,t=new o.Vector3;return e.updateMatrix(),t.setFromMatrixPosition(e.matrix),t},onMouseMove:function(e){var t=this.pitchObject,n=this.yawObject,r=this.previousMouseEvent;if(this.mouseDown&&this.data.enabled){var i=e.movementX||e.mozMovementX,o=e.movementY||e.mozMovementY;void 0!==i&&void 0!==o||(i=e.screenX-r.screenX,o=e.screenY-r.screenY),this.previousMouseEvent=e,n.rotation.y-=.002*i,t.rotation.x-=.002*o,t.rotation.x=Math.max(-u,Math.min(u,t.rotation.x))}},onMouseDown:function(e){this.mouseDown=!0,this.previousMouseEvent=e,document.body.classList.add("a-grabbing")},releaseMouse:function(){this.mouseDown=!1,document.body.classList.remove("a-grabbing")},onTouchStart:function(e){1===e.touches.length&&(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,n=this.yawObject;this.touchStarted&&(t=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/this.el.sceneEl.canvas.clientWidth,n.rotation.y-=.5*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1}})},{"../core/component":100,"../lib/three":146,"../utils/":167,"../utils/bind":161}],66:[function(e,t,n){function r(e){switch(e){case"back":return s.BackSide;case"double":return s.DoubleSide;default:return s.FrontSide}}function i(e,t){e.dispose(),t.unregisterMaterial(e)}var o=e("../utils/"),a=e("../core/component"),s=e("../lib/three"),u=e("../core/shader"),c=o.debug("components:material:error"),l=a.registerComponent,h=u.shaders,f=u.shaderNames;t.exports.Component=l("material",{schema:{depthTest:{default:!0},flatShading:{default:!1},opacity:{default:1,min:0,max:1},shader:{default:"standard",oneOf:f},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},visible:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},npot:{default:!1}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial()},updateSchema:function(e){var t=e.shader,n=this.data&&this.data.shader,r=t||n,i=h[r]&&h[r].schema;i||c("Unknown shader schema "+r),n&&t===n||(this.extendSchema(i),this.updateBehavior())},updateBehavior:function(){var e=this.schema,t=this,n=this.el.sceneEl,r={},i=function(e,n){function i(t){r[t]=e}var o=Object.keys(r);o.forEach(i),t.shader.update(r)},o=Object.keys(e);this.tick=void 0,o.forEach(function(n){"time"===e[n].type&&(t.tick=i,r[n]=!0)}),n&&(this.tick?n.addBehavior(this):n.removeBehavior(this))},updateShader:function(e){var t,n=this.data,r=h[e]&&h[e].Shader;if(!r)throw new Error("Unknown shader "+e);t=this.shader=new r,
t.el=this.el,t.init(n),this.setMaterial(t.material),this.updateSchema(n)},updateMaterial:function(){var e=this.data,t=this.material;t.side=r(e.side),t.opacity=e.opacity,t.transparent=e.transparent!==!1||e.opacity<1,t.depthTest=e.depthTest!==!1,t.shading=e.flatShading?s.FlatShading:s.SmoothShading,t.visible=e.visible},remove:function(){var e=new s.MeshBasicMaterial,t=this.material,n=this.el.getObject3D("mesh");n&&(n.material=e),i(t,this.system)},setMaterial:function(e){var t=this.el.getOrCreateObject3D("mesh",s.Mesh),n=this.system;this.material&&i(this.material,n),this.material=t.material=e,n.registerMaterial(e)}})},{"../core/component":100,"../core/shader":109,"../lib/three":146,"../utils/":167}],67:[function(e,t,n){var r=e("../utils/debug"),i=e("../core/component").registerComponent,o=e("../lib/three"),a=r("components:obj-model:warn");t.exports.Component=i("obj-model",{dependencies:["material"],schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){this.model=null,this.objLoader=new o.OBJLoader,this.mtlLoader=new o.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin=""},update:function(){var e=this.data;e.obj&&(this.remove(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(e,t){var n=this,r=this.el,i=this.mtlLoader,s=this.objLoader;return t?(r.hasAttribute("material")&&a("Material component properties are ignored when a .MTL is provided"),i.setTexturePath(t.substr(0,t.lastIndexOf("/")+1)),void i.load(t,function(t){t.preload(),s.setMaterials(t),s.load(e,function(e){n.model=e,r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})})})):void s.load(e,function(e){var t=r.components.material;t&&e.traverse(function(e){e instanceof o.Mesh&&(e.material=t.material)}),n.model=e,r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})})}})},{"../core/component":100,"../lib/three":146,"../utils/debug":163}],68:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls").isControllerPresent,a="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",s=a+"left.obj",u=a+"left.mtl",c=a+"right.obj",l=a+"right.mtl",h="Oculus Touch",f={x:0,y:-.015,z:.04},d=.001;t.exports.Component=r("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},rotationOffset:{default:0}},mapping:{left:{axis0:"thumbstick",axis1:"thumbstick",button0:"thumbstick",button1:"trigger",button2:"grip",button3:"X",button4:"Y",button5:"surface"},right:{axis0:"thumbstick",axis1:"thumbstick",button0:"thumbstick",button1:"trigger",button2:"grip",button3:"A",button4:"B",button5:"surface"}},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this)},init:function(){var e=this;this.animationActive="pointing",this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){e.onButtonEvent(t.detail.id,"down")},this.onButtonUp=function(t){e.onButtonEvent(t.detail.id,"up")},this.onButtonTouchStart=function(t){e.onButtonEvent(t.detail.id,"touchstart")},this.onButtonTouchEnd=function(t){e.onButtonEvent(t.detail.id,"touchend")},this.controllerPresent=!1,this.everGotGamepadEvent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.isControllerPresent=o},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1),window.addEventListener("gamepadconnected",this.checkIfControllerPresent,!1),window.addEventListener("gamepaddisconnected",this.checkIfControllerPresent,!1)},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1),window.removeEventListener("gamepadconnected",this.checkIfControllerPresent,!1),window.removeEventListener("gamepaddisconnected",this.checkIfControllerPresent,!1)},checkIfControllerPresent:function(){var e=this.data,t=this.isControllerPresent(this.el.sceneEl,h,{hand:e.hand});t!==this.controllerPresent&&(this.controllerPresent=t,t&&this.injectTrackedControls())},play:function(){this.checkIfControllerPresent(),this.addEventListeners()},pause:function(){this.removeEventListeners()},updateControllerModel:function(){var e,t;this.data.model&&("right"===this.data.hand?(e="url("+c+")",t="url("+l+")"):(e="url("+s+")",t="url("+u+")"),this.el.setAttribute("obj-model",{obj:e,mtl:t}))},injectTrackedControls:function(){var e=this.el,t=this.data,n="right"===t.hand;e.setAttribute("tracked-controls",{id:n?"Oculus Touch (Right)":"Oculus Touch (Left)",controller:0,rotationOffset:t.rotationOffset!==-999?t.rotationOffset:n?-90:90}),this.updateControllerModel()},onControllersUpdate:function(){this.everGotGamepadEvent||this.checkIfControllerPresent()},isEmulatedTouchEvent:function(e){return e&&e>=d},onButtonChanged:function(e){var t,n,r,i=this.mapping[this.data.hand]["button"+e.detail.id],o=this.buttonMeshes;"trigger"!==i&&"grip"!==i||(n=e.detail.state.value,t=this.isEmulatedTouchEvent(this.previousButtonValues[i]),this.previousButtonValues[i]=n,r=this.isEmulatedTouchEvent(n),r!==t&&(r?this.onButtonTouchStart:this.onButtonTouchEnd)(e),o&&("trigger"===i&&o.trigger&&(o.trigger.rotation.x=-n*(Math.PI/24)),"grip"===i&&o.grip&&(o.grip.rotation.y=("left"===this.data.hand?-1:1)*n*(Math.PI/60))))},onModelLoaded:function(e){var t,n=e.detail.model;if(this.data.model){var r="left"===this.data.hand;t=this.buttonMeshes={},t.grip=n.getObjectByName(r?"buttonHand_oculus-touch-controller-left.004":"buttonHand_oculus-touch-controller-right.005"),t.thumbstick=n.getObjectByName(r?"stick_oculus-touch-controller-left.007":"stick_oculus-touch-controller-right.004"),t.trigger=n.getObjectByName(r?"buttonTrigger_oculus-touch-controller-left.005":"buttonTrigger_oculus-touch-controller-right.006"),t.X=n.getObjectByName("buttonX_oculus-touch-controller-left.002"),t.A=n.getObjectByName("buttonA_oculus-touch-controller-right.002"),t.Y=n.getObjectByName("buttonY_oculus-touch-controller-left.001"),t.B=n.getObjectByName("buttonB_oculus-touch-controller-right.003"),n.position=f}},onButtonEvent:function(e,t){var n,r=this.mapping[this.data.hand]["button"+e];if(Array.isArray(r))for(n=0;n<r.length;n++)this.el.emit(r[n]+t);else this.el.emit(r+t);this.updateModel(r,t)},updateModel:function(e,t){var n;if(Array.isArray(e))for(n=0;n<e.length;n++)this.updateButtonModel(e[n],t);else this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n="up"===t||"touchend"===t?this.data.buttonColor:"touchstart"===t?this.data.buttonTouchColor:this.data.buttonHighlightColor,r=this.buttonMeshes;this.data.model&&r&&r[e]&&r[e].material.color.set(n)}})},{"../core/component":100,"../utils/bind":161,"../utils/tracked-controls":171}],69:[function(e,t,n){var r=e("../core/component").registerComponent;t.exports.Component=r("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,t=this.data;e.position.set(t.x,t.y,t.z)}})},{"../core/component":100}],70:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three"),o=e("../utils/").bind,a=new i.Vector3;t.exports.Component=r("raycaster",{schema:{far:{default:1/0},interval:{default:100},near:{default:0},objects:{default:""},recursive:{default:!0}},init:function(){this.direction=new i.Vector3,this.intersectedEls=[],this.objects=null,this.prevCheckTime=void 0,this.raycaster=new i.Raycaster,this.updateOriginDirection(),this.refreshObjects=o(this.refreshObjects,this)},play:function(){this.el.sceneEl.addEventListener("child-attached",this.refreshObjects),this.el.sceneEl.addEventListener("child-detached",this.refreshObjects)},pause:function(){this.el.sceneEl.removeEventListener("child-attached",this.refreshObjects),this.el.sceneEl.removeEventListener("child-detached",this.refreshObjects)},update:function(){var e=this.data,t=this.raycaster;t.far=e.far,t.near=e.near,this.refreshObjects()},refreshObjects:function(){var e,t,n=this.data;if(n.objects)for(t=this.el.sceneEl.querySelectorAll(n.objects),this.objects=[],e=0;e<t.length;e++)this.objects.push(t[e].object3D);else this.objects=this.el.sceneEl.object3D.children},tick:function(e){var t,n,r,i=this.el,o=this.data,a=this.prevCheckTime;a&&e-a<o.interval||(this.prevCheckTime=e,r=this.intersectedEls.slice(),this.updateOriginDirection(),n=this.raycaster.intersectObjects(this.objects,o.recursive),n=n.filter(function(e){return!!e.object.el}),t=this.intersectedEls=n.map(function(e){return e.object.el}),n.forEach(function(e){var t=e.object.el;t.emit("raycaster-intersected",{el:i,intersection:e})}),n.length&&i.emit("raycaster-intersection",{els:t.slice(),intersections:n}),r.forEach(function(e){t.indexOf(e)===-1&&(i.emit("raycaster-intersection-cleared",{el:e}),e.emit("raycaster-intersected-cleared",{el:i}))}))},updateOriginDirection:function(){var e=new i.Quaternion,t=new i.Vector3;return function(){var n=this.el,r=n.object3D;r.updateMatrixWorld(),r.matrixWorld.decompose(t,e,a),this.direction.set(0,0,-1),this.direction.applyQuaternion(e),this.raycaster.set(t,this.direction)}}()})},{"../core/component":100,"../lib/three":146,"../utils/":167}],71:[function(e,t,n){var r=e("../lib/three").Math.degToRad,i=e("../core/component").registerComponent;t.exports.Component=i("rotation",{schema:{type:"vec3"},update:function(){var e=this.data,t=this.el.object3D;t.rotation.set(r(e.x),r(e.y),r(e.z)),t.rotation.order="YXZ"}})},{"../core/component":100,"../lib/three":146}],72:[function(e,t,n){var r=e("../core/component").registerComponent,i=1e-5;t.exports.Component=r("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var e=this.data,t=this.el.object3D,n=0===e.x?i:e.x,r=0===e.y?i:e.y,o=0===e.z?i:e.z;t.scale.set(n,r,o)}})},{"../core/component":100}],73:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../utils");t.exports.Component=r("auto-enter-vr",{schema:{display:{type:"string",default:"GearVR"},enabled:{type:"boolean",default:!0}},init:function(){var e=this.el,t=this;this.enterVR=e.enterVR.bind(e),this.exitVR=e.exitVR.bind(e),this.shouldAutoEnterVR=this.shouldAutoEnterVR.bind(this),"false"!==i.getUrlParameter("auto-enter-vr")&&(window.addEventListener("vrdisplayactivate",function(){t.enterVR()},!1),window.addEventListener("vrdisplaydeactivate",function(){t.exitVR()},!1),setTimeout(function(){t.shouldAutoEnterVR()&&t.enterVR()},0))},update:function(){return this.shouldAutoEnterVR()?this.enterVR():this.exitVR()},shouldAutoEnterVR:function(){var e=this.el,t=this.data;if(!t.enabled)return!1;if(t.display&&"all"!==t.display){var n=e.effect&&e.effect.getVRDisplay&&e.effect.getVRDisplay();if(!n||!n.displayName||n.displayName.indexOf(t.display)<0)return!1}return!0}})},{"../../core/component":100,"../../utils":167}],74:[function(e,t,n){var r=e("../../utils/bind"),i=e("../../core/component").registerComponent;t.exports.Component=i("canvas",{init:function(){function e(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;e||n.exitVR(),document.activeElement.blur(),document.body.focus()}var t,n=this.el;t=document.createElement("canvas"),t.classList.add("a-canvas"),t.dataset.aframeCanvas=!0,n.appendChild(t),document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),t.addEventListener("touchmove",function(e){e.preventDefault()}),n.canvas=t,n.emit("render-target-loaded",{target:t}),setTimeout(r(n.resize,n),0)}})},{"../../core/component":100,"../../utils/bind":161}],75:[function(e,t,n){var r=e("../../core/component").registerComponent;t.exports.Component=r("debug",{schema:{default:!0}})},{"../../core/component":100}],76:[function(e,t,n){var r=e("../../core/component").registerComponent;t.exports.Component=r("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var e=this.el,t=e.querySelector(".a-enter-vr");this.data===!0?(t&&t.classList.add("embedded"),e.removeFullScreenStyles()):(t&&t.classList.remove("embedded"),e.addFullScreenStyles())}})},{"../../core/component":100}],77:[function(e,t,n){function r(e){var t;return t="exponential"===e.type?new o.FogExp2(e.color,e.density):new o.Fog(e.color,e.near,e.far),t.name=e.type,t}var i=e("../../core/component").registerComponent,o=e("../../lib/three"),a=e("../../utils/debug"),s=a("components:fog:warn");t.exports.Component=i("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var e=this.data,t=this.el,n=this.el.object3D.fog;return t.isScene?n&&e.type===n.name?void Object.keys(this.schema).forEach(function(t){var r=e[t];"color"===t&&(r=new o.Color(r)),n[t]=r}):(t.object3D.fog=r(e),void t.systems.material.updateMaterials()):void s("Fog component can only be applied to <a-scene>")},remove:function(){var e=this.el.object3D.fog;e&&(e.far=0,e.near=.1)}})},{"../../core/component":100,"../../lib/three":146,"../../utils/debug":163}],78:[function(e,t,n){(function(n){function r(e){var t=e.split(".");return t[2]="x",t.join(".")}var i=e("../../constants").AFRAME_INJECTED,o=e("../../utils/bind"),a=e("../../../package"),s=e("../../core/component").registerComponent,u="https://aframe.io/aframe-inspector/dist/aframe-inspector.js",c="https://unpkg.com/aframe-inspector@"+r(a.version)+"/dist/aframe-inspector.min.js",l="dev"===n.env.INSPECTOR_VERSION?u:c,h="Loading Inspector";t.exports.Component=s("inspector",{schema:{url:{default:l}},init:function(){this.onKeydown=o(this.onKeydown,this),this.onMessage=o(this.onMessage,this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},initOverlay:function(){var e='<span class="dots"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=h+e},remove:function(){this.removeEventListeners()},onKeydown:function(e){var t=73===e.keyCode&&e.ctrlKey&&e.altKey;this.data&&t&&this.injectInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){this.el.removeChild(this.loadingMessageEl)},onMessage:function(e){"INJECT_AFRAME_INSPECTOR"===e.data&&this.injectInspector()},injectInspector:function(){var e,t=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected||(this.showLoader(),e=document.createElement("script"),e.src=this.data.url,e.setAttribute("data-name","aframe-inspector"),e.setAttribute(i,""),e.onload=function(){AFRAME.INSPECTOR.open(),t.hideLoader(),t.removeEventListeners()},document.head.appendChild(e),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})}).call(this,e("_process"))},{"../../../package":55,"../../constants":91,"../../core/component":100,"../../utils/bind":161,_process:9}],79:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../utils/").shouldCaptureKeyEvent,o=e("../../lib/three"),a=new o.VRControls(new o.Object3D);t.exports.Component=r("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0},resetSensor:{default:!0}},init:function(){var e=this,t=this.el;this.listener=window.addEventListener("keyup",function(n){i(n)&&(e.enterVREnabled&&70===n.keyCode&&t.enterVR(),e.enterVREnabled&&27===n.keyCode&&t.exitVR(),e.resetSensorEnabled&&90===n.keyCode&&a.resetSensor())},!1)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR,this.resetSensorEnabled=t.resetSensor},remove:function(){window.removeEventListener("keyup",this.listener)}})},{"../../core/component":100,"../../lib/three":146,"../../utils/":167}],80:[function(e,t,n){var r=e("../../utils/debug"),i=e("../../core/component").registerComponent,o=r("components:pool:warn");t.exports.Component=i("pool",{schema:{mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,init:function(){this.initPool()},initPool:function(){var e,t=this.data.mixin;if(t)for(this.availableEls=[],this.usedEls=[],e=0;e<this.data.size;++e)this.createEntity()},update:function(e){var t=this.data;e.mixin===t.mixin&&e.size===t.size||this.initPool()},createEntity:function(){var e=document.createElement("a-entity");e.play=this.wrapPlay(e.play),e.setAttribute("mixin",this.data.mixin),e.setAttribute("visible",!1),this.el.appendChild(e),this.availableEls.push(e)},wrapPlay:function(e){var t=this.usedEls;return function(){t.indexOf(this)!==-1&&e.call(this)}},requestEntity:function(){var e;if(0===this.availableEls.length){if(this.data.dynamic===!1)return void o("Requested entity from empty pool "+this.name);o("Requested entity from empty pool. This pool is dynamicand will resize automatically. You might want to increase its initial size"+this.name),this.createEntity()}return e=this.availableEls.shift(),this.usedEls.push(e),e.setAttribute("visible",!0),e},returnEntity:function(e){var t=this.usedEls.indexOf(e);return t===-1?void o("The returned entity was not previously pooled from "+this.name):(this.usedEls.splice(t,1),this.availableEls.push(e),e.setAttribute("visible",!1),void e.pause())}})},{"../../core/component":100,"../../utils/debug":163}],81:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../lib/three"),o=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");t.exports.Component=r("screenshot",{schema:{width:{default:4096},height:{default:2048}},init:function(){function e(){var e=t.renderer.getContext();n.cubeMapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),n.material=new i.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:o,fragmentShader:a,side:i.DoubleSide}),n.quad=new i.Mesh(new i.PlaneBufferGeometry(1,1),n.material),n.quad.visible=!1,n.camera=new i.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),n.canvas=document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),t.camera&&t.camera.add(n.quad),n.onKeyDown=n.onKeyDown.bind(n),n.onCameraActive=n.onCameraActive.bind(n),t.addEventListener("camera-set-active",n.onCameraActive)}var t=this.el,n=this;t.renderer?e():t.addEventListener("render-target-loaded",e)},getRenderTarget:function(e,t){return new i.WebGLRenderTarget(e,t,{minFilter:i.LinearFilter,magFilter:i.LinearFilter,wrapS:i.ClampToEdgeWrapping,wrapT:i.ClampToEdgeWrapping,format:i.RGBAFormat,type:i.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=-1*e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-1*t/2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener("keydown",this.onKeyDown)},onCameraActive:function(e){var t=this.quad.parent;t&&t.remove(this.quad),e.detail.cameraEl.getObject3D("camera").add(this.quad)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var n=e.shiftKey?"equirectangular":"perspective";this.capture(n)}},setCapture:function(e){var t,n,r,o=this.el,a=o.renderer;return"perspective"===e?(this.quad.visible=!1,n=o.camera,t=a.getSize()):(n=this.camera,n.position.copy(o.camera.getWorldPosition()),n.rotation.copy(o.camera.getWorldRotation()),r=new i.CubeCamera(o.camera.near,o.camera.far,Math.min(this.cubeMapSize,2048)),r.position.copy(o.camera.getWorldPosition()),r.rotation.copy(o.camera.getWorldRotation()),r.updateCubeMap(o.renderer,o.object3D),this.quad.material.uniforms.map.value=r.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:t,projection:e}},capture:function(e){var t=this.setCapture(e);this.renderCapture(t.camera,t.size,t.projection),this.saveCapture()},getCanvas:function(e){var t=this.setCapture(e);return this.renderCapture(t.camera,t.size,t.projection),this.canvas},renderCapture:function(e,t,n){var r,i,o,a=this.el.renderer.autoClear,s=this.el,u=this.el.renderer;i=this.getRenderTarget(t.width,t.height),o=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),u.autoClear=!0,u.render(s.object3D,e,i,!0),u.autoClear=a,u.readRenderTargetPixels(i,0,0,t.width,t.height,o),"perspective"===n&&(o=this.flipPixelsVertically(o,t.width,t.height)),r=new ImageData(new Uint8ClampedArray(o),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(r,0,0)},flipPixelsVertically:function(e,t,n){for(var r=e.slice(0),i=0;i<t;++i)for(var o=0;o<n;++o)r[4*i+o*t*4]=e[4*i+(n-o)*t*4],r[4*i+1+o*t*4]=e[4*i+1+(n-o)*t*4],r[4*i+2+o*t*4]=e[4*i+2+(n-o)*t*4],r[4*i+3+o*t*4]=e[4*i+3+(n-o)*t*4];return r},saveCapture:function(){this.canvas.toBlob(function(e){var t="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),r=URL.createObjectURL(e);n.href=r,n.setAttribute("download",t),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout(function(){n.click(),document.body.removeChild(n)},1)},"image/png")}})},{"../../core/component":100,"../../lib/three":146}],82:[function(e,t,n){function r(e){var t=new l(e.renderer),n=new s(e),r=e.isMobile?[]:[t,n];return new o({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:r})}var i=e("../../core/component").registerComponent,o=e("../../../vendor/rStats"),a=e("../../utils");e("../../../vendor/rStats.extras"),e("../../lib/rStatsAframe");var s=window.aframeStats,u=a.bind,c="a-hidden",l=window.threeStats;t.exports.Component=i("stats",{schema:{default:!0},init:function(){var e=this.el;"false"!==a.getUrlParameter("stats")&&(this.stats=r(e),this.statsEl=document.querySelector(".rs-base"),this.hideBound=u(this.hide,this),this.showBound=u(this.show,this),e.addEventListener("enter-vr",this.hideBound),e.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var e=this.stats;e&&(e("rAF").tick(),e("FPS").frame(),e().update())},hide:function(){this.statsEl.classList.add(c)},show:function(){this.statsEl.classList.remove(c)}})},{"../../../vendor/rStats":175,"../../../vendor/rStats.extras":174,"../../core/component":100,"../../lib/rStatsAframe":145,"../../utils":167}],83:[function(e,t,n){function r(e){var t,n;return n=document.createElement("div"),n.classList.add(c),n.setAttribute(a.AFRAME_INJECTED,""),t=document.createElement("button"),t.className=l,t.setAttribute(a.AFRAME_INJECTED,""),n.appendChild(t),t.addEventListener("click",e),n}function i(e){var t=document.createElement("div");t.className=f,t.classList.add(h),t.setAttribute(a.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(a.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",e),t.appendChild(n),t}var o=e("../../core/component").registerComponent,a=e("../../constants/"),s=e("../../utils/"),u=s.bind,c="a-enter-vr",l="a-enter-vr-button",h="a-hidden",f="a-orientation-modal";t.exports.Component=o("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0}},init:function(){var e=this,t=this.el;"false"!==s.getUrlParameter("ui")&&(this.enterVR=u(t.enterVR,t),this.exitVR=u(t.exitVR,t),this.insideLoader=!1,this.enterVREl=null,this.orientationModalEl=null,t.addEventListener("enter-vr",u(this.updateEnterVRInterface,this)),t.addEventListener("exit-vr",u(this.updateEnterVRInterface,this)),window.addEventListener("message",function(t){"loaderReady"===t.data.type&&(e.insideLoader=!0,e.remove())}),window.addEventListener("orientationchange",u(this.toggleOrientationModalIfNeeded,this)))},update:function(){var e=this.el;return!this.data.enabled||this.insideLoader||"false"===s.getUrlParameter("ui")?this.remove():void(this.enterVREl||this.orientationModalEl||(this.enterVREl=r(this.enterVR),e.appendChild(this.enterVREl),this.orientationModalEl=i(this.exitVR),e.appendChild(this.orientationModalEl),this.updateEnterVRInterface()))},remove:function(){[this.enterVREl,this.orientationModalEl].forEach(function(e){e&&e.parentNode.removeChild(e)})},updateEnterVRInterface:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is("vr-mode")?this.enterVREl.classList.add(h):this.enterVREl.classList.remove(h))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!s.device.isLandscape()&&e.is("vr-mode")?t.classList.remove(h):t.classList.add(h))}})},{"../../constants/":91,"../../core/component":100,"../../utils/":167}],84:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../utils/debug"),o=e("../utils/bind"),a=e("../lib/three"),s=i("components:sound:warn");t.exports.Component=r("sound",{schema:{autoplay:{default:!1},loop:{default:!1},on:{default:""},poolSize:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){this.listener=null,this.audioLoader=new a.AudioLoader,this.pool=new a.Group,this.playSound=o(this.playSound,this)},update:function(e){var t=this.data,n=t.src!==e.src;if(n){if(!t.src)return void s("Audio source was not specified with `src`");this.setupSound()}if(this.pool.children.forEach(function(e){e.autoplay=t.autoplay,e.setLoop(t.loop),e.setVolume(t.volume)}),t.on!==e.on&&this.updateEventListener(e.on),n){var r=this;this.audioLoader.load(t.src,function(e){r.pool.children.forEach(function(t){t.setBuffer(e)}),a.Cache.remove(t.src)})}},pause:function(){this.pauseSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){this.removeEventListener(),this.el.removeObject3D(this.attrName);try{this.pool.children.forEach(function(e){e.disconnect()})}catch(e){s("Audio source not properly disconnected")}},updateEventListener:function(e){var t=this.el;e&&t.removeEventListener(e,this.playSound),t.addEventListener(this.data.on,this.playSound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSound)},setupSound:function(){var e=this.el,t=e.sceneEl;this.pool.children.length>0&&(this.stopSound(),e.removeObject3D("sound"));var n=this.listener=t.audioListener||new a.AudioListener;t.audioListener=n,t.camera&&t.camera.add(n),t.addEventListener("camera-set-active",function(e){e.detail.cameraEl.getObject3D("camera").add(n)}),this.pool=new a.Group;for(var r=0;r<this.data.poolSize;r++){var i=new a.PositionalAudio(n);this.pool.add(i)}e.setObject3D(this.attrName,this.pool),this.pool.children.forEach(function(t){t.onEnded=function(){t.isPlaying=!1,e.emit("sound-ended",{index:r})}})},pauseSound:function(){this.pool.children.forEach(function(e){e.source&&e.source.buffer&&e.isPlaying&&e.pause&&e.pause()})},playSound:function(){var e=!1;this.pool.children.forEach(function(t){if(!t.isPlaying&&t.buffer&&!e)return t.play(),void(e=!0)}),e||s("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.")},stopSound:function(){this.pool.children.forEach(function(e){e.source&&e.source.buffer&&e.stop()})}})},{"../core/component":100,"../lib/three":146,"../utils/bind":161,"../utils/debug":163}],85:[function(e,t,n){function r(e){switch(e){case"back":return y.BackSide;case"double":return y.DoubleSide;default:return y.FrontSide}}function i(e){return e=b.clone(e),void 0!==e.lineHeight&&(e.lineHeight=parseFloat(e.lineHeight),isFinite(e.lineHeight)||(e.lineHeight=void 0)),void 0!==e.width&&(e.width=parseFloat(e.width),isFinite(e.width)||(e.width=void 0)),e}function o(e,t){return new Promise(function(n,r){p(e,function(i,o){return i?(w("Error loading font",e),void r(i)):(e.indexOf("/Roboto-msdf.json")>=0&&(t=30),t&&o.chars.map(function(e){e.yoffset+=t}),void n(o))})})}function a(e){return new Promise(function(t,n){(new y.ImageLoader).load(e,function(e){t(e)},void 0,function(){w("Error loading font image",e),n(null)})})}function s(e,t,n){var r,i;return i=new M[t].Shader,i.el=e,i.init(n),i.update(n),r=i.material,r.transparent=n.transparent,{material:r,shader:i}}function u(e,t){e.side=t.side}function c(e,t,n){e.update(b.extend({},t,{font:n,width:l(t.wrapPixels,t.wrapCount,n.widthFactor),text:t.value.replace(/\\n/g,"\n").replace(/\\t/g,"\t"),lineHeight:t.lineHeight||n.common.lineHeight}))}function l(e,t,n){return e||(.5+t)*n}function h(e){var t=0,n=0,r=0;return e.chars.map(function(e){t+=e.xadvance,e.id>=48&&e.id<=57&&(r++,n+=e.xadvance)}),r?n/r:t/e.chars.length}function f(){var e=this.cache={};this.get=function(t,n){return t in e?e[t]:(e[t]=n(),e[t])}}var d=e("three-bmfont-text"),p=e("load-bmfont"),m=e("path"),g=e("../core/component").registerComponent,v=e("../core/shader"),y=e("../lib/three"),b=e("../utils/"),w=b.debug("components:text:error"),M=v.shaders,E=b.debug("components:text:warn"),A=1,x=16,T="https://cdn.aframe.io/fonts/",_={aileronsemibold:T+"Aileron-Semibold.fnt",dejavu:T+"DejaVu-sdf.fnt",exo2bold:T+"Exo2Bold.fnt",exo2semibold:T+"Exo2SemiBold.fnt",kelsonsans:T+"KelsonSans.fnt",monoid:T+"Monoid.fnt",mozillavr:T+"mozillavr.fnt",roboto:T+"Roboto-msdf.json",sourcecodepro:T+"SourceCodePro.fnt"},k=["roboto"],S="roboto";t.exports.FONTS=_;var N=new f,L={};t.exports.Component=g("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:S},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},opacity:{type:"number",default:"1.0"},shader:{default:"sdf",oneOf:M},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.texture=new y.Texture,this.texture.anisotropy=x,this.geometry=d(),this.createOrUpdateMaterial(),this.mesh=new y.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh)},update:function(e){var t=i(this.data),n=this.currentFont;
return this.createOrUpdateMaterial(),e.font!==t.font?void this.updateFont():void(n&&(c(this.geometry,t,n),this.updateLayout(t)))},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var e,t,n,i,o=this.data,a=this.material;return i=o.shader,k.indexOf(o.font)!==-1||o.font.indexOf("-msdf.")>=0?i="msdf":o.font in _&&k.indexOf(o.font)===-1&&(i="sdf"),e=(this.shaderObject&&this.shaderObject.name)!==i,n={alphaTest:o.alphaTest,color:o.color,map:this.texture,opacity:o.opacity,side:r(o.side),transparent:o.transparent},e?(t=s(this.el,i,n),this.material=t.material,this.shaderObject=t.shader,u(this.material,n),void(this.mesh&&(this.mesh.material=this.material))):(this.shaderObject.update(n),a.transparent=n.transparent,void u(a,n))},updateFont:function(){var e,t=this.data,n=this.el,r=this.geometry,s=this;t.font||E("No font specified. Using the default font."),this.mesh.visible=!1,e=this.lookupFont(t.font||S)||t.font,N.get(e,function(){return o(e,t.yOffset)}).then(function(o){var u,l;if(1!==o.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");L[e]||(o.widthFactor=L[o]=h(o)),u=i(t),c(r,t,o),s.currentFont=o,s.updateLayout(u),l=t.fontImage||e.replace(/(\.fnt)|(\.json)/,".png")||m.dirname(t.font)+"/"+o.pages[0],N.get(l,function(){return a(l)}).then(function(e){s.mesh.visible=!0,s.texture.image=e,s.texture.needsUpdate=!0,n.emit("textfontset",{font:t.font,fontObj:o})}).catch(function(e){throw w(e),e})}).catch(function(e){throw w(e),e})},updateLayout:function(e){var t,n,r,i,o,a,s,u,c=this.el,h=this.geometry,f=c.getAttribute("geometry"),d=h.layout,p=this.mesh;if(f=c.getAttribute("geometry"),a=e.width||f&&f.width||A,i=l(e.wrapPixels,e.wrapCount,this.currentFont.widthFactor),o=a/i,r=o*(d.height+d.descender),f&&(f.width||c.setAttribute("geometry","width",a),f.height||c.setAttribute("geometry","height",r)),t="align"===e.anchor?e.align:e.anchor,"left"===t)s=0;else if("right"===t)s=-1*d.width;else{if("center"!==t)throw new TypeError("Invalid text.anchor property value",t);s=-1*d.width/2}if(n=e.baseline,"bottom"===n)u=0;else if("top"===n)u=-1*d.height+d.ascender;else{if("center"!==n)throw new TypeError("Invalid text.baseline property value",n);u=-1*d.height/2}p.position.x=s*o,p.position.y=u*o,p.position.z=e.zOffset,p.scale.set(o,-1*o,o),this.geometry.computeBoundingSphere()},lookupFont:function(e){return _[e]}})},{"../core/component":100,"../core/shader":109,"../lib/three":146,"../utils/":167,"load-bmfont":26,path:8,"three-bmfont-text":38}],86:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=r("tracked-controls",{schema:{controller:{default:0},id:{type:"string",default:""},idPrefix:{type:"string",default:""},rotationOffset:{default:0}},init:function(){this.buttonStates={},this.previousAxis=[],this.previousControllerPosition=new i.Vector3},update:function(){function e(e){return n.idPrefix?0===e.id.indexOf(n.idPrefix):e.id===n.id}var t=this.system.controllers,n=this.data;t=t.filter(e),this.controller=t[n.controller]},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.update&&n.update(t/1e3),this.updatePose(),this.updateButtons()},updatePose:function(){var e=new i.Euler,t=new i.Vector3,n=new i.Quaternion,r=new i.Vector3,o=new i.Object3D,a=new i.Matrix4;return e.order="YXZ",function(){var s,u,c,l,h=this.el,f=this.system.vrDisplay;if(this.update(),s=this.controller){u=s.pose,c=u.orientation||[0,0,0,1],l=u.position||[0,0,0],n.fromArray(c),o.quaternion.fromArray(c),o.position.fromArray(l),o.updateMatrix(),f&&f.stageParameters&&(a.fromArray(f.stageParameters.sittingToStandingTransform),o.applyMatrix(a)),e.setFromRotationMatrix(o.matrix),t.setFromMatrixPosition(o.matrix),h.setAttribute("rotation",{x:i.Math.radToDeg(e.x),y:i.Math.radToDeg(e.y),z:i.Math.radToDeg(e.z)+this.data.rotationOffset}),r.copy(t).sub(this.previousControllerPosition),this.previousControllerPosition.copy(t);var d=h.getAttribute("position");h.setAttribute("position",{x:d.x+r.x,y:d.y+r.y,z:d.z+r.z})}}}(),updateButtons:function(){var e,t,n=this.controller;if(this.controller){for(e=0;e<n.buttons.length;++e)t=n.buttons[e],this.handleButton(e,t);this.handleAxes(n.axes)}},handleAxes:function(e){var t,n=this.previousAxis,r=!1;for(t=0;t<e.length;++t)if(n[t]!==e[t]){r=!0;break}r&&(this.previousAxis=e.slice(),this.el.emit("axismove",{axis:this.previousAxis}))},handleButton:function(e,t){var n=!1;n=n||this.handlePress(e,t),n=n||this.handleTouch(e,t),n=n||this.handleValue(e,t),n&&this.el.emit("buttonchanged",{id:e,state:t})},handlePress:function(e,t){var n,r=this.buttonStates,i=r[e]=r[e]||{};return t.pressed!==i.pressed&&(n=t.pressed?"down":"up",this.el.emit("button"+n,{id:e}),i.pressed=t.pressed,!0)},handleTouch:function(e,t){var n,r=this.buttonStates,i=r[e]=r[e]||{};return t.touched!==i.touched&&(n=t.touched?"start":"end",i.touched=t.touched,this.el.emit("touch"+n,{id:e,state:i}),!0)},handleValue:function(e,t){var n=this.buttonStates,r=n[e]=n[e]||{};return t.value!==r.value&&(r.value=t.value,!0)}})},{"../core/component":100,"../lib/three":146}],87:[function(e,t,n){var r=e("../core/component").registerComponent;t.exports.Component=r("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},{"../core/component":100}],88:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls").isControllerPresent,a="https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",s="https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl",u="OpenVR ";t.exports.Component=r("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},rotationOffset:{default:0}},mapping:{axis0:"trackpad",axis1:"trackpad",button0:"trackpad",button1:"trigger",button2:"grip",button3:"menu",button4:"system"},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onGamepadConnected=i(this.onGamepadConnected,this),this.onGamepadDisconnected=i(this.onGamepadDisconnected,this)},init:function(){var e=this;this.animationActive="pointing",this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){e.onButtonEvent(t.detail.id,"down")},this.onButtonUp=function(t){e.onButtonEvent(t.detail.id,"up")},this.onButtonTouchStart=function(t){e.onButtonEvent(t.detail.id,"touchstart")},this.onButtonTouchEnd=function(t){e.onButtonEvent(t.detail.id,"touchend")},this.controllerPresent=!1,this.everGotGamepadEvent=!1,this.lastControllerCheck=0,this.bindMethods(),this.isControllerPresent=o},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded)},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded)},checkIfControllerPresent:function(){var e=this.data,t="right"===e.hand?0:"left"===e.hand?1:2,n=this.isControllerPresent(this.el.sceneEl,u,{index:t});n!==this.controllerPresent&&(this.controllerPresent=n,n&&this.injectTrackedControls())},onGamepadConnected:function(e){this.checkIfControllerPresent()},onGamepadDisconnected:function(e){this.checkIfControllerPresent()},play:function(){this.checkIfControllerPresent(),window.addEventListener("gamepadconnected",this.onGamepadConnected,!1),window.addEventListener("gamepaddisconnected",this.onGamepadDisconnected,!1),this.addControllersUpdateListener(),this.addEventListeners()},pause:function(){window.removeEventListener("gamepadconnected",this.onGamepadConnected,!1),window.removeEventListener("gamepaddisconnected",this.onGamepadDisconnected,!1),this.removeControllersUpdateListener(),this.removeEventListeners()},injectTrackedControls:function(){var e=this.el,t=this.data,n="right"===t.hand?0:"left"===t.hand?1:2;e.setAttribute("tracked-controls",{idPrefix:u,controller:n,rotationOffset:t.rotationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:a,mtl:s})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.everGotGamepadEvent||this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping["button"+e.detail.id],r=this.buttonMeshes;n&&r&&"trigger"===n&&(t=e.detail.state.value,r.trigger.rotation.x=-t*(Math.PI/12))},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&(t=this.buttonMeshes={},t.grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},t.menu=n.getObjectByName("menubutton"),t.system=n.getObjectByName("systembutton"),t.trackpad=n.getObjectByName("touchpad"),t.trigger=n.getObjectByName("trigger"),n.position.set(0,-.015,.04))},onButtonEvent:function(e,t){var n,r=this.mapping["button"+e];if(Array.isArray(r))for(n=0;n<r.length;n++)this.el.emit(r[n]+t);else this.el.emit(r+t);this.updateModel(r,t)},updateModel:function(e,t){var n;if(this.data.model)if(Array.isArray(e))for(n=0;n<e.length;n++)this.updateButtonModel(e[n],t);else this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,r=this.buttonMeshes;if(r)return"grip"===e?(r.grip.left.material.color.set(n),void r.grip.right.material.color.set(n)):void r[e].material.color.set(n)}})},{"../core/component":100,"../utils/bind":161,"../utils/tracked-controls":171}],89:[function(e,t,n){var r=e("../constants").keyboardevent.KEYCODE_TO_CODE,i=e("../core/component").registerComponent,o=e("../lib/three"),a=e("../utils/"),s=a.bind,u=a.shouldCaptureKeyEvent,c=1e-5,l=.2;t.exports.Component=i("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},easing:{default:20},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.velocity=new o.Vector3,this.onBlur=s(this.onBlur,this),this.onFocus=s(this.onFocus,this),this.onKeyDown=s(this.onKeyDown,this),this.onKeyUp=s(this.onKeyUp,this),this.onVisibilityChange=s(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var n,r,i=this.data,o=this.el,a=this.velocity;t/=1e3,this.updateVelocity(t),(a[i.adAxis]||a[i.wsAxis])&&(n=this.getMovementVector(t),r=o.getAttribute("position"),o.setAttribute("position",{x:r.x+n.x,y:r.y+n.y,z:r.z+n.z}))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,n,r,i,o,a=this.data,s=this.keys,u=this.velocity;return n=a.adAxis,i=a.wsAxis,e>l?(u[n]=0,void(u[i]=0)):(0!==u[n]&&(u[n]-=u[n]*a.easing*e),0!==u[i]&&(u[i]-=u[i]*a.easing*e),Math.abs(u[n])<c&&(u[n]=0),Math.abs(u[i])<c&&(u[i]=0),void(a.enabled&&(t=a.acceleration,a.adEnabled&&(r=a.adInverted?-1:1,(s.KeyA||s.ArrowLeft)&&(u[n]-=r*t*e),(s.KeyD||s.ArrowRight)&&(u[n]+=r*t*e)),a.wsEnabled&&(o=a.wsInverted?-1:1,(s.KeyW||s.ArrowUp)&&(u[i]-=o*t*e),(s.KeyS||s.ArrowDown)&&(u[i]+=o*t*e)))))},getMovementVector:function(){var e=new o.Vector3(0,0,0),t=new o.Euler(0,0,0,"YXZ");return function(n){var r=this.el.getAttribute("rotation"),i=this.velocity;return e.copy(i),e.multiplyScalar(n),r?(this.data.fly||(r.x=0),t.set(o.Math.degToRad(r.x),o.Math.degToRad(r.y),0),e.applyEuler(t),e):e}}(),attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;u(e)&&(t=e.code||r[e.keyCode],this.keys[t]=!0)},onKeyUp:function(e){var t;t=e.code||r[e.keyCode],this.keys[t]=!1}})},{"../constants":91,"../core/component":100,"../lib/three":146,"../utils/":167}],90:[function(e,t,n){var r=e("tween.js"),i={alternate:"alternate",alternateReverse:"alternate-reverse",normal:"normal",reverse:"reverse"},o={linear:r.Easing.Linear.None,ease:r.Easing.Cubic.InOut,"ease-in":r.Easing.Cubic.In,"ease-out":r.Easing.Cubic.Out,"ease-in-out":r.Easing.Cubic.InOut,"ease-cubic":r.Easing.Cubic.In,"ease-in-cubic":r.Easing.Cubic.In,"ease-out-cubic":r.Easing.Cubic.Out,"ease-in-out-cubic":r.Easing.Cubic.InOut,"ease-quad":r.Easing.Quadratic.InOut,"ease-in-quad":r.Easing.Quadratic.In,"ease-out-quad":r.Easing.Quadratic.Out,"ease-in-out-quad":r.Easing.Quadratic.InOut,"ease-quart":r.Easing.Quartic.InOut,"ease-in-quart":r.Easing.Quartic.In,"ease-out-quart":r.Easing.Quartic.Out,"ease-in-out-quart":r.Easing.Quartic.InOut,"ease-quint":r.Easing.Quintic.InOut,"ease-in-quint":r.Easing.Quintic.In,"ease-out-quint":r.Easing.Quintic.Out,"ease-in-out-quint":r.Easing.Quintic.InOut,"ease-sine":r.Easing.Sinusoidal.InOut,"ease-in-sine":r.Easing.Sinusoidal.In,"ease-out-sine":r.Easing.Sinusoidal.Out,"ease-in-out-sine":r.Easing.Sinusoidal.InOut,"ease-expo":r.Easing.Exponential.InOut,"ease-in-expo":r.Easing.Exponential.In,"ease-out-expo":r.Easing.Exponential.Out,"ease-in-out-expo":r.Easing.Exponential.InOut,"ease-circ":r.Easing.Circular.InOut,"ease-in-circ":r.Easing.Circular.In,"ease-out-circ":r.Easing.Circular.Out,"ease-in-out-circ":r.Easing.Circular.InOut,"ease-elastic":r.Easing.Elastic.InOut,"ease-in-elastic":r.Easing.Elastic.In,"ease-out-elastic":r.Easing.Elastic.Out,"ease-in-out-elastic":r.Easing.Elastic.InOut,"ease-back":r.Easing.Back.InOut,"ease-in-back":r.Easing.Back.In,"ease-out-back":r.Easing.Back.Out,"ease-in-out-back":r.Easing.Back.InOut,"ease-bounce":r.Easing.Bounce.InOut,"ease-in-bounce":r.Easing.Bounce.In,"ease-out-bounce":r.Easing.Bounce.Out,"ease-in-out-bounce":r.Easing.Bounce.InOut},a={backwards:"backwards",both:"both",forwards:"forwards",none:"none"},s={indefinite:"indefinite"},u={attribute:"rotation",begin:"",end:"",delay:0,dur:1e3,easing:"ease",direction:i.normal,fill:a.forwards,from:void 0,repeat:0,to:void 0};t.exports.defaults=u,t.exports.directions=i,t.exports.easingFunctions=o,t.exports.fills=a,t.exports.repeats=s},{"tween.js":49}],91:[function(e,t,n){t.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,animation:e("./animation"),keyboardevent:e("./keyboardevent")}},{"./animation":90,"./keyboardevent":92}],92:[function(e,t,n){t.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},{}],93:[function(e,t,n){function r(e){return v.extend({},e)}function i(e,t,n,r,i){function s(){var t=A[0],n=A[1],r=e.components[t],i=r&&r.schema;return i&&i[n]&&"color"===i[n].type}function u(){M=A[0],w=A[1],y=e.components[M],y||(e.setAttribute(M,""),y=e.components[M]),v=y.schema,void 0===n?x[t]=b(e,t):x[t]=n,x[t]=d(x[t],v[w]),_[t]=d(r,v[w]),E=function(n){t in n&&e.setAttribute(M,w,n[t])}}function l(){x=n?f.parse(n):i,_=f.parse(r),E=function(n){e.setAttribute(t,n)}}function h(){void 0===n?x[t]=!1:x[t]=o(n),x[t]=a(x[t]),_[t]=a(o(r)),E=function(n){e.setAttribute(t,!!n[t])}}function p(){x=new g.Color(n),_=new g.Color(r),E=function(n){A.length>1&&e.setAttribute(A[0],A[1],c(n)),e.setAttribute(t,c(n))}}function m(){void 0===n?x[t]=parseFloat(e.getAttribute(t)):x[t]=parseFloat(n),_[t]=parseFloat(r),E=function(n){e.setAttribute(t,n[t])}}var v,y,w,M,E,A=t.split("."),x={},_={};return 2===A.length?s()?p():u():r&&T(r)?l():["true","false"].indexOf(r)!==-1?h():isNaN(r)?p():m(),{from:x,partialSetAttribute:E,to:_}}function o(e){return"true"===e}function a(e){return e?1:0}function s(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function u(e){return Math.floor(255*Math.min(Math.abs(e),1))}function c(e){return"#"+["r","g","b"].map(function(t){return s(u(e[t]))}).join("")}var l=e("./a-node"),h=e("../constants/animation"),f=e("../utils/").coordinates,d=e("./schema").parseProperty,p=e("./a-register-element").registerElement,m=e("tween.js"),g=e("../lib/three"),v=e("../utils/"),y=v.bind,b=v.entity.getComponentProperty,w=h.defaults,M=h.directions,E=h.easingFunctions,A=h.fills,x=h.repeats,T=f.isCoordinate;t.exports.AAnimation=p("a-animation",{prototype:Object.create(l.prototype,{createdCallback:{value:function(){this.bindMethods(),this.isRunning=!1,this.partialSetAttribute=function(){},this.tween=null}},attachedCallback:{value:function(){this.el=this.parentNode,this.handleMixinUpdate(),this.update(),this.load()}},attributeChangedCallback:{value:function(e,t,n){this.hasLoaded&&this.isRunning&&(this.stop(),this.handleMixinUpdate(),this.update())}},detachedCallback:{value:function(){this.isRunning&&this.stop()}},getTween:{value:function(){var e,t,n,o,a=this,s=a.data,u=a.el,c=s.attribute,l=parseInt(s.delay,10),h=b(u,c),f=a.getDirection(s.direction),d=E[s.easing],p=s.fill,g=s.repeat===x.indefinite?1/0:0,v=!1;return e=i(u,c,s.from||a.initialValue,s.to,h),t=e.from,n=e.to,a.partialSetAttribute=e.partialSetAttribute,void 0===a.count&&(a.count=g===1/0?0:parseInt(s.repeat,10)),isNaN(l)&&(l=0),a.initialValue=a.initialValue||r(h),g===1/0&&p===A.forwards&&[M.alternate,M.alternateReverse].indexOf(s.direction)!==-1&&(v=!0),f===M.reverse&&(o=n,n=r(t),t=r(o)),[A.backwards,A.both].indexOf(p)!==-1&&a.partialSetAttribute(t),new m.Tween(r(t)).to(n,s.dur).delay(l).easing(d).repeat(g).yoyo(v).onUpdate(function(){a.partialSetAttribute(this)}).onComplete(y(a.onCompleted,a))}},update:{value:function(){var e=this.data;"infinite"===e.repeat&&console.warn("Using 'infinite' as 'repeat' value is invalid.  Use 'indefinite' instead."),""===e.begin||isNaN(e.begin)||(console.warn("Using 'begin' to specify a delay is deprecated. Use 'delay' instead."),e.delay=e.begin,e.begin="");var t=e.begin,n=e.end;this.evt&&this.removeEventListeners(this.evt),this.evt={begin:t,end:n},this.addEventListeners(this.evt),""===t&&(this.stop(),this.start())},writable:window.debug},onCompleted:{value:function(){var e=this.data;return this.isRunning=!1,[A.backwards,A.none].indexOf(e.fill)!==-1&&this.partialSetAttribute(this.initialValue),0===this.count?(this.count=void 0,void this.emit("animationend")):(this.isRunning=!1,this.count--,void this.start())}},start:{value:function(){var e=this;return this.el.hasLoaded?void(!this.isRunning&&this.el.isPlaying&&(this.tween=this.getTween(),this.isRunning=!0,this.tween.start(),this.emit("animationstart"))):void this.el.addEventListener("loaded",function(){e.start()})},writable:!0},stop:{value:function(){var e=this.tween;e&&(e.stop(),this.isRunning=!1,[A.backwards,A.none].indexOf(this.data.fill)!==-1&&this.partialSetAttribute(this.initialValue),this.emit("animationstop"))},writable:!0},getDirection:{value:function(e){return e===M.alternate?(this.prevDirection=this.prevDirection===M.normal?M.reverse:M.normal,this.prevDirection):e===M.alternateReverse?(this.prevDirection=this.prevDirection===M.reverse?M.normal:M.reverse,this.prevDirection):e}},bindMethods:{value:function(){this.start=y(this.start,this),this.stop=y(this.stop,this),this.onStateAdded=y(this.onStateAdded,this),this.onStateRemoved=y(this.onStateRemoved,this)}},addEventListeners:{value:function(e){var t=this.el,n=this;v.splitString(e.begin).forEach(function(e){t.addEventListener(e,n.start)}),v.splitString(e.end).forEach(function(e){t.addEventListener(e,n.stop)}),""===e.begin&&t.addEventListener("play",this.start),t.addEventListener("pause",this.stop),t.addEventListener("stateadded",this.onStateAdded),t.addEventListener("stateremoved",this.onStateRemoved)}},removeEventListeners:{value:function(e){var t=this.el,n=this.start,r=this.stop;v.splitString(e.begin).forEach(function(e){t.removeEventListener(e,n)}),v.splitString(e.end).forEach(function(e){t.removeEventListener(e,r)}),t.removeEventListener("stateadded",this.onStateAdded),t.removeEventListener("stateremoved",this.onStateRemoved)}},onStateAdded:{value:function(e){e.detail.state===this.data.begin&&this.start()},writable:!0},onStateRemoved:{value:function(e){e.detail.state===this.data.begin&&this.stop()},writable:!0},handleMixinUpdate:{value:function(){var e,t,n,r={};n=document.querySelector("#"+this.getAttribute("mixin")),t=n?v.getElData(n,w):{},e=v.getElData(this,w),v.extend(r,w,t,e),this.data=r}}})}),t.exports.getAnimationValues=i},{"../constants/animation":90,"../lib/three":146,"../utils/":167,"./a-node":98,"./a-register-element":99,"./schema":108,"tween.js":49}],94:[function(e,t,n){function r(e){if(e.hasAttribute("autoplay")||"auto"===e.getAttribute("preload"))return new Promise(function(t,n){function r(){for(var n=0,r=0;r<e.buffered.length;r++)n+=e.buffered.end(r)-e.buffered.start(r);n>=e.duration&&t()}return 4===e.readyState?t():e.error?n():(e.addEventListener("loadeddata",r,!1),e.addEventListener("progress",r,!1),void e.addEventListener("error",n,!1))})}function i(e){var t=o(e);return"VIDEO"===t.tagName&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function o(e){var t,n;if(e.hasAttribute("crossorigin"))return e;if(n=e.getAttribute("src"),null!==n){if(n.indexOf("://")===-1)return e;if(a(n)===window.location.host)return e}return d("Cross-origin element was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set.",n),e.crossOrigin="anonymous",t=e.cloneNode(!0)}function a(e){var t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0];return t.split(":")[0]}var s=e("./a-node"),u=e("../utils/bind"),c=e("../utils/debug"),l=e("./a-register-element").registerElement,h=e("../lib/three"),f=new h.FileLoader,d=c("core:a-assets:warn");t.exports=l("a-assets",{prototype:Object.create(s.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=f,this.timeout=null}},attachedCallback:{value:function(){var e,t,n,o,a,s,c=this,l=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(a=this.querySelectorAll("img"),e=0;e<a.length;e++)o=i(a[e]),l.push(new Promise(function(e,t){o.onload=e,o.onerror=t}));for(n=this.querySelectorAll("audio, video"),e=0;e<n.length;e++)t=i(n[e]),l.push(r(t));Promise.all(l).then(u(this.load,this)),s=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){c.hasLoaded||(d("Asset loading timed out in ",s,"ms"),c.emit("timeout"),c.load())},s)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){s.prototype.load.call(this,null,function(e){return e.isAssetItem&&e.hasAttribute("src")})}}})}),l("a-asset-item",{prototype:Object.create(s.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var e=this,t=this.getAttribute("src");f.load(t,function(n){h.Cache.files[t]=n,e.data=n,setTimeout(function(){s.prototype.load.call(e)})},function(t){e.emit("progress",{loadedBytes:t.loaded,totalBytes:t.total,xhr:t})},function(t){e.emit("error",{xhr:t})})}}})})},{"../lib/three":146,"../utils/bind":161,"../utils/debug":163,"./a-node":98,"./a-register-element":99}],95:[function(e,t,n){var r=e("../utils/debug"),i=e("./a-register-element").registerElement,o=r("core:cubemap:warn");t.exports=i("a-cubemap",{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll("[src]"),n=[];if(6===t.length){for(e=0;e<t.length;e++)n.push(t[e].getAttribute("src"));return n}o("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":163,"./a-register-element":99}],96:[function(e,t,n){function r(e,t){return void 0!==e.defaultComponents[t]||(!(!e.components[t]||!e.components[t].attrValue)||o(t,e.mixinEls))}function i(e){var t=[];return e.mixinEls.forEach(function(e){function n(e){t.push(e)}Object.keys(e.componentCache).forEach(n)}),t}function o(e,t){var n,r=!1;for(n=0;n<t.length&&!(r=t[n].hasAttribute(e));++n);return r}function a(e,t){return t?t.constructor===Object?f.extend(t,f.styleParser.parse(e||{})):e||t:e}var s,u=e("./a-node"),c=e("./component").components,l=e("./a-register-element").registerElement,h=e("../lib/three"),f=e("../utils/"),d=f.bind,p=f.debug("core:a-entity:debug"),m=f.debug("core:a-entity:warn"),g="__",v=Object.create(u.prototype,{defaultComponents:{value:{position:"",rotation:"",scale:"",visible:""}},createdCallback:{value:function(){this.components={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new h.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.states=[]}},attributeChangedCallback:{value:function(e,t,n){var r=this.components[e];return r&&r.justInitialized&&""===n?void delete r.justInitialized:void((r||null!==n)&&this.setEntityAttribute(e,t,n))}},attachedCallback:{value:function(){var e,t=this.sceneEl,n=this;if(this.addToParent(),!this.isScene)return t?(e=t.querySelector("a-assets"),e&&!e.hasLoaded?void e.addEventListener("loaded",function(){n.load()}):void this.load()):void this.load()}},detachedCallback:{value:function(){this.parentEl&&(Object.keys(this.components).forEach(d(this.removeComponent,this)),this.isScene||(this.removeFromParent(),u.prototype.detachedCallback.call(this)))}},handleMixinUpdate:{value:function(e){return e?void this.updateComponent(e,this.getDOMAttribute(e)):void this.updateComponents()}},mapStateMixins:{value:function(e,t){var n,r=this.getAttribute("mixin");r&&(n=r.split(" "),n.forEach(function(n){var r=n+"-"+e;t(r)}),this.updateComponents())}},updateStateMixins:{value:function(e,t){var n=this;t=t||"";var r=e.split(" "),i=t?t.split(" "):[],o=i.filter(function(e){return r.indexOf(e)<0});o.forEach(function(e){var t=Array.prototype.forEach,r=document.querySelectorAll("[id^="+e+"-]");t.call(r,function(e){n.unregisterMixin(e.id)})}),this.states.forEach(function(e){r.forEach(function(t){var r=t+"-"+e;n.registerMixin(r)})})}},getObject3D:{value:function(e){return this.object3DMap[e]}},setObject3D:{value:function(e,t){var n,r=this;if(!(t instanceof h.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");n=this.getObject3D(e),n&&this.object3D.remove(n),t.el=this,t.children.length&&t.traverse(function(e){e.el=r}),this.object3D.add(t),this.object3DMap[e]=t,this.emit("object3dset",{object:t,type:e})}},removeObject3D:{value:function(e){var t=this.getObject3D(e);return t?(this.object3D.remove(t),delete this.object3DMap[e],void this.emit("object3dremove",{type:e})):void m("Tried to remove `Object3D` of type:",e,"which was not defined.")}},getOrCreateObject3D:{value:function(e,t){var n=this.getObject3D(e);return!n&&t&&(n=new t,this.setObject3D(e,n)),n}},add:{value:function(e){if(!e.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(e.object3D),this.emit("child-attached",{el:e})}},addToParent:{value:function(){var e=this.parentEl=this.parentNode;e&&e.add&&!this.attachedToParent&&(e.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var e=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=this.parentNode=null,e.emit("child-detached",{el:this})}},load:{value:function(){var e=this;this.hasLoaded||u.prototype.load.call(this,function(){e.updateComponents(),(e.isScene||e.parentEl.isPlaying)&&e.play()})},writable:window.debug},remove:{value:function(e){this.object3D.remove(e.object3D)}},getChildEntities:{value:function(){for(var e=this.children,t=[],n=0;n<e.length;n++){var r=e[n];r instanceof s&&t.push(r)}return t}},initComponent:{value:function(e,t,n){var i,o=e.split(g),a=o[1],s=o[0],u=r(this,e)||void 0!==t;if(c[s]&&(u||n)&&!(e in this.components)){if(this.initComponentDependencies(s),a&&!c[s].multiple)throw new Error("Trying to initialize multiple components of type `"+s+"`. There can only be one component of this type per entity.");i=this.components[e]=new c[s].Component(this,t,a),this.isPlaying&&i.play(),this.hasAttribute(e)||(i.justInitialized=!0,HTMLElement.prototype.setAttribute.call(this,e,"")),p("Component initialized: %s",e)}},writable:window.debug},initComponentDependencies:{value:function(e){var t,n=this,r=c[e];r&&(t=c[e].dependencies,t&&t.forEach(function(e){n.initComponent(e,HTMLElement.prototype.getAttribute.call(n,e)||void 0,!0)}))}},removeComponent:{value:function(e){var t,n,r;n=e in this.defaultComponents,r=o(e,this.mixinEls),n||r||(t=this.components[e],t.pause(),t.remove(),delete this.components[e],this.emit("componentremoved",{id:t.id,name:e}))}},updateComponents:{value:function(){function e(e){var t=e.split(g)[0];c[t]&&(r[e]=!0)}function t(e){var t=a(s.getDOMAttribute(e),o[e]);delete r[e],s.updateComponent(e,t)}var n,r={},o={},s=this;if(this.hasLoaded){for(i(this).forEach(e),this.getExtraComponents&&(o=this.getExtraComponents(),Object.keys(o).forEach(e)),n=0;n<this.attributes.length;++n)e(this.attributes[n].name);Object.keys(this.defaultComponents).forEach(t),Object.keys(r).forEach(t)}}},updateComponent:{value:function(e,t){var n=this.components[e],r=e in this.defaultComponents;return n?null!==t||r?void n.updateProperties(t):void this.removeComponent(e):void this.initComponent(e,t,!1)}},updateComponentProperty:{value:function(e,t,n){var r=this.components[e],i=r&&r.attrValue,o=i?f.extend({},i):{};o[t]=n,this.updateComponent(e,o)}},removeAttribute:{value:function(e,t){var n=this.components[e];if(!n||void 0!==t||(this.setEntityAttribute(e,void 0,null),!this.components[e]))return n&&void 0!==t?void n.resetProperty(t):void HTMLElement.prototype.removeAttribute.call(this,e)}},play:{value:function(){var e=this.components,t=Object.keys(e);!this.isPlaying&&this.hasLoaded&&(this.isPlaying=!0,t.forEach(function(t){e[t].play()}),this.getChildEntities().forEach(function(e){e.play()}),this.emit("play"))},writable:!0},pause:{value:function(){var e=this.components,t=Object.keys(e);this.isPlaying&&(this.isPlaying=!1,t.forEach(function(t){e[t].pause()}),this.getChildEntities().forEach(function(e){e.pause()}),this.emit("pause"))},writable:!0},setEntityAttribute:{value:function(e,t,n){return c[e]||this.components[e]?void this.updateComponent(e,n):"mixin"===e?void this.mixinUpdate(n,t):void 0}},mixinUpdate:{value:function(e,t){t=t||this.getAttribute("mixin"),this.updateStateMixins(e,t),this.updateComponents()}},setAttribute:{value:function(e,t,n){function r(e,t,n,r){e.updateComponentProperty(t,n,r)}function i(e,t,n){var r=e.components[t];r&&"object"==typeof n?e.updateComponent(t,f.extendDeep(f.extendDeep({},r.attrValue),n)):e.updateComponent(t,n);
}function o(e,t,n){e.updateComponent(t,n)}function a(e,t,n){u.prototype.setAttribute.call(e,t,n),"mixin"===t&&e.mixinUpdate(n)}var s,l;return s=e.split(g)[0],c[s]?("string"==typeof t&&"undefined"!=typeof n?r(this,e,t,n):"object"==typeof t&&n===!0?o(this,e,t):i(this,e,t),l=this.sceneEl&&this.sceneEl.getAttribute("debug"),void(l&&this.components[e].flushToDOM())):void a(this,e,t)},writable:window.debug},flushToDOM:{value:function(e){var t,n,r=this.components,i=this.defaultComponents,o=this.children;if(Object.keys(r).forEach(function(e){r[e].flushToDOM(e in i)}),e)for(n=0;n<o.length;++n)t=o[n],t.flushToDOM&&t.flushToDOM(e)}},getAttribute:{value:function(e){var t=this.components[e];return t?t.getData():HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},getComputedAttribute:{value:function(e){return m("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.components[e];return t?t.attrValue:HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},addState:{value:function(e){this.is(e)||(this.states.push(e),this.mapStateMixins(e,d(this.registerMixin,this)),this.emit("stateadded",{state:e}))}},removeState:{value:function(e){var t=this.states.indexOf(e);t!==-1&&(this.states.splice(t,1),this.mapStateMixins(e,d(this.unregisterMixin,this)),this.emit("stateremoved",{state:e}))}},is:{value:function(e){return this.states.indexOf(e)!==-1}}});s=l("a-entity",{prototype:v}),t.exports=s},{"../lib/three":146,"../utils/":167,"./a-node":98,"./a-register-element":99,"./component":100}],97:[function(e,t,n){var r=e("./a-node"),i=e("./a-register-element").registerElement,o=e("./component").components,a="__";t.exports=i("a-mixin",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id")}},attributeChangedCallback:{value:function(e,t,n){this.cacheAttribute(e,n)}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(e,t){this.cacheAttribute(e,t),HTMLElement.prototype.setAttribute.call(this,e,t)}},cacheAttribute:{value:function(e,t){var n=e.split(a)[0],r=o[n];r&&(void 0===t&&(t=HTMLElement.prototype.getAttribute.call(this,e)),this.componentCache[e]=r.parseAttrValueForCache(t))}},getAttribute:{value:function(e){return this.componentCache[e]||HTMLElement.prototype.getAttribute.call(this,e)}},cacheAttributes:{value:function(){var e,t,n=this.attributes;for(t=0;t<n.length;t++)e=n[t].name,this.cacheAttribute(e)}},updateEntities:{value:function(){if(this.sceneEl)for(var e=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),t=0;t<e.length;t++){var n=e[t];n.hasLoaded&&(n.registerMixin(this.id),Object.keys(this.componentCache).forEach(function(e){n.updateComponent(e)}))}}}})})},{"./a-node":98,"./a-register-element":99,"./component":100}],98:[function(e,t,n){var r=e("./a-register-element").registerElement,i=e("../utils/"),o=i.bind,a=i.debug("core:a-node:warn");t.exports=r("a-node",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[],this.mixinObservers={}},writable:window.debug},attachedCallback:{value:function(){var e;this.sceneEl=this.closestScene(),this.sceneEl||a("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",{},!1),e=this.getAttribute("mixin"),e&&this.updateMixins(e)},writable:window.debug},attributeChangedCallback:{value:function(e,t,n){"mixin"===e&&this.updateMixins(n,t)}},closestScene:{value:function(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}},closest:{value:function(e){for(var t=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,n=this;n&&!t.call(n,e);)n=n.parentElement;return n}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(e,t){var n,r,i=this;this.hasLoaded||(t=t||function(e){return e.isNode},n=this.getChildren(),r=n.filter(t).map(function(e){return new Promise(function(t){return e.hasLoaded?t():void e.addEventListener("loaded",t)})}),Promise.all(r).then(function(){i.hasLoaded=!0,e&&e(),i.emit("loaded",{},!1)}))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:function(e,t){var n=e?e.trim().split(/\s+/):[],r=t?t.trim().split(/\s+/):[],i=r.filter(function(e){return n.indexOf(e)<0});this.mixinEls=[],i.forEach(o(this.unregisterMixin,this)),n.forEach(o(this.registerMixin,this))}},registerMixin:{value:function(e){if(this.sceneEl){var t=this.sceneEl.querySelector("a-mixin#"+e);t&&(this.attachMixinListener(t),this.mixinEls.push(t))}}},setAttribute:{value:function(e,t){"mixin"===e&&this.updateMixins(t),HTMLElement.prototype.setAttribute.call(this,e,t)}},unregisterMixin:{value:function(e){var t,n,r=this.mixinEls;for(n=0;n<r.length;++n)if(t=r[n],e===t.id){r.splice(n,1);break}this.removeMixinListener(e)}},removeMixinListener:{value:function(e){var t=this.mixinObservers[e];t&&(t.disconnect(),this.mixinObservers[e]=null)}},attachMixinListener:{value:function(e){var t=this,n=e.id,r=this.mixinObservers[n];if(e&&!r){var i=new MutationObserver(function(e){var n=e[0].attributeName;t.handleMixinUpdate(n)}),o={attributes:!0};i.observe(e,o),this.mixinObservers[n]=i}}},handleMixinUpdate:{value:function(){}},emit:{value:function(e,t,n){var r=this;t=t||{},void 0===n&&(n=!0);var o={bubbles:!!n,detail:t};return e.split(" ").map(function(e){return i.fireEvent(r,e,o)})}},emitter:{value:function(e,t,n){var r=this;return function(){r.emit(e,t,n)}}}})})},{"../utils/":167,"./a-register-element":99}],99:[function(e,t,n){function r(e){h[e.toLowerCase()]=!0}function i(e){var t={},n=["attachedCallback","attributeChangedCallback","createdCallback"];return a(t,n,e,c.prototype),u(e,t),t}function o(e){var t={},n=["attachedCallback","attributeChangedCallback","createdCallback"],r=["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"];return a(t,n,e,c.prototype),a(t,r,e,l.prototype),u(e,t),t}function a(e,t,n,r){t.forEach(function(t){s(e,t,n,r)})}function s(e,t,n,r){var i=n[t],o=r[t];i&&o&&i!==o&&(e[t]={value:function(){return o.apply(this,arguments),i.apply(this,arguments)},writable:window.debug})}function u(e,t){var n=Object.getOwnPropertyNames(e);n.forEach(function(n){var r;t[n]||(r=Object.getOwnPropertyDescriptor(e,n),t[n]={value:e[n],writable:r.writable})})}e("document-register-element");var c,l,h=t.exports.knownTags={};t.exports.isNode=function(e){return e.tagName.toLowerCase()in h||e.isNode},t.exports.registerElement=function(e,t){var n=Object.getPrototypeOf(t.prototype),a=t,s=c&&n===c.prototype,u=l&&n===l.prototype;return(s||u)&&r(e),s&&(a=i(t.prototype),a={prototype:Object.create(n,a)}),u&&(a=o(t.prototype),a={prototype:Object.create(n,a)}),document.registerElement(e,a)},t.exports.wrapMethods=a,c=e("./a-node"),l=e("./a-entity")},{"./a-entity":96,"./a-node":98,"document-register-element":16}],100:[function(e,t,n){function r(e,t,n,r,o,a){function s(e){var t=e.getAttribute(n);t&&(u=i(u,t,h))}var u,c=void 0!==o&&null!==o,h=m(r),p=e.mixinEls;return h?u=r.default:(u={},Object.keys(r).forEach(function(e){var t=r[e].default;u[e]=t&&t.constructor===Object?l.extend({},t):t})),p.forEach(s),c?h?d(o,r):(u=i(u,o,h),f(u,r,void 0,t,a)):h?d(u,r):f(u,r,void 0,t,a)}function i(e,t,n){return n?t:l.extend(e,t)}function o(e){return function(){var t=this.el.sceneEl;this.isPlaying&&(e.call(this),this.isPlaying=!1,this.tick&&t.removeBehavior(this))}}function a(e){return function(){var t=this.el.sceneEl,n=this.el.isPlaying&&!this.isPlaying;this.initialized&&n&&(e.call(this),this.isPlaying=!0,this.tick&&t.addBehavior(this))}}var s=e("./schema"),u=e("./scene/scenes"),c=e("./system"),l=e("../utils/"),h=t.exports.components={},f=s.parseProperties,d=s.parseProperty,p=s.process,m=s.isSingleProperty,g=s.stringifyProperties,v=s.stringifyProperty,y=l.styleParser,b=l.debug("core:component:warn"),w=document.currentScript,M=new RegExp("[A-Z]+"),E=t.exports.Component=function(e,t,n){this.el=e,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.updateProperties(t)};if(E.prototype={schema:{},init:function(){},update:function(e){},updateSchema:void 0,tick:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var n=this.schema;return m(n)?d(e,n):f(y.parse(e),n,!0,this.name,t)},stringify:function(e){var t=this.schema;return"string"==typeof e?e:m(t)?v(e,t):(e=g(e,t),y.stringify(e))},getData:function(){var e=this.data;return"object"!=typeof e?e:l.extend({},e)},updateCachedAttrValue:function(e){var t=m(this.schema),n=this.parseAttrValueForCache(e);this.attrValue=i({},n,t)},parseAttrValueForCache:function(e){var t;return"string"!=typeof e?e:(m(this.schema)?(t=this.schema.parse(e),"string"==typeof t&&(t=e)):t=y.parse(e),t)},flushToDOM:function(e){var t=e?this.data:this.attrValue;t&&HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(t))},updateProperties:function(e){var t=this.el,n=m(this.schema),o=i({},this.data,n);if(void 0!==e&&this.updateCachedAttrValue(e),t.hasLoaded)if(this.updateSchema&&this.updateSchema(r(t,this.name,this.attrName,this.schema,this.attrValue,!0)),this.data=r(t,this.name,this.attrName,this.schema,this.attrValue),this.initialized){if(l.deepEqual(o,this.data))return;this.update(o),t.emit("componentchanged",{id:this.id,name:this.name,newData:this.getData(),oldData:o},!1)}else this.init(),this.initialized=!0,this.update(o),t.isPlaying&&this.play(),t.emit("componentinitialized",{id:this.id,name:this.name,data:this.getData()},!1)},resetProperty:function(e){if(m(this.schema))this.attrValue=void 0;else{if(!(e in this.attrValue))return;delete this.attrValue[e]}this.updateProperties(this.attrValue)},extendSchema:function(e){var t=l.extend({},h[this.name].schema);l.extend(t,e),this.schema=p(t),this.el.emit("schemachanged",{component:this.name})}},window.debug)var A=t.exports.registrationOrderWarnings={};t.exports.registerComponent=function(e,t){var n,r={};if(document.currentScript&&document.currentScript!==w&&u.forEach(function(t){t.hasLoaded||document.currentScript.compareDocumentPosition(t)!==Node.DOCUMENT_POSITION_FOLLOWING&&(b("The component `"+e+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(A[e]=!0))}),M.test(e)===!0&&b("The component name `"+e+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+e.toLowerCase()+"`"),e.indexOf("__")!==-1)throw new Error("The component name `"+e+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(t).forEach(function(e){r[e]={value:t[e],writable:!0}}),h[e])throw new Error("The component `"+e+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");return n=function(e,t,n){E.call(this,e,t,n)},n.prototype=Object.create(E.prototype,r),n.prototype.name=e,n.prototype.constructor=n,n.prototype.system=c&&c.systems[e],n.prototype.play=a(n.prototype.play),n.prototype.pause=o(n.prototype.pause),h[e]={Component:n,dependencies:n.prototype.dependencies,isSingleProp:m(n.prototype.schema),multiple:n.prototype.multiple,parse:n.prototype.parse,parseAttrValueForCache:n.prototype.parseAttrValueForCache,schema:l.extend(p(n.prototype.schema)),stringify:n.prototype.stringify,type:n.prototype.type},n},t.exports.buildData=r},{"../utils/":167,"./scene/scenes":106,"./schema":108,"./system":110}],101:[function(e,t,n){var r=e("./schema"),i=r.process,o=t.exports.geometries={},a=t.exports.geometryNames=[],s=e("../lib/three"),u=t.exports.Geometry=function(){};u.prototype={schema:{},init:function(e){return this.geometry=new s.Geometry,this.geometry},update:function(e){}},t.exports.registerGeometry=function(e,t){var n,r={};if(Object.keys(t).forEach(function(e){r[e]={value:t[e],writable:!0}}),o[e])throw new Error("The geometry `"+e+"` has been already registered");return n=function(){u.call(this)},n.prototype=Object.create(u.prototype,r),n.prototype.name=e,n.prototype.constructor=n,o[e]={Geometry:n,schema:i(n.prototype.schema)},a.push(e),n}},{"../lib/three":146,"./schema":108}],102:[function(e,t,n){function r(e,t,n,r){return"type"in E?void w("Property type "+e+" is already registered."):void(E[e]={default:t,parse:n||s,stringify:r||u})}function i(e){function t(e){return e.trim()}return Array.isArray(e)?e:e&&"string"==typeof e?e.split(",").map(t):[]}function o(e){return e.join(", ")}function a(e){var t,n;return"string"!=typeof e?e:(n=e.match(/\url\((.+)\)/),n?n[1]:"#"===e.charAt(0)?(t=f(e))?"CANVAS"===t.tagName||"VIDEO"===t.tagName?t:t.getAttribute("src"):void M('"'+e+'" asset not found.'):e)}function s(e){return e}function u(e){return null===e?"null":e.toString()}function c(e){return"false"!==e&&e!==!1}function l(e){return parseInt(e,10)}function h(e){return parseFloat(e,10)}function f(e){return e?"string"!=typeof e?e:document.querySelector(e):null}function d(e){return e?"string"!=typeof e?e:Array.prototype.slice.call(document.querySelectorAll(e),0):null}function p(e){return e.getAttribute?"#"+e.getAttribute("id"):u(e)}function m(e){return e instanceof Array?e.map(function(e){return"#"+e.getAttribute("id")}).join(", "):u(e)}function g(e){return M("`src` property type is deprecated. Use `asset` instead."),a(e)}function v(e){return y.parse(e,this.default)}var y=e("../utils/coordinates"),b=e("debug"),w=b("core:propertyTypes:warn"),M=b("core:propertyTypes:warn"),E=t.exports.propertyTypes={};r("audio","",a),r("array",[],i,o),r("asset","",a),r("boolean",!1,c),r("color","#FFF",s,u),r("int",0,l),r("number",0,h),r("map","",a),r("model","",a),r("selector","",f,p),r("selectorAll","",d,m),r("src","",g),r("string","",s,u),r("time",0,l),r("vec2",{x:0,y:0},v,y.stringify),r("vec3",{x:0,y:0,z:0},v,y.stringify),r("vec4",{x:0,y:0,z:0,w:0},v,y.stringify),t.exports.registerPropertyType=r},{"../utils/coordinates":162,debug:11}],103:[function(e,t,n){function r(e,t){return t?{height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth}:{height:window.innerHeight,width:window.innerWidth}}function i(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;t.apply(e)}function o(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var a=e("./metaTags").inject,s=e("./wakelock"),u=e("../a-register-element"),c=e("./scenes"),l=e("../system").systems,h=e("../../lib/three"),f=e("tween.js"),d=e("../../utils/"),p=e("../a-entity"),m=e("../a-node"),g=e("./postMessage"),v=d.bind,y=d.device.isIOS(),b=d.device.isMobile(),w=u.registerElement,M=d.debug("core:a-scene:warn");t.exports=w("a-scene",{prototype:Object.create(p.prototype,{defaultComponents:{value:{canvas:"",inspector:"","keyboard-shortcuts":"",screenshot:"","vr-mode-ui":"","auto-enter-vr":""}},createdCallback:{value:function(){this.isIOS=y,this.isMobile=b,this.isScene=!0,this.object3D=new h.Scene,this.render=v(this.render,this),this.systems={},this.time=0,this.init()}},init:{value:function(){this.behaviors=[],this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.addEventListener("render-target-loaded",function(){this.setupRenderer(),this.resize()}),this.addFullScreenStyles(),g(this)},writable:!0},addFullScreenStyles:{value:function(){var e=document.documentElement;e.classList.add("a-html"),document.body.classList.add("a-body"),this.classList.add("fullscreen")}},removeFullScreenStyles:{value:function(){var e=document.documentElement;e.classList.remove("a-html"),document.body.classList.remove("a-body"),this.classList.remove("fullscreen")}},attachedCallback:{value:function(){var e=v(this.resize,this);a(this),s(this),this.initSystems(),window.addEventListener("load",e),window.addEventListener("resize",e),this.play(),c.push(this)},writable:window.debug},initSystems:{value:function(){Object.keys(l).forEach(v(this.initSystem,this))}},initSystem:{value:function(e){var t;this.systems[e]||(t=this.systems[e]=new l[e](this),t.init())}},detachedCallback:{value:function(){var e;window.cancelAnimationFrame(this.animationFrameID),this.animationFrameID=null,e=c.indexOf(this),c.splice(e,1)}},addBehavior:{value:function(e){var t=this.behaviors;t.indexOf(e)===-1&&t.push(e)}},checkHeadsetConnected:{value:d.device.checkHeadsetConnected,writable:window.debug},enterVR:{value:function(e){function t(){r.addState("vr-mode"),r.emit("enter-vr",e),r.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),r.addFullScreenStyles(),r.isMobile||r.checkHeadsetConnected()||i(r.canvas),r.resize()}function n(e){throw e&&e.message?new Error("Failed to enter VR mode (`requestPresent`): "+e.message):new Error("Failed to enter VR mode (`requestPresent`).")}var r=this;return this.is("vr-mode")?Promise.resolve("Already in VR."):this.checkHeadsetConnected()||this.isMobile?this.effect.requestPresent().then(t,n):(t(),Promise.resolve())}},exitVR:{value:function(){function e(){n.removeState("vr-mode"),n.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),n.hasAttribute("embedded")&&n.removeFullScreenStyles(),n.resize(),n.isIOS&&d.forceCanvasResizeSafariMobile(this.canvas),n.emit("exit-vr",{target:n})}function t(e){throw e&&e.message?new Error("Failed to exit VR mode (`exitPresent`): "+e.message):new Error("Failed to exit VR mode (`exitPresent`).")}var n=this;return this.is("vr-mode")?(o(),this.checkHeadsetConnected()||this.isMobile?this.effect.exitPresent().then(e,t):(e(),Promise.resolve())):Promise.resolve("Not in VR.")}},getAttribute:{value:function(e){var t=this.systems[e];return t?t.data:p.prototype.getAttribute.call(this,e)}},getComputedAttribute:{value:function(e){M("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.systems[e];return t?t.data:p.prototype.getDOMAttribute.call(this,e)}},setAttribute:{value:function(e,t,n){var r=this.systems[e];return r?void m.prototype.setAttribute.call(this,e,t):void p.prototype.setAttribute.call(this,e,t,n)}},removeBehavior:{value:function(e){var t=this.behaviors,n=t.indexOf(e);n!==-1&&t.splice(n,1)}},resize:{value:function(){var e,t=this.camera,n=this.canvas,i=this.getAttribute("embedded")&&!this.is("vr-mode");!t||!n||this.is("vr-mode")&&b||(e=r(n,i),t.aspect=e.width/e.height,t.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height))},writable:window.debug},setupRenderer:{value:function(){var e=this.canvas,t="true"===this.getAttribute("antialias"),n=this.renderer=new h.WebGLRenderer({canvas:e,antialias:t||window.hasNativeWebVRImplementation,alpha:!0});n.setPixelRatio(window.devicePixelRatio),n.sortObjects=!1,this.effect=new h.VREffect(n)},writable:window.debug},play:{value:function(){var e=this;return this.renderStarted?void p.prototype.play.call(this):(this.addEventListener("loaded",function(){function e(e){e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark("render-started"),e.render(0),e.renderStarted=!0,e.emit("renderstart")))}return p.prototype.play.call(this),this.camera?void e(this):void this.addEventListener("camera-set-active",function(){e(this)})}),void setTimeout(function(){p.prototype.load.call(e)}))}},reload:{value:function(e){function t(){n.isPlaying&&p.prototype.play.call(n)}var n=this;e&&this.pause(),this.innerHTML=this.originalHTML,this.init(),m.prototype.load.call(this,t)}},updateComponent:{value:function(e){e in l||p.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(e,t){var n=this.systems;f.update(e),this.behaviors.forEach(function(n){n.el.isPlaying&&n.tick(e,t)}),Object.keys(n).forEach(function(r){n[r].tick&&n[r].tick(e,t)})}},render:{value:function(e){var t=this.effect,n=e-this.time;this.isPlaying&&this.tick(e,n),this.animationFrameID=t.requestAnimationFrame(this.render),t.render(this.object3D,this.camera),this.time=e},writable:!0}})})},{"../../lib/three":146,"../../utils/":167,"../a-entity":96,"../a-node":98,"../a-register-element":99,"../system":110,"./metaTags":104,"./postMessage":105,"./scenes":106,"./wakelock":107,"tween.js":49}],104:[function(e,t,n){function r(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}function i(e){return{tagName:"link",attributes:e,exists:function(){return document.querySelector('link[rel="'+e.rel+'"]')}}}function o(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return t.setAttribute(a.AFRAME_INJECTED,""),s(t,e.attributes)}}var a=e("../../constants/"),s=e("../../utils").extend,u=t.exports.MOBILE_HEAD_TAGS=[r({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui"}),r({name:"mobile-web-app-capable",content:"yes"}),r({name:"theme-color",content:"black"})],c=[r({name:"apple-mobile-web-app-capable",content:"yes"}),r({name:"apple-mobile-web-app-status-bar-style",content:"black"}),i({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];t.exports.inject=function(e){function t(e){e&&!e.exists()&&(n=o(e),n&&(i?i.parentNode.insertBefore(n,i):r.appendChild(n),a.push(n)))}var n,r=document.head,i=r.querySelector("script"),a=[];return u.forEach(t),e.isIOS&&c.forEach(t),a}},{"../../constants/":91,"../../utils":167}],105:[function(e,t,n){function r(e){var t=this;if(e.data)switch(e.data.type){case"vr":switch(e.data.data){case"enter":t.enterVR();break;case"exit":t.exitVR()}}}var i=e("../../utils/bind"),o=e("../../utils/").isIframed;t.exports=function(e){o()&&window.addEventListener("message",i(r,e))}},{"../../utils/":167,"../../utils/bind":161}],106:[function(e,t,n){t.exports=[]},{}],107:[function(e,t,n){var r=e("../../../vendor/wakelock/wakelock");t.exports=function(e){if(e.isMobile){var t=e.wakelock=new r;e.addEventListener("enter-vr",function(){t.request()}),e.addEventListener("exit-vr",function(){t.release()})}}},{"../../../vendor/wakelock/wakelock":177}],108:[function(e,t,n){function r(e){return"type"in e?"string"==typeof e.type:"default"in e}function i(e){var t,n=e.default,r=e.type;return e.type?"bool"===e.type?r="boolean":"float"===e.type&&(r="number"):r=void 0!==n&&["boolean","number"].indexOf(typeof n)!==-1?typeof n:Array.isArray(n)?"array":"string",t=u[r],t||c("Unknown property type: "+r),e.parse=e.parse||t.parse,e.stringify=e.stringify||t.stringify,e.type=r,"default"in e||(e.default=t.default),e}function o(e,t){return void 0!==e&&null!==e&&""!==e||(e=t.default),t.parse(e,t.default)}function a(e,t){return"object"!=typeof e?e:t&&null!==e?t.stringify(e):JSON.stringify(e)}var s=e("../utils/debug"),u=e("./propertyTypes").propertyTypes,c=s("core:schema:warn");t.exports.isSingleProperty=r,t.exports.process=function(e){return r(e)?i(e):(Object.keys(e).forEach(function(t){e[t]=i(e[t])}),e)},t.exports.processPropertyDefinition=i,t.exports.parseProperties=function(e,t,n,r,i){var a=Object.keys(n?e:t);return null===e||"object"!=typeof e?e:(Object.keys(e).forEach(function(e){t[e]||i||c("Unknown property `"+e+"` for component/system `"+r+"`.")}),a.forEach(function(n){var r=t[n],i=e[n];t[n]&&(e[n]=o(i,r))}),e)},t.exports.parseProperty=o,t.exports.stringifyProperties=function(e,t){var n={};return Object.keys(e).forEach(function(r){var i=t[r],o=e[r],s=o;"object"==typeof s&&(s=a(o,i),i||c("Unknown component property: "+r)),n[r]=s}),n},t.exports.stringifyProperty=a},{"../utils/debug":163,"./propertyTypes":102}],109:[function(e,t,n){var r=e("./schema"),i=r.process,o=t.exports.shaders={},a=t.exports.shaderNames=[],s=e("../lib/three"),u=e("../utils"),c={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},l=t.exports.Shader=function(){};l.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(e){return this.attributes=this.initVariables(e,"attribute"),this.uniforms=this.initVariables(e,"uniform"),this.material=new(this.raw?s.RawShaderMaterial:s.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,t){var n={},r=this.schema;return Object.keys(r).forEach(function(e){if(r[e].is===t){var i=c[r[e].type];n[e]={type:i,value:void 0}}}),n},update:function(e){this.updateVariables(e,"attribute"),this.updateVariables(e,"uniform")},updateVariables:function(e,t){var n=this,r="uniform"===t?this.uniforms:this.attributes,i=this.schema;Object.keys(e).forEach(function(o){var a;if(i[o]&&i[o].is===t){if("map"===i[o].type){if(!r[o]||r[o].value===e[o])return;return a="_texture_"+o,n.el.addEventListener("materialtextureloaded",function(){r[o].value=n.material[a],r[o].needsUpdate=!0}),void u.material.updateMapMaterialFromData(a,o,n,e)}r[o].value=n.parseValue(i[o].type,e[o]),r[o].needsUpdate=!0}})},parseValue:function(e,t){var n;switch(e){case"vec2":return new s.Vector2(t.x,t.y);case"vec3":return new s.Vector3(t.x,t.y,t.z);case"vec4":return new s.Vector4(t.x,t.y,t.z,t.w);case"color":return n=new s.Color(t),new s.Vector3(n.r,n.g,n.b);default:return t}}},t.exports.registerShader=function(e,t){var n,r={};if(Object.keys(t).forEach(function(e){r[e]={value:t[e],writable:!0}}),o[e])throw new Error("The shader "+e+" has been already registered");return n=function(){l.call(this)},n.prototype=Object.create(l.prototype,r),n.prototype.name=e,n.prototype.constructor=n,o[e]={Shader:n,schema:i(n.prototype.schema)},a.push(e),n}},{"../lib/three":146,"../utils":167,"./schema":108}],110:[function(e,t,n){var r=e("./component"),i=e("./schema"),o=e("../utils/"),a=i.parseProperties,s=i.parseProperty,u=i.process,c=i.isSingleProperty,l=o.styleParser,h=t.exports.systems={},f=t.exports.System=function(e){var t,n=r&&r.components[this.name],i=this.schema;if(this.sceneEl=e,n&&(n.Component.prototype.system=this),Object.keys(i).length)return t=HTMLElement.prototype.getAttribute.call(e,this.name),c(i)?void(this.data=s(t,i)):void(this.data=a(l.parse(t)||{},i,!1,this.name))};f.prototype={schema:{},init:function(){},tick:void 0,play:function(){},pause:function(){}},t.exports.registerSystem=function(e,t){var n,r,i={},a=o.findAllScenes(document);if(Object.keys(t).forEach(function(e){i[e]={value:t[e],writable:!0}}),h[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for(r=function(e){f.call(this,e)},r.prototype=Object.create(f.prototype,i),r.prototype.name=e,r.prototype.constructor=r,r.prototype.schema=o.extend(u(r.prototype.schema)),h[e]=r,n=0;n<a.length;n++)a[n].initSystem(e)}},{"../utils/":167,"./component":100,"./schema":108}],111:[function(e,t,n){e("./pivot")},{"./pivot":112}],112:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../lib/three"),o=new i.Vector3,a=new i.Vector3;r("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var e=this.data,t=this.el,n=t.object3D.parent,r=t.object3D,s=new i.Group;o.copy(r.position),a.copy(r.rotation),n.remove(r),s.add(r),n.add(s),t.object3D=s,r.position.set(-1*e.x,-1*e.y,-1*e.z),s.position.set(e.x+o.x,e.y+o.y,e.z+o.z),s.rotation.copy(r.rotation),r.rotation.set(0,0,0)}})},{"../../core/component":100,"../../lib/three":146}],113:[function(e,t,n){function r(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===e&&(t="material-fog"),"visible"===e&&(t="material-visible"),s[t]="material."+e}var i=e("../../core/component").components,o=e("../../core/shader").shaders,a=e("../../utils/"),s={};Object.keys(i.material.schema).forEach(r),Object.keys(o.standard.schema).forEach(r),t.exports=function(){return{defaultComponents:{material:{}},mappings:a.extend({},s)}}},{"../../core/component":100,"../../core/shader":109,"../../utils/":167}],114:[function(e,t,n){e("./primitives/a-camera"),e("./primitives/a-collada-model"),e("./primitives/a-cursor"),e("./primitives/a-curvedimage"),e("./primitives/a-gltf-model"),e("./primitives/a-image"),e("./primitives/a-light"),e("./primitives/a-obj-model"),e("./primitives/a-sky"),e("./primitives/a-sound"),e("./primitives/a-text"),e("./primitives/a-video"),e("./primitives/a-videosphere"),e("./primitives/meshPrimitives")},{"./primitives/a-camera":116,"./primitives/a-collada-model":117,"./primitives/a-cursor":118,"./primitives/a-curvedimage":119,"./primitives/a-gltf-model":120,"./primitives/a-image":121,"./primitives/a-light":122,"./primitives/a-obj-model":123,"./primitives/a-sky":124,"./primitives/a-sound":125,"./primitives/a-text":126,"./primitives/a-video":127,"./primitives/a-videosphere":128,"./primitives/meshPrimitives":129}],115:[function(e,t,n){function r(e,t){var n=a[e].schema;Object.keys(n).map(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==t[r]&&(r=e+"-"+n),t[r]=e+"."+n})}function i(e,n,i){i=i||{},Object.keys(n).map(function(e){r(e,i)}),t.exports.registerPrimitive(e,u.extendDeep({},null,{defaultComponents:n,mappings:i}))}var o=e("../../core/a-entity"),a=e("../../core/component").components,s=e("../../core/a-register-element").registerElement,u=e("../../utils/"),c=u.debug,l=u.entity.setComponentProperty,h=c("extras:primitives:debug"),f=c("extras:primitives:warn"),d=t.exports.primitives={};t.exports.registerPrimitive=function(e,t){e=e.toLowerCase(),h("Registering <%s>",e),t.defaultAttributes&&f("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=s(e,{prototype:Object.create(o.prototype,{defaultComponentsFromPrimitive:{value:t.defaultComponents||t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},createdCallback:{value:function(){t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var e=this.mappings,t=this;Object.keys(e).forEach(function(n){var r;a[n]&&(r=e[n].replace(".","-"),e[r]=e[n],delete e[n],console.warn("The primitive "+t.tagName.toLowerCase()+" has a mapping collision. The attribute "+n+" has the same name as a registered component and has been renamed to "+r))})}},getExtraComponents:{value:function(){var e,t,n,r,i,o,a=this;for(t=u.clone(this.defaultComponentsFromPrimitive),i=this.getAttribute("mixin"),i&&(i=i.trim().split(" "),i.forEach(function(e){var n=a.sceneEl.querySelector("#"+e).componentCache;Object.keys(n).forEach(function(e){t[e]=u.extendDeep(t[e]||{},n[e])})})),n=0;n<this.attributes.length;n++)e=this.attributes[n],r=this.mappings[e.name],r&&(o=u.entity.getComponentPropertyPath(r),o.constructor===Array?t[o[0]][o[1]]=e.value:t[o]=e.value);return t}},attributeChangedCallback:{value:function(e,t,n){var r=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&r&&l(this,r,n)}}})});return d[e]=n,n},t.exports.definePrimitive=i},{"../../core/a-entity":96,"../../core/a-register-element":99,"../../core/component":100,"../../utils/":167}],116:[function(e,t,n){var r=e("../../../constants/").DEFAULT_CAMERA_HEIGHT,i=e("../primitives").registerPrimitive;i("a-camera",{defaultComponents:{camera:{userHeight:r},"look-controls":{},"wasd-controls":{}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag","user-height":"camera.userHeight",
zoom:"camera.zoom"},deprecatedMappings:{"cursor-color":"a-camera[cursor-color] has been removed. Use a-cursor[color] instead.","cursor-maxdistance":"a-camera[cursor-maxdistance] has been removed. Use a-cursor[max-distance] instead.","cursor-offset":"a-camera[cursor-offset] has been removed. Use a-cursor[position] instead.","cursor-opacity":"a-camera[cursor-offset] has been removed. Use a-cursor[opacity] instead.","cursor-scale":"a-camera[cursor-scale] has been removed. Use a-cursor[scale] instead.","cursor-visible":"a-camera[cursor-visible] has been removed. Use a-cursor[visible] instead."}})},{"../../../constants/":91,"../primitives":115}],117:[function(e,t,n){var r=e("../primitives").registerPrimitive;r("a-collada-model",{mappings:{src:"collada-model"}})},{"../primitives":115}],118:[function(e,t,n){var r=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-cursor",o.extendDeep({},r(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:64},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1},raycaster:{far:1e3}},mappings:{far:"raycaster.far",fuse:"cursor.fuse",interval:"raycaster.interval",objects:"raycaster.objects","fuse-timeout":"cursor.fuseTimeout"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],119:[function(e,t,n){var r=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-curvedimage",o.extendDeep({},r(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],120:[function(e,t,n){var r=e("../primitives").registerPrimitive;r("a-gltf-model",{mappings:{src:"gltf-model"}})},{"../primitives":115}],121:[function(e,t,n){var r=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-image",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],122:[function(e,t,n){var r=e("../primitives").registerPrimitive;r("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}})},{"../primitives":115}],123:[function(e,t,n){var r=e("../getMeshMixin")(),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-obj-model",o.extendDeep({},r,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],124:[function(e,t,n){var r=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/"),a=e("./meshPrimitives");i("a-sky",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:20},material:{color:"#FFF",shader:"flat"},scale:"-1 1 1"},mappings:o.extendDeep({},a["a-sphere"].prototype.mappings)}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115,"./meshPrimitives":129}],125:[function(e,t,n){var r=e("../primitives").registerPrimitive;r("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},{"../primitives":115}],126:[function(e,t,n){var r=e("../primitives").definePrimitive;r("a-text",{text:{anchor:"align",width:5}})},{"../primitives":115}],127:[function(e,t,n){var r=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-video",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],128:[function(e,t,n){var r=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/");i("a-videosphere",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:20},material:{color:"#FFF",shader:"flat"},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],129:[function(e,t,n){function r(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var i=e("../getMeshMixin"),o=e("../../../core/geometry").geometries,a=e("../../../core/geometry").geometryNames,s=e("../primitives").registerPrimitive,u=e("../../../utils/"),c=t.exports={};a.forEach(function(e){var t=o[e],n=r(e),a={};Object.keys(t.schema).forEach(function(e){a[r(e)]="geometry."+e});var l="a-"+n,h=s(l,u.extendDeep({},i(),{defaultComponents:{geometry:{primitive:e}},mappings:a}));c[l]=h})},{"../../../core/geometry":101,"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],130:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new i.BoxGeometry(e.width,e.height,e.depth)}})},{"../core/geometry":101,"../lib/three":146}],131:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CircleGeometry(e.radius,e.segments,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],132:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.8,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],133:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],134:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.DodecahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":101,"../lib/three":146}],135:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.IcosahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":101,"../lib/three":146}],136:[function(e,t,n){e("./box.js"),e("./circle.js"),e("./cone.js"),e("./cylinder.js"),e("./dodecahedron.js"),e("./icosahedron.js"),e("./octahedron.js"),e("./plane.js"),e("./ring.js"),e("./sphere.js"),e("./tetrahedron.js"),e("./torus.js"),e("./torusKnot.js")},{"./box.js":130,"./circle.js":131,"./cone.js":132,"./cylinder.js":133,"./dodecahedron.js":134,"./icosahedron.js":135,"./octahedron.js":137,"./plane.js":138,"./ring.js":139,"./sphere.js":140,"./tetrahedron.js":141,"./torus.js":142,"./torusKnot.js":143}],137:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.OctahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":101,"../lib/three":146}],138:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new i.PlaneGeometry(e.width,e.height)}})},{"../core/geometry":101,"../lib/three":146}],139:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],140:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(e){this.geometry=new i.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,o(e.phiStart),o(e.phiLength),o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],141:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.TetrahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":101,"../lib/three":146}],142:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(e){this.geometry=new i.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,o(e.arc))}})},{"../core/geometry":101,"../lib/three":146}],143:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(e){this.geometry=new i.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}})},{"../core/geometry":101,"../lib/three":146}],144:[function(e,t,n){var r=e("./utils/"),i=r.debug,o=i("A-Frame:warn");document.currentScript&&document.currentScript.parentNode!==document.head&&!window.debug&&o("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),window.Promise=window.Promise||e("promise-polyfill"),window.hasNativeWebVRImplementation=!!navigator.getVRDisplays||!!navigator.getVRDevices,window.WebVRConfig=window.WebVRConfig||{BUFFER_SCALE:1,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,TOUCH_PANNER_DISABLED:!0,MOUSE_KEYBOARD_CONTROLS_DISABLED:!0},r.device.isIOSOlderThan10(navigator.userAgent)&&(window.WebVRConfig.BUFFER_SCALE=1/window.devicePixelRatio),e("webvr-polyfill"),e("present"),e("./style/aframe.css"),e("./style/rStats.css");var a=e("./core/scene/a-scene"),s=e("./core/component").components,u=e("./core/component").registerComponent,c=e("./core/geometry").registerGeometry,l=e("./extras/primitives/primitives").registerPrimitive,h=e("./core/shader").registerShader,f=e("./core/system").registerSystem,d=e("./core/shader").shaders,p=e("./core/system").systems,m=window.THREE=e("./lib/three"),g=window.TWEEN=e("tween.js"),v=e("../package");e("./components/index"),e("./geometries/index"),e("./shaders/index"),e("./systems/index");var y=e("./core/a-node"),b=e("./core/a-entity");e("./core/a-animation"),e("./core/a-assets"),e("./core/a-cubemap"),e("./core/a-mixin"),e("./extras/components/"),e("./extras/primitives/"),console.log("A-Frame Version: 0.5.0 (Date 10-02-2017, Commit #bf8b8f9)"),console.log("three Version:",v.dependencies.three),console.log("WebVR Polyfill Version:",v.dependencies["webvr-polyfill"]),t.exports=window.AFRAME={AComponent:e("./core/component").Component,AEntity:b,ANode:y,AScene:a,components:s,geometries:e("./core/geometry").geometries,registerComponent:u,registerElement:e("./core/a-register-element").registerElement,registerGeometry:c,registerPrimitive:l,registerShader:h,registerSystem:f,primitives:{getMeshMixin:e("./extras/primitives/getMeshMixin"),primitives:e("./extras/primitives/primitives").primitives},scenes:e("./core/scene/scenes"),schema:e("./core/schema"),shaders:d,systems:p,THREE:m,TWEEN:g,utils:r,version:v.version}},{"../package":55,"./components/index":63,"./core/a-animation":93,"./core/a-assets":94,"./core/a-cubemap":95,"./core/a-entity":96,"./core/a-mixin":97,"./core/a-node":98,"./core/a-register-element":99,"./core/component":100,"./core/geometry":101,"./core/scene/a-scene":103,"./core/scene/scenes":106,"./core/schema":108,"./core/shader":109,"./core/system":110,"./extras/components/":111,"./extras/primitives/":114,"./extras/primitives/getMeshMixin":113,"./extras/primitives/primitives":115,"./geometries/index":136,"./lib/three":146,"./shaders/index":148,"./style/aframe.css":152,"./style/rStats.css":153,"./systems/index":157,"./utils/":167,present:34,"promise-polyfill":35,"tween.js":49,"webvr-polyfill":50}],145:[function(e,t,n){window.aframeStats=function(e){function t(){a("te").set(n()),window.performance.getEntriesByName&&a("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function n(){var e=s.querySelectorAll("*");return Array.prototype.slice.call(e).filter(function(e){return e.isEntity}),e.length}function r(){}function i(){}function o(e){a=e}var a=null,s=e,u={te:{caption:"Entities"},lt:{caption:"Load Time"}},c=[{caption:"A-Frame",values:["te","lt"]}];return{update:t,start:r,end:i,attach:o,values:u,groups:c,fractions:[]}},"object"==typeof t&&(t.exports={aframeStats:window.aframeStats})},{}],146:[function(e,t,r){(function(n){var r=n.THREE=e("three");r.TextureLoader&&(r.TextureLoader.prototype.crossOrigin="anonymous"),r.ImageLoader&&(r.ImageLoader.prototype.crossOrigin="anonymous"),r.Cache&&(r.Cache.enabled=!0),e("three/examples/js/loaders/GLTFLoader"),e("three/examples/js/loaders/OBJLoader"),e("three/examples/js/loaders/MTLLoader"),e("three/examples/js/BlendCharacter"),e("three/examples/js/loaders/ColladaLoader"),e("../../vendor/VRControls"),e("../../vendor/VREffect"),r.ColladaLoader.prototype.crossOrigin="anonymous",r.GLTFLoader.prototype.crossOrigin="anonymous",r.MTLLoader.prototype.crossOrigin="anonymous",r.OBJLoader.prototype.crossOrigin="anonymous",t.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../vendor/VRControls":172,"../../vendor/VREffect":173,three:42,"three/examples/js/BlendCharacter":43,"three/examples/js/loaders/ColladaLoader":44,"three/examples/js/loaders/GLTFLoader":45,"three/examples/js/loaders/MTLLoader":46,"three/examples/js/loaders/OBJLoader":47}],147:[function(e,t,n){function r(e){return{fog:e.fog,color:new o.Color(e.color),wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth}}var i=e("../core/shader").registerShader,o=e("../lib/three"),a=e("../utils/");t.exports.Shader=i("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.textureSrc=null,this.material=new o.MeshBasicMaterial(r(e)),a.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),a.material.updateMap(this,e)},updateMaterial:function(e){var t=this.material;e=r(e),Object.keys(e).forEach(function(n){t[n]=e[n]})}})},{"../core/shader":109,"../lib/three":146,"../utils/":167}],148:[function(e,t,n){e("./flat"),e("./standard"),e("./sdf"),e("./msdf")},{"./flat":147,"./msdf":149,"./sdf":150,"./standard":151}],149:[function(e,t,n){var r=e("../core/shader").registerShader;t.exports.Shader=r("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","uniform sampler2D map;","uniform vec3 color;","uniform float opacity;","uniform float alphaTest;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","void main() {","  vec3 sample = 1.0 - texture2D(map, vUV).rgb;","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","  if (isBigEnough <= BIG_ENOUGH && gl_FragColor.a < alphaTest) { discard; return; }","  if (gl_FragColor.a < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","}"].join("\n")})},{"../core/shader":109}],150:[function(e,t,n){var r=e("../core/shader").registerShader;t.exports.Shader=r("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","uniform sampler2D map;","uniform vec3 color;","uniform float opacity;","uniform float alphaTest;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#else","float aastep(float value, float afwidth) {","  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","}","#endif","void main() {","#ifdef GL_OES_standard_derivatives","  vec2 uv = vUV;","  vec4 texColor = texture2D(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  else if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture2D(map, box.xy).a, width)","      + contour(texture2D(map, box.zw).a, width)","      + contour(texture2D(map, box.xw).a, width)","      + contour(texture2D(map, box.zy).a, width)","    )) / 3.0;","  }","  if (isBigEnough <= BIG_ENOUGH && alpha < alphaTest) { discard; return; }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","#else","  vec4 texColor = texture2D(map, vUV);","  float value = texColor.a;","  float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","  float alpha = aastep(value, afwidth);","  float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","  if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","  alpha = alpha * ratio + (1.0 - ratio) * value;","  if (ratio < 1.0)","    if (alpha <= DISCARD_ALPHA) { discard; return; }","#endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n")})},{"../core/shader":109}],151:[function(e,t,n){function r(e){var t={color:new o.Color(e.color),fog:e.fog,metalness:e.metalness,roughness:e.roughness,wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth};return e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}var i=e("../core/shader").registerShader,o=e("../lib/three"),a=e("../utils/"),s=new o.CubeTextureLoader,u={};t.exports.Shader=i("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},normalMap:{type:"map"},normalScale:{type:"vec2",default:"1 1"},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.material=new o.MeshStandardMaterial(r(e)),a.material.updateMap(this,e),e.normalMap&&a.material.updateDistortionMap("normal",this,e),e.displacementMap&&a.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&a.material.updateDistortionMap("ambientOcclusion",this,e),this.updateEnvMap(e)},update:function(e){this.updateMaterial(e),a.material.updateMap(this,e),e.normalMap&&a.material.updateDistortionMap("normal",this,e),e.displacementMap&&a.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&a.material.updateDistortionMap("ambientOcclusion",this,e),this.updateEnvMap(e)},updateMaterial:function(e){var t=this.material;e=r(e),Object.keys(e).forEach(function(n){t[n]=e[n]})},updateEnvMap:function(e){var t=this,n=this.material,r=e.envMap,i=e.sphericalEnvMap;return!r&&!i||this.isLoadingEnvMap?(n.envMap=null,void(n.needsUpdate=!0)):(this.isLoadingEnvMap=!0,i?void this.el.sceneEl.systems.material.loadTexture(i,{src:i},function(e){t.isLoadingEnvMap=!1,e.mapping=o.SphericalReflectionMapping,n.envMap=e,a.material.handleTextureEvents(t.el,e),n.needsUpdate=!0}):u[r]?void u[r].then(function(e){t.isLoadingEnvMap=!1,n.envMap=e,a.material.handleTextureEvents(t.el,e),n.needsUpdate=!0}):void(u[r]=new Promise(function(e){a.srcLoader.validateCubemapSrc(r,function(r){s.load(r,function(r){t.isLoadingEnvMap=!1,n.envMap=r,a.material.handleTextureEvents(t.el,r),e(r)})})})))}})},{"../core/shader":109,"../lib/three":146,"../utils/":167}],152:[function(e,t,n){var r=".a-html{bottom:0;left:0;position:fixed;right:0;top:0}.a-body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grabbing;cursor:-webkit-grab}.a-canvas.a-grab-cursor:active,.a-grabbing{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}// Class is removed when doing <a-scene embedded>. a-scene.fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:999999!important;position:fixed!important}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:174px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;height:10%;position:absolute;right:20px;bottom:20px}.a-enter-vr.embedded{right:5px;bottom:5px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff}.a-enter-vr-button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E) 50% 50%/70% 70% no-repeat rgba(0,0,0,.35);border:0;bottom:0;cursor:pointer;min-width:50px;min-height:30px;padding-right:5%;padding-top:4%;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999}.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#666}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}";
e("browserify-css").createStyle(r,{href:"src/style/aframe.css"}),t.exports=r},{"browserify-css":3}],153:[function(e,t,n){var r=".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";e("browserify-css").createStyle(r,{href:"src/style/rStats.css"}),t.exports=r},{"browserify-css":3}],154:[function(e,t,n){function r(e){var t,n=e.camera;n&&(t=e.querySelector("["+s+"]"),t&&e.removeChild(t))}var i=e("../utils/bind"),o=e("../constants/"),a=e("../core/system").registerSystem,s="data-aframe-default-camera";t.exports.System=a("camera",{init:function(){this.activeCameraEl=null,this.sceneEl.addEventListener("loaded",i(this.setupDefaultCamera,this))},setupDefaultCamera:function(){var e,t=this.sceneEl;return t.camera?void t.emit("camera-ready",{cameraEl:t.camera.el}):(e=document.createElement("a-entity"),e.setAttribute("position","0 0 0"),e.setAttribute(s,""),e.setAttribute("camera",{active:!0,userHeight:o.DEFAULT_CAMERA_HEIGHT}),e.setAttribute("wasd-controls",""),e.setAttribute("look-controls",""),e.setAttribute(o.AFRAME_INJECTED,""),t.appendChild(e),t.addEventListener("enter-vr",this.removeDefaultOffset),t.addEventListener("exit-vr",this.addDefaultOffset),void t.emit("camera-ready",{cameraEl:e}))},disableActiveCamera:function(){var e=this.sceneEl.querySelectorAll("[camera]"),t=e[e.length-1];t.setAttribute("camera","active",!0)},setActiveCamera:function(e){var t,n,i,o,a=this.activeCameraEl,u=this.sceneEl;if(o=e.getObject3D("camera"),o&&e!==this.activeCameraEl){var c=u.querySelector("["+s+"]"),l=c&&c.querySelector("[camera]");for(e!==l&&r(u),this.activeCameraEl=e,this.activeCameraEl.play(),u.camera=o,a&&a.setAttribute("camera","active",!1),n=u.querySelectorAll("[camera]"),i=0;i<n.length;i++)t=n[i],e!==t&&(t.setAttribute("camera","active",!1),t.pause());u.emit("camera-set-active",{cameraEl:e})}}})},{"../constants/":91,"../core/system":110,"../utils/bind":161}],155:[function(e,t,n){function r(e){var t=e.primitive,n=s[t]&&s[t].Geometry,r=new n;if(!n)throw new Error("Unknown geometry `"+t+"`");return r.init(e),a(r.geometry,e.buffer)}function i(e,t){e[t]--}function o(e,t){e[t]=void 0===e[t]?1:e[t]+1}function a(e,t){var n;return t?(n=(new c.BufferGeometry).fromGeometry(e),n.metadata={type:e.type,parameters:e.parameters||{}},e.dispose(),n):e}var s=e("../core/geometry").geometries,u=e("../core/system").registerSystem,c=e("../lib/three");t.exports.System=u("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,n,i=this.cache;return e.skipCache||e.mergeTo?r(e):(n=this.hash(e),t=i[n],o(this.cacheCount,n),t?t:(t=r(e),i[n]=t,t))},unuseGeometry:function(e){var t,n,r=this.cache,o=this.cacheCount;e.skipCache||e.mergeTo||(n=this.hash(e),r[n]&&(i(o,n),o[n]>0||(t=r[n],t.dispose(),delete r[n],delete o[n])))},hash:function(e){return JSON.stringify(e)}})},{"../core/geometry":101,"../core/system":110,"../lib/three":146}],156:[function(e,t,n){var r=e("../core/system").registerSystem,i=e("../lib/three");t.exports.System=r("gltf-model",{init:function(){this.models=[]},tick:function(){var e=this.sceneEl;e.hasLoaded&&this.models.length&&i.GLTFLoader.Shaders.update(e.object3D,e.camera)},registerModel:function(e){this.models.push(e)},unregisterModel:function(e){var t=this.models,n=t.indexOf(e);n>=0&&t.splice(n,1)}})},{"../core/system":110,"../lib/three":146}],157:[function(e,t,n){e("./camera"),e("./geometry"),e("./gltf-model"),e("./light"),e("./material"),e("./tracked-controls")},{"./camera":154,"./geometry":155,"./gltf-model":156,"./light":158,"./material":159,"./tracked-controls":160}],158:[function(e,t,n){var r=e("../core/system").registerSystem,i=e("../utils/bind"),o=e("../constants/"),a="data-aframe-default-light";t.exports.System=r("light",{init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",i(this.setupDefaultLights,this))},registerLight:function(e){e.hasAttribute(a)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var e,t=this.sceneEl;if(this.defaultLights){e=document.querySelectorAll("["+a+"]");for(var n=0;n<e.length;n++)t.removeChild(e[n]);this.defaultLights=!1}},setupDefaultLights:function(){var e,t,n=this.sceneEl;this.userDefinedLights||this.defaultLights||(e=document.createElement("a-entity"),t=document.createElement("a-entity"),e.setAttribute("light",{color:"#BBB",type:"ambient"}),e.setAttribute(a,""),e.setAttribute(o.AFRAME_INJECTED,""),n.appendChild(e),t.setAttribute("light",{color:"#FFF",intensity:.6}),t.setAttribute("position",{x:-.5,y:1,z:1}),t.setAttribute(a,""),t.setAttribute(o.AFRAME_INJECTED,""),n.appendChild(t),this.defaultLights=!0)}})},{"../constants/":91,"../core/system":110,"../utils/bind":161}],159:[function(e,t,n){function r(e,t){var n,r,i,o=t.getAttribute("id");if(o)return o;for(r="",i=e||{},n=0;n<t.attributes.length;n++)i[t.attributes[n].name]=t.attributes[n].value;return Object.keys(i).sort().forEach(function(e){r+=e+":"+i[e]+";"}),r}function i(e,t){function n(n,r){function i(e){o(e,t),e.needsUpdate=!0,n(e)}var a="string"!=typeof e;return a?void i(new c.Texture(e)):void d.load(e,i,function(){},function(e){f("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)})}return new Promise(n)}function o(e,t){var n=t.offset||{x:0,y:0},r=t.repeat||{x:1,y:1},i=t.npot||!1;i&&(e.wrapS=c.ClampToEdgeWrapping,e.wrapT=c.ClampToEdgeWrapping,e.magFilter=c.LinearFilter,e.minFilter=c.LinearFilter),1===r.x&&1===r.y||(e.wrapS=c.RepeatWrapping,e.wrapT=c.RepeatWrapping,e.repeat.set(r.x,r.y)),0===n.x&&0===n.y||e.offset.set(n.x,n.y)}function a(e,t,n){var r=document.createElement("video");return r.width=t,r.height=n,r.setAttribute("webkit-playsinline",""),r.autoplay=!0,r.loop=!0,r.crossOrigin="anonymous",r.addEventListener("error",function(){p("`$s` is not a valid video",e)},!0),r.src=e,r}function s(e){return e.autoplay="false"!==e.getAttribute("autoplay"),e.controls="false"!==e.getAttribute("controls"),"false"===e.getAttribute("loop")&&e.removeAttribute("loop"),"false"===e.getAttribute("preload")&&(e.preload="none"),e.crossOrigin=e.crossOrigin||"anonymous",e.setAttribute("webkit-playsinline",""),e}var u=e("../core/system").registerSystem,c=e("../lib/three"),l=e("../utils/"),h=l.debug,f=h("components:texture:error"),d=new c.TextureLoader,p=h("components:texture:warn");t.exports.System=u("material",{init:function(){this.materials={},this.textureCache={}},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,n){function r(e){o.loadImage(e,t,n)}function i(e){o.loadVideo(e,t,n)}var o=this;return"CANVAS"===e.tagName?void this.loadCanvas(e,t,n):"VIDEO"===e.tagName?(e.hasAttribute("src")||e.hasAttribute("srcObject")||p("Video element was defined without `src` nor `srcObject` attributes."),void this.loadVideo(e,t,n)):void l.srcLoader.validateSrc(e,r,i)},loadImage:function(e,t,n){var r=this.hash(t),o=n,a=this.textureCache;return a[r]?void a[r].then(o):(a[r]=i(e,t),void a[r].then(o))},loadCanvas:function(e,t,n){e.readyState=2,e.HAVE_CURRENT_DATA=2,this.loadVideo(e,t,n)},loadVideo:function(e,t,n){function r(e){e.texture.needsUpdate=!0,n(e.texture,e.videoEl)}var i,u,l,h,f=this.textureCache;if("string"!=typeof e){if(l=e,i=this.hashVideo(t,l),f[i])return void f[i].then(r);s(l)}return l=l||a(e,t.width,t.height),i=this.hashVideo(t,l),f[i]?void f[i].then(r):(u=new c.VideoTexture(l),u.minFilter=c.LinearFilter,o(u,t),h={texture:u,videoEl:l},f[i]=Promise.resolve(h),void r(h))},hash:function(e){return JSON.stringify(e)},hashVideo:function(e,t){return r(e,t)},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid]},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach(function(e){t[e].needsUpdate=!0})}})},{"../core/system":110,"../lib/three":146,"../utils/":167}],160:[function(e,t,n){var r=e("../core/system").registerSystem,i=e("../utils/tracked-controls"),o=e("../utils");t.exports.System=r("tracked-controls",{init:function(){var e=this;this.controllers=[],this.lastControllersUpdate=0,this.tick=o.throttle(this.throttledTick,10,this),navigator.getVRDisplays&&navigator.getVRDisplays().then(function(t){t.length>0&&(e.vrDisplay=t[0])})},updateControllerList:function(){for(var e=this.controllers=[],t=i.getGamepadsByPrefix(""),n=0;n<t.length;n++){var r=t[n];r&&r.pose&&e.push(r)}},throttledTick:function(){this.updateControllerList(),this.sceneEl.emit("controllersupdated",{controllers:this.controllers})}})},{"../core/system":110,"../utils":167,"../utils/tracked-controls":171}],161:[function(e,t,n){t.exports=function(e,t){return function(n){return function(){var r=n.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,r)}}(Array.prototype.slice.call(arguments,2))}},{}],162:[function(e,t,n){function r(e,t){var n,r={};return e&&"object"==typeof e?o({x:void 0!==e.x?e.x:t&&t.x,y:void 0!==e.y?e.y:t&&t.y,z:void 0!==e.z?e.z:t&&t.z,w:void 0!==e.w?e.w:t&&t.w}):"string"!=typeof e||null===e?"object"==typeof t?a({},t):t:(n=e.trim().replace(/\s+/g," ").split(" "),r.x=n[0]||t&&t.x,r.y=n[1]||t&&t.y,r.z=n[2]||t&&t.z,r.w=n[3]||t&&t.w,o(r))}function i(e){return"object"!=typeof e?e:[e.x,e.y,e.z,e.w].join(" ").trim()}function o(e){return Object.keys(e).forEach(function(t){return void 0===e[t]?void delete e[t]:void(e[t]=parseFloat(e[t],10))}),e}var a=e("object-assign"),s=/^\s*((-?\d*\.{0,1}\d+)\s+){2,3}(-?\d*\.{0,1}\d+)\s*$/;t.exports.regex=s,t.exports.parse=r,t.exports.stringify=i,t.exports.isCoordinate=function(e){return s.test(e)},t.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)}},{"object-assign":28}],163:[function(e,t,n){(function(n){function r(e){var t=e.split(":");return t[t.length-1]}function i(e){var t=r(e),n=u.colors&&u.colors[t];return n||null}function o(){try{return window.localStorage}catch(e){}}var a=e("debug"),s=e("object-assign"),u={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},c=function(e){var t=a(e);return t.color=i(e),t};s(c,a);var l=o();l&&(parseInt(l.logs,10)||"true"===l.logs)?c.enable("*"):c.enable("*:error,*:info,*:warn"),n.browser&&(window.logs=c),t.exports=c}).call(this,e("_process"))},{_process:9,debug:11,"object-assign":28}],164:[function(e,t,n){function r(){var e;return c.update(),e=u.quaternion,0!==e._x||0!==e._y||0!==e._z}function i(){var e=new s.Vector3;return function(){return!l()&&!a()&&(c.update(),u.updateMatrix(),e.setFromMatrixPosition(u.matrix),0!==e.x||0!==e.y||0!==e.z)}()}function o(){return/iPad|iPhone|iPod/.test(navigator.platform)}function a(){return/SamsungBrowser.+Mobile VR/i.test(navigator.userAgent)}var s=e("../lib/three"),u=new s.Object3D,c=new s.VRControls(u);t.exports.checkHeadsetConnected=r,t.exports.checkHasPositionalTracking=i;var l=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),o()&&(e=!0),a()&&(e=!1)}(navigator.userAgent||navigator.vendor||window.opera),function(){return e}}();t.exports.isMobile=l,t.exports.isIOS=o,t.exports.isGearVR=a,t.exports.isLandscape=function(){return 90===window.orientation||window.orientation===-90},t.exports.isIOSOlderThan10=function(e){return/(iphone|ipod|ipad).*os.(7|8|9)/i.test(e)}},{"../lib/three":146}],165:[function(e,t,n){t.exports.getComponentPropertyPath=function(e,t){return t=t||".",e.indexOf(t)===-1?e:e.split(t)},t.exports.getComponentProperty=function(e,t,n){var r;return n=n||".",t.indexOf(n)!==-1?(r=t.split(n),e.getAttribute(r[0])[r[1]]):e.getAttribute(t)},t.exports.setComponentProperty=function(e,t,n,r){var i;return r=r||".",t.indexOf(r)!==-1?(i=t.split(r),void e.setAttribute(i[0],i[1],n)):void e.setAttribute(t,n)}},{}],166:[function(e,t,n){t.exports=function(e){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t,10)+1+"px",e.style.height=parseInt(n,10)+1+"px",setTimeout(function(){e.style.width=t,e.style.height=n},200)}},{}],167:[function(e,t,n){function r(e,t){var n,i,o,a,s;if("object"!=typeof e||"object"!=typeof t||null===e||null===t)return e===t;if(i=Object.keys(e),o=Object.keys(t),i.length!==o.length)return!1;for(n=0;n<i.length;++n)if(a=e[i[n]],s=t[i[n]],"object"==typeof a||"object"==typeof s||Array.isArray(a)&&Array.isArray(s)){if(!r(a,s))return!1}else if(a!==s)return!1;return!0}var i=e("./debug"),o=e("deep-assign"),a=e("./device"),s=e("object-assign"),u=i("utils:warn");t.exports.bind=e("./bind"),t.exports.coordinates=e("./coordinates"),t.exports.debug=i,t.exports.device=a,t.exports.entity=e("./entity"),t.exports.forceCanvasResizeSafariMobile=e("./forceCanvasResizeSafariMobile"),t.exports.material=e("./material"),t.exports.styleParser=e("./styleParser"),t.exports.trackedControls=e("./tracked-controls"),t.exports.checkHeadsetConnected=function(){return u("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),a.checkHeadsetConnected(arguments)},t.exports.isGearVR=function(){return u("`utils.isGearVR` has moved to `utils.device.isGearVR`"),a.isGearVR(arguments)},t.exports.isIOS=function(){return u("`utils.isIOS` has moved to `utils.device.isIOS`"),a.isIOS(arguments)},t.exports.isMobile=function(){return u("`utils.isMobile has moved to `utils.device.isMobile`"),a.isMobile(arguments)},t.exports.throttle=function(e,n,r){var i;return r&&(e=t.exports.bind(e,r)),function(){var t=Date.now(),r="undefined"==typeof i?n:t-i;("undefined"==typeof i||r>=n)&&(i=t,e.apply(null,arguments))}},t.exports.throttleTick=function(e,n,r){var i;return r&&(e=t.exports.bind(e,r)),function(t,r){var o="undefined"==typeof i?r:t-i;("undefined"==typeof i||o>=n)&&(i=t,e(t,o))}},t.exports.fireEvent=function(e,t,n){n=n||{},n.detail=n.detail||{},n.detail.target=n.detail.target||e;var r=new CustomEvent(t,n);e.dispatchEvent(r)},t.exports.extend=s,t.exports.extendDeep=o,t.exports.clone=function(e){return JSON.parse(JSON.stringify(e))},t.exports.deepEqual=r,t.exports.diff=function(e,t){var n={},i=Object.keys(e);return Object.keys(t).forEach(function(e){i.indexOf(e)===-1&&i.push(e)}),i.forEach(function(i){var o=e[i],a=t[i],s=o&&a&&o.constructor===Object&&a.constructor===Object;(s&&!r(o,a)||!s&&o!==a)&&(n[i]=a)}),n},t.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},t.exports.splitString=function(e,t){"undefined"==typeof t&&(t=" ");var n=new RegExp(t,"g");return e=(e||"").replace(n,t),e.split(t)},t.exports.getElData=function(e,t){function n(t){e.hasAttribute(t)&&(r[t]=e.getAttribute(t))}t=t||{};var r={};return Object.keys(t).forEach(n),r},t.exports.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},t.exports.isIframed=function(){return window.top!==window.self},t.exports.findAllScenes=function(e){for(var t=[],n=e.getElementsByTagName("*"),r=0,i=n.length;r<i;r++)n[r].isScene&&t.push(n[r]);return t},t.exports.srcLoader=e("./src-loader")},{"./bind":161,"./coordinates":162,"./debug":163,"./device":164,"./entity":165,"./forceCanvasResizeSafariMobile":166,"./material":168,"./src-loader":169,"./styleParser":170,"./tracked-controls":171,"deep-assign":14,"object-assign":28}],168:[function(e,t,n){function r(e,t){t&&(e.emit("materialtextureloaded",{src:t.image,texture:t}),t.image&&"VIDEO"===t.image.tagName&&(t.image.addEventListener("loadeddata",function(){e.emit("materialvideoloadeddata",{src:t.image,texture:t})}),t.image.addEventListener("ended",function(){e.emit("materialvideoended",{src:t.image,texture:t})})))}var i=e("../lib/three");t.exports.updateMapMaterialFromData=function(e,t,n,o){function a(t){n[l]===c&&(u[e]=t,u.needsUpdate=!0,r(s,t))}var s=n.el,u=n.material,c=o[t],l="_texture_"+t;if(c){if(c===n[l])return;return n[l]=c,c instanceof i.Texture?void a(c):void s.sceneEl.systems.material.loadTexture(c,{src:c,repeat:o.repeat,offset:o.offset,npot:o.npot},a)}u[e]&&(n[l]=null,a(null))},t.exports.updateMap=function(e,n){return t.exports.updateMapMaterialFromData("map","src",e,n)},t.exports.updateDistortionMap=function(e,t,n){function i(e){s[o+"Map"]=e,s.needsUpdate=!0,r(a,e)}var o=e;"ambientOcclusion"===e&&(o="ao");var a=t.el,s=t.material,u=n[e+"Map"],c={};if(c.src=u,c.offset=n[e+"TextureOffset"],c.repeat=n[e+"TextureRepeat"],c.wrap=n[e+"TextureWrap"],u){if(u===t[e+"TextureSrc"])return;return t[e+"TextureSrc"]=u,void a.sceneEl.systems.material.loadTexture(u,c,i)}s.map&&i(null)},t.exports.handleTextureEvents=r},{"../lib/three":146}],169:[function(e,t,n){function r(e,t,n){a(e,function(r){return r?void t(e):void n(e)})}function i(e,t){function n(e){h.push(e),6===h.length&&t(h)}var i,a,u,l="",h=[];for(a=0;a<5;a++)l+="(url\\((?:[^\\)]+)\\),\\s*)";if(l+="(url\\((?:[^\\)]+)\\)\\s*)",u=e.match(new RegExp(l)))for(a=1;a<7;a++)r(o(u[a]),n);else if(i=s(e))return"A-CUBEMAP"===i.tagName&&i.srcs?t(i.srcs):void c('Selector "%s" does not point to <a-cubemap>',e)}function o(e){var t=e.match(/\url\((.+)\)/);if(t)return t[1]}function a(e,t){function n(){t(!0)}function r(){t(!1)}var i=new Image;i.addEventListener("load",n),i.addEventListener("error",r),i.src=e}function s(e){try{var t=document.querySelector(e);return t||c('No element was found matching the selector: "%s"',e),t}catch(t){return void c('"%s" is not a valid selector',e)}}var u=e("./debug"),c=u("utils:src-loader:warn");t.exports={parseUrl:o,validateSrc:r,validateCubemapSrc:i}},{"./debug":163}],170:[function(e,t,n){function r(e){function t(e){return e[1].toUpperCase()}return e.replace(/-([a-z])/g,t)}function i(e){var t=Object.keys(e),n={};return t.forEach(function(t){var i=r(t);n[i]=e[t]}),n}var o=e("style-attr");t.exports.parse=function(e){var t;return"string"!=typeof e?e:(t=o.parse(e),t[""]?e:i(t))},t.exports.stringify=function(e){return"string"==typeof e?e:o.stringify(e)},t.exports.toCamelCase=r,t.exports.transformKeysToCamelCase=i},{"style-attr":37}],171:[function(e,t,n){t.exports.getGamepadsByPrefix=function(e){var t,n=[],r=navigator.getGamepads&&navigator.getGamepads();if(!r)return n;for(var i=0;i<r.length;++i)t=r[i],t&&(e&&0!==t.id.indexOf(e)||n.push(t));return n},t.exports.isControllerPresent=function(e,t,n){var r,i,o,a=!1,s=0,u=e&&e.systems["tracked-controls"];if(!u)return a;if(o=u.controllers,o&&0!==o.length||(u.updateControllerList(),o=u.controllers),!o)return a;for(var c=0;c<o.length&&(r=o[c],i=!t||""===t||0===r.id.indexOf(t),a=i,a&&n.hand&&(a=r.hand===n.hand),a&&n.index&&(a=s===n.index),!a);++c)i&&s++;return a}},{}],172:[function(e,t,n){THREE.VRControls=function(e,t){function n(e){i=e,e.length>0?r=e[0]:t&&t("VR input not available.")}var r,i,o=this,a=new THREE.Matrix4,s=null;"VRFrameData"in window&&(s=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(n).catch(function(){console.warn("THREE.VRControls: Unable to get VR Displays")}),this.scale=1,this.standing=!1,this.userHeight=1.6,this.getVRDisplay=function(){return r},this.setVRDisplay=function(e){r=e},this.getVRDisplays=function(){return console.warn("THREE.VRControls: getVRDisplays() is being deprecated."),i},this.getStandingMatrix=function(){return a},this.update=function(){if(r){var t;r.getFrameData?(r.getFrameData(s),t=s.pose):r.getPose&&(t=r.getPose()),null!==t.orientation&&e.quaternion.fromArray(t.orientation),null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),this.standing&&(r.stageParameters?(e.updateMatrix(),a.fromArray(r.stageParameters.sittingToStandingTransform),e.applyMatrix(a)):e.position.setY(e.position.y+this.userHeight)),e.position.multiplyScalar(o.scale)}},this.resetPose=function(){r&&r.resetPose()},this.resetSensor=function(){console.warn("THREE.VRControls: .resetSensor() is now .resetPose()."),this.resetPose()},this.zeroSensor=function(){console.warn("THREE.VRControls: .zeroSensor() is now .resetPose()."),this.resetPose()},this.dispose=function(){r=null}}},{}],173:[function(e,t,n){THREE.VREffect=function(e,t){function n(e){u=e,e.length>0?s=e[0]:t&&t("HMD not available")}function r(){var t=p.isPresenting;if(p.isPresenting=void 0!==s&&s.isPresenting,p.isPresenting){var n=s.getEyeParameters("left"),r=n.renderWidth,i=n.renderHeight;t||(v=e.getPixelRatio(),m=e.getSize(),e.setPixelRatio(1),e.setSize(2*r,i,!1))}else t&&(e.setPixelRatio(v),e.setSize(m.width,m.height,g))}function i(e){var t=2/(e.leftTan+e.rightTan),n=(e.leftTan-e.rightTan)*t*.5,r=2/(e.upTan+e.downTan),i=(e.upTan-e.downTan)*r*.5;return{scale:[t,r],offset:[n,i]}}function o(e,t,n,r){t=void 0===t||t,n=void 0===n?.01:n,r=void 0===r?1e4:r;var o=t?-1:1,a=new THREE.Matrix4,s=a.elements,u=i(e);return s[0]=u.scale[0],s[1]=0,s[2]=u.offset[0]*o,s[3]=0,s[4]=0,s[5]=u.scale[1],s[6]=-u.offset[1]*o,s[7]=0,s[8]=0,s[9]=0,s[10]=r/(n-r)*-o,s[11]=r*n/(n-r),s[12]=0,s[13]=0,s[14]=o,s[15]=0,a.transpose(),a}function a(e,t,n,r){var i=Math.PI/180,a={upTan:Math.tan(e.upDegrees*i),downTan:Math.tan(e.downDegrees*i),leftTan:Math.tan(e.leftDegrees*i),rightTan:Math.tan(e.rightDegrees*i)};return o(a,t,n,r)}var s,u,c,l,h=new THREE.Vector3,f=new THREE.Vector3,d=null;"VRFrameData"in window&&(d=new window.VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(n).catch(function(){console.warn("THREE.VREffect: Unable to get VR Displays")}),this.isPresenting=!1;var p=this,m=e.getSize(),g=!1,v=e.getPixelRatio();this.getVRDisplay=function(){return s},this.setVRDisplay=function(e){s=e},this.getVRDisplays=function(){return console.warn("THREE.VREffect: getVRDisplays() is being deprecated."),u},this.setSize=function(t,n,r){if(m={width:t,height:n},g=r,p.isPresenting){var i=s.getEyeParameters("left");e.setPixelRatio(1),e.setSize(2*i.renderWidth,i.renderHeight,!1)}else e.setPixelRatio(v),e.setSize(t,n,r)};var y=e.domElement,b=[0,0,.5,1],w=[.5,0,.5,1];window.addEventListener("vrdisplaypresentchange",r,!1),this.setFullScreen=function(e){return new Promise(function(t,n){return void 0===s?void n(new Error("No VR hardware found.")):p.isPresenting===e?void t():void t(e?s.requestPresent([{source:y}]):s.exitPresent())})},this.requestPresent=function(){return this.setFullScreen(!0)},this.exitPresent=function(){return this.setFullScreen(!1)},this.requestAnimationFrame=function(e){return void 0!==s?s.requestAnimationFrame(e):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){void 0!==s?s.cancelAnimationFrame(e):window.cancelAnimationFrame(e)},this.submitFrame=function(){void 0!==s&&p.isPresenting&&s.submitFrame()},this.autoSubmitFrame=!0;var M=new THREE.PerspectiveCamera;M.layers.enable(1);var E=new THREE.PerspectiveCamera;E.layers.enable(2),this.render=function(t,n,r,i){if(s&&p.isPresenting){var o=t.autoUpdate;o&&(t.updateMatrixWorld(),t.autoUpdate=!1);var u=s.getEyeParameters("left"),m=s.getEyeParameters("right");h.fromArray(u.offset),f.fromArray(m.offset),Array.isArray(t)&&(console.warn("THREE.VREffect.render() no longer supports arrays. Use object.layers instead."),t=t[0]);var g,v,y=e.getSize(),A=s.getLayers();if(A.length){var x=A[0];g=null!==x.leftBounds&&4===x.leftBounds.length?x.leftBounds:b,v=null!==x.rightBounds&&4===x.rightBounds.length?x.rightBounds:w}else g=b,v=w;return c={x:Math.round(y.width*g[0]),y:Math.round(y.height*g[1]),width:Math.round(y.width*g[2]),height:Math.round(y.height*g[3])},l={x:Math.round(y.width*v[0]),y:Math.round(y.height*v[1]),width:Math.round(y.width*v[2]),height:Math.round(y.height*v[3])},r?(e.setRenderTarget(r),r.scissorTest=!0):(e.setRenderTarget(null),e.setScissorTest(!0)),(e.autoClear||i)&&e.clear(),null===n.parent&&n.updateMatrixWorld(),n.matrixWorld.decompose(M.position,M.quaternion,M.scale),E.position.copy(M.position),E.quaternion.copy(M.quaternion),E.scale.copy(M.scale),M.translateOnAxis(h,M.scale.x),E.translateOnAxis(f,E.scale.x),s.getFrameData?(s.depthNear=n.near,s.depthFar=n.far,s.getFrameData(d),M.projectionMatrix.elements=d.leftProjectionMatrix,E.projectionMatrix.elements=d.rightProjectionMatrix):(M.projectionMatrix=a(u.fieldOfView,!0,n.near,n.far),E.projectionMatrix=a(m.fieldOfView,!0,n.near,n.far)),r?(r.viewport.set(c.x,c.y,c.width,c.height),r.scissor.set(c.x,c.y,c.width,c.height)):(e.setViewport(c.x,c.y,c.width,c.height),e.setScissor(c.x,c.y,c.width,c.height)),e.render(t,M,r,i),r?(r.viewport.set(l.x,l.y,l.width,l.height),r.scissor.set(l.x,l.y,l.width,l.height)):(e.setViewport(l.x,l.y,l.width,l.height),e.setScissor(l.x,l.y,l.width,l.height)),e.render(t,E,r,i),r?(r.viewport.set(0,0,y.width,y.height),r.scissor.set(0,0,y.width,y.height),r.scissorTest=!1,e.setRenderTarget(null)):(e.setViewport(0,0,y.width,y.height),e.setScissorTest(!1)),o&&(t.autoUpdate=!0),void(p.autoSubmitFrame&&p.submitFrame())}e.render(t,n,r,i)},this.dispose=function(){window.removeEventListener("vrdisplaypresentchange",r,!1)}}},{}],174:[function(e,t,n){window.glStats=function(){function e(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function t(){o("allcalls").set(a+s),o("drawElements").set(s),o("drawArrays").set(a),o("bindTexture").set(f),o("useProgram").set(u),o("glfaces").set(c),o("glvertices").set(l),o("glpoints").set(h)}function n(){a=0,s=0,u=0,c=0,l=0,h=0,f=0}function r(){}function i(e){o=e}var o=null,a=0,s=0,u=0,c=0,l=0,h=0,f=0;WebGLRenderingContext.prototype.drawArrays=e(WebGLRenderingContext.prototype.drawArrays,function(){a++,arguments[0]==this.POINTS?h+=arguments[2]:l+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=e(WebGLRenderingContext.prototype.drawElements,function(){s++,c+=arguments[1]/3,l+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=e(WebGLRenderingContext.prototype.useProgram,function(){u++}),WebGLRenderingContext.prototype.bindTexture=e(WebGLRenderingContext.prototype.bindTexture,function(){f++});var d={allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},p=[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],m=[{base:"allcalls",steps:["drawelements","drawarrays"]}];return{update:t,start:n,end:r,attach:i,values:d,groups:p,fractions:m}},window.threeStats=function(e){function t(){o("renderer.info.memory.geometries").set(e.info.memory.geometries),o("renderer.info.programs").set(e.info.programs.length),o("renderer.info.memory.textures").set(e.info.memory.textures),o("renderer.info.render.calls").set(e.info.render.calls),o("renderer.info.render.faces").set(e.info.render.faces),o("renderer.info.render.points").set(e.info.render.points),o("renderer.info.render.vertices").set(e.info.render.vertices)}function n(){}function r(){}function i(e){o=e}var o=null,a={"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.faces":{caption:"Faces",over:1e3},"renderer.info.render.points":{caption:"Points"},"renderer.info.render.vertices":{caption:"Vertices"}},s=[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.faces","renderer.info.render.points","renderer.info.render.vertices"]}],u=[];return{update:t,start:n,end:r,attach:i,values:a,groups:s,fractions:u}},window.BrowserStats=function(){function e(e){var t=100,n=Math.floor(Math.log(e)/h);return Math.round(e*t/Math.pow(1024,n))/t}function t(){a=e(performance.memory.usedJSHeapSize),s=e(performance.memory.totalJSHeapSize),o("memory").set(a),o("total").set(s)}function n(){a=0}function r(){}function i(e){o=e}var o=null,a=0,s=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var u={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},c=[{caption:"Browser",values:["memory","total"]}],l=[{base:"total",steps:["memory"]}],h=Math.log(1024);return{update:t,start:n,end:r,attach:i,values:u,groups:c,fractions:l}},"object"==typeof t&&(t.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],175:[function(e,t,n){"use strict";!function(){if("undefined"==typeof window.performance&&(window.performance={}),!window.performance.now){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}window.performance.mark||(window.performance.mark=function(){}),window.performance.measure||(window.performance.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),r=0,i=n.length;r<i;r++)t(n[r])}function n(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}function r(e,t,n){function r(){a.width=v,a.height=g,a.style.width=a.width+"px",a.style.height=a.height+"px",
a.className="rs-canvas",e.appendChild(a),s.fillStyle="#444444",s.fillRect(0,0,a.width,a.height)}function i(e,t){c+=.1*(e-c),u*=.99,c>u&&(u=c),s.drawImage(a,1,0,a.width-1,a.height,0,0,a.width-1,a.height),t?s.drawImage(d,a.width-1,a.height-c*a.height/u-g):s.drawImage(h,a.width-1,a.height-c*a.height/u-g)}var o=n||{},a=document.createElement("canvas"),s=a.getContext("2d"),u=0,c=0,l=o.color?o.color:"#666666",h=document.createElement("canvas"),f=h.getContext("2d");h.width=1,h.height=2*g,f.fillStyle="#444444",f.fillRect(0,0,1,2*g),f.fillStyle=l,f.fillRect(0,g,1,g),f.fillStyle="#ffffff",f.globalAlpha=.5,f.fillRect(0,g,1,1),f.globalAlpha=1;var d=document.createElement("canvas"),p=d.getContext("2d");return d.width=1,d.height=2*g,p.fillStyle="#444444",p.fillRect(0,0,1,2*g),p.fillStyle="#b70000",p.fillRect(0,g,1,g),p.globalAlpha=.5,p.fillStyle="#ffffff",p.fillRect(0,g,1,1),p.globalAlpha=1,r(),{draw:i}}function i(e,n){function r(){o.width=v,o.height=g*n,o.style.width=o.width+"px",o.style.height=o.height+"px",o.className="rs-canvas",e.appendChild(o),a.fillStyle="#444444",a.fillRect(0,0,o.width,o.height)}function i(e){a.drawImage(o,1,0,o.width-1,o.height,0,0,o.width-1,o.height);var n=0;t(e,function(t){var r=e[t]*o.height;a.fillStyle=l[t],a.fillRect(o.width-1,n,1,r),n+=r})}var o=document.createElement("canvas"),a=o.getContext("2d");return r(),{draw:i}}function o(e,t){function n(e){if(x&&x.average){v+=e,b++;var t=performance.now();t-y>=(x.avgMs||1e3)&&(g=v/b,v=0,y=t,b=0)}}function i(){h=performance.now(),c.userTimingAPI&&performance.mark(f+"-start"),_=!0}function o(){d=performance.now()-h,c.userTimingAPI&&(performance.mark(f+"-end"),_&&performance.measure(f,f+"-start",f+"-end")),n(d)}function a(){o(),i()}function s(){var e=x&&x.average?g:d;A.nodeValue=Math.round(100*e)/100;var t=x&&(x.below&&d<x.below||x.over&&d>x.over);T.draw(d,t),w.className=t?"rs-counter-base alarm":"rs-counter-base"}function u(){var e=performance.now(),t=e-h;p++,t>1e3&&(d=x&&x.interpolate===!1?p:1e3*p/t,p=0,h=e,n(d))}function l(e){d=e,n(d)}var h,f=e,d=0,p=0,g=0,v=0,y=performance.now(),b=0,w=document.createElement("div"),M=document.createElement("span"),E=document.createElement("div"),A=document.createTextNode(""),x=c?c.values[f.toLowerCase()]:null,T=new r(w,f,x),_=!1;return M.className="rs-counter-id",M.textContent=x&&x.caption?x.caption:f,E.className="rs-counter-value",E.appendChild(A),w.appendChild(M),w.appendChild(E),t?t.div.appendChild(w):m.appendChild(w),h=performance.now(),{set:l,start:i,tick:a,end:o,frame:u,value:function(){return d},draw:s}}function a(e){var n=e.toLowerCase();if(void 0===n&&(n="default"),y[n])return y[n];var r=null;c&&c.groups&&t(c.groups,function(e){var t=c.groups[parseInt(e,10)];r||t.values.indexOf(n.toLowerCase())===-1||(r=t)});var i=new o(n,r);return y[n]=i,i}function s(){if(c.plugins){c.values||(c.values={}),c.groups||(c.groups=[]),c.fractions||(c.fractions=[]);for(var e=0;e<c.plugins.length;e++)c.plugins[e].attach(a),t(c.plugins[e].values,function(t){c.values[t]=c.plugins[e].values[t]}),c.groups=c.groups.concat(c.plugins[e].groups),c.fractions=c.fractions.concat(c.plugins[e].fractions)}else c.plugins={};p=document.createElement("div"),p.className="rs-base",m=document.createElement("div"),m.className="rs-container",m.style.height="auto",p.appendChild(m),document.body.appendChild(p),c&&(c.groups&&t(c.groups,function(e){var t=c.groups[parseInt(e,10)],n=document.createElement("div");n.className="rs-group",t.div=n;var r=document.createElement("h1");r.textContent=t.caption,r.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(n)),m.appendChild(r),m.appendChild(n)}),c.fractions&&t(c.fractions,function(e){var n=c.fractions[parseInt(e,10)],r=document.createElement("div");r.className="rs-fraction";var o=document.createElement("div");o.className="rs-legend";var a=0;t(c.fractions[e].steps,function(t){var n=document.createElement("p");n.textContent=c.fractions[e].steps[t],n.style.color=l[a],o.appendChild(n),a++}),r.appendChild(o),r.style.height=a*g+"px",n.div=r;var s=new i(r,a);n.graph=s,m.appendChild(r)}))}function u(){t(c.plugins,function(e){c.plugins[e].update()}),t(y,function(e){y[e].draw()}),c&&c.fractions&&t(c.fractions,function(e){var n=c.fractions[parseInt(e,10)],r=[],i=y[n.base.toLowerCase()];i&&(i=i.value(),t(c.fractions[e].steps,function(t){var n=c.fractions[e].steps[parseInt(t,10)].toLowerCase(),o=y[n];o&&r.push(o.value()/i)})),n.graph.draw(r)})}var c=e||{},l=c.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],h="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",f=(c.CSSPath?c.CSSPath:"")+"rStats.css",d=c.css||[h,f];d.forEach(function(e){n(e)}),c.values||(c.values={});var p,m,g=10,v=200,y={};return s(),function(e){return e?a(e):{element:p,update:u}}},"object"==typeof t&&(t.exports=window.rStats)},{}],176:[function(e,t,n){var r={};r.base64=function(e,t){return"data:"+e+";base64,"+t},r.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},r.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},r.isIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},r.appendQueryParameter=function(e,t,n){var r=e.indexOf("?")<0?"?":"&";return e+=r+t+"="+n},r.getQueryParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},r.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},t.exports=r},{}],177:[function(e,t,n){function r(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=a.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),e.play())},this.release=function(){e.pause(),e.src=""}}function i(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function o(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?i:r}var a=e("./util.js");t.exports=o()},{"./util.js":176}]},{},[144])(144)})}).call(n,function(){return this}(),r(4).Buffer,r(50).setImmediate)},function(e,t){(function(t){"use strict";function n(e){s.length||(a(),u=!0),s[s.length]=e}function r(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>l){for(var t=0,n=s.length-c;t<n;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0,u=!1}function i(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function o(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var a,s=[],u=!1,c=0,l=1024,h="undefined"!=typeof t?t:self,f=h.MutationObserver||h.WebKitMutationObserver;a="function"==typeof f?i(r):o(r),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(7),c=r(u),l=n(81),h=n(153),f=r(h),d=n(89),p=r(d),m=n(88),g=r(m),v=n(87),y=r(v);window.visibilityCallback=function(e){var t={};e.forEach(function(e){t[e.markerId]=e.object3d.visible;var n=document.querySelector("#marker_"+e.markerId);n&&(n.style.display=e.object3d.visible?"block":"none")})},window.markerCallback=function(e){var t=document.querySelector("#vr-root"),n=parseInt(t.style.width,10),r=parseInt(t.style.height,10),i=e.data.marker.pos,o=document.querySelector("#marker_"+e.data.marker.idMatrix);o&&(o.style.left=""+i[0]*n/640+"px",o.style.top=""+i[1]*r/480+"px")};var b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={users:[]},n}return a(t,e),s(t,[{key:"init",value:function(){this.ref=g.default.syncState("/users",{context:this,state:"users"}),this.ref2=g.default.syncState("/classStats/current/averagePage",{context:this,isNullable:!0,state:"averagePage"}),window.setState=this.setState.bind(this)}},{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){g.default.removeBinding(this.ref),g.default.removeBinding(this.ref2)}},{key:"componentWillReceiveProps",value:function(){g.default.removeBinding(this.ref),g.default.removeBinding(this.ref2),this.init()}},{key:"render",value:function(){var e=this.state,t=e.users,n=e.averagePage;return t=Object.keys(t).map(function(e){return t[e]}),t=t.map(function(e){return(0,y.default)(e,n)}),c.default.createElement("div",{className:"App"},c.default.createElement("div",{id:"vr-root"},c.default.createElement(f.default,{users:t}),t.map(function(e){return c.default.createElement(l.Link,{key:e.id,to:"/users/"+e.id,className:"marker",id:"marker_"+e.markerId},c.default.createElement("img",{className:"info",src:"icons/info.svg"}),c.default.createElement("h1",null,e.name),c.default.createElement("p",{className:"progress"},p.default.progress[e.progress]))})),this.props.children)}}]),t}(u.Component);t.default=b},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=r(i),a=5;t.default=function(e){for(var t=e.value,n=[],r=0;r<t;r++)n.push(o.default.createElement("span",{key:r,className:"dot filled"}));for(var i=t;i<a;i++)n.push(o.default.createElement("span",{key:i,className:"dot unfilled"}));return o.default.createElement("div",{className:"level"},o.default.createElement("span",{className:"legend"},"Novice"),n,o.default.createElement("span",{className:"legend"},"Guru"))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=r(i);t.default=function(e){var t=e.value;return o.default.createElement("div",{className:"progress-bar"},o.default.createElement("div",{className:"progress-bar-inner",style:{width:100*t+"%"}}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=r(i),a=n(81),s=n(148),u=r(s),c=n(149),l=r(c),h=n(154),f=r(h),d=function(){return o.default.createElement("h1",null,"404")};t.default=function(){return o.default.createElement(a.Router,{history:a.hashHistory},o.default.createElement(a.Route,{path:"/",component:u.default},o.default.createElement(a.IndexRoute,{component:l.default}),o.default.createElement(a.Route,{path:"users"},o.default.createElement(a.IndexRoute,{component:l.default}),o.default.createElement(a.Route,{path:":id",component:f.default})),o.default.createElement(a.Route,{path:"*",component:d})))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=r(i);t.default=function(e){var t=e.users;return o.default.createElement("a-scene",{embedded:!0,"vr-mode-ui":"enabled: false",artoolkit:"detectionMode: mono_and_matrix; matrixCodeType: 3x3; sourceType: webcam;"},Object.keys(t).map(function(e){var n=t[e];return o.default.createElement("a-marker",{key:n.id,type:"barcode",value:n.markerId,barcodeValue:n.markerId},o.default.createElement("a-image",{src:"./progress/"+n.progress+".png",depth:"1",height:"1",width:"1",rotation:"90 0 0",position:"0 0.01 0"}))}),o.default.createElement("a-entity",{camera:!0}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(7),c=r(u),l=n(81),h=n(150),f=r(h),d=n(151),p=r(d),m=n(89),g=r(m),v=n(88),y=r(v),b=n(87),w=r(b);window.db=y.default;var M=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={user:{},pdfStat:{numPages:1,pageNumber:0,sections:[]}},n}return a(t,e),s(t,[{key:"init",value:function(){var e=this.props.params;this.ref=y.default.syncState("/users/"+e.id,{context:this,state:"user"}),this.ref2=y.default.syncState("/users/"+e.id+"/pdfStat",{context:this,isNullable:!0,state:"pdfStat"}),this.ref3=y.default.syncState("/classStats/current/averagePage",{context:this,isNullable:!0,state:"averagePage"})}},{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){y.default.removeBinding(this.ref),y.default.removeBinding(this.ref2),y.default.removeBinding(this.ref3)}},{key:"componentWillReceiveProps",value:function(){y.default.removeBinding(this.ref),y.default.removeBinding(this.ref2),y.default.removeBinding(this.ref3),this.init()}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.pdfStat,r=e.averagePage;t=(0,w.default)(t,r),n=n||{numPages:1,pageNumber:0,sections:[]};var i=n,o=i.numPages,a=i.pageNumber,s=i.sections,u=a/o;return s=s.map(function(e){return e.replace(/Chapter/g,"Ch.").replace(/Part/g,"Pt.")}),c.default.createElement("div",{className:"modal animated fadeInUp"},c.default.createElement(l.Link,{to:"/",className:"close"},c.default.createElement("img",{src:"icons/close.svg"})),c.default.createElement("h1",{className:"name"},t.name),c.default.createElement("h2",{className:"progress"},g.default.progress[t.progress]),c.default.createElement("h2",{className:"progress"},"Book Progress: ",Math.round(100*u),"% (Pg. ",a,")"),c.default.createElement(p.default,{value:u}),c.default.createElement("section",{className:"row"},c.default.createElement("h3",null,"Role:"),c.default.createElement("p",null,t.background||"—")),c.default.createElement("section",{className:"row"},c.default.createElement("h3",null,"Goals:"),c.default.createElement("p",null,t.goal||"—")),c.default.createElement("section",{className:"row"},c.default.createElement("h3",null,"Current Section:"),c.default.createElement("ul",{className:"outline"},s.map(function(e,t){return c.default.createElement("li",{key:t,className:"animated delayed fadeInUp level-"+t},e)}))),c.default.createElement("section",{className:"row"},c.default.createElement("h3",null,"Topics:"),c.default.createElement("p",null,t.topics||"—")),c.default.createElement("section",{className:"row"},c.default.createElement("h3",null,"Hand Raises this Class:"),c.default.createElement("p",null,t.handRaiseCount||"—")),c.default.createElement("section",{className:"row"},c.default.createElement("h3",null,"Skill Level:"),c.default.createElement(f.default,{value:t.level})))}}]),t}(u.Component);t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(7),o=r(i),a=n(203),s=r(a);n(146),n(145),n(144),n(167);var u=n(152),c=r(u);s.default.render(o.default.createElement(c.default,null),document.getElementById("root"))},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function i(e){var t,r,i,o,a,s,u=e.length;a=n(e),s=new l(3*u/4-a),i=a>0?u-4:u;var h=0;for(t=0,r=0;t<i;t+=4,r+=3)o=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],s[h++]=o>>16&255,s[h++]=o>>8&255,s[h++]=255&o;return 2===a?(o=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,s[h++]=255&o):1===a&&(o=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,s[h++]=o>>8&255,s[h++]=255&o),s}function o(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function a(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(o(r));return i.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",o=[],s=16383,c=0,l=n-r;c<l;c+=s)o.push(a(e,c,c+s>l?l:c+s));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=s;for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=h.length;f<d;++f)u[f]=h[f],c[h.charCodeAt(f)]=f;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t,n){(function(t){function r(e,n,o){return this instanceof r?(s.call(this),this._cache=new i,this._last=void 0,this._cipher=new a.AES(n),this._prev=new t(o.length),o.copy(this._prev),void(this._mode=e)):new r(e,n,o)}function i(){return this instanceof i?void(this.cache=new t("")):new i}function o(e){var t=e[15];if(16!==t)return e.slice(0,16-t)}var a=n(51),s=n(52),u=n(12),c=n(53),l=n(96),h=n(90);u(r,s),r.prototype._transform=function(e,t,n){this._cache.add(e);for(var r,i;r=this._cache.get();)i=this._mode.decrypt(this,r),this.push(i);n()},r.prototype._flush=function(e){var t=this._cache.flush();return t?(this.push(o(this._mode.decrypt(this,t))),void e()):e},i.prototype.add=function(e){this.cache=t.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>16){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},i.prototype.flush=function(){if(this.cache.length)return this.cache};var f={ECB:n(94),CBC:n(91),CFB:n(92),OFB:n(95),CTR:n(93)};e.exports=function(e){function n(e,n,i){var o=c[e];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new t(i)),"string"==typeof n&&(n=new t(n)),n.length!==o.key/8)throw new TypeError("invalid key length "+n.length);if(i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new l(f[o.mode],n,i,!0):new r(f[o.mode],n,i)}function i(t,r){var i=c[t];if(!i)throw new TypeError("invalid suite type");var o=h(e,r,i.key,i.iv);return n(t,o.key,o.iv)}return{createDecipher:i,createDecipheriv:n}}}).call(t,n(4).Buffer)},function(e,t,n){(function(t){function r(e,n,s){return this instanceof r?(a.call(this),this._cache=new i,this._cipher=new o.AES(n),this._prev=new t(s.length),s.copy(this._prev),void(this._mode=e)):new r(e,n,s)}function i(){return this instanceof i?void(this.cache=new t("")):new i}var o=n(51),a=n(52),s=n(12),u=n(53),c=n(90),l=n(96);s(r,a),r.prototype._transform=function(e,t,n){this._cache.add(e);for(var r,i;r=this._cache.get();)i=this._mode.encrypt(this,r),this.push(i);n()},r.prototype._flush=function(e){var t=this._cache.flush();this.push(this._mode.encrypt(this,t)),this._cipher.scrub(),e()},i.prototype.add=function(e){this.cache=t.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},i.prototype.flush=function(){for(var e=16-this.cache.length,n=new t(e),r=-1;++r<e;)n.writeUInt8(e,r);var i=t.concat([this.cache,n]);return i};var h={ECB:n(94),CBC:n(91),CFB:n(92),OFB:n(95),CTR:n(93)};e.exports=function(e){function n(e,n,i){var o=u[e];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new t(i)),"string"==typeof n&&(n=new t(n)),n.length!==o.key/8)throw new TypeError("invalid key length "+n.length);if(i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new l(h[o.mode],n,i):new r(h[o.mode],n,i)}function i(t,r){var i=u[t];if(!i)throw new TypeError("invalid suite type");var o=c(e,r,i.key,i.iv);return n(t,o.key,o.iv)}return{createCipher:i,createCipheriv:n}}}).call(t,n(4).Buffer)},function(e,t,n){e.exports=function(e,t){function r(){return Object.keys(a)}t=t||{};var i=n(158)(e);t.createCipher=i.createCipher,t.createCipheriv=i.createCipheriv;var o=n(157)(e);t.createDecipher=o.createDecipher,t.createDecipheriv=o.createDecipheriv;var a=n(53);t.listCiphers=r}},function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){function i(e,t){var n=y.hasOwnProperty(t)?y[t]:null;M.hasOwnProperty(t)&&u("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&u("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function o(e,n){if(n){u("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),u(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;n.hasOwnProperty(c)&&b.mixins(e,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==c){var s=n[a],l=r.hasOwnProperty(a);if(i(l,a),b.hasOwnProperty(a))b[a](e,s);else{var h=y.hasOwnProperty(a),p="function"==typeof s,m=p&&!h&&!l&&n.autobind!==!1;if(m)o.push(a,s),r[a]=s;else if(l){var g=y[a];u(h&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,a),"DEFINE_MANY_MERGED"===g?r[a]=f(r[a],s):"DEFINE_MANY"===g&&(r[a]=d(r[a],s))}else r[a]=s}}}else;}function l(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in b;u(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;u(!o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function h(e,t){u(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(u(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return h(i,n),h(i,r),i}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function p(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=p(e,i)}}function g(e){var t=r(function(e,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=s,this.updater=i||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;u("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o});t.prototype=new E,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],v.forEach(o.bind(null,t)),o(t,w),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),u(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in y)t.prototype[i]||(t.prototype[i]=null);return t}var v=[],y={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=a({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=a({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=a({},e.propTypes,t)},statics:function(e,t){l(e,t)},autobind:function(){}},w={componentDidMount:function(){this.__isMounted=!0},componentWillUnmount:function(){this.__isMounted=!1}},M={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},E=function(){};return a(E.prototype,e.prototype,M),g}var o,a=n(5),s=n(24),u=n(1),c="mixins";o={},e.exports=i},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);this._opad=u,this._alg=e;var a="sha512"===e?128:64;n=this._key=t.isBuffer(n)?n:new t(n),n.length>a?n=i(e).update(n).digest():n.length<a&&(n=t.concat([n,o],a));for(var s=this._ipad=new t(a),u=this._opad=new t(a),c=0;c<a;c++)s[c]=54^n[c],u[c]=92^n[c];this._hash=i(e).update(s)}var i=n(97),o=new t(128);o.fill(0),e.exports=r,r.prototype.update=function(e,t){return this._hash.update(e,t),this},r.prototype.digest=function(e){var t=this._hash.digest();return i(this._alg).update(this._opad).update(t).digest(e)}}).call(t,n(4).Buffer)},function(e,t,n){(function(t){function n(e,n){if(e.length%o!==0){var r=e.length+(o-e.length%o);e=t.concat([e,a],r)}for(var i=[],s=n?e.readInt32BE:e.readInt32LE,u=0;u<e.length;u+=o)i.push(s.call(e,u));return i}function r(e,n,r){for(var i=new t(n),o=r?i.writeInt32BE:i.writeInt32LE,a=0;a<e.length;a++)o.call(i,e[a],4*a,!0);return i}function i(e,i,o,a){t.isBuffer(e)||(e=new t(e));var u=i(n(e,a),e.length*s);return r(u,o,a)}var o=4,a=new t(o);a.fill(0);var s=8;e.exports={hash:i}}).call(t,n(4).Buffer)},function(e,t,n){(function(r){function i(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function o(e,t){for(var n in e)t(e[n],n)}var a=n(166);t.createHash=n(97),
t.createHmac=n(161),t.randomBytes=function(e,t){if(!t||!t.call)return new r(a(e));try{t.call(this,void 0,new r(a(e)))}catch(e){t(e)}},t.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var s=n(165)(t);t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync,n(159)(t,e.exports),o(["createCredentials","createSign","createVerify","createDiffieHellman"],function(e){t[e]=function(){i("sorry,",e,"is not implemented yet")}})}).call(t,n(4).Buffer)},function(e,t,n){function r(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,h=0;h<e.length;h+=16){var f=n,d=r,p=i,m=l;n=o(n,r,i,l,e[h+0],7,-680876936),l=o(l,n,r,i,e[h+1],12,-389564586),i=o(i,l,n,r,e[h+2],17,606105819),r=o(r,i,l,n,e[h+3],22,-1044525330),n=o(n,r,i,l,e[h+4],7,-176418897),l=o(l,n,r,i,e[h+5],12,1200080426),i=o(i,l,n,r,e[h+6],17,-1473231341),r=o(r,i,l,n,e[h+7],22,-45705983),n=o(n,r,i,l,e[h+8],7,1770035416),l=o(l,n,r,i,e[h+9],12,-1958414417),i=o(i,l,n,r,e[h+10],17,-42063),r=o(r,i,l,n,e[h+11],22,-1990404162),n=o(n,r,i,l,e[h+12],7,1804603682),l=o(l,n,r,i,e[h+13],12,-40341101),i=o(i,l,n,r,e[h+14],17,-1502002290),r=o(r,i,l,n,e[h+15],22,1236535329),n=a(n,r,i,l,e[h+1],5,-165796510),l=a(l,n,r,i,e[h+6],9,-1069501632),i=a(i,l,n,r,e[h+11],14,643717713),r=a(r,i,l,n,e[h+0],20,-373897302),n=a(n,r,i,l,e[h+5],5,-701558691),l=a(l,n,r,i,e[h+10],9,38016083),i=a(i,l,n,r,e[h+15],14,-660478335),r=a(r,i,l,n,e[h+4],20,-405537848),n=a(n,r,i,l,e[h+9],5,568446438),l=a(l,n,r,i,e[h+14],9,-1019803690),i=a(i,l,n,r,e[h+3],14,-187363961),r=a(r,i,l,n,e[h+8],20,1163531501),n=a(n,r,i,l,e[h+13],5,-1444681467),l=a(l,n,r,i,e[h+2],9,-51403784),i=a(i,l,n,r,e[h+7],14,1735328473),r=a(r,i,l,n,e[h+12],20,-1926607734),n=s(n,r,i,l,e[h+5],4,-378558),l=s(l,n,r,i,e[h+8],11,-2022574463),i=s(i,l,n,r,e[h+11],16,1839030562),r=s(r,i,l,n,e[h+14],23,-35309556),n=s(n,r,i,l,e[h+1],4,-1530992060),l=s(l,n,r,i,e[h+4],11,1272893353),i=s(i,l,n,r,e[h+7],16,-155497632),r=s(r,i,l,n,e[h+10],23,-1094730640),n=s(n,r,i,l,e[h+13],4,681279174),l=s(l,n,r,i,e[h+0],11,-358537222),i=s(i,l,n,r,e[h+3],16,-722521979),r=s(r,i,l,n,e[h+6],23,76029189),n=s(n,r,i,l,e[h+9],4,-640364487),l=s(l,n,r,i,e[h+12],11,-421815835),i=s(i,l,n,r,e[h+15],16,530742520),r=s(r,i,l,n,e[h+2],23,-995338651),n=u(n,r,i,l,e[h+0],6,-198630844),l=u(l,n,r,i,e[h+7],10,1126891415),i=u(i,l,n,r,e[h+14],15,-1416354905),r=u(r,i,l,n,e[h+5],21,-57434055),n=u(n,r,i,l,e[h+12],6,1700485571),l=u(l,n,r,i,e[h+3],10,-1894986606),i=u(i,l,n,r,e[h+10],15,-1051523),r=u(r,i,l,n,e[h+1],21,-2054922799),n=u(n,r,i,l,e[h+8],6,1873313359),l=u(l,n,r,i,e[h+15],10,-30611744),i=u(i,l,n,r,e[h+6],15,-1560198380),r=u(r,i,l,n,e[h+13],21,1309151649),n=u(n,r,i,l,e[h+4],6,-145523070),l=u(l,n,r,i,e[h+11],10,-1120210379),i=u(i,l,n,r,e[h+2],15,718787259),r=u(r,i,l,n,e[h+9],21,-343485551),n=c(n,f),r=c(r,d),i=c(i,p),l=c(l,m)}return Array(n,r,i,l)}function i(e,t,n,r,i,o){return c(l(c(c(t,e),c(r,o)),i),n)}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function u(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}function c(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function l(e,t){return e<<t|e>>>32-t}var h=n(162);e.exports=function(e){return h.hash(e,r,16)}},function(e,t,n){var r=n(194);e.exports=function(e,t){t=t||{};var n=r(e);return t.pbkdf2=n.pbkdf2,t.pbkdf2Sync=n.pbkdf2Sync,t}},function(e,t,n){(function(t,r){!function(){var i=("undefined"==typeof window?t:window)||{};_crypto=i.crypto||i.msCrypto||n(317),e.exports=function(e){if(_crypto.getRandomValues){var t=new r(e);return _crypto.getRandomValues(t),t}if(_crypto.randomBytes)return _crypto.randomBytes(e);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(t,function(){return this}(),n(4).Buffer)},function(e,t){},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(168),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(178);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(1);e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.match(l);return t&&t[1].toLowerCase()}function i(e,t){var n=c;c?void 0:u(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var l=o[0];l--;)n=n.lastChild}else n.innerHTML=e;var h=n.getElementsByTagName("script");h.length&&(t?void 0:u(!1),a(h).forEach(t));for(var f=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return f}var o=n(8),a=n(171),s=n(173),u=n(1),c=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){return a?void 0:o(!1),f.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?f[e]:null}var i=n(8),o=n(1),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(e){f[e]=h,s[e]=!0}),e.exports=r},function(e,t){"use strict";function n(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(175),o=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(177);e.exports=r},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){(function(t){var r=n(35);(function(){(function(){var e,t=t||{},n=this,i=function(){},o=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},a=function(e){return null===e},s=function(e){return"array"==o(e)},u=function(e){var t=o(e);return"array"==t||"object"==t&&"number"==typeof e.length},c=function(e){return"string"==typeof e},l=function(e){return"number"==typeof e},h=function(e){return"function"==o(e)},f=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},d=function(e,t,n){return e.call.apply(e.bind,arguments)},p=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},m=function(e,t,n){return m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:p,m.apply(null,arguments)},g=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},v=Date.now||function(){return+new Date},y=function(e,t){function n(){}n.prototype=t.prototype,e.xd=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Tf=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}},b=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))};y(b,Error),b.prototype.name="CustomError";var w=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},M=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},E=/&/g,A=/</g,x=/>/g,T=/"/g,_=/'/g,k=/\x00/g,S=/[\x00&<>"']/,N=function(e,t){return-1!=e.indexOf(t)},L=function(e,t){return e<t?-1:e>t?1:0},D=function(e,t){t.unshift(e),b.call(this,w.apply(null,t)),t.shift()};y(D,b),D.prototype.name="AssertionError";var C,I=function(e,t,n,r){var i="Assertion failed";if(n)var i=i+(": "+n),o=r;else e&&(i+=": "+e,o=t);throw new D(""+i,o||[])},O=function(e,t,n){e||I("",null,t,Array.prototype.slice.call(arguments,2))},R=function(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},j=function(e,t,n){return l(e)||I("Expected number but got %s: %s.",[o(e),e],t,Array.prototype.slice.call(arguments,2)),e},P=function(e,t,n){c(e)||I("Expected string but got %s: %s.",[o(e),e],t,Array.prototype.slice.call(arguments,2))},U=function(e,t,n){h(e)||I("Expected function but got %s: %s.",[o(e),e],t,Array.prototype.slice.call(arguments,2))},F=Array.prototype.indexOf?function(e,t,n){return O(null!=e.length),Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,c(e))return c(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){O(null!=e.length),Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=c(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},B=function(e,t){for(var n=c(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)},H=Array.prototype.map?function(e,t,n){return O(null!=e.length),Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=c(e)?e.split(""):e,a=0;a<r;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},V=Array.prototype.some?function(e,t,n){return O(null!=e.length),Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=c(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&t.call(n,i[o],o,e))return!0;return!1},G=function(e){var t;e:{t=Dr;for(var n=e.length,r=c(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:c(e)?e.charAt(t):e[t]},Y=function(e,t){return 0<=F(e,t)},Q=function(e,t){t=F(e,t);var n;return(n=0<=t)&&W(e,t),n},W=function(e,t){return O(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},q=function(e,t){var n=0;B(e,function(r,i){t.call(void 0,r,i,e)&&W(e,i)&&n++})},X=function(e){return Array.prototype.concat.apply([],arguments)},K=function(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]},Z=function(e){return H(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")};e:{var J=n.navigator;if(J){var $=J.userAgent;if($){C=$;break e}}C=""}var ee=function(e){return N(C,e)},te=function(e,t){for(var n in e)t.call(void 0,e[n],n,e)},ne=function(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n},re=function(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n},ie=function(e){for(var t in e)return!1;return!0},oe=function(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(n in t)if(!(n in e))return!1;return!0},ae=function(e){var t,n={};for(t in e)n[t]=e[t];return n},se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ue=function(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<se.length;o++)n=se[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}},ce=function(e){return ce[" "](e),e};ce[" "]=i;var le,he=function(e,t){var n=xe;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)},fe=ee("Opera"),de=ee("Trident")||ee("MSIE"),pe=ee("Edge"),me=pe||de,ge=ee("Gecko")&&!(N(C.toLowerCase(),"webkit")&&!ee("Edge"))&&!(ee("Trident")||ee("MSIE"))&&!ee("Edge"),ve=N(C.toLowerCase(),"webkit")&&!ee("Edge"),ye=function(){var e=n.document;return e?e.documentMode:void 0};e:{var be="",we=function(){var e=C;return ge?/rv\:([^\);]+)(\)|;)/.exec(e):pe?/Edge\/([\d\.]+)/.exec(e):de?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ve?/WebKit\/(\S+)/.exec(e):fe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(we&&(be=we?we[1]:""),de){var Me=ye();if(null!=Me&&Me>parseFloat(be)){le=String(Me);break e}}le=be}var Ee,Ae=le,xe={},Te=function(e){return he(e,function(){for(var t=0,n=M(String(Ae)).split("."),r=M(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=L(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||L(0==a[2].length,0==s[2].length)||L(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})},_e=n.document;Ee=_e&&de?ye()||("CSS1Compat"==_e.compatMode?parseInt(Ae,10):5):void 0;var ke,Se=null,Ne=null,Le=function(e){var t="";return De(e,function(e){t+=String.fromCharCode(e)}),t},De=function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ne[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Ce();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}},Ce=function(){if(!Se){Se={},Ne={};for(var e=0;65>e;e++)Se[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Ne[Se[e]]=e,62<=e&&(Ne["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}},Ie=function(){this.Da=-1},Oe=function(e,t){this.Da=64,this.ec=n.Uint8Array?new Uint8Array(this.Da):Array(this.Da),this.Fc=this.hb=0,this.h=[],this.lf=e,this.Wd=t,this.Mf=n.Int32Array?new Int32Array(64):Array(64),void 0!==ke||(ke=n.Int32Array?new Int32Array(Fe):Fe),this.reset()};y(Oe,Ie);for(var Re=[],je=0;63>je;je++)Re[je]=0;var Pe=X(128,Re);Oe.prototype.reset=function(){this.Fc=this.hb=0,this.h=n.Int32Array?new Int32Array(this.Wd):K(this.Wd)};var Ue=function(e){var t=e.ec;O(t.length==e.Da);for(var n=e.Mf,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var i=0|n[t-15],r=0|n[t-2],o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}for(var r=0|e.h[0],i=0|e.h[1],s=0|e.h[2],u=0|e.h[3],c=0|e.h[4],l=0|e.h[5],h=0|e.h[6],o=0|e.h[7],t=0;64>t;t++)var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0,a=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|ke[t])|0,a=o+(a+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0;e.h[0]=e.h[0]+r|0,e.h[1]=e.h[1]+i|0,e.h[2]=e.h[2]+s|0,e.h[3]=e.h[3]+u|0,e.h[4]=e.h[4]+c|0,e.h[5]=e.h[5]+l|0,e.h[6]=e.h[6]+h|0,e.h[7]=e.h[7]+o|0};Oe.prototype.update=function(e,t){void 0===t&&(t=e.length);var n=0,r=this.hb;if(c(e))for(;n<t;)this.ec[r++]=e.charCodeAt(n++),r==this.Da&&(Ue(this),r=0);else{if(!u(e))throw Error("message must be string or array");for(;n<t;){var i=e[n++];if(!("number"==typeof i&&0<=i&&255>=i&&i==(0|i)))throw Error("message must be a byte array");this.ec[r++]=i,r==this.Da&&(Ue(this),r=0)}}this.hb=r,this.Fc+=t},Oe.prototype.digest=function(){var e=[],t=8*this.Fc;56>this.hb?this.update(Pe,56-this.hb):this.update(Pe,this.Da-(this.hb-56));for(var n=63;56<=n;n--)this.ec[n]=255&t,t/=256;for(Ue(this),n=t=0;n<this.lf;n++)for(var r=24;0<=r;r-=8)e[t++]=this.h[n]>>r&255;return e};var Fe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ze=function(){Oe.call(this,8,Be)};y(ze,Oe);var Be=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],He=function(){this.Ga=this.Ga,this.tc=this.tc};He.prototype.Ga=!1,He.prototype.isDisposed=function(){return this.Ga},He.prototype.cb=function(){if(this.tc)for(;this.tc.length;)this.tc.shift()()};var Ve=!de||9<=Number(Ee),Ge=de&&!Te("9");!ve||Te("528"),ge&&Te("1.9b")||de&&Te("8")||fe&&Te("9.5")||ve&&Te("528"),ge&&!Te("8")||de&&Te("9");var Ye=function(e,t){this.type=e,this.currentTarget=this.target=t,this.defaultPrevented=this.nb=!1,this.ee=!0};Ye.prototype.preventDefault=function(){this.defaultPrevented=!0,this.ee=!1};var Qe=function(e,t){Ye.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.eb=this.state=null,e&&this.init(e,t)};y(Qe,Ye),Qe.prototype.init=function(e,t){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.currentTarget=t,t=e.relatedTarget){if(ge){var i;e:{try{ce(t.nodeName),i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.offsetX=ve||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=ve||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.state=e.state,this.eb=e,e.defaultPrevented&&this.preventDefault()},Qe.prototype.preventDefault=function(){Qe.xd.preventDefault.call(this);var e=this.eb;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ge)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Qe.prototype.Pe=function(){return this.eb};var We="closure_listenable_"+(1e6*Math.random()|0),qe=0,Xe=function(e,t,n,r,i){this.listener=e,this.xc=null,this.src=t,this.type=n,this.capture=!!r,this.kc=i,this.key=++qe,this.rb=this.dc=!1},Ke=function(e){e.rb=!0,e.listener=null,e.xc=null,e.src=null,e.kc=null},Ze=function(e){this.src=e,this.G={},this.$b=0};Ze.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.G[o],e||(e=this.G[o]=[],this.$b++);var a=$e(e,t,r,i);return-1<a?(t=e[a],n||(t.dc=!1)):(t=new Xe(t,this.src,o,!!r,i),t.dc=n,e.push(t)),t},Ze.prototype.remove=function(e,t,n,r){if(e=e.toString(),!(e in this.G))return!1;var i=this.G[e];return t=$e(i,t,n,r),-1<t&&(Ke(i[t]),W(i,t),0==i.length&&(delete this.G[e],this.$b--),!0)};var Je=function(e,t){var n=t.type;n in e.G&&Q(e.G[n],t)&&(Ke(t),0==e.G[n].length&&(delete e.G[n],e.$b--))};Ze.prototype.Uc=function(e,t,n,r){e=this.G[e.toString()];var i=-1;return e&&(i=$e(e,t,n,r)),-1<i?e[i]:null};var $e=function(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.rb&&o.listener==t&&o.capture==!!n&&o.kc==r)return i}return-1},et="closure_lm_"+(1e6*Math.random()|0),tt={},nt=0,rt=function(e,t,n,r,i){if(s(t))for(var o=0;o<t.length;o++)rt(e,t[o],n,r,i);else n=mt(n),e&&e[We]?e.listen(t,n,r,i):it(e,t,n,!1,r,i)},it=function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=!!i,s=dt(e);if(s||(e[et]=s=new Ze(e)),n=s.add(t,n,r,i,o),!n.xc){if(r=ot(),n.xc=r,r.src=e,r.listener=n,e.addEventListener)e.addEventListener(t.toString(),r,a);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(ct(t.toString()),r)}nt++}},ot=function(){var e=ft,t=Ve?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t},at=function(e,t,n,r,i){if(s(t))for(var o=0;o<t.length;o++)at(e,t[o],n,r,i);else n=mt(n),e&&e[We]?vr(e,t,n,r,i):it(e,t,n,!0,r,i)},st=function(e,t,n,r,i){if(s(t))for(var o=0;o<t.length;o++)st(e,t[o],n,r,i);else n=mt(n),e&&e[We]?e.fa.remove(String(t),n,r,i):e&&(e=dt(e))&&(t=e.Uc(t,n,!!r,i))&&ut(t)},ut=function(e){if(!l(e)&&e&&!e.rb){var t=e.src;if(t&&t[We])Je(t.fa,e);else{var n=e.type,r=e.xc;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent&&t.detachEvent(ct(n),r),nt--,(n=dt(t))?(Je(n,e),0==n.$b&&(n.src=null,t[et]=null)):Ke(e)}}},ct=function(e){return e in tt?tt[e]:tt[e]="on"+e},lt=function(e,t,n,r){var i=!0;if((e=dt(e))&&(t=e.G[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.rb&&(o=ht(o,r),i=i&&!1!==o)}return i},ht=function(e,t){var n=e.listener,r=e.kc||e.src;return e.dc&&ut(e),n.call(r,t)},ft=function(e,t){if(e.rb)return!0;if(!Ve){if(!t)e:{t=["window","event"];for(var r,i=n;r=t.shift();){if(null==i[r]){t=null;break e}i=i[r]}t=i}if(r=t,t=new Qe(r,this),i=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.currentTarget;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;!t.nb&&0<=o;o--){t.currentTarget=r[o];var a=lt(r[o],e,!0,t),i=i&&a}for(o=0;!t.nb&&o<r.length;o++)t.currentTarget=r[o],a=lt(r[o],e,!1,t),i=i&&a}return i}return ht(e,new Qe(t,this))},dt=function(e){return e=e[et],e instanceof Ze?e:null},pt="__closure_events_fn_"+(1e9*Math.random()>>>0),mt=function(e){return O(e,"Listener can not be null."),h(e)?e:(O(e.handleEvent,"An object listener must have handleEvent method."),e[pt]||(e[pt]=function(t){return e.handleEvent(t)}),e[pt])},gt=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/,vt=function(){this.Cc="",this.we=bt};vt.prototype.Eb=!0,vt.prototype.Bb=function(){return this.Cc},vt.prototype.toString=function(){return"Const{"+this.Cc+"}"};var yt=function(e){return e instanceof vt&&e.constructor===vt&&e.we===bt?e.Cc:(R("expected object of type Const, got '"+e+"'"),"type_error:Const")},bt={},wt=function(e){var t=new vt;return t.Cc=e,t};wt("");var Mt=function(){this.wc="",this.xe=Et};Mt.prototype.Eb=!0,Mt.prototype.Bb=function(){return this.wc},Mt.prototype.toString=function(){return"TrustedResourceUrl{"+this.wc+"}"};var Et={},At=function(){this.pa="",this.ve=kt};At.prototype.Eb=!0,At.prototype.Bb=function(){return this.pa},At.prototype.toString=function(){return"SafeUrl{"+this.pa+"}"};var xt=function(e){return e instanceof At&&e.constructor===At&&e.ve===kt?e.pa:(R("expected object of type SafeUrl, got '"+e+"' of type "+o(e)),"type_error:SafeUrl")},Tt=/^(?:(?:https?|mailto|ftp):|[^&:\/?#]*(?:[\/?#]|$))/i,_t=function(e){return e instanceof At?e:(e=e.Eb?e.Bb():String(e),Tt.test(e)||(e="about:invalid#zClosurez"),St(e))},kt={},St=function(e){var t=new At;return t.pa=e,t};St("about:blank");var Nt=function(e){var t=[];return Dt(new Lt,e,t),t.join("")},Lt=function(){this.yc=void 0},Dt=function(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(s(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),i=r[o],Dt(e,e.yc?e.yc.call(r,String(o),i):i,n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),o="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i=t[r],"function"!=typeof i&&(n.push(o),Ot(r,n),n.push(":"),Dt(e,e.yc?e.yc.call(t,r,i):i,n),o=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Ot(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}},Ct={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},It=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ot=function(e,t){t.push('"',e.replace(It,function(e){var t=Ct[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Ct[e]=t),t}),'"')},Rt=function(){};Rt.prototype.Dd=null;var jt,Pt=function(e){return e.Dd||(e.Dd=e.$c())},Ut=function(){};y(Ut,Rt),Ut.prototype.fc=function(){var e=Ft(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ut.prototype.$c=function(){var e={};return Ft(this)&&(e[0]=!0,e[1]=!0),e};var Ft=function(e){if(!e.Vd&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.Vd=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.Vd};jt=new Ut;var zt=function(){};y(zt,Rt),zt.prototype.fc=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Bt;throw Error("Unsupported browser")},zt.prototype.$c=function(){return{}};var Bt=function(){this.ua=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText=this.responseXML=null,this.ua.onload=m(this.Re,this),this.ua.onerror=m(this.Sd,this),this.ua.onprogress=m(this.Se,this),this.ua.ontimeout=m(this.Te,this)};e=Bt.prototype,e.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.ua.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.ua.send(e)}else this.ua.send()},e.abort=function(){this.ua.abort()},e.setRequestHeader=function(){},e.Re=function(){this.status=200,this.responseText=this.ua.responseText,Ht(this,4)},e.Sd=function(){this.status=500,this.responseText="",Ht(this,4)},e.Te=function(){this.Sd()},e.Se=function(){this.status=200,Ht(this,1)};var Ht=function(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()},Vt=function(e,t,n){this.ef=n,this.Fe=e,this.wf=t,this.sc=0,this.lc=null};Vt.prototype.get=function(){var e;return 0<this.sc?(this.sc--,e=this.lc,this.lc=e.next,e.next=null):e=this.Fe(),e},Vt.prototype.put=function(e){this.wf(e),this.sc<this.ef&&(this.sc++,e.next=this.lc,this.lc=e)};var Gt,Yt=function(e){n.setTimeout(function(){throw e},0)},Qt=function(){var e=n.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ee("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,e=t.document;e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,e=m(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this);t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!=typeof e&&!ee("Trident")&&!ee("MSIE")){var t=new e,r={},i=r;return t.port1.onmessage=function(){if(void 0!==r.next){r=r.next;var e=r.Gd;r.Gd=null,e()}},function(e){i.next={Gd:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)}},Wt=function(){this.Jc=this.Za=null},qt=new Vt(function(){return new Xt},function(e){e.reset()},100);Wt.prototype.add=function(e,t){var n=qt.get();n.set(e,t),this.Jc?this.Jc.next=n:(O(!this.Za),this.Za=n),this.Jc=n},Wt.prototype.remove=function(){var e=null;return this.Za&&(e=this.Za,this.Za=this.Za.next,this.Za||(this.Jc=null),e.next=null),e};var Xt=function(){this.next=this.scope=this.Tc=null};Xt.prototype.set=function(e,t){this.Tc=e,this.scope=t,this.next=null},Xt.prototype.reset=function(){this.next=this.scope=this.Tc=null};var Kt,Zt=function(e,t){Kt||Jt(),$t||(Kt(),$t=!0),en.add(e,t)},Jt=function(){if(-1!=String(n.Promise).indexOf("[native code]")){var e=n.Promise.resolve(void 0);Kt=function(){e.then(tn)}}else Kt=function(){var e=tn;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!ee("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(Gt||(Gt=Qt()),Gt(e)):n.setImmediate(e)}},$t=!1,en=new Wt,tn=function(){for(var e;e=en.remove();){try{e.Tc.call(e.scope)}catch(e){Yt(e)}qt.put(e)}$t=!1};!ge&&!de||de&&9<=Number(Ee)||ge&&Te("1.9.1"),de&&Te("9");var nn=function(){this.pa="",this.ue=on};nn.prototype.Eb=!0,nn.prototype.Bb=function(){return this.pa},nn.prototype.toString=function(){return"SafeHtml{"+this.pa+"}"};var rn=function(e){return e instanceof nn&&e.constructor===nn&&e.ue===on?e.pa:(R("expected object of type SafeHtml, got '"+e+"' of type "+o(e)),"type_error:SafeHtml")},on={};nn.prototype.$e=function(e){return this.pa=e,this};var an=function(e,t){te(t,function(t,n){t&&t.Eb&&(t=t.Bb()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:sn.hasOwnProperty(n)?e.setAttribute(sn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})},sn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},un=function(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0},cn=function(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}},ln=function(e,t){if(this.N=0,this.ra=void 0,this.bb=this.na=this.s=null,this.jc=this.Sc=!1,e!=i)try{var n=this;e.call(t,function(e){En(n,2,e)},function(e){if(!(e instanceof Dn))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}En(n,3,e)})}catch(e){En(this,3,e)}},hn=function(){this.next=this.context=this.jb=this.Oa=this.child=null,this.xb=!1};hn.prototype.reset=function(){this.context=this.jb=this.Oa=this.child=null,this.xb=!1};var fn=new Vt(function(){return new hn},function(e){e.reset()},100),dn=function(e,t,n){var r=fn.get();return r.Oa=e,
r.jb=t,r.context=n,r},pn=function(e){if(e instanceof ln)return e;var t=new ln(i);return En(t,2,e),t},mn=function(e){return new ln(function(t,n){n(e)})},gn=function(e,t,n){An(e,t,n,null)||Zt(g(t,e))},vn=function(e){return new ln(function(t){var n=e.length,r=[];if(n)for(var i,o=function(e,i,o){n--,r[e]=i?{Ne:!0,value:o}:{Ne:!1,reason:o},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],gn(i,g(o,a,!0),g(o,a,!1));else t(r)})};ln.prototype.then=function(e,t,n){return null!=e&&U(e,"opt_onFulfilled should be a function."),null!=t&&U(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Mn(this,h(e)?e:null,h(t)?t:null,n)},un(ln);var yn=function(e,t){return t=dn(t,t,void 0),t.xb=!0,wn(e,t),e};ln.prototype.f=function(e,t){return Mn(this,null,e,t)},ln.prototype.cancel=function(e){0==this.N&&Zt(function(){var t=new Dn(e);bn(this,t)},this)};var bn=function(e,t){if(0==e.N)if(e.s){var n=e.s;if(n.na){for(var r=0,i=null,o=null,a=n.na;a&&(a.xb||(r++,a.child==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(0==n.N&&1==r?bn(n,t):(o?(r=o,O(n.na),O(null!=r),r.next==n.bb&&(n.bb=r),r.next=r.next.next):_n(n),kn(n,i,3,t)))}e.s=null}else En(e,3,t)},wn=function(e,t){e.na||2!=e.N&&3!=e.N||Tn(e),O(null!=t.Oa),e.bb?e.bb.next=t:e.na=t,e.bb=t},Mn=function(e,t,n,r){var i=dn(null,null,null);return i.child=new ln(function(e,o){i.Oa=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.jb=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Dn?o(t):e(i)}catch(e){o(e)}}:o}),i.child.s=e,wn(e,i),i.child};ln.prototype.Jf=function(e){O(1==this.N),this.N=0,En(this,2,e)},ln.prototype.Kf=function(e){O(1==this.N),this.N=0,En(this,3,e)};var En=function(e,t,n){0==e.N&&(e===n&&(t=3,n=new TypeError("Promise cannot resolve to itself")),e.N=1,An(n,e.Jf,e.Kf,e)||(e.ra=n,e.N=t,e.s=null,Tn(e),3!=t||n instanceof Dn||Nn(e,n)))},An=function(e,t,n,r){if(e instanceof ln)return null!=t&&U(t,"opt_onFulfilled should be a function."),null!=n&&U(n,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),wn(e,dn(t||i,n||null,r)),!0;if(cn(e))return e.then(t,n,r),!0;if(f(e))try{var o=e.then;if(h(o))return xn(e,o,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1},xn=function(e,t,n,r,i){var o=!1,a=function(e){o||(o=!0,n.call(i,e))},s=function(e){o||(o=!0,r.call(i,e))};try{t.call(e,a,s)}catch(e){s(e)}},Tn=function(e){e.Sc||(e.Sc=!0,Zt(e.Je,e))},_n=function(e){var t=null;return e.na&&(t=e.na,e.na=t.next,t.next=null),e.na||(e.bb=null),null!=t&&O(null!=t.Oa),t};ln.prototype.Je=function(){for(var e;e=_n(this);)kn(this,e,this.N,this.ra);this.Sc=!1};var kn=function(e,t,n,r){if(3==n&&t.jb&&!t.xb)for(;e&&e.jc;e=e.s)e.jc=!1;if(t.child)t.child.s=null,Sn(t,n,r);else try{t.xb?t.Oa.call(t.context):Sn(t,n,r)}catch(e){Ln.call(null,e)}fn.put(t)},Sn=function(e,t,n){2==t?e.Oa.call(e.context,n):e.jb&&e.jb.call(e.context,n)},Nn=function(e,t){e.jc=!0,Zt(function(){e.jc&&Ln.call(null,t)})},Ln=Yt,Dn=function(e){b.call(this,e)};y(Dn,b),Dn.prototype.name="cancel";var Cn=function(e,t){this.zc=[],this.$d=e,this.Jd=t||null,this.Cb=this.fb=!1,this.ra=void 0,this.ud=this.Cd=this.Nc=!1,this.Gc=0,this.s=null,this.Oc=0};Cn.prototype.cancel=function(e){if(this.fb)this.ra instanceof Cn&&this.ra.cancel();else{if(this.s){var t=this.s;delete this.s,e?t.cancel(e):(t.Oc--,0>=t.Oc&&t.cancel())}this.$d?this.$d.call(this.Jd,this):this.ud=!0,this.fb||Rn(this,new Hn)}},Cn.prototype.Hd=function(e,t){this.Nc=!1,In(this,e,t)};var In=function(e,t,n){e.fb=!0,e.ra=n,e.Cb=!t,zn(e)},On=function(e){if(e.fb){if(!e.ud)throw new Bn;e.ud=!1}};Cn.prototype.callback=function(e){On(this),jn(e),In(this,!0,e)};var Rn=function(e,t){On(e),jn(t),In(e,!1,t)},jn=function(e){O(!(e instanceof Cn),"An execution sequence may not be initiated with a blocking Deferred.")},Pn=function(e){var t=Yn("https://apis.google.com/js/client.js?onload="+Vo);Un(t,null,e,void 0)},Un=function(e,t,n,r){O(!e.Cd,"Blocking Deferreds can not be re-used"),e.zc.push([t,n,r]),e.fb&&zn(e)};Cn.prototype.then=function(e,t,n){var r,i,o=new ln(function(e,t){r=e,i=t});return Un(this,r,function(e){e instanceof Hn?o.cancel():i(e)}),o.then(e,t,n)},un(Cn);var Fn=function(e){return V(e.zc,function(e){return h(e[1])})},zn=function(e){if(e.Gc&&e.fb&&Fn(e)){var t=e.Gc,r=Gn[t];r&&(n.clearTimeout(r.Db),delete Gn[t]),e.Gc=0}e.s&&(e.s.Oc--,delete e.s);for(var t=e.ra,i=r=!1;e.zc.length&&!e.Nc;){var o=e.zc.shift(),a=o[0],s=o[1],o=o[2];if(a=e.Cb?s:a)try{var u=a.call(o||e.Jd,t);void 0!==u&&(e.Cb=e.Cb&&(u==t||u instanceof Error),e.ra=t=u),(cn(t)||"function"==typeof n.Promise&&t instanceof n.Promise)&&(i=!0,e.Nc=!0)}catch(n){t=n,e.Cb=!0,Fn(e)||(r=!0)}}e.ra=t,i&&(u=m(e.Hd,e,!0),i=m(e.Hd,e,!1),t instanceof Cn?(Un(t,u,i),t.Cd=!0):t.then(u,i)),r&&(t=new Vn(t),Gn[t.Db]=t,e.Gc=t.Db)},Bn=function(){b.call(this)};y(Bn,b),Bn.prototype.message="Deferred has already fired",Bn.prototype.name="AlreadyCalledError";var Hn=function(){b.call(this)};y(Hn,b),Hn.prototype.message="Deferred was canceled",Hn.prototype.name="CanceledError";var Vn=function(e){this.Db=n.setTimeout(m(this.If,this),0),this.P=e};Vn.prototype.If=function(){throw O(Gn[this.Db],"Cannot throw an error that is not scheduled."),delete Gn[this.Db],this.P};var Gn={},Yn=function(e){var t=new Mt;return t.wc=e,Qn(t)},Qn=function(e){var t,n={},r=n.document||document;e instanceof Mt&&e.constructor===Mt&&e.xe===Et?t=e.wc:(R("expected object of type TrustedResourceUrl, got '"+e+"' of type "+o(e)),t="type_error:TrustedResourceUrl");var i=document.createElement("SCRIPT");e={fe:i,Zb:void 0};var a=new Cn(qn,e),s=null,u=null!=n.timeout?n.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Xn(i,!0),Rn(a,new Kn(1,"Timeout reached for loading script "+t))},u),e.Zb=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Xn(i,n.Uf||!1,s),a.callback(null))},i.onerror=function(){Xn(i,!0,s),Rn(a,new Kn(0,"Error while loading script "+t))},e=n.attributes||{},ue(e,{type:"text/javascript",charset:"UTF-8",src:t}),an(i,e),Wn(r).appendChild(i),a},Wn=function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement},qn=function(){if(this&&this.fe){var e=this.fe;e&&"SCRIPT"==e.tagName&&Xn(e,!0,this.Zb)}},Xn=function(e,t,r){null!=r&&n.clearTimeout(r),e.onload=i,e.onerror=i,e.onreadystatechange=i,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)},Kn=function(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),b.call(this,n),this.code=e};y(Kn,b);var Zn="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""},Jn=function(){};Jn.prototype.next=function(){throw Zn},Jn.prototype.ye=function(){return this};var $n=function(e,t){this.ga={},this.w=[],this.wb=this.o=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else e&&this.addAll(e)};$n.prototype.Z=function(){er(this);for(var e=[],t=0;t<this.w.length;t++)e.push(this.ga[this.w[t]]);return e},$n.prototype.oa=function(){return er(this),this.w.concat()},$n.prototype.yb=function(e){return tr(this.ga,e)},$n.prototype.remove=function(e){return!!tr(this.ga,e)&&(delete this.ga[e],this.o--,this.wb++,this.w.length>2*this.o&&er(this),!0)};var er=function(e){if(e.o!=e.w.length){for(var t=0,n=0;t<e.w.length;){var r=e.w[t];tr(e.ga,r)&&(e.w[n++]=r),t++}e.w.length=n}if(e.o!=e.w.length){for(var i={},n=t=0;t<e.w.length;)r=e.w[t],tr(i,r)||(e.w[n++]=r,i[r]=1),t++;e.w.length=n}};e=$n.prototype,e.get=function(e,t){return tr(this.ga,e)?this.ga[e]:t},e.set=function(e,t){tr(this.ga,e)||(this.o++,this.w.push(e),this.wb++),this.ga[e]=t},e.addAll=function(e){var t;e instanceof $n?(t=e.oa(),e=e.Z()):(t=re(e),e=ne(e));for(var n=0;n<t.length;n++)this.set(t[n],e[n])},e.forEach=function(e,t){for(var n=this.oa(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}},e.clone=function(){return new $n(this)},e.ye=function(e){er(this);var t=0,n=this.wb,r=this,i=new Jn;return i.next=function(){if(n!=r.wb)throw Error("The map has changed since the iterator was created");if(t>=r.w.length)throw Zn;var i=r.w[t++];return e?i:r.ga[i]},i};var tr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},nr=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if(c(e))return e.split("");if(u(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return ne(e)},rr=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.Z||"function"!=typeof e.Z){if(u(e)||c(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}return re(e)}},ir=function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(u(e)||c(e))z(e,t,void 0);else for(var n=rr(e),r=nr(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)},or=function(e,t,n,r,i){this.reset(e,t,n,r,i)};or.prototype.Md=null;var ar=0;or.prototype.reset=function(e,t,n,r,i){"number"==typeof i||ar++,r||v(),this.Ib=e,this.hf=t,delete this.Md},or.prototype.ie=function(e){this.Ib=e};var sr=function(e){this.jf=e,this.Td=this.Pc=this.Ib=this.s=null},ur=function(e,t){this.name=e,this.value=t};ur.prototype.toString=function(){return this.name};var cr=new ur("SEVERE",1e3),lr=new ur("CONFIG",700),hr=new ur("FINE",500);sr.prototype.getParent=function(){return this.s},sr.prototype.ie=function(e){this.Ib=e};var fr=function(e){return e.Ib?e.Ib:e.s?fr(e.s):(R("Root logger has no level set."),null)};sr.prototype.log=function(e,t,r){if(e.value>=fr(this).value)for(h(t)&&(t=t()),e=new or(e,String(t),this.jf),r&&(e.Md=r),r="log:"+e.hf,n.console&&(n.console.timeStamp?n.console.timeStamp(r):n.console.markTimeline&&n.console.markTimeline(r)),n.msWriteProfilerMark&&n.msWriteProfilerMark(r),r=this;r;){var i=r,o=e;if(i.Td)for(var a=0;t=i.Td[a];a++)t(o);r=r.getParent()}};var dr={},pr=null,mr=function(e){pr||(pr=new sr(""),dr[""]=pr,pr.ie(lr));var t;if(!(t=dr[e])){t=new sr(e);var n=e.lastIndexOf("."),r=e.substr(n+1),n=mr(e.substr(0,n));n.Pc||(n.Pc={}),n.Pc[r]=t,t.s=n,dr[e]=t}return t},gr=function(){He.call(this),this.fa=new Ze(this),this.ze=this,this.hd=null};y(gr,He),gr.prototype[We]=!0,e=gr.prototype,e.addEventListener=function(e,t,n,r){rt(this,e,t,n,r)},e.removeEventListener=function(e,t,n,r){st(this,e,t,n,r)},e.dispatchEvent=function(e){br(this);var t,n=this.hd;if(n){t=[];for(var r=1;n;n=n.hd)t.push(n),O(1e3>++r,"infinite loop")}if(n=this.ze,r=e.type||e,c(e))e=new Ye(e,n);else if(e instanceof Ye)e.target=e.target||n;else{var i=e;e=new Ye(r,n),ue(e,i)}var o,i=!0;if(t)for(var a=t.length-1;!e.nb&&0<=a;a--)o=e.currentTarget=t[a],i=yr(o,r,!0,e)&&i;if(e.nb||(o=e.currentTarget=n,i=yr(o,r,!0,e)&&i,e.nb||(i=yr(o,r,!1,e)&&i)),t)for(a=0;!e.nb&&a<t.length;a++)o=e.currentTarget=t[a],i=yr(o,r,!1,e)&&i;return i},e.cb=function(){if(gr.xd.cb.call(this),this.fa){var e,t=this.fa,n=0;for(e in t.G){for(var r=t.G[e],i=0;i<r.length;i++)++n,Ke(r[i]);delete t.G[e],t.$b--}}this.hd=null},e.listen=function(e,t,n,r){return br(this),this.fa.add(String(e),t,!1,n,r)};var vr=function(e,t,n,r,i){e.fa.add(String(t),n,!0,r,i)},yr=function(e,t,n,r){if(t=e.fa.G[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.rb&&a.capture==n){var s=a.listener,u=a.kc||a.src;a.dc&&Je(e.fa,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.ee};gr.prototype.Uc=function(e,t,n,r){return this.fa.Uc(String(e),t,n,r)};var br=function(e){O(e.fa,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},wr=function(e,t){e&&e.log(hr,t,void 0)},Mr=function(e,t,r){if(h(e))r&&(e=m(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=m(e.handleEvent,e)}return 2147483647<Number(t)?-1:n.setTimeout(e,t||0)},Er=function(e){var t=null;return new ln(function(n,r){t=Mr(function(){n(void 0)},e),-1==t&&r(Error("Failed to schedule timer."))}).f(function(e){throw n.clearTimeout(t),e})},Ar=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,xr=function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}},Tr=function(e){gr.call(this),this.headers=new $n,this.Lc=e||null,this.va=!1,this.Kc=this.b=null,this.Hb=this.Zd=this.qc="",this.Ka=this.Yc=this.oc=this.Rc=!1,this.sb=0,this.Ec=null,this.de="",this.Hc=this.sf=this.te=!1};y(Tr,gr);var _r=Tr.prototype,kr=mr("goog.net.XhrIo");_r.U=kr;var Sr=/^https?$/i,Nr=["POST","PUT"];Tr.prototype.send=function(e,t,r,i){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.qc+"; newUri="+e);t=t?t.toUpperCase():"GET",this.qc=e,this.Hb="",this.Zd=t,this.Rc=!1,this.va=!0,this.b=this.Lc?this.Lc.fc():jt.fc(),this.Kc=Pt(this.Lc?this.Lc:jt),this.b.onreadystatechange=m(this.be,this),this.sf&&"onprogress"in this.b&&(this.b.onprogress=m(function(e){this.ae(e,!0)},this),this.b.upload&&(this.b.upload.onprogress=m(this.ae,this)));try{wr(this.U,zr(this,"Opening Xhr")),this.Yc=!0,this.b.open(t,String(e),!0),this.Yc=!1}catch(e){return wr(this.U,zr(this,"Error opening Xhr: "+e.message)),void this.P(5,e)}e=r||"";var o=this.headers.clone();i&&ir(i,function(e,t){o.set(t,e)}),i=G(o.oa()),r=n.FormData&&e instanceof n.FormData,!Y(Nr,t)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.b.setRequestHeader(t,e)},this),this.de&&(this.b.responseType=this.de),"withCredentials"in this.b&&this.b.withCredentials!==this.te&&(this.b.withCredentials=this.te);try{jr(this),0<this.sb&&(this.Hc=Lr(this.b),wr(this.U,zr(this,"Will abort after "+this.sb+"ms if incomplete, xhr2 "+this.Hc)),this.Hc?(this.b.timeout=this.sb,this.b.ontimeout=m(this.Zb,this)):this.Ec=Mr(this.Zb,this.sb,this)),wr(this.U,zr(this,"Sending request")),this.oc=!0,this.b.send(e),this.oc=!1}catch(e){wr(this.U,zr(this,"Send error: "+e.message)),this.P(5,e)}};var Lr=function(e){return de&&Te(9)&&l(e.timeout)&&void 0!==e.ontimeout},Dr=function(e){return"content-type"==e.toLowerCase()};Tr.prototype.Zb=function(){"undefined"!=typeof t&&this.b&&(this.Hb="Timed out after "+this.sb+"ms, aborting",wr(this.U,zr(this,this.Hb)),this.dispatchEvent("timeout"),this.abort(8))},Tr.prototype.P=function(e,t){this.va=!1,this.b&&(this.Ka=!0,this.b.abort(),this.Ka=!1),this.Hb=t,Cr(this),Rr(this)};var Cr=function(e){e.Rc||(e.Rc=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))};Tr.prototype.abort=function(){this.b&&this.va&&(wr(this.U,zr(this,"Aborting")),this.va=!1,this.Ka=!0,this.b.abort(),this.Ka=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rr(this))},Tr.prototype.cb=function(){this.b&&(this.va&&(this.va=!1,this.Ka=!0,this.b.abort(),this.Ka=!1),Rr(this,!0)),Tr.xd.cb.call(this)},Tr.prototype.be=function(){this.isDisposed()||(this.Yc||this.oc||this.Ka?Ir(this):this.nf())},Tr.prototype.nf=function(){Ir(this)};var Ir=function(e){if(e.va&&"undefined"!=typeof t)if(e.Kc[1]&&4==Pr(e)&&2==Ur(e))wr(e.U,zr(e,"Local request error detected and ignored"));else if(e.oc&&4==Pr(e))Mr(e.be,0,e);else if(e.dispatchEvent("readystatechange"),4==Pr(e)){wr(e.U,zr(e,"Request complete")),e.va=!1;try{var r,i=Ur(e);e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:r=!0;break e;default:r=!1}var o;if(!(o=r)){var a;if(a=0===i){var s=String(e.qc).match(Ar)[1]||null;if(!s&&n.self&&n.self.location)var u=n.self.location.protocol,s=u.substr(0,u.length-1);a=!Sr.test(s?s.toLowerCase():"")}o=a}if(o)e.dispatchEvent("complete"),e.dispatchEvent("success");else{var c;try{c=2<Pr(e)?e.b.statusText:""}catch(t){wr(e.U,"Can not get status: "+t.message),c=""}e.Hb=c+" ["+Ur(e)+"]",Cr(e)}}finally{Rr(e)}}};Tr.prototype.ae=function(e,t){O("progress"===e.type,"goog.net.EventType.PROGRESS is of the same type as raw XHR progress."),this.dispatchEvent(Or(e,"progress")),this.dispatchEvent(Or(e,t?"downloadprogress":"uploadprogress"))};var Or=function(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}},Rr=function(e,t){if(e.b){jr(e);var n=e.b,r=e.Kc[0]?i:null;e.b=null,e.Kc=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.U)&&e.log(cr,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}},jr=function(e){e.b&&e.Hc&&(e.b.ontimeout=null),l(e.Ec)&&(n.clearTimeout(e.Ec),e.Ec=null)},Pr=function(e){return e.b?e.b.readyState:0},Ur=function(e){try{return 2<Pr(e)?e.b.status:-1}catch(e){return-1}},Fr=function(e){try{return e.b?e.b.responseText:""}catch(t){return wr(e.U,"Can not get responseText: "+t.message),""}},zr=function(e,t){return t+" ["+e.Zd+" "+e.qc+" "+Ur(e)+"]"},Br=function(e,t){this.ea=this.Xa=this.ha="",this.lb=null,this.Ja=this.xa="",this.S=this.df=!1;var n;e instanceof Br?(this.S=void 0!==t?t:e.S,Hr(this,e.ha),n=e.Xa,Xr(this),this.Xa=n,Vr(this,e.ea),Gr(this,e.lb),Yr(this,e.xa),Qr(this,e.W.clone()),e=e.Ja,Xr(this),this.Ja=e):e&&(n=String(e).match(Ar))?(this.S=!!t,Hr(this,n[1]||"",!0),e=n[2]||"",Xr(this),this.Xa=Jr(e),Vr(this,n[3]||"",!0),Gr(this,n[4]),Yr(this,n[5]||"",!0),Qr(this,n[6]||"",!0),e=n[7]||"",Xr(this),this.Ja=Jr(e)):(this.S=!!t,this.W=new ai(null,0,this.S))};Br.prototype.toString=function(){var e=[],t=this.ha;t&&e.push($r(t,ti,!0),":");var n=this.ea;return(n||"file"==t)&&(e.push("//"),(t=this.Xa)&&e.push($r(t,ti,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.lb,null!=n&&e.push(":",String(n))),(n=this.xa)&&(this.ea&&"/"!=n.charAt(0)&&e.push("/"),e.push($r(n,"/"==n.charAt(0)?ri:ni,!0))),(n=this.W.toString())&&e.push("?",n),(n=this.Ja)&&e.push("#",$r(n,oi)),e.join("")},Br.prototype.resolve=function(e){var t=this.clone(),n=!!e.ha;if(n?Hr(t,e.ha):n=!!e.Xa,n){var r=e.Xa;Xr(t),t.Xa=r}else n=!!e.ea;if(n?Vr(t,e.ea):n=null!=e.lb,r=e.xa,n)Gr(t,e.lb);else if(n=!!e.xa){if("/"!=r.charAt(0))if(this.ea&&!this.xa)r="/"+r;else{var i=t.xa.lastIndexOf("/");-1!=i&&(r=t.xa.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(N(i,"./")||N(i,"/.")){for(var r=0==i.lastIndexOf("/",0),i=i.split("/"),o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?Yr(t,r):n=""!==e.W.toString(),n?Qr(t,e.W.clone()):n=!!e.Ja,n&&(e=e.Ja,Xr(t),t.Ja=e),t},Br.prototype.clone=function(){return new Br(this)};var Hr=function(e,t,n){Xr(e),e.ha=n?Jr(t,!0):t,e.ha&&(e.ha=e.ha.replace(/:$/,""))},Vr=function(e,t,n){Xr(e),e.ea=n?Jr(t,!0):t},Gr=function(e,t){if(Xr(e),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.lb=t}else e.lb=null},Yr=function(e,t,n){Xr(e),e.xa=n?Jr(t,!0):t},Qr=function(e,t,n){Xr(e),t instanceof ai?(e.W=t,e.W.td(e.S)):(n||(t=$r(t,ii)),e.W=new ai(t,0,e.S))},Wr=function(e,t,n){Xr(e),e.W.set(t,n)},qr=function(e,t){return e.W.get(t)};Br.prototype.removeParameter=function(e){return Xr(this),this.W.remove(e),this};var Xr=function(e){if(e.df)throw Error("Tried to modify a read-only Uri")};Br.prototype.td=function(e){return this.S=e,this.W&&this.W.td(e),this};var Kr=function(e){return e instanceof Br?e.clone():new Br(e,void 0)},Zr=function(e,t){var n=new Br(null,void 0);return Hr(n,"https"),e&&Vr(n,e),t&&Yr(n,t),n},Jr=function(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""},$r=function(e,t,n){return c(e)?(e=encodeURI(e).replace(t,ei),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},ei=function(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)},ti=/[#\/\?@]/g,ni=/[\#\?:]/g,ri=/[\#\?]/g,ii=/[\#\?@]/g,oi=/#/g,ai=function(e,t,n){this.o=this.l=null,this.O=e||null,this.S=!!n},si=function(e){e.l||(e.l=new $n,e.o=0,e.O&&xr(e.O,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))},ui=function(e){var t=rr(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new ai(null,0,void 0);e=nr(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];s(o)?ci(n,i,o):n.add(i,o)}return n};e=ai.prototype,e.add=function(e,t){si(this),this.O=null,e=this.R(e);var n=this.l.get(e);return n||this.l.set(e,n=[]),n.push(t),this.o=j(this.o)+1,this},e.remove=function(e){return si(this),e=this.R(e),!!this.l.yb(e)&&(this.O=null,this.o=j(this.o)-this.l.get(e).length,this.l.remove(e))},e.yb=function(e){return si(this),e=this.R(e),this.l.yb(e)},e.oa=function(){si(this);for(var e=this.l.Z(),t=this.l.oa(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.Z=function(e){si(this);var t=[];if(c(e))this.yb(e)&&(t=X(t,this.l.get(this.R(e))));else{e=this.l.Z();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return si(this),this.O=null,e=this.R(e),this.yb(e)&&(this.o=j(this.o)-this.l.get(e).length),this.l.set(e,[t]),this.o=j(this.o)+1,this},e.get=function(e,t){return e=e?this.Z(e):[],0<e.length?String(e[0]):t};var ci=function(e,t,n){e.remove(t),0<n.length&&(e.O=null,e.l.set(e.R(t),K(n)),e.o=j(e.o)+n.length)};ai.prototype.toString=function(){if(this.O)return this.O;if(!this.l)return"";for(var e=[],t=this.l.oa(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),r=this.Z(r),o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.O=e.join("&")},ai.prototype.clone=function(){var e=new ai;return e.O=this.O,this.l&&(e.l=this.l.clone(),e.o=this.o),e},ai.prototype.R=function(e){return e=String(e),this.S&&(e=e.toLowerCase()),e},ai.prototype.td=function(e){e&&!this.S&&(si(this),this.O=null,this.l.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),ci(this,n,e))},this)),this.S=e};var li=function(){var e=Si();return de&&!!Ee&&11==Ee||/Edge\/\d+/.test(e)},hi=function(){return n.window&&n.window.location.href||""},fi=function(e,t){t=t||n.window;var r="about:blank";e&&(r=xt(_t(e))),t.location.href=r},di=function(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):s(e[n])?oe(e[n],t[n])||r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<di(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r},pi=function(){var e;return e=Si(),e="Chrome"!=_i(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null,!(e&&30>e)&&(!de||!Ee||9<Ee)},mi=function(e){return e=(e||Si()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))},gi=function(e){e=e||n.window;try{e.close()}catch(e){}},vi=function(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Si().toLowerCase(),r&&(t.target=r,N(n,"crios/")&&(t.target="_blank")),"Firefox"==_i(Si())&&(e=e||"http://localhost",t.scrollbars=!0);var a;n=e||"about:blank",(r=t)||(r={}),e=window,t=n instanceof At?n:_t("undefined"!=typeof n.href?n.href:String(n)),n=r.target||n.target,i=[];for(a in r)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+r[a]);break;case"target":case"noreferrer":break;default:i.push(a+"="+(r[a]?1:0))}if(a=i.join(","),(ee("iPhone")&&!ee("iPod")&&!ee("iPad")||ee("iPad")||ee("iPod"))&&e.navigator&&e.navigator.standalone&&n&&"_self"!=n?(a=e.document.createElement("A"),"undefined"!=typeof HTMLAnchorElement&&"undefined"!=typeof Location&&"undefined"!=typeof Element&&(i=a&&(a instanceof HTMLAnchorElement||!(a instanceof Location||a instanceof Element)),o=f(a)?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):void 0===a?"undefined":null===a?"null":typeof a,O(i,"Argument is not a HTMLAnchorElement (or a non-Element mock); got: %s",o)),t=t instanceof At?t:_t(t),a.href=xt(t),a.setAttribute("target",n),r.noreferrer&&a.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,e,1),a.dispatchEvent(r),a={}):r.noreferrer?(a=e.open("",n,a),r=xt(t),a&&(me&&N(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),a.opener=null,e=wt("b/12014412, meta tag with sanitized URL"),S.test(r)&&(-1!=r.indexOf("&")&&(r=r.replace(E,"&amp;")),-1!=r.indexOf("<")&&(r=r.replace(A,"&lt;")),-1!=r.indexOf(">")&&(r=r.replace(x,"&gt;")),-1!=r.indexOf('"')&&(r=r.replace(T,"&quot;")),-1!=r.indexOf("'")&&(r=r.replace(_,"&#39;")),-1!=r.indexOf("\0")&&(r=r.replace(k,"&#0;"))),r='<META HTTP-EQUIV="refresh" content="0; url='+r+'">',P(yt(e),"must provide justification"),O(!/^[\s\xa0]*$/.test(yt(e)),"must provide non-empty justification"),a.document.write(rn((new nn).$e(r))),a.document.close())):a=e.open(xt(t),n,a),a)try{a.focus()}catch(e){}return a},yi=function(e){return new ln(function(t){var n=function(){Er(2e3).then(function(){return e&&!e.closed?n():void t()})};return n()})},bi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wi=function(){var e=null;return new ln(function(t){"complete"==n.document.readyState?t():(e=function(){t()},at(window,"load",e))}).f(function(t){throw st(window,"load",e),t})},Mi=function(){return Ei(void 0)?wi().then(function(){return new ln(function(e,t){var r=n.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):mn(Error("Cordova must run in an Android or iOS file scheme."))},Ei=function(e){return e=e||Si(),!("file:"!==Ci()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))},Ai=function(){var e=n.window;try{return!(!e||e==e.top)}catch(e){return!1}},xi=function(){return r.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.INTERNAL.hasOwnProperty("node")?"Node":"Browser"},Ti=function(){var e=xi();return"ReactNative"===e||"Node"===e},_i=function(e){var t=e.toLowerCase();return N(t,"opera/")||N(t,"opr/")||N(t,"opios/")?"Opera":N(t,"iemobile")?"IEMobile":N(t,"msie")||N(t,"trident/")?"IE":N(t,"edge/")?"Edge":N(t,"firefox/")?"Firefox":N(t,"silk/")?"Silk":N(t,"blackberry")?"Blackberry":N(t,"webos")?"Webos":!N(t,"safari/")||N(t,"chrome/")||N(t,"crios/")||N(t,"android")?!N(t,"chrome/")&&!N(t,"crios/")||N(t,"edge/")?N(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"},ki=function(e){var t=xi();return("Browser"===t?_i(Si()):t)+"/JsCore/"+e},Si=function(){return n.navigator&&n.navigator.userAgent||""},Ni=function(e,t){e=e.split("."),t=t||n;for(var r=0;r<e.length&&"object"==typeof t&&null!=t;r++)t=t[e[r]];return r!=e.length&&(t=void 0),t},Li=function(){var e;if(e=(Di()||"chrome-extension:"===Ci()||Ei())&&!Ti())e:{try{var t=n.localStorage,r=Pi();if(t){t.setItem(r,"1"),t.removeItem(r),e=!li()||!!n.indexedDB;break e}}catch(e){}e=!1}return e},Di=function(){return"http:"===Ci()||"https:"===Ci()},Ci=function(){return n.location&&n.location.protocol||null},Ii=function(e){return e=e||Si(),!mi(e)&&"Firefox"!=_i(e)},Oi=function(e){return"undefined"==typeof e?null:Nt(e)},Ri=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n},ji=function(e){if(null!==e)return JSON.parse(e)},Pi=function(e){return e?e:""+Math.floor(1e9*Math.random()).toString()},Ui=function(e){return e=e||Si(),"Safari"!=_i(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)},Fi=function(){var e=n.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var r=0;r<e.CP.length;r++)e.CP[r]=null},zi=function(){return!n.navigator||"boolean"!=typeof n.navigator.onLine||n.navigator.onLine},Bi=function(e,t,n,r){if(e>t)throw Error("Short delay should be less than long delay!");this.Ff=e,this.gf=t,e=n||Si(),r=r||xi(),this.cf=mi(e)||"ReactNative"===r};Bi.prototype.get=function(){return this.cf?this.gf:this.Ff};var Hi,Vi=function(){var e=n.document;return!e||"undefined"==typeof e.visibilityState||"visible"==e.visibilityState},Gi=function(){var e=n.document,t=null;return Vi()||!e?pn():new ln(function(n){t=function(){Vi()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).f(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})},Yi={},Qi=function(e){Yi[e]||(Yi[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))};try{var Wi={};Object.defineProperty(Wi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wi,"abcd",{configurable:!0,enumerable:!0,value:2}),Hi=2==Wi.abcd}catch(e){Hi=!1}var qi=function(e,t,n){Hi?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n},Xi=function(e,t){Hi?Object.defineProperty(e,"provider",{configurable:!0,enumerable:!0,get:function(){return Qi("firebase.auth.AuthCredential.provider is deprecated. Please use the providerId field instead."),t}}):e.provider=t},Ki=function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&qi(e,n,t[n])},Zi=function(e){var t={};return Ki(t,e),t},Ji=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},$i=function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0},eo=function(e){var t=e;if("object"==typeof e&&null!=e){var n,t="length"in e?[]:{};for(n in e)qi(t,n,eo(e[n]))}return t},to="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),no=["client_id","response_type","scope","redirect_uri","state"],ro={Pf:{Mb:500,Lb:600,providerId:"facebook.com",qd:no},Qf:{Mb:500,Lb:620,providerId:"github.com",qd:no},Rf:{Mb:515,Lb:680,providerId:"google.com",qd:no},Sf:{Mb:485,Lb:705,providerId:"twitter.com",qd:to}},io=function(e){for(var t in ro)if(ro[t].providerId==e)return ro[t];return null},oo=function(e,t){this.code="auth/"+e,this.message=t||so[e]||""};y(oo,Error),oo.prototype.C=function(){return{code:this.code,message:this.message}},oo.prototype.toJSON=function(){return this.C()};var ao=function(e){var t=e&&e.code;return t?new oo(t.substring(5),e.message):null},so={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"","code-expired":"","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.",
"invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-identifier-number":"","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"","missing-iframe-start":"An internal error has occurred.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"","missing-verification-code":"","missing-identifier-number":"","missing-verification-id":"","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},uo=function(e,t,n,r,i){if(this.da=e,this.J=t||null,this.tb=n||null,this.sd=r||null,this.P=i||null,!this.tb&&!this.P)throw new oo("invalid-auth-event");if(this.tb&&this.P)throw new oo("invalid-auth-event");if(this.tb&&!this.sd)throw new oo("invalid-auth-event")};uo.prototype.ic=function(){return this.sd},uo.prototype.getError=function(){return this.P},uo.prototype.C=function(){return{type:this.da,eventId:this.J,urlResponse:this.tb,sessionId:this.sd,error:this.P&&this.P.C()}};var co=function(e){return e=e||{},e.type?new uo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&ao(e.error)):null},lo=function(e){var t="unauthorized-domain",n=void 0,r=Kr(e);e=r.ea,r=r.ha,"chrome-extension"==r?n=w("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=w("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",oo.call(this,t,n)};y(lo,oo);var ho=function(e){this.ff=e.sub,v(),this.gc=e.email||null},fo=function(e,t){return e.then(function(e){if(e.idToken){var n;e:{var r=e.idToken.split(".");if(3==r.length){for(var r=r[1],i=(4-r.length%4)%4,o=0;o<i;o++)r+=".";try{var a=JSON.parse(Le(r));if(a.sub&&a.iss&&a.aud&&a.exp){n=new ho(a);break e}}catch(e){}}n=null}if(!n||t!=n.ff)throw new oo("user-mismatch");return e}throw new oo("user-mismatch")}).f(function(e){throw e&&e.code&&"auth/user-not-found"==e.code?new oo("user-mismatch"):e})},po=function(e,t){if(t.idToken||t.accessToken)t.idToken&&qi(this,"idToken",t.idToken),t.accessToken&&qi(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new oo("internal-error","failed to construct a credential");qi(this,"accessToken",t.oauthToken),qi(this,"secret",t.oauthTokenSecret)}Xi(this,e),qi(this,"providerId",e)};po.prototype.Ab=function(e){return ra(e,mo(this))},po.prototype.cd=function(e,t){var n=mo(this);return n.idToken=t,ia(e,n)},po.prototype.ed=function(e,t){var n=mo(this);return fo(oa(e,n),t)};var mo=function(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:ui(t).toString(),requestUri:"http://localhost"}};po.prototype.C=function(){var e={providerId:this.providerId};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e};var go=function(e,t){this.vf=t||[],Ki(this,{providerId:e,isOAuthProvider:!0}),this.Id={}};go.prototype.setCustomParameters=function(e){return this.Id=ae(e),this};var vo=function(e){go.call(this,e,no),this.rd=[]};y(vo,go),vo.prototype.addScope=function(e){return Y(this.rd,e)||this.rd.push(e),this},vo.prototype.Rd=function(){return K(this.rd)},vo.prototype.credential=function(e,t){if(!e&&!t)throw new oo("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,{idToken:e||null,accessToken:t||null})};var yo=function(){vo.call(this,"facebook.com")};y(yo,vo),qi(yo,"PROVIDER_ID","facebook.com");var bo=function(e){if(!e)throw new oo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return f(e)&&(t=e.accessToken),(new yo).credential(null,t)},wo=function(){vo.call(this,"github.com")};y(wo,vo),qi(wo,"PROVIDER_ID","github.com");var Mo=function(e){if(!e)throw new oo("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return f(e)&&(t=e.accessToken),(new wo).credential(null,t)},Eo=function(){vo.call(this,"google.com"),this.addScope("profile")};y(Eo,vo),qi(Eo,"PROVIDER_ID","google.com");var Ao=function(e,t){var n=e;return f(e)&&(n=e.idToken,t=e.accessToken),(new Eo).credential(n,t)},xo=function(){go.call(this,"twitter.com",to)};y(xo,go),qi(xo,"PROVIDER_ID","twitter.com");var To=function(e,t){var n=e;if(f(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new oo("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n)},_o=function(e,t){this.gc=e,this.jd=t,Xi(this,"password"),qi(this,"providerId","password")};_o.prototype.Ab=function(e){return La(e,_a,{email:this.gc,password:this.jd})},_o.prototype.cd=function(e,t){return La(e,wa,{idToken:t,email:this.gc,password:this.jd})},_o.prototype.ed=function(e,t){return fo(this.Ab(e),t)},_o.prototype.C=function(){return{email:this.gc,password:this.jd}};var ko=function(){Ki(this,{providerId:"password",isOAuthProvider:!1})};Ki(ko,{PROVIDER_ID:"password"});var So=function(e){if(!(e.Bd&&e.Ad||e.Yb&&e.ya))throw new oo("internal-error");this.I=e,qi(this,"providerId","identifier")};So.prototype.Ab=function(e){return e.se(No(this))},So.prototype.cd=function(e,t){var n=No(this);return n.idToken=t,La(e,Sa,n)},So.prototype.ed=function(e,t){var n=No(this);return n.operation="REAUTH",e=La(e,Na,n),fo(e,t)},So.prototype.C=function(){var e={providerId:"identifier"};return this.I.Bd&&(e.verificationId=this.I.Bd),this.I.Ad&&(e.verificationCode=this.I.Ad),this.I.Yb&&(e.temporaryProof=this.I.Yb),this.I.ya&&(e.identifierNumber=this.I.ya),e};var No=function(e){return e.I.Yb&&e.I.ya?{temporaryProof:e.I.Yb,identifierNumber:e.I.ya}:{sessionInfo:e.I.Bd,code:e.I.Ad}},Lo=function(e){try{this.Ce=e||r.auth()}catch(e){throw new oo("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.identifierAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ki(this,{providerId:"identifier",isOAuthProvider:!1})};Lo.prototype.se=function(e,t){var n=this.Ce.g;return pn(t.verify()).then(function(r){if(!c(r))throw new oo("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return La(n,ya,{identifierNumber:e,recaptchaToken:r});default:throw new oo("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Ki(Lo,{PROVIDER_ID:"identifier"});var Do=function(e){if(e.temporaryProof&&e.identifierNumber)return new So({Yb:e.temporaryProof,ya:e.identifierNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return Ao(e,n);case"facebook.com":return bo(n);case"github.com":return Mo(n);case"twitter.com":return To(n,r);default:return new vo(t).credential(e,n)}}catch(e){return null}},Co=function(e){if(!e.isOAuthProvider)throw new oo("invalid-oauth-provider")},Io=function(e,t,n){oo.call(this,e,n),e=t||{},e.email&&qi(this,"email",e.email),e.ya&&qi(this,"identifierNumber",e.ya),e.credential&&qi(this,"credential",e.credential)};y(Io,oo),Io.prototype.C=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.identifierNumber&&(e.identifierNumber=this.identifierNumber);var t=this.credential&&this.credential.C();return t&&ue(e,t),e},Io.prototype.toJSON=function(){return this.C()};var Oo=function(e){if(e.code){var t=e.code||"";0==t.indexOf("auth/")&&(t=t.substring(5));var n={credential:Do(e)};if(e.email)n.email=e.email;else{if(!e.identifierNumber)return new oo(t,e.message||void 0);n.ya=e.identifierNumber}return new Io(t,n,e.message)}return null},Ro=function(e){this.Of=e};y(Ro,Rt),Ro.prototype.fc=function(){return new this.Of},Ro.prototype.$c=function(){return{}};var jo,Po=function(e,t,i){var o;if(o="Node"==xi(),o=n.XMLHttpRequest||o&&r.INTERNAL.node&&r.INTERNAL.node.XMLHttpRequest,!o)throw new oo("internal-error","The XMLHttpRequest compatibility library was not found.");this.j=e,e=t||{},this.Bf=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.Cf=e.secureTokenTimeout||Uo,this.ge=ae(e.secureTokenHeaders||Fo),this.Le=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.Me=e.firebaseTimeout||zo,this.Pd=ae(e.firebaseHeaders||Bo),i&&(this.Pd["X-Client-Version"]=i,this.ge["X-Client-Version"]=i),this.Ee=new zt,this.Nf=new Ro(o)},Uo=new Bi(3e4,6e4),Fo={"Content-Type":"application/x-www-form-urlencoded"},zo=new Bi(3e4,6e4),Bo={"Content-Type":"application/json"},Ho=function(e,t,n,r,i,o,a){zi()?(pi()?e=m(e.Ef,e):(jo||(jo=new ln(function(e,t){Go(e,t)})),e=m(e.Df,e)),e(t,n,r,i,o,a)):n&&n(null)};Po.prototype.Ef=function(e,t,n,r,i,o){var a,s="Node"==xi(),u=Ti()?s?new Tr(this.Nf):new Tr:new Tr(this.Ee);o&&(u.sb=Math.max(0,o),a=setTimeout(function(){u.dispatchEvent("timeout")},o)),u.listen("complete",function(){a&&clearTimeout(a);var e=null;try{e=JSON.parse(Fr(this))||null}catch(t){e=null}t&&t(e)}),vr(u,"ready",function(){a&&clearTimeout(a),this.Ga||(this.Ga=!0,this.cb())}),vr(u,"timeout",function(){a&&clearTimeout(a),this.Ga||(this.Ga=!0,this.cb()),t&&t(null)}),u.send(e,n,r,i)};var Vo="__fcb"+Math.floor(1e6*Math.random()).toString(),Go=function(e,t){((window.gapi||{}).client||{}).request?e():(n[Vo]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},Pn(function(){t(Error("CORS_UNSUPPORTED"))}))};Po.prototype.Df=function(e,t,n,r,i){var o=this;jo.then(function(){window.gapi.client.setApiKey(o.j);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).f(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})};var Yo=function(e,t){return new ln(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Ho(e,e.Bf+"?key="+encodeURIComponent(e.j),function(e){e?e.error?r(Da(e)):e.access_token&&e.refresh_token?n(e):r(new oo("internal-error")):r(new oo("network-request-failed"))},"POST",ui(t).toString(),e.ge,e.Cf.get()):r(new oo("internal-error"))})},Qo=function(e,t,n,r,i,o){var a=Kr(e.Le+t);Wr(a,"key",e.j),o&&Wr(a,"cb",v().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Wr(a,u,r[u]);return new ln(function(t,o){Ho(e,a.toString(),function(e){e?e.error?o(Da(e,i||{})):t(e):o(new oo("network-request-failed"))},n,s?void 0:Nt(Ri(r)),e.Pd,e.Me.get())})},Wo=function(e){if(!gt.test(e.email))throw new oo("invalid-email")},qo=function(e){"email"in e&&Wo(e)},Xo=function(e,t){return La(e,la,{identifier:t,continueUri:Di()?hi():"http://localhost"}).then(function(e){return e.allProviders||[]})},Ko=function(e){return La(e,ga,{}).then(function(e){return e.authorizedDomains||[]})},Zo=function(e){if(!e.idToken)throw new oo("internal-error")},Jo=function(e){if(e.identifierNumber||e.temporaryProof){if(!e.identifierNumber||!e.temporaryProof)throw new oo("internal-error")}else{if(!e.sessionInfo)throw new oo("missing-verification-id");if(!e.code)throw new oo("missing-verification-code")}};Po.prototype.signInAnonymously=function(){return La(this,Ma,{})},Po.prototype.updateEmail=function(e,t){return La(this,ba,{idToken:e,email:t})},Po.prototype.updatePassword=function(e,t){return La(this,wa,{idToken:e,password:t})};var $o={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Po.prototype.updateProfile=function(e,t){var n={idToken:e},r=[];return te($o,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),La(this,ba,n)},Po.prototype.sendPasswordResetEmail=function(e){return La(this,ma,{requestType:"PASSWORD_RESET",email:e})},Po.prototype.sendEmailVerification=function(e){return La(this,pa,{requestType:"VERIFY_EMAIL",idToken:e})},Po.prototype.se=function(e){return La(this,ka,e)};var ea=function(e,t,n){return La(e,fa,{idToken:t,deleteProvider:n})},ta=function(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new oo("internal-error")},na=function(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Oo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Oo(e)):"EMAIL_EXISTS"==e.errorMessage&&(e.code="email-already-in-use",t=Oo(e)),t)throw t;if(!e.idToken)throw new oo("internal-error")},ra=function(e,t){return t.returnIdpCredential=!0,La(e,Ea,t)},ia=function(e,t){return t.returnIdpCredential=!0,La(e,xa,t)},oa=function(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,La(e,Aa,t)},aa=function(e){if(!e.oobCode)throw new oo("invalid-action-code")};Po.prototype.confirmPasswordReset=function(e,t){return La(this,va,{oobCode:e,newPassword:t})},Po.prototype.checkActionCode=function(e){return La(this,ua,{oobCode:e})},Po.prototype.applyActionCode=function(e){return La(this,sa,{oobCode:e})};var sa={endpoint:"setAccountInfo",A:aa,Wa:"email"},ua={endpoint:"resetPassword",A:aa,Y:function(e){if(!e.email||!e.requestType)throw new oo("internal-error")}},ca={endpoint:"signupNewUser",A:function(e){if(Wo(e),!e.password)throw new oo("weak-password")},Y:Zo,sa:!0},la={endpoint:"createAuthUri"},ha={endpoint:"deleteAccount",Ua:["idToken"]},fa={endpoint:"setAccountInfo",Ua:["idToken","deleteProvider"],A:function(e){if(!s(e.deleteProvider))throw new oo("internal-error")}},da={endpoint:"getAccountInfo"},pa={endpoint:"getOobConfirmationCode",Ua:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new oo("internal-error")},Wa:"email"},ma={endpoint:"getOobConfirmationCode",Ua:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new oo("internal-error");Wo(e)},Wa:"email"},ga={De:!0,endpoint:"getProjectConfig",We:"GET"},va={endpoint:"resetPassword",A:aa,Wa:"email"},ya={endpoint:"sendVerificationCode",Ua:["identifierNumber","recaptchaToken"],Wa:"sessionInfo"},ba={endpoint:"setAccountInfo",Ua:["idToken"],A:qo,sa:!0},wa={endpoint:"setAccountInfo",Ua:["idToken"],A:function(e){if(qo(e),!e.password)throw new oo("weak-password")},Y:Zo,sa:!0},Ma={endpoint:"signupNewUser",Y:Zo,sa:!0},Ea={endpoint:"verifyAssertion",A:ta,Y:na,sa:!0},Aa={endpoint:"verifyAssertion",A:ta,Y:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new oo("user-not-found");if(!e.idToken)throw new oo("internal-error")},sa:!0},xa={endpoint:"verifyAssertion",A:function(e){if(ta(e),!e.idToken)throw new oo("internal-error")},Y:na,sa:!0},Ta={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new oo("invalid-custom-token")},Y:Zo,sa:!0},_a={endpoint:"verifyPassword",A:function(e){if(Wo(e),!e.password)throw new oo("wrong-password")},Y:Zo,sa:!0},ka={endpoint:"verifyidentifierNumber",A:Jo,Y:Zo},Sa={endpoint:"verifyidentifierNumber",A:function(e){if(!e.idToken)throw new oo("internal-error");Jo(e)},Y:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Oo(e);Zo(e)}},Na={Ge:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyidentifierNumber",A:Jo,Y:Zo},La=function(e,t,n){if(!$i(n,t.Ua))return mn(new oo("internal-error"));var r,i=t.We||"POST";return pn(n).then(t.A).then(function(){return t.sa&&(n.returnSecureToken=!0),Qo(e,t.endpoint,i,n,t.Ge,t.De||!1)}).then(function(e){return r=e}).then(t.Y).then(function(){if(!t.Wa)return r;if(!(t.Wa in r))throw new oo("internal-error");return r[t.Wa]})},Da=function(e,t){var n;n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"";var r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new oo(r[n]):null)return n;n=e.error&&e.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_identifier_NUMBER:"invalid-identifier-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_identifier_NUMBER:"missing-identifier-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired"},ue(r,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new oo(r[i],t);return!t&&e&&(t=Oi(e)),new oo("internal-error",t)},Ca=function(e){this.V=e};Ca.prototype.value=function(){return this.V},Ca.prototype.je=function(e){return this.V.style=e,this};var Ia=function(e){this.V=e||{}};Ia.prototype.value=function(){return this.V},Ia.prototype.je=function(e){return this.V.style=e,this};var Oa=function(e){this.Lf=e,this.nc=null,this.gd=ja(this)},Ra=function(e){var t=new Ia;return t.V.where=document.body,t.V.url=e.Lf,t.V.messageHandlersFilter=Ni("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),t.V.attributes=t.V.attributes||{},new Ca(t.V.attributes).je({position:"absolute",top:"-100px",width:"1px",height:"1px"}),t.V.dontclear=!0,t},ja=function(e){return za().then(function(){return new ln(function(t,n){Ni("gapi.iframes.getContext")().open(Ra(e).value(),function(r){e.nc=r,e.nc.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},Fa.get()),o=function(){clearTimeout(i),t()};r.ping(o).then(o,function(){n(Error("Network Error"))})})})})};Oa.prototype.sendMessage=function(e){var t=this;return this.gd.then(function(){return new ln(function(n){t.nc.send(e.type,e,n,Ni("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})};var Pa=function(e,t){e.gd.then(function(){e.nc.register("authEvent",t,Ni("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})},Ua=new Bi(3e4,6e4),Fa=new Bi(5e3,15e3),za=function(){return new ln(function(e,t){if(zi()){var r=function(){Fi(),Ni("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Fi(),t(Error("Network Error"))},timeout:Ua.get()})};if(Ni("gapi.iframes.Iframe"))e();else if(Ni("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){Ni("gapi.load")?r():t(Error("Network Error"))},pn(Yn("https://apis.google.com/js/api.js?onload="+i)).f(function(){t(Error("Network Error"))})}}else t(Error("Network Error"))})},Ba=function(e,t,n){this.v=e,this.j=t,this.D=n,this.Ya=null,this.ac=Zr(this.v,"/__/auth/iframe"),Wr(this.ac,"apiKey",this.j),Wr(this.ac,"appName",this.D)};Ba.prototype.setVersion=function(e){return this.Ya=e,this},Ba.prototype.toString=function(){return this.Ya?Wr(this.ac,"v",this.Ya):this.ac.removeParameter("v"),this.ac.toString()};var Ha=function(e,t,n,r,i){this.v=e,this.j=t,this.D=n,this.Be=r,this.Ya=this.J=this.pd=null,this.Pb=i};Ha.prototype.setVersion=function(e){return this.Ya=e,this},Ha.prototype.toString=function(){var e=Zr(this.v,"/__/auth/handler");if(Wr(e,"apiKey",this.j),Wr(e,"appName",this.D),Wr(e,"authType",this.Be),this.Pb.isOAuthProvider){Wr(e,"providerId",this.Pb.providerId);var t,n=this.Pb,r=Ri(n.Id);for(t in r)r[t]=r[t].toString();for(n=n.vf,r=ae(r),t=0;t<n.length;t++){var i=n[t];i in r&&delete r[i]}ie(r)||Wr(e,"customParameters",Oi(r))}if("function"==typeof this.Pb.Rd&&(n=this.Pb.Rd(),n.length&&Wr(e,"scopes",n.join(","))),this.pd?Wr(e,"redirectUrl",this.pd):e.removeParameter("redirectUrl"),this.J?Wr(e,"eventId",this.J):e.removeParameter("eventId"),this.Ya?Wr(e,"v",this.Ya):e.removeParameter("v"),this.bc)for(var o in this.bc)this.bc.hasOwnProperty(o)&&!qr(e,o)&&Wr(e,o,this.bc[o]);return e.toString()};var Va=function(e,t,n,r){this.v=e,this.j=t,this.D=n,this.Oe=(this.Ea=r||null)?ki(this.Ea):null,r=this.Ea,this.Xe=new Ba(e,t,n).setVersion(r).toString(),this.ma=[],this.g=new Po(t,null,this.Oe),this.pc=this.wa=null},Ga=function(e){var t=hi();return Ko(e).then(function(e){e:{for(var n=Kr(t),r=n.ha,n=n.ea,i=0;i<e.length;i++){var o,a=e[i];o=n;var s=r;if(0==a.indexOf("chrome-extension://")?o=Kr(a).ea==o&&"chrome-extension"==s:"http"!=s&&"https"!=s?o=!1:bi.test(a)?o=o==a:(a=a.split(".").join("\\."),o=new RegExp("^(.+\\."+a+"|"+a+")$","i").test(o)),o){e=!0;break e}}e=!1}if(!e)throw new lo(hi())})};e=Va.prototype,e.Gb=function(){if(this.pc)return this.pc;var e=this;return this.pc=wi().then(function(){e.mc=new Oa(e.Xe),Qa(e)})},e.Vb=function(e,t,n){var r=new oo("popup-closed-by-user"),i=new oo("web-storage-unsupported"),o=this,a=!1;return this.La().then(function(){Wa(o).then(function(n){n||(e&&gi(e),t(i),a=!0)})}).f(function(){}).then(function(){if(!a)return yi(e)}).then(function(){if(!a)return Er(n).then(function(){t(r)})})},e.ke=function(){var e=Si();return!Ii(e)&&!Ui(e)},e.Ud=function(){return!1},e.Nb=function(e,t,n,r,i,o,a){if(!e)return mn(new oo("popup-blocked"));if(a&&!Ii())return this.La().f(function(t){gi(e),i(t)}),r(),pn();this.wa||(this.wa=Ga(this.g));var s=this;return this.wa.then(function(){var t=s.La().f(function(t){throw gi(e),i(t),t});return r(),t}).then(function(){if(Co(n),!a){var r=Ya(s.v,s.j,s.D,t,n,null,o,s.Ea);fi(r,e)}}).f(function(e){throw"auth/network-request-failed"==e.code&&(s.wa=null),e})},e.Ob=function(e,t,n){this.wa||(this.wa=Ga(this.g));var r=this;return this.wa.then(function(){Co(t);var i=Ya(r.v,r.j,r.D,e,t,hi(),n,r.Ea);fi(i)})},e.La=function(){var e=this;return this.Gb().then(function(){return e.mc.gd}).f(function(){throw e.wa=null,new oo("network-request-failed")})},e.ne=function(){return!0};var Ya=function(e,t,n,r,i,o,a,s,u){return e=new Ha(e,t,n,r,i),e.pd=o,e.J=a,o=e.setVersion(s),o.bc=ae(u||null),o.toString()},Qa=function(e){if(!e.mc)throw Error("IfcHandler must be initialized!");Pa(e.mc,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=co(t.authEvent),n=0;n<e.ma.length;n++)r=e.ma[n](t)||r;return n={},n.status=r?"ACK":"ERROR",pn(n)}return n.status="ERROR",pn(n)})},Wa=function(e){var t={type:"webStorageSupport"};return e.Gb().then(function(){return e.mc.sendMessage(t)}).then(function(e){if(e&&e.length&&"undefined"!=typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})};Va.prototype.$a=function(e){this.ma.push(e)},Va.prototype.Tb=function(e){q(this.ma,function(t){return t==e})};var qa=function(e){if(this.B=e||r.INTERNAL.reactNative&&r.INTERNAL.reactNative.AsyncStorage,!this.B)throw new oo("internal-error","The React Native compatibility library was not found.")};e=qa.prototype,e.get=function(e){return pn(this.B.getItem(e)).then(function(e){return e&&ji(e)})},e.set=function(e,t){return pn(this.B.setItem(e,Oi(t)))},e.remove=function(e){return pn(this.B.removeItem(e))},e.ab=function(){},e.Ta=function(){};var Xa=function(){this.B={}};e=Xa.prototype,e.get=function(e){return pn(this.B[e])},e.set=function(e,t){return this.B[e]=t,pn()},e.remove=function(e){return delete this.B[e],pn()},e.ab=function(){},e.Ta=function(){};var Ka=function(){if(!Za()){if("Node"==xi())throw new oo("internal-error","The LocalStorage compatibility library was not found.");throw new oo("web-storage-unsupported")}this.B=n.localStorage||r.INTERNAL.node.localStorage},Za=function(){var e="Node"==xi(),e=n.localStorage||e&&r.INTERNAL.node&&r.INTERNAL.node.localStorage;if(!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};e=Ka.prototype,e.get=function(e){var t=this;return pn().then(function(){var n=t.B.getItem(e);return ji(n)})},e.set=function(e,t){var n=this;return pn().then(function(){var r=Oi(t);null===r?n.remove(e):n.B.setItem(e,r)})},e.remove=function(e){var t=this;return pn().then(function(){t.B.removeItem(e)})},e.ab=function(e){n.window&&rt(n.window,"storage",e)},e.Ta=function(e){n.window&&st(n.window,"storage",e)};var Ja=function(){this.B={}};e=Ja.prototype,e.get=function(){return pn(null)},e.set=function(){return pn()},e.remove=function(){return pn()},e.ab=function(){},e.Ta=function(){};var $a=function(){if(!es()){if("Node"==xi())throw new oo("internal-error","The SessionStorage compatibility library was not found.");throw new oo("web-storage-unsupported")}this.B=n.sessionStorage||r.INTERNAL.node.sessionStorage},es=function(){var e="Node"==xi(),e=n.sessionStorage||e&&r.INTERNAL.node&&r.INTERNAL.node.sessionStorage;if(!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}};e=$a.prototype,e.get=function(e){var t=this;return pn().then(function(){var n=t.B.getItem(e);return ji(n)})},e.set=function(e,t){var n=this;return pn().then(function(){var r=Oi(t);null===r?n.remove(e):n.B.setItem(e,r)})},e.remove=function(e){var t=this;return pn().then(function(){t.B.removeItem(e)})},e.ab=function(){},e.Ta=function(){};var ts,ns=function(e,t,r,i,o,a){if(!window.indexedDB)throw new oo("web-storage-unsupported");this.He=e,this.fd=t,this.Qc=r,this.re=i,this.wb=o,this.$={},this.Wb=[],this.Jb=0,this.Ye=a||n.indexedDB},rs=function(e){return new ln(function(t,n){var r=e.Ye.open(e.He,e.wb);r.onerror=function(e){n(Error(e.target.errorCode))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore(e.fd,{keyPath:e.Qc})}catch(e){n(e)}},r.onsuccess=function(e){t(e.target.result)}})},is=function(e){return e.Xd||(e.Xd=rs(e)),e.Xd},os=function(e,t){return t.objectStore(e.fd)},as=function(e,t,n){return t.transaction([e.fd],n?"readwrite":"readonly")},ss=function(e){return new ln(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})};e=ns.prototype,e.set=function(e,t){var n,r=!1,i=this;return yn(is(this).then(function(t){return n=t,t=os(i,as(i,n,!0)),ss(t.get(e))}).then(function(o){var a=os(i,as(i,n,!0));return o?(o.value=t,ss(a.put(o))):(i.Jb++,r=!0,o={},o[i.Qc]=e,o[i.re]=t,ss(a.add(o)))}).then(function(){i.$[e]=t}),function(){r&&i.Jb--})},e.get=function(e){var t=this;return is(this).then(function(n){return ss(os(t,as(t,n,!1)).get(e))}).then(function(e){return e&&e.value})},e.remove=function(e){var t=!1,n=this;return yn(is(this).then(function(r){return t=!0,n.Jb++,ss(os(n,as(n,r,!0)).delete(e))}).then(function(){delete n.$[e]}),function(){t&&n.Jb--})},e.Hf=function(){var e=this;return is(this).then(function(t){var n=os(e,as(e,t,!1));return n.getAll?ss(n.getAll()):new ln(function(e,t){var r=[],i=n.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){t(Error(e.target.errorCode))}})}).then(function(t){var n={},r=[];if(0==e.Jb){for(r=0;r<t.length;r++)n[t[r][e.Qc]]=t[r][e.re];r=di(e.$,n),e.$=n}return r})},e.ab=function(e){0==this.Wb.length&&this.vd(),this.Wb.push(e)},e.Ta=function(e){q(this.Wb,function(t){return t==e}),0==this.Wb.length&&this.Bc()},e.vd=function(){var e=this;this.Bc();var t=function(){return e.kd=Er(800).then(m(e.Hf,e)).then(function(t){0<t.length&&z(e.Wb,function(e){e(t)})}).then(t).f(function(e){"STOP_EVENT"!=e.message&&t()}),e.kd};t()},e.Bc=function(){this.kd&&this.kd.cancel("STOP_EVENT")};var us,cs=function(){this.Ld={Browser:ls,Node:hs,ReactNative:fs}[xi()]},ls={M:Ka,yd:$a},hs={M:Ka,yd:$a},fs={M:qa,yd:Ja},ds=function(e){var t={},n=e.email,r=e.newEmail;if(e=e.requestType,!n||!e)throw Error("Invalid provider user info!");t.fromEmail=r||null,t.email=n,qi(this,"operation",e),qi(this,"data",eo(t))},ps=function(e,t,n,r,i,o){if(this.pf=e,this.xf=t,this.Qe=n,this.rc=r,this.zd=i,this.yf=!!o,this.kb=null,this.Ma=this.rc,this.zd<this.rc)throw Error("Proactive refresh lower bound greater than upper bound!");
};ps.prototype.start=function(){this.Ma=this.rc,gs(this,!0)};var ms=function(e,t){return t?(e.Ma=e.rc,e.Qe()):(t=e.Ma,e.Ma*=2,e.Ma>e.zd&&(e.Ma=e.zd),t)},gs=function(e,t){e.stop(),e.kb=Er(ms(e,t)).then(function(){return e.yf?pn():Gi()}).then(function(){return e.pf()}).then(function(){gs(e,!0)}).f(function(t){e.xf(t)&&gs(e,!1)})};ps.prototype.stop=function(){this.kb&&(this.kb.cancel(),this.kb=null)};var vs=function(e){var t={};t["facebook.com"]=bs,t["google.com"]=Ms,t["github.com"]=ws,t["twitter.com"]=Es;var n=e&&e.providerId;return n?t[n]?new t[n](e):new ys(e):null},ys=function(e){var t=ji(e.rawUserInfo||"{}");if(e=e.providerId,!e)throw Error("Invalid additional user info!");qi(this,"profile",eo(t||{})),qi(this,"providerId",e)},bs=function(e){if(ys.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider id!")};y(bs,ys);var ws=function(e){if(ys.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider id!");qi(this,"username",this.profile&&this.profile.login||null)};y(ws,ys);var Ms=function(e){if(ys.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider id!")};y(Ms,ys);var Es=function(e){if(ys.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider id!");qi(this,"username",e.screenName||null)};y(Es,ys);var As,xs=function(e,t,n,r){this.kf=e,this.he=t,this.zf=n,this.Ub=r,this.T={},us||(us=new cs),e=us;try{var i;li()?(ts||(ts=new ns("firebaseLocalStorageDb","firebaseLocalStorage","fbase_key","value",1)),i=ts):i=new e.Ld.M,this.Qa=i}catch(e){this.Qa=new Xa,this.Ub=!0}try{this.Dc=new e.Ld.yd}catch(e){this.Dc=new Xa}this.wd=m(this.le,this),this.$={}},Ts=function(){return As||(As=new xs("firebase",":",!(Ui(Si())||!Ai()),Ii())),As};e=xs.prototype,e.R=function(e,t){return this.kf+this.he+e.name+(t?this.he+t:"")},e.get=function(e,t){return(e.M?this.Qa:this.Dc).get(this.R(e,t))},e.remove=function(e,t){return t=this.R(e,t),e.M&&!this.Ub&&(this.$[t]=null),(e.M?this.Qa:this.Dc).remove(t)},e.set=function(e,t,n){var r=this.R(e,n),i=this,o=e.M?this.Qa:this.Dc;return o.set(r,t).then(function(){return o.get(r)}).then(function(t){e.M&&!this.Ub&&(i.$[r]=t)})},e.addListener=function(e,t,r){e=this.R(e,t),this.Ub||(this.$[e]=n.localStorage.getItem(e)),ie(this.T)&&this.vd(),this.T[e]||(this.T[e]=[]),this.T[e].push(r)},e.removeListener=function(e,t,n){e=this.R(e,t),this.T[e]&&(q(this.T[e],function(e){return e==n}),0==this.T[e].length&&delete this.T[e]),ie(this.T)&&this.Bc()},e.vd=function(){this.Qa.ab(this.wd),this.Ub||li()||_s(this)};var _s=function(e){ks(e),e.dd=setInterval(function(){for(var t in e.T){var r=n.localStorage.getItem(t),i=e.$[t];r!=i&&(e.$[t]=r,r=new Qe({type:"storage",key:t,target:window,oldValue:i,newValue:r,rf:!0}),e.le(r))}},1e3)},ks=function(e){e.dd&&(clearInterval(e.dd),e.dd=null)};xs.prototype.Bc=function(){this.Qa.Ta(this.wd),ks(this)},xs.prototype.le=function(e){if(e&&e.Pe){var t=e.eb.key;if("undefined"!=typeof e.eb.rf?this.Qa.Ta(this.wd):ks(this),this.zf){var r=n.localStorage.getItem(t);e=e.eb.newValue,e!=r&&(e?n.localStorage.setItem(t,e):e||n.localStorage.removeItem(t))}this.$[t]=n.localStorage.getItem(t),this.Ed(t)}else z(e,m(this.Ed,this))},xs.prototype.Ed=function(e){this.T[e]&&z(this.T[e],function(e){e()})};var Ss=function(e,t){this.u=e,this.i=t||Ts()},Ns={name:"authEvent",M:!0},Ls=function(e){return e.i.get(Ns,e.u).then(function(e){return co(e)})};Ss.prototype.$a=function(e){this.i.addListener(Ns,this.u,e)},Ss.prototype.Tb=function(e){this.i.removeListener(Ns,this.u,e)};var Ds=function(e){this.i=e||Ts()},Cs={name:"sessionId",M:!1};Ds.prototype.ic=function(e){return this.i.get(Cs,e)};var Is=function(e,t,n,r,i,o){this.v=e,this.j=t,this.D=n,this.Ea=r||null,this.me=t+":"+n,this.Af=new Ds,this.Qd=new Ss(this.me),this.Zc=null,this.ma=[],this.bf=i||500,this.tf=o||2e3,this.Fb=this.uc=null},Os=function(e){return new oo("invalid-cordova-configuration",e)};Is.prototype.La=function(){return this.ad?this.ad:this.ad=Mi().then(function(){if("function"!=typeof Ni("universalLinks.subscribe",n))throw Os("cordova-universal-links-plugin is not installed");if("undefined"==typeof Ni("BuildInfo.packageName",n))throw Os("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ni("cordova.plugins.browsertab.openUrl",n))throw Os("cordova-plugin-browsertab is not installed");if("function"!=typeof Ni("cordova.InAppBrowser.open",n))throw Os("cordova-plugin-inappbrowser is not installed")},function(){throw new oo("cordova-not-ready")})};var Rs=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")},js=function(e){var t=new ze;return t.update(e),Z(t.digest())};e=Is.prototype,e.Vb=function(e,t){return t(new oo("operation-not-supported-in-this-environment")),pn()},e.Nb=function(){return mn(new oo("operation-not-supported-in-this-environment"))},e.ne=function(){return!1},e.ke=function(){return!0},e.Ud=function(){return!0},e.Ob=function(e,t,r){if(this.uc)return mn(new oo("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,c=null;return this.uc=yn(pn().then(function(){return Co(t),Fs(i)}).then(function(){return Ps(i,e,t,r)}).then(function(){return new ln(function(e,t){s=function(){var t=Ni("cordova.plugins.browsertab.close",n);return e(),"function"==typeof t&&t(),i.Fb&&"function"==typeof i.Fb.close&&(i.Fb.close(),i.Fb=null),!1},i.$a(s),u=function(){a||(a=Er(i.tf).then(function(){t(new oo("redirect-cancelled-by-user"))}))},c=function(){Vi()&&u()},o.addEventListener("resume",u,!1),Si().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).f(function(e){return zs(i).then(function(){throw e})})}),function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Tb(s),i.uc=null})};var Ps=function(e,t,r,i){var o=Rs(),a=new uo(t,i,null,o,new oo("no-auth-event")),s=Ni("BuildInfo.packageName",n);if("string"!=typeof s)throw new oo("invalid-cordova-configuration");var u=Ni("BuildInfo.displayName",n),c={};if(Si().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Si().toLowerCase().match(/android/))return mn(new oo("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=js(o),c.sessionId=o;var l=Ya(e.v,e.j,e.D,t,r,null,i,e.Ea,c);return e.La().then(function(){var t=e.me;return e.Af.i.set(Ns,a.C(),t)}).then(function(){var t=Ni("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof t)throw new oo("invalid-cordova-configuration");var r=null;t(function(t){if(t){if(r=Ni("cordova.plugins.browsertab.openUrl",n),"function"!=typeof r)throw new oo("invalid-cordova-configuration");r(l)}else{if(r=Ni("cordova.InAppBrowser.open",n),"function"!=typeof r)throw new oo("invalid-cordova-configuration");t=r;var i;i=Si(),i=!(!i.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!i.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.Fb=t(l,i?"_blank":"_system","location=yes")}})})},Us=function(e,t){for(var n=0;n<e.ma.length;n++)try{e.ma[n](t)}catch(e){}},Fs=function(e){return e.Zc||(e.Zc=e.La().then(function(){return new ln(function(t){var n=function(r){return t(r),e.Tb(n),!1};e.$a(n),Bs(e)})})),e.Zc},zs=function(e){var t=null;return Ls(e.Qd).then(function(n){return t=n,n=e.Qd,n.i.remove(Ns,n.u)}).then(function(){return t})},Bs=function(e){var t=Ni("universalLinks.subscribe",n);if("function"!=typeof t)throw new oo("invalid-cordova-configuration");var r=new uo("unknown",null,null,null,new oo("no-auth-event")),i=!1,o=Er(e.bf).then(function(){return zs(e).then(function(){i||Us(e,r)})}),a=function(t){i=!0,o&&o.cancel(),zs(e).then(function(n){var i=r;if(n&&t&&t.url){var o,i=null;o=t.url;var a=Kr(o),s=qr(a,"link"),u=qr(Kr(s),"link"),a=qr(a,"deep_link_id");o=qr(Kr(a),"link")||a||u||s||o,-1!=o.indexOf("/__/auth/callback")&&(i=Kr(o),i=ji(qr(i,"firebaseError")||null),i=(i="object"==typeof i?ao(i):null)?new uo(n.da,n.J,null,null,i):new uo(n.da,n.J,o,n.ic())),i=i||r}Us(e,i)})},s=n.handleOpenURL;n.handleOpenURL=function(e){if(0==e.indexOf(Ni("BuildInfo.packageName",n)+"://")&&a({url:e}),"function"==typeof s)try{s(e)}catch(e){console.error(e)}},t(null,a)};Is.prototype.$a=function(e){this.ma.push(e),Fs(this).f(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new uo("unknown",null,null,null,new oo("no-auth-event")),e(t))})},Is.prototype.Tb=function(e){q(this.ma,function(t){return t==e})};var Hs=function(e){this.u=e,this.i=Ts()},Vs={name:"pendingRedirect",M:!1},Gs=function(e){return e.i.set(Vs,"pending",e.u)},Ys=function(e){return e.i.remove(Vs,e.u)},Qs=function(e){return e.i.get(Vs,e.u).then(function(e){return"pending"==e})},Ws=function(e,t,n){this.v=e,this.j=t,this.D=n,this.Xb=[],this.ib=!1,this.Mc=m(this.Wc,this),this.Ra=new tu(this),this.ld=new su(this),this.Kb=new Hs(this.j+":"+this.D),this.Aa={},this.Aa.unknown=this.Ra,this.Aa.signInViaRedirect=this.Ra,this.Aa.linkViaRedirect=this.Ra,this.Aa.reauthViaRedirect=this.Ra,this.Aa.signInViaPopup=this.ld,this.Aa.linkViaPopup=this.ld,this.Aa.reauthViaPopup=this.ld,this.K=qs(this.v,this.j,this.D)},qs=function(e,t,n){var i=r.SDK_VERSION||null;return Ei()?new Is(e,t,n,i):new Va(e,t,n,i)};Ws.prototype.reset=function(){this.ib=!1,this.K.Tb(this.Mc),this.K=qs(this.v,this.j,this.D)},Ws.prototype.Gb=function(){var e=this;this.ib||(this.ib=!0,this.K.$a(this.Mc));var t=this.K;return this.K.La().f(function(n){throw e.K==t&&e.reset(),n})};var Xs=function(e){e.K.ke()&&e.Gb().f(function(t){var n=new uo("unknown",null,null,null,new oo("operation-not-supported-in-this-environment"));Js(t)&&e.Wc(n)}),e.K.Ud()||nu(e.Ra)};Ws.prototype.subscribe=function(e){if(Y(this.Xb,e)||this.Xb.push(e),!this.ib){var t=this;Qs(this.Kb).then(function(e){e?Ys(t.Kb).then(function(){t.Gb().f(function(e){var n=new uo("unknown",null,null,null,new oo("operation-not-supported-in-this-environment"));Js(e)&&t.Wc(n)})}):Xs(t)}).f(function(){Xs(t)})}},Ws.prototype.unsubscribe=function(e){q(this.Xb,function(t){return t==e})},Ws.prototype.Wc=function(e){if(!e)throw new oo("invalid-auth-event");for(var t=!1,n=0;n<this.Xb.length;n++){var r=this.Xb[n];if(r.Fd(e.da,e.J)){(t=this.Aa[e.da])&&t.ce(e,r),t=!0;break}}return nu(this.Ra),t};var Ks=new Bi(2e3,1e4),Zs=new Bi(3e4,6e4);Ws.prototype.getRedirectResult=function(){return this.Ra.getRedirectResult()},Ws.prototype.Nb=function(e,t,n,r,i){var o=this;return this.K.Nb(e,t,n,function(){o.ib||(o.ib=!0,o.K.$a(o.Mc))},function(){o.reset()},r,i)};var Js=function(e){return!(!e||"auth/cordova-not-ready"!=e.code)};Ws.prototype.Ob=function(e,t,n){var r,i=this;return Gs(this.Kb).then(function(){return i.K.Ob(e,t,n).f(function(e){if(Js(e))throw new oo("operation-not-supported-in-this-environment");return r=e,Ys(i.Kb).then(function(){throw r})}).then(function(){return i.K.ne()?new ln(function(){}):Ys(i.Kb).then(function(){return i.getRedirectResult()}).then(function(){}).f(function(){})})})},Ws.prototype.Vb=function(e,t,n,r){return this.K.Vb(n,function(n){e.Va(t,null,n,r)},Ks.get())};var $s={},eu=function(e,t,n){var r=t+":"+n;return $s[r]||($s[r]=new Ws(e,t,n)),$s[r]},tu=function(e){this.i=e,this.qb=null,this.Rb=[],this.Qb=[],this.ob=null,this.od=!1};tu.prototype.reset=function(){this.qb=null,this.ob&&(this.ob.cancel(),this.ob=null)},tu.prototype.ce=function(e,t){if(!e)return mn(new oo("invalid-auth-event"));this.reset(),this.od=!0;var n=e.da,r=e.J,i=e.getError()&&"auth/web-storage-unsupported"==e.getError().code,o=e.getError()&&"auth/operation-not-supported-in-this-environment"==e.getError().code;return"unknown"!=n||i||o?e=e.P?this.md(e,t):t.zb(n,r)?this.nd(e,t):mn(new oo("invalid-auth-event")):(ou(this,!1,null,null),e=pn()),e};var nu=function(e){e.od||(e.od=!0,ou(e,!1,null,null))};tu.prototype.md=function(e){return ou(this,!0,null,e.getError()),pn()},tu.prototype.nd=function(e,t){var n=this;t=t.zb(e.da,e.J);var r=e.tb,i=e.ic(),o=!!e.da.match(/Redirect$/);return t(r,i).then(function(e){ou(n,o,e,null)}).f(function(e){ou(n,o,null,e)})};var ru=function(e,t){if(e.qb=function(){return mn(t)},e.Qb.length)for(var n=0;n<e.Qb.length;n++)e.Qb[n](t)},iu=function(e,t){if(e.qb=function(){return pn(t)},e.Rb.length)for(var n=0;n<e.Rb.length;n++)e.Rb[n](t)},ou=function(e,t,n,r){t?r?ru(e,r):iu(e,n):iu(e,{user:null}),e.Rb=[],e.Qb=[]};tu.prototype.getRedirectResult=function(){var e=this;return new ln(function(t,n){e.qb?e.qb().then(t,n):(e.Rb.push(t),e.Qb.push(n),au(e))})};var au=function(e){var t=new oo("timeout");e.ob&&e.ob.cancel(),e.ob=Er(Zs.get()).then(function(){e.qb||ou(e,!0,null,t)})},su=function(e){this.i=e};su.prototype.ce=function(e,t){if(!e)return mn(new oo("invalid-auth-event"));var n=e.da,r=e.J;return e.P?this.md(e,t):t.zb(n,r)?this.nd(e,t):mn(new oo("invalid-auth-event"))},su.prototype.md=function(e,t){return t.Va(e.da,null,e.getError(),e.J),pn()},su.prototype.nd=function(e,t){var n=e.J,r=e.da,i=t.zb(r,n),o=e.tb;return e=e.ic(),i(o,e).then(function(e){t.Va(r,e,null,n)}).f(function(e){t.Va(r,null,e,n)})};var uu=function(e){this.g=e,this.Ba=this.X=null,this.Ha=0};uu.prototype.C=function(){return{apiKey:this.g.j,refreshToken:this.X,accessToken:this.Ba,expirationTime:this.Ha}};var cu=function(e,t){var n=t.idToken,r=t.refreshToken;t=lu(t.expiresIn),e.Ba=n,e.Ha=t,e.X=r},lu=function(e){return v()+1e3*parseInt(e,10)},hu=function(e,t){return Yo(e.g,t).then(function(t){return e.Ba=t.access_token,e.Ha=lu(t.expires_in),e.X=t.refresh_token,{accessToken:e.Ba,expirationTime:e.Ha,refreshToken:e.X}}).f(function(t){throw"auth/user-token-expired"==t.code&&(e.X=null),t})};uu.prototype.getToken=function(e){return e=!!e,this.Ba&&!this.X?mn(new oo("user-token-expired")):e||!this.Ba||v()>this.Ha-3e4?this.X?hu(this,{grant_type:"refresh_token",refresh_token:this.X}):pn(null):pn({accessToken:this.Ba,expirationTime:this.Ha,refreshToken:this.X})};var fu=function(e,t,n,r,i){Ki(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,providerId:t})},du=function(e,t){Ye.call(this,e);for(var n in t)this[n]=t[n]};y(du,Ye);var pu=function(e,t,n){this.ba=[],this.j=e.apiKey,this.D=e.appName,this.v=e.authDomain||null,e=r.SDK_VERSION?ki(r.SDK_VERSION):null,this.g=new Po(this.j,null,e),this.ia=new uu(this.g),yu(this,t.idToken),cu(this.ia,t),qi(this,"refreshToken",this.ia.X),Eu(this,n||{}),gr.call(this),this.vc=!1,this.v&&Li()&&(this.m=eu(this.v,this.j,this.D)),this.Ac=[],this.ka=null,this.mb=mu(this),this.vb=m(this.Xc,this)};y(pu,gr),pu.prototype.Xc=function(){this.mb.kb&&(this.mb.stop(),this.mb.start())};var mu=function(e){return new ps(function(){return e.getToken(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.ia.Ha-v()-3e5;return 0<t?t:0},3e4,96e4,!1)},gu=function(e){e.Kd||e.mb.kb||(e.mb.start(),st(e,"tokenChanged",e.vb),rt(e,"tokenChanged",e.vb))},vu=function(e){st(e,"tokenChanged",e.vb),e.mb.stop()},yu=function(e,t){e.Yd=t,qi(e,"_lat",t)},bu=function(e,t){q(e.Ac,function(e){return e==t})},wu=function(e){for(var t=[],n=0;n<e.Ac.length;n++)t.push(e.Ac[n](e));return vn(t).then(function(){return e})},Mu=function(e){e.m&&!e.vc&&(e.vc=!0,e.m.subscribe(e))},Eu=function(e,t){Ki(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,identifierNumber:t.identifierNumber||null,isAnonymous:t.isAnonymous||!1,providerData:[]})};qi(pu.prototype,"providerId","firebase");var Au=function(){},xu=function(e){return pn().then(function(){if(e.Kd)throw new oo("app-deleted")})},Tu=function(e){return H(e.providerData,function(e){return e.providerId})},_u=function(e,t){t&&(ku(e,t.providerId),e.providerData.push(t))},ku=function(e,t){q(e.providerData,function(e){return e.providerId==t})},Su=function(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&qi(e,t,n)};pu.prototype.copy=function(e){var t=this;t!=e&&(Ki(this,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,identifierNumber:e.identifierNumber,isAnonymous:e.isAnonymous,providerData:[]}),z(e.providerData,function(e){_u(t,e)}),this.ia=e.ia,qi(this,"refreshToken",this.ia.X))},pu.prototype.reload=function(){var e=this;return this.c(xu(this).then(function(){return Nu(e).then(function(){return wu(e)}).then(Au)}))};var Nu=function(e){return e.getToken().then(function(t){var n=e.isAnonymous;return Du(e,t).then(function(){return n||Su(e,"isAnonymous",!1),t})})};pu.prototype.getToken=function(e){var t=this;return this.c(xu(this).then(function(){return t.ia.getToken(e)}).then(function(e){if(!e)throw new oo("internal-error");return e.accessToken!=t.Yd&&(yu(t,e.accessToken),t.Na()),Su(t,"refreshToken",e.refreshToken),e.accessToken}))};var Lu=function(e,t){t.idToken&&e.Yd!=t.idToken&&(cu(e.ia,t),e.Na(),yu(e,t.idToken),Su(e,"refreshToken",e.ia.X))};pu.prototype.Na=function(){this.dispatchEvent(new du("tokenChanged"))};var Du=function(e,t){return La(e.g,da,{idToken:t}).then(m(e.qf,e))};pu.prototype.qf=function(e){if(e=e.users,!e||!e.length)throw new oo("internal-error");e=e[0],Eu(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,identifierNumber:e.identifierNumber});for(var t=Cu(e),n=0;n<t.length;n++)_u(this,t[n]);Su(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))};var Cu=function(e){return(e=e.providerUserInfo)&&e.length?H(e,function(e){return new fu(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl)}):[]},Iu=function(e,t){var n=null;return e.c(t.ed(e.g,e.uid).then(function(t){return Lu(e,t),n=ju(e,t,"reauthenticate"),e.ka=null,e.reload()}).then(function(){return n}),!0)};pu.prototype.reauthenticate=function(e){return Qi("firebase.User.prototype.reauthenticate is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.reauthenticateWithCredential(e)},pu.prototype.reauthenticateWithCredential=function(e){return Iu(this,e).then(function(){})};var Ou=function(e,t){return Nu(e).then(function(){if(Y(Tu(e),t))return wu(e).then(function(){throw new oo("provider-already-linked")})})},Ru=function(e,t){var n=null;return e.c(Ou(e,t.providerId).then(function(){return e.getToken()}).then(function(n){return t.cd(e.g,n)}).then(function(t){return n=ju(e,t,"link"),Pu(e,t)}).then(function(){return n}))};pu.prototype.link=function(e){return Qi("firebase.User.prototype.link is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.linkWithCredential(e)},pu.prototype.linkWithCredential=function(e){return Ru(this,e).then(function(e){return e.user})};var ju=function(e,t,n){var r=Do(t);return t=vs(t),Zi({user:e,credential:r,additionalUserInfo:t,operationType:n})},Pu=function(e,t){return Lu(e,t),e.reload().then(function(){return e})};e=pu.prototype,e.updateEmail=function(e){var t=this;return this.c(this.getToken().then(function(n){return t.g.updateEmail(n,e)}).then(function(e){return Lu(t,e),t.reload()}))},e.updatePassword=function(e){var t=this;return this.c(this.getToken().then(function(n){return t.g.updatePassword(n,e)}).then(function(e){return Lu(t,e),t.reload()}))},e.updateProfile=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return xu(this);var t=this;return this.c(this.getToken().then(function(n){return t.g.updateProfile(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Lu(t,e),Su(t,"displayName",e.displayName||null),Su(t,"photoURL",e.photoUrl||null),wu(t)}).then(Au))},e.unlink=function(e){var t=this;return this.c(Nu(this).then(function(n){return Y(Tu(t),e)?ea(t.g,n,[e]).then(function(e){var n={};return z(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),z(Tu(t),function(e){n[e]||ku(t,e)}),wu(t)}):wu(t).then(function(){throw new oo("no-such-provider")})}))},e.delete=function(){var e=this;return this.c(this.getToken().then(function(t){return La(e.g,ha,{idToken:t})}).then(function(){e.dispatchEvent(new du("userDeleted"))})).then(function(){for(var t=0;t<e.ba.length;t++)e.ba[t].cancel("app-deleted");e.ba=[],e.Kd=!0,vu(e),qi(e,"refreshToken",null),e.m&&e.m.unsubscribe(e)})},e.Fd=function(e,t){return!!("linkViaPopup"==e&&(this.ca||null)==t&&this.aa||"reauthViaPopup"==e&&(this.ca||null)==t&&this.aa||"linkViaRedirect"==e&&(this.za||null)==t||"reauthViaRedirect"==e&&(this.za||null)==t)},e.Va=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.ca||null)||(n&&this.Pa?this.Pa(n):t&&!n&&this.aa&&this.aa(t),this.F&&(this.F.cancel(),this.F=null),delete this.aa,delete this.Pa)},e.zb=function(e,t){return"linkViaPopup"==e&&t==(this.ca||null)?m(this.Nd,this):"reauthViaPopup"==e&&t==(this.ca||null)?m(this.Od,this):"linkViaRedirect"==e&&(this.za||null)==t?m(this.Nd,this):"reauthViaRedirect"==e&&(this.za||null)==t?m(this.Od,this):null},e.hc=function(){return Pi(this.uid+":::")};var Uu=function(e,t){return zu(e,"linkViaPopup",t,function(){return Ou(e,t.providerId).then(function(){return wu(e)})},!1)};pu.prototype.linkWithPopup=function(e){return Uu(this,e).then(function(e){return e?Zi({user:e.user,credential:e.credential,operationType:e.operationType}):e})};var Fu=function(e,t){return zu(e,"reauthViaPopup",t,function(){return pn()},!0)};pu.prototype.reauthenticateWithPopup=function(e){return Fu(this,e).then(function(e){return e?Zi({user:e.user,credential:e.credential,operationType:e.operationType}):e})};var zu=function(e,t,n,i,o){if(!Li())return mn(new oo("operation-not-supported-in-this-environment"));if(e.ka&&!o)return mn(e.ka);var a=io(n.providerId),s=e.hc(),u=null;(!Ii()||Ai())&&e.v&&n.isOAuthProvider&&(u=Ya(e.v,e.j,e.D,t,n,null,s,r.SDK_VERSION||null));var c=vi(u,a&&a.Mb,a&&a.Lb);return i=i().then(function(){if(Hu(e),!o)return e.getToken().then(function(){})}).then(function(){return e.m.Nb(c,t,n,s,!!u)}).then(function(){return new ln(function(n,r){e.Va(t,null,new oo("cancelled-popup-request"),e.ca||null),e.aa=n,e.Pa=r,e.ca=s,e.F=e.m.Vb(e,t,c,s)})}).then(function(e){return c&&gi(c),e}).f(function(e){throw c&&gi(c),e}),e.c(i,o)};pu.prototype.linkWithRedirect=function(e){var t=this;return Bu(this,"linkViaRedirect",e,function(){return Ou(t,e.providerId)},!1)},pu.prototype.reauthenticateWithRedirect=function(e){return Bu(this,"reauthViaRedirect",e,function(){return pn()},!0)};var Bu=function(e,t,n,r,i){if(!Li())return mn(new oo("operation-not-supported-in-this-environment"));if(e.ka&&!i)return mn(e.ka);var o=null,a=e.hc();return r=r().then(function(){if(Hu(e),!i)return e.getToken().then(function(){})}).then(function(){return e.za=a,wu(e)}).then(function(t){return e.Sa&&(t=e.Sa,t=t.i.set(Wu,e.C(),t.u)),t}).then(function(){return e.m.Ob(t,n,a)}).f(function(t){if(o=t,e.Sa)return qu(e.Sa);throw o}).then(function(){if(o)throw o}),e.c(r,i)},Hu=function(e){if(!e.m||!e.vc){if(e.m&&!e.vc)throw new oo("internal-error");throw new oo("auth-domain-config-required")}};pu.prototype.Nd=function(e,t){var n=this;this.F&&(this.F.cancel(),this.F=null);var r=null,i=this.getToken().then(function(r){return ia(n.g,{requestUri:e,sessionId:t,idToken:r})}).then(function(e){return r=ju(n,e,"link"),Pu(n,e)}).then(function(){return r});return this.c(i)},pu.prototype.Od=function(e,t){var n=this;this.F&&(this.F.cancel(),this.F=null);var r=null,i=pn().then(function(){return fo(oa(n.g,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return r=ju(n,e,"reauthenticate"),Lu(n,e),n.ka=null,n.reload()}).then(function(){return r});return this.c(i,!0)},pu.prototype.sendEmailVerification=function(){var e=this;return this.c(this.getToken().then(function(t){return e.g.sendEmailVerification(t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},pu.prototype.c=function(e,t){var n=this,r=Vu(this,e,t);return this.ba.push(r),yn(r,function(){Q(n.ba,r)}),r};var Vu=function(e,t,n){return e.ka&&!n?(t.cancel(),mn(e.ka)):t.f(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.ka||e.dispatchEvent(new du("userInvalidated")),e.ka=t),t})};pu.prototype.toJSON=function(){return this.C()},pu.prototype.C=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,identifierNumber:this.identifierNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.j,appName:this.D,authDomain:this.v,stsTokenManager:this.ia.C(),redirectEventId:this.za||null};return z(this.providerData,function(t){e.providerData.push(Ji(t))}),e};var Gu=function(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n.idToken=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-v())/1e3;var r=new pu(t,n,e);return e.providerData&&z(e.providerData,function(e){e&&_u(r,Zi(e))}),e.redirectEventId&&(r.za=e.redirectEventId),r},Yu=function(e,t,n){var r=new pu(e,t);return n&&(r.Sa=n),r.reload().then(function(){return r})},Qu=function(e){this.u=e,this.i=Ts()},Wu={name:"redirectUser",M:!1},qu=function(e){return e.i.remove(Wu,e.u)},Xu=function(e,t){return e.i.get(Wu,e.u).then(function(e){return e&&t&&(e.authDomain=t),Gu(e||{})})},Ku=function(e){this.u=e,this.i=Ts()},Zu={name:"authUser",M:!0},Ju=function(e,t){return e.i.set(Zu,t.C(),e.u)},$u=function(e){return e.i.remove(Zu,e.u)},ec=function(e,t){return e.i.get(Zu,e.u).then(function(e){return e&&t&&(e.authDomain=t),Gu(e||{})})},tc=function(e){if(this.Fa=!1,qi(this,"app",e),!dc(this).options||!dc(this).options.apiKey)throw new oo("invalid-api-key");e=r.SDK_VERSION?ki(r.SDK_VERSION):null,this.g=new Po(dc(this).options&&dc(this).options.apiKey,null,e),this.ba=[],this.Ca=[],this.ub=[],this.mf=r.INTERNAL.createSubscribe(m(this.Ze,this)),this.Ic=void 0,r.INTERNAL.createSubscribe(m(this.af,this)),sc(this,null),this.ta=new Ku(dc(this).options.apiKey+":"+dc(this).name),this.pb=new Qu(dc(this).options.apiKey+":"+dc(this).name),this.cc=this.c(cc(this)),this.qa=this.c(lc(this)),this.bd=!1,this.Vc=m(this.Gf,this),this.qe=m(this.gb,this),this.vb=m(this.Xc,this),this.oe=m(this.Ue,this),this.pe=m(this.Ve,this),rc(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.Ia=0};tc.prototype.toJSON=function(){return{apiKey:dc(this).options.apiKey,authDomain:dc(this).options.authDomain,appName:dc(this).name,currentUser:pc(this)&&pc(this).C()}};var nc=function(e){return e.Ie||mn(new oo("auth-domain-config-required"))},rc=function(e){var t=dc(e).options.authDomain,n=dc(e).options.apiKey;t&&Li()&&(e.Ie=e.cc.then(function(){if(!e.Fa)return e.m=eu(t,n,dc(e).name),e.m.subscribe(e),pc(e)&&Mu(pc(e)),e.Sb&&(Mu(e.Sb),e.Sb=null),e.m}))};e=tc.prototype,e.Fd=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.ca==t&&!!this.aa;default:return!1}},e.Va=function(e,t,n,r){"signInViaPopup"==e&&this.ca==r&&(n&&this.Pa?this.Pa(n):t&&!n&&this.aa&&this.aa(t),this.F&&(this.F.cancel(),this.F=null),delete this.aa,delete this.Pa)},e.zb=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.ca==t&&this.aa?m(this.Ke,this):null},e.Ke=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.F&&(this.F.cancel(),this.F=null);var r=null,i=null,o=ra(n.g,e).then(function(e){return r=Do(e),i=vs(e),e});return e=n.cc.then(function(){return o}).then(function(e){return ac(n,e)}).then(function(){return Zi({user:pc(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),this.c(e)},e.hc=function(){return Pi()};var ic=function(e,t){if(!Li())return mn(new oo("operation-not-supported-in-this-environment"));var n=io(t.providerId),i=e.hc(),o=null;(!Ii()||Ai())&&dc(e).options.authDomain&&t.isOAuthProvider&&(o=Ya(dc(e).options.authDomain,dc(e).options.apiKey,dc(e).name,"signInViaPopup",t,null,i,r.SDK_VERSION||null));var a=vi(o,n&&n.Mb,n&&n.Lb),n=nc(e).then(function(e){return e.Nb(a,"signInViaPopup",t,i,!!o)}).then(function(){return new ln(function(t,n){e.Va("signInViaPopup",null,new oo("cancelled-popup-request"),e.ca),e.aa=t,e.Pa=n,e.ca=i,e.F=e.m.Vb(e,"signInViaPopup",a,i)})}).then(function(e){return a&&gi(a),e}).f(function(e){throw a&&gi(a),e});return e.c(n)};tc.prototype.signInWithPopup=function(e){return ic(this,e).then(function(e){return e?Zi({user:e.user,credential:e.credential,operationType:e.operationType}):e})},tc.prototype.getRedirectResult=function(){return oc(this).then(function(e){return e?Zi({user:e.user,credential:e.credential,operationType:e.operationType}):e})},tc.prototype.signInWithRedirect=function(e){if(!Li())return mn(new oo("operation-not-supported-in-this-environment"));var t=this,n=nc(this).then(function(){return t.m.Ob("signInViaRedirect",e)});return this.c(n)};var oc=function(e){if(!Li())return mn(new oo("operation-not-supported-in-this-environment"));var t=nc(e).then(function(){return e.m.getRedirectResult()});return e.c(t)},ac=function(e,t){var n={};return n.apiKey=dc(e).options.apiKey,n.authDomain=dc(e).options.authDomain,n.appName=dc(e).name,e.cc.then(function(){return Yu(n,t,e.pb)}).then(function(t){return pc(e)&&t.uid==pc(e).uid?(pc(e).copy(t),e.gb(t)):(sc(e,t),Mu(t),e.gb(t))}).then(function(){e.Na()})},sc=function(e,t){pc(e)&&(bu(pc(e),e.qe),st(pc(e),"tokenChanged",e.vb),st(pc(e),"userDeleted",e.oe),st(pc(e),"userInvalidated",e.pe),vu(pc(e))),t&&(t.Ac.push(e.qe),rt(t,"tokenChanged",e.vb),rt(t,"userDeleted",e.oe),rt(t,"userInvalidated",e.pe),0<e.Ia&&gu(t)),qi(e,"currentUser",t)};tc.prototype.signOut=function(){var e=this,t=this.qa.then(function(){return pc(e)?(sc(e,null),$u(e.ta).then(function(){e.Na()})):pn()});return this.c(t)};var uc=function(e){var t=Xu(e.pb,dc(e).options.authDomain).then(function(t){return(e.Sb=t)&&(t.Sa=e.pb),qu(e.pb)});return e.c(t)},cc=function(e){var t=dc(e).options.authDomain,n=uc(e).then(function(){return ec(e.ta,t)}).then(function(t){return t?(t.Sa=e.pb,e.Sb&&(e.Sb.za||null)==(t.za||null)?t:t.reload().then(function(){return Ju(e.ta,t).then(function(){return t})}).f(function(n){return"auth/network-request-failed"==n.code?t:$u(e.ta)})):null}).then(function(t){sc(e,t||null)});return e.c(n)},lc=function(e){return e.cc.then(function(){return e.getRedirectResult()}).f(function(){}).then(function(){if(!e.Fa)return e.Vc()}).f(function(){}).then(function(){if(!e.Fa){e.bd=!0;var t=e.ta;t.i.addListener(Zu,t.u,e.Vc)}})};e=tc.prototype,e.Gf=function(){var e=this;return ec(this.ta,dc(this).options.authDomain).then(function(t){if(!e.Fa){var n;if(n=pc(e)&&t){n=pc(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return pc(e).copy(t),pc(e).getToken();(pc(e)||t)&&(sc(e,t),t&&(Mu(t),t.Sa=e.pb),e.m&&e.m.subscribe(e),e.Na())}})},e.gb=function(e){return Ju(this.ta,e)},e.Xc=function(){this.Na(),this.gb(pc(this))},e.Ue=function(){this.signOut()},e.Ve=function(){this.signOut()};var hc=function(e,t){var n=null,r=null;return e.c(t.then(function(t){return n=Do(t),r=vs(t),ac(e,t)}).then(function(){return Zi({user:pc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))};e=tc.prototype,e.Ze=function(e){var t=this;this.addAuthTokenListener(function(){e.next(pc(t))})},e.af=function(e){var t=this;gc(this,function(){e.next(pc(t))})},e.onAuthStateChanged=function(e,t,n){var i=this;return this.bd&&r.Promise.resolve().then(function(){h(e)?e(pc(i)):h(e.next)&&e.next(pc(i))}),this.mf(e,t,n)},e.getToken=function(e){var t=this,n=this.qa.then(function(){return pc(t)?pc(t).getToken(e).then(function(e){return{accessToken:e}}):null});return this.c(n)},e.signInWithCustomToken=function(e){var t=this;return this.qa.then(function(){return hc(t,La(t.g,Ta,{token:e}))}).then(function(e){return e=e.user,Su(e,"isAnonymous",!1),t.gb(e)}).then(function(){return pc(t)})},e.signInWithEmailAndPassword=function(e,t){var n=this;return this.qa.then(function(){return hc(n,La(n.g,_a,{email:e,password:t}))}).then(function(e){return e.user})},e.createUserWithEmailAndPassword=function(e,t){var n=this;return this.qa.then(function(){return hc(n,La(n.g,ca,{email:e,password:t}))}).then(function(e){return e.user})},e.signInWithCredential=function(e){return fc(this,e).then(function(e){return e.user})};var fc=function(e,t){return e.qa.then(function(){
return hc(e,t.Ab(e.g))})};tc.prototype.signInAnonymously=function(){var e=pc(this),t=this;return e&&e.isAnonymous?pn(e):this.qa.then(function(){return hc(t,t.g.signInAnonymously())}).then(function(e){return e=e.user,Su(e,"isAnonymous",!0),t.gb(e)}).then(function(){return pc(t)})};var dc=function(e){return e.app},pc=function(e){return e.currentUser};tc.prototype.getUid=function(){return pc(this)&&pc(this).uid||null};var mc=function(e){return pc(e)&&pc(e)._lat||null};e=tc.prototype,e.Na=function(){if(this.bd){for(var e=0;e<this.Ca.length;e++)this.Ca[e]&&this.Ca[e](mc(this));if(this.Ic!==this.getUid()&&this.ub.length)for(this.Ic=this.getUid(),e=0;e<this.ub.length;e++)this.ub[e]&&this.ub[e](mc(this))}},e.Ae=function(e){this.addAuthTokenListener(e),this.Ia++,0<this.Ia&&pc(this)&&gu(pc(this))},e.uf=function(e){var t=this;z(this.Ca,function(n){n==e&&t.Ia--}),0>this.Ia&&(this.Ia=0),0==this.Ia&&pc(this)&&vu(pc(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.Ca.push(e),this.c(this.qa.then(function(){t.Fa||Y(t.Ca,e)&&e(mc(t))}))},e.removeAuthTokenListener=function(e){q(this.Ca,function(t){return t==e})};var gc=function(e,t){e.ub.push(t),e.c(e.qa.then(function(){!e.Fa&&Y(e.ub,t)&&e.Ic!==e.getUid()&&(e.Ic=e.getUid(),t(mc(e)))}))};e=tc.prototype,e.delete=function(){this.Fa=!0;for(var e=0;e<this.ba.length;e++)this.ba[e].cancel("app-deleted");return this.ba=[],this.ta&&(e=this.ta,e.i.removeListener(Zu,e.u,this.Vc)),this.m&&this.m.unsubscribe(this),r.Promise.resolve()},e.c=function(e){var t=this;return this.ba.push(e),yn(e,function(){Q(t.ba,e)}),e},e.fetchProvidersForEmail=function(e){return this.c(Xo(this.g,e))},e.verifyPasswordResetCode=function(e){return this.checkActionCode(e).then(function(e){return e.data.email})},e.confirmPasswordReset=function(e,t){return this.c(this.g.confirmPasswordReset(e,t).then(function(){}))},e.checkActionCode=function(e){return this.c(this.g.checkActionCode(e).then(function(e){return new ds(e)}))},e.applyActionCode=function(e){return this.c(this.g.applyActionCode(e).then(function(){}))},e.sendPasswordResetEmail=function(e){return this.c(this.g.sendPasswordResetEmail(e).then(function(){}))};var vc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" "),yc=function(e,t){return{name:e||"",ja:"a valid string",optional:!!t,la:c}},bc=function(e){return{name:e||"",ja:"a valid object",optional:!1,la:f}},wc=function(e,t){return{name:e||"",ja:"a function",optional:!!t,la:h}},Mc=function(){return{name:"",ja:"null",optional:!1,la:a}},Ec=function(){return{name:"credential",ja:"a valid credential",optional:!1,la:function(e){return!!e&&!!e.Ab}}},Ac=function(){return{name:"authProvider",ja:"a valid Auth provider",optional:!1,la:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}},xc=function(e,t,n,r){return{name:n||"",ja:e.ja+" or "+t.ja,optional:!!r,la:function(n){return e.la(n)||t.la(n)}}},Tc=function(e,t){for(var n in t){var r=t[n].name;e[r]=kc(r,e[n],t[n].a)}},_c=function(e,t,n,r){e[t]=kc(t,n,r)},kc=function(e,t,n){if(!n)return t;var r=Sc(e);e=function(){var e,i=Array.prototype.slice.call(arguments);e:{e=Array.prototype.slice.call(i);var o;o=0;for(var a=!1,s=0;s<n.length;s++)if(n[s].optional)a=!0;else{if(a)throw new oo("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(a=n.length,e.length<o||a<e.length)e="Expected "+(o==a?1==o?"1 argument":o+" arguments":o+"-"+a+" arguments")+" but got "+e.length+".";else{for(o=0;o<e.length;o++)if(a=n[o].optional&&void 0===e[o],!n[o].la(e[o])&&!a){if(e=n[o],0>o||o>=vc.length)throw new oo("internal-error","Argument validator received an unsupported number of arguments.");e=vc[o]+" argument "+(e.name?'"'+e.name+'" ':"")+"must be "+e.ja+".";break e}e=null}}if(e)throw new oo("argument-error",r+" failed: "+e);return t.apply(this,i)};for(var i in t)e[i]=t[i];for(i in t.prototype)e.prototype[i]=t.prototype[i];return e},Sc=function(e){return e=e.split("."),e[e.length-1]};Tc(tc.prototype,{applyActionCode:{name:"applyActionCode",a:[yc("code")]},checkActionCode:{name:"checkActionCode",a:[yc("code")]},confirmPasswordReset:{name:"confirmPasswordReset",a:[yc("code"),yc("newPassword")]},createUserWithEmailAndPassword:{name:"createUserWithEmailAndPassword",a:[yc("email"),yc("password")]},fetchProvidersForEmail:{name:"fetchProvidersForEmail",a:[yc("email")]},getRedirectResult:{name:"getRedirectResult",a:[]},onAuthStateChanged:{name:"onAuthStateChanged",a:[xc(bc(),wc(),"nextOrObserver"),wc("opt_error",!0),wc("opt_completed",!0)]},sendPasswordResetEmail:{name:"sendPasswordResetEmail",a:[yc("email")]},signInAnonymously:{name:"signInAnonymously",a:[]},signInWithCredential:{name:"signInWithCredential",a:[Ec()]},signInWithCustomToken:{name:"signInWithCustomToken",a:[yc("token")]},signInWithEmailAndPassword:{name:"signInWithEmailAndPassword",a:[yc("email"),yc("password")]},signInWithPopup:{name:"signInWithPopup",a:[Ac()]},signInWithRedirect:{name:"signInWithRedirect",a:[Ac()]},signOut:{name:"signOut",a:[]},toJSON:{name:"toJSON",a:[yc(null,!0)]},verifyPasswordResetCode:{name:"verifyPasswordResetCode",a:[yc("code")]}}),Tc(pu.prototype,{delete:{name:"delete",a:[]},getToken:{name:"getToken",a:[{name:"opt_forceRefresh",ja:"a boolean",optional:!0,la:function(e){return"boolean"==typeof e}}]},link:{name:"link",a:[Ec()]},linkWithCredential:{name:"linkWithCredential",a:[Ec()]},linkWithPopup:{name:"linkWithPopup",a:[Ac()]},linkWithRedirect:{name:"linkWithRedirect",a:[Ac()]},reauthenticate:{name:"reauthenticate",a:[Ec()]},reauthenticateWithCredential:{name:"reauthenticateWithCredential",a:[Ec()]},reauthenticateWithPopup:{name:"reauthenticateWithPopup",a:[Ac()]},reauthenticateWithRedirect:{name:"reauthenticateWithRedirect",a:[Ac()]},reload:{name:"reload",a:[]},sendEmailVerification:{name:"sendEmailVerification",a:[]},toJSON:{name:"toJSON",a:[yc(null,!0)]},unlink:{name:"unlink",a:[yc("provider")]},updateEmail:{name:"updateEmail",a:[yc("email")]},updatePassword:{name:"updatePassword",a:[yc("password")]},updateProfile:{name:"updateProfile",a:[bc("profile")]}}),Tc(ln.prototype,{f:{name:"catch"},then:{name:"then"}}),_c(ko,"credential",function(e,t){return new _o(e,t)},[yc("email"),yc("password")]),Tc(yo.prototype,{addScope:{name:"addScope",a:[yc("scope")]},setCustomParameters:{name:"setCustomParameters",a:[bc("customOAuthParameters")]}}),_c(yo,"credential",bo,[xc(yc(),bc(),"token")]),Tc(wo.prototype,{addScope:{name:"addScope",a:[yc("scope")]},setCustomParameters:{name:"setCustomParameters",a:[bc("customOAuthParameters")]}}),_c(wo,"credential",Mo,[xc(yc(),bc(),"token")]),Tc(Eo.prototype,{addScope:{name:"addScope",a:[yc("scope")]},setCustomParameters:{name:"setCustomParameters",a:[bc("customOAuthParameters")]}}),_c(Eo,"credential",Ao,[xc(yc(),xc(bc(),Mc()),"idToken"),xc(yc(),Mc(),"accessToken",!0)]),Tc(xo.prototype,{setCustomParameters:{name:"setCustomParameters",a:[bc("customOAuthParameters")]}}),_c(xo,"credential",To,[xc(yc(),bc(),"token"),yc("secret",!0)]),Tc(oo.prototype,{toJSON:{name:"toJSON",a:[yc(null,!0)]}}),Tc(Io.prototype,{toJSON:{name:"toJSON",a:[yc(null,!0)]}}),Tc(lo.prototype,{toJSON:{name:"toJSON",a:[yc(null,!0)]}}),function(){if("undefined"==typeof r||!r.INTERNAL||!r.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:tc,Error:oo};_c(e,"EmailAuthProvider",ko,[]),_c(e,"FacebookAuthProvider",yo,[]),_c(e,"GithubAuthProvider",wo,[]),_c(e,"GoogleAuthProvider",Eo,[]),_c(e,"TwitterAuthProvider",xo,[]),r.INTERNAL.registerService("auth",function(e,t){return e=new tc(e),t({INTERNAL:{getUid:m(e.getUid,e),getToken:m(e.getToken,e),addAuthTokenListener:m(e.Ae,e),removeAuthTokenListener:m(e.uf,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),r.INTERNAL.extendNamespace({User:pu})}()}).call(this)}).call(void 0!==typeof t?t:void 0!==typeof self?self:void 0!==typeof window?window:{}),e.exports=r.auth}).call(t,function(){return this}())},function(module,exports,__webpack_require__){(function(global){var firebase=__webpack_require__(35);(function(){!function(){function n(e){return void 0!==e}function ba(){}function ca(e){e.Vb=function(){return e.Ye?e.Ye:e.Ye=new e}}function da(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function ea(e){return"array"==da(e)}function fa(e){var t=da(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"string"==typeof e}function ga(e){return"number"==typeof e}function ha(e){return"function"==da(e)}function ia(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ja(e,t,n){return e.call.apply(e.bind,arguments)}function ka(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function q(e,t,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function la(e,t){function n(){}n.prototype=t.prototype,e.wg=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.sg=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ma(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(e){}throw Error("Invalid JSON string: "+a)}function na(){this.Fd=void 0}function oa(e,t,n){switch(typeof t){case"string":pa(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(ea(t)){var r=t.length;n.push("[");for(var i="",o=0;o<r;o++)n.push(i),i=t[o],oa(e,e.Fd?e.Fd.call(t,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i=t[o],"function"!=typeof i&&(n.push(r),pa(o,n),n.push(":"),oa(e,e.Fd?e.Fd.call(t,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function pa(e,t){t.push('"',e.replace(ra,function(e){if(e in qa)return qa[e];var t=e.charCodeAt(0),n="\\u";return 16>t?n+="000":256>t?n+="00":4096>t&&(n+="0"),qa[e]=n+t.toString(16)}),'"')}function sa(){this.Wa=-1}function ta(){this.Wa=-1,this.Wa=64,this.M=[],this.Wd=[],this.Af=[],this.zd=[],this.zd[0]=128;for(var e=1;e<this.Wa;++e)this.zd[e]=0;this.Pd=this.$b=0,this.reset()}function ua(e,t,n){n||(n=0);var r=e.Af;if(p(t))for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.M[0],n=e.M[1];for(var a,s=e.M[2],u=e.M[3],c=e.M[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>i?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(t<<5|t>>>27)+o+c+a+r[i]&4294967295,c=u,u=s,s=4294967295&(n<<30|n>>>2),n=t,t=o;e.M[0]=e.M[0]+t&4294967295,e.M[1]=e.M[1]+n&4294967295,e.M[2]=e.M[2]+s&4294967295,e.M[3]=e.M[3]+u&4294967295,e.M[4]=e.M[4]+c&4294967295}function Da(e,t){var n=Ea(e,t,void 0);return 0>n?null:p(e)?e.charAt(n):e[n]}function Ea(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function Fa(e,n){var r=xa(e,n);0<=r&&t.splice.call(e,r,1)}function Ga(e,n,r){return 2>=arguments.length?t.slice.call(e,n):t.slice.call(e,n,r)}function Ha(e,t){e.sort(t||Ia)}function Ia(e,t){return e>t?1:e<t?-1:0}function v(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Ja(e,t){var n,r={};for(n in e)r[n]=t.call(void 0,e[n],n,e);return r}function Ka(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function La(e){var t,n=0;for(t in e)n++;return n}function Ma(e){for(var t in e)return t}function Na(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function Oa(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function Pa(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function Qa(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function Ra(e,t){var n=Qa(e,t,void 0);return n&&e[n]}function Sa(e){for(var t in e)return!1;return!0}function Ta(e){var t,n={};for(t in e)n[t]=e[t];return n}function ab(e,t){if(!fa(e))throw Error("encodeByteArray takes an array as a parameter");bb();for(var n=t?Za:Ya,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(s=64)),r.push(n[l],n[o],n[s],n[c])}return r.join("")}function bb(){if(!Ya){Ya={},Za={},$a={};for(var e=0;65>e;e++)Ya[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Za[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),$a[Za[e]]=e,62<=e&&($a["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function cb(e,t){if(!e)throw db(t)}function db(e){return Error("Firebase Database ("+firebase.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)}function eb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gb(e){var t=[];return fb(e,function(e,n){ea(n)?ya(n,function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""}function ib(){var e=this;this.reject=this.resolve=null,this.ra=new hb(function(t,n){e.resolve=t,e.reject=n})}function jb(e,t){return function(n,r){n?e.reject(n):e.resolve(r),ha(t)&&(kb(e.ra),1===t.length?t(n):t(n,r))}}function kb(e){e.then(void 0,ba)}function lb(e){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(e):ma(e)}function x(e){if("undefined"!=typeof JSON&&n(JSON.stringify))e=JSON.stringify(e);else{var t=[];oa(new na,e,t),e=t.join("")}return e}function mb(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);55296<=i&&56319>=i&&(i-=55296,r++,cb(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(r)-56320)),128>i?t[n++]=i:(2048>i?t[n++]=i>>6|192:(65536>i?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function nb(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t++:2048>r?t+=2:55296<=r&&56319>=r?(t+=4,n++):t+=3}return t}function y(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function A(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+(r+" argument ")}function B(e,t,r,i){if((!i||n(r))&&!ha(r))throw Error(A(e,t,i)+"must be a valid function.")}function ob(e,t,r){if(n(r)&&(!ia(r)||null===r))throw Error(A(e,t,!0)+"must be a valid context object.")}function pb(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function C(e,t){this.name=e,this.R=t}function qb(e,t){return new C(e,t)}function rb(e,t){return sb(e.name,t.name)}function tb(e,t){return sb(e,t)}function ub(e){this.uc=e,this.Cd="firebase:"}function vb(){this.pc={}}function wb(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ub(t)}}catch(e){}return new vb}function zb(e,t,n,r,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.Sc=t,this.pe=n,this.qg=r,this.gf=i||"",this.$a=xb.get("host:"+e)||this.host}function Ab(e,t){t!==e.$a&&(e.$a=t,"s-"===e.$a.substr(0,2)&&xb.set("host:"+e.host,e.$a))}function Bb(e,t,n){if(D("string"==typeof t,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),t===Cb)t=(e.Sc?"wss://":"ws://")+e.$a+"/.ws?";else{if(t!==Db)throw Error("Unknown connection type: "+t);t=(e.Sc?"https://":"http://")+e.$a+"/.lp?"}e.host!==e.$a&&(n.ns=e.pe);var r=[];return v(n,function(e,t){r.push(t+"="+e)}),t+r.join("&")}function Eb(e,t){return e&&"object"==typeof e?(D(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function Fb(e,t){var n=new Gb;return Hb(e,new E(""),function(e,r){Ib(n,e,Jb(r,t))}),n}function Jb(e,t){var n,r=e.C().H(),r=Eb(r,t);if(e.J()){var i=Eb(e.Ca(),t);return i!==e.Ca()||r!==e.C().H()?new Kb(i,G(r)):e}return n=e,r!==e.C().H()&&(n=n.fa(new Kb(r))),e.O(H,function(e,r){var i=Jb(r,t);i!==r&&(n=n.T(e,i))}),n}function Nb(e){try{var t;bb();for(var n=$a,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;var s=i<e.length?n[e.charAt(i)]:64;++i;var u=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}if(8192>r.length)t=String.fromCharCode.apply(null,r);else{for(e="",n=0;n<r.length;n+=8192)e+=String.fromCharCode.apply(null,Ga(r,n,n+8192));t=e}return t}catch(e){I("base64Decode failed: ",e)}return null}function Ob(e){var t=mb(e);e=new ta,e.update(t);var t=[],n=8*e.Pd;56>e.$b?e.update(e.zd,56-e.$b):e.update(e.zd,e.Wa-(e.$b-56));for(var r=e.Wa-1;56<=r;r--)e.Wd[r]=255&n,n/=256;for(ua(e,e.Wd),r=n=0;5>r;r++)for(var i=24;0<=i;i-=8)t[n]=e.M[r]>>i&255,++n;return ab(t)}function Pb(e){for(var t="",n=0;n<arguments.length;n++)t=fa(arguments[n])?t+Pb.apply(null,arguments[n]):"object"==typeof arguments[n]?t+x(arguments[n]):t+arguments[n],t+=" ";return t}function Sb(e,t){cb(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?Qb=q(console.log,console):"object"==typeof console.log&&(Qb=function(e){console.log(e)})),t&&yb.set("logging_enabled",!0)):ha(e)?Qb=e:(Qb=null,yb.remove("logging_enabled"))}function I(e){if(!0===Rb&&(Rb=!1,null===Qb&&!0===yb.get("logging_enabled")&&Sb(!0)),Qb){var t=Pb.apply(null,arguments);Qb(t)}}function Tb(e){return function(){I(e,arguments)}}function Ub(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Pb.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function Vb(e){var t=Pb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function J(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Pb.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function Wb(e){var t,n,r,i,o,a=e;if(o=n=e=t="",r=!0,i="https",p(a)){var s=a.indexOf("//");for(0<=s&&(i=a.substring(0,s-1),a=a.substring(s+2)),s=a.indexOf("/"),-1===s&&(s=a.length),t=a.substring(0,s),o="",a=a.substring(s).split("/"),s=0;s<a.length;s++)if(0<a[s].length){var u=a[s];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(e){}o+="/"+u}a=t.split("."),3===a.length?(e=a[1],n=a[0].toLowerCase()):2===a.length&&(e=a[0]),s=t.indexOf(":"),0<=s&&(r="https"===i||"wss"===i)}return"firebase"===e&&Vb(t+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Vb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&J("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{jc:new zb(t,r,n,"ws"===i||"wss"===i),path:new E(o)}}function Xb(e){return ga(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function Yb(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function sb(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=Zb(e),r=Zb(t);return null!==n?null!==r?0==n-r?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}function $b(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+x(t))}function ac(e){if("object"!=typeof e||null===e)return x(e);var t,n=[];for(t in e)n.push(t);n.sort(),t="{";for(var r=0;r<n.length;r++)0!==r&&(t+=","),t+=x(n[r]),t+=":",t+=ac(e[n[r]]);return t+"}"}function bc(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)r+t>e?n.push(e.substring(r,e.length)):n.push(e.substring(r,r+t));return n}function cc(e,t){if(ea(e))for(var n=0;n<e.length;++n)t(n,e[n]);else v(e,t)}function dc(e){D(!Xb(e),"Invalid JSON number");var t,n,r,i;for(0===e?(r=n=0,t=-(1/0)===1/e?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,r=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(e=11;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),n="",e=0;64>e;e+=8)r=parseInt(t.substr(e,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function Zb(e){return ec.test(e)&&(e=Number(e),-2147483648<=e&&2147483647>=e)?e:null}function fc(e){try{e()}catch(e){setTimeout(function(){throw J("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function gc(e,t,n){Object.defineProperty(e,t,{get:n})}function hc(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n}function ic(e){var t={},n={},r={},i="";try{var o=e.split("."),t=lb(Nb(o[0])||""),n=lb(Nb(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(e){}return{tg:t,Je:n,data:r,mg:i}}function jc(e){e=ic(e);var t=e.Je;return!!e.mg&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function kc(e){return e=ic(e).Je,"object"==typeof e&&!0===w(e,"admin")}function lc(){}function nc(e){return q(e.compare,e)}function pc(e){D(!e.e()&&".priority"!==K(e),"Can't create PathIndex with empty path or .priority key"),this.bc=e}function rc(){}function sc(){}function uc(){}function xc(e,t){this.od=e,this.cc=t}function yc(e,t,n){var r=Ja(e.od,function(r,i){var o=w(e.cc,i);if(D(o,"Missing index implementation for "+i),r===mc){if(o.xc(t.R)){for(var a=[],s=n.Wb(qb),u=M(s);u;)u.name!=t.name&&a.push(u),u=M(s);return a.push(t),zc(a,nc(o))}return mc}return o=n.get(t.name),a=r,o&&(a=a.remove(new C(t.name,o))),a.Oa(t,t.R)});return new xc(r,e.cc)}function Ac(e,t,n){var r=Ja(e.od,function(e){if(e===mc)return e;var r=n.get(t.name);return r?e.remove(new C(t.name,r)):e});return new xc(r,e.cc)}function Kb(e,t){this.B=e,D(n(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.aa=t||L,Cc(this.aa),this.Db=null}function Gc(){this.set={}}function Hc(e,t){v(e.set,function(e,n){t(n,e)})}function Ic(e){D(ea(e)&&0<e.length,"Requires a non-empty array"),this.Bf=e,this.Dc={}}function Jc(e,t){D(Da(e.Bf,function(e){return e===t}),"Unknown event: "+t)}function Lc(){if(Ic.call(this,["online"]),this.hc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&!pb()){var e=this;window.addEventListener("online",function(){e.hc||(e.hc=!0,e.Ge("online",!0))},!1),window.addEventListener("offline",function(){e.hc&&(e.hc=!1,e.Ge("online",!1))},!1)}}function Mc(){Ic.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.Mb=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.Mb&&(n.Mb=t,n.Ge("visible",t))},!1)}}function E(e,t){if(1==arguments.length){this.o=e.split("/");for(var n=0,r=0;r<this.o.length;r++)0<this.o[r].length&&(this.o[n]=this.o[r],n++);this.o.length=n,this.Y=0}else this.o=e,this.Y=t}function P(e,t){var n=K(e);if(null===n)return t;if(n===K(t))return P(N(e),N(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Nc(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=sb(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function K(e){return e.Y>=e.o.length?null:e.o[e.Y]}function Ec(e){return e.o.length-e.Y}function N(e){var t=e.Y;return t<e.o.length&&t++,new E(e.o,t)}function Oc(e){return e.Y<e.o.length?e.o[e.o.length-1]:null}function Pc(e,t){this.Qa=e.slice(),this.Ha=Math.max(1,this.Qa.length),this.Qe=t;for(var n=0;n<this.Qa.length;n++)this.Ha+=nb(this.Qa[n]);Qc(this)}function Qc(e){if(768<e.Ha)throw Error(e.Qe+"has a key path longer than 768 bytes ("+e.Ha+").");if(32<e.Qa.length)throw Error(e.Qe+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Rc(e))}function Rc(e){return 0==e.Qa.length?"":"in property '"+e.Qa.join(".")+"'"}function Sc(){this.children={},this.bd=0,this.value=null}function Tc(e,t,n){this.ud=e?e:"",this.Pc=t?t:null,this.A=n?n:new Sc}function Uc(e,t){for(var n,r=t instanceof E?t:new E(t),i=e;null!==(n=K(r));)i=new Tc(n,i,w(i.A.children,n)||new Sc),r=N(r);return i}function Vc(e,t){D("undefined"!=typeof t,"Cannot set value to undefined"),e.A.value=t,Wc(e)}function Xc(e,t,n,r){n&&!r&&t(e),e.O(function(e){Xc(e,t,!0,r)}),n&&r&&t(e)}function Yc(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function Wc(e){if(null!==e.Pc){var t=e.Pc,n=e.ud,r=e.e(),i=eb(t.A.children,n);r&&i?(delete t.A.children[n],t.A.bd--,Wc(t)):r||i||(t.A.children[n]=e.A,t.A.bd++,Wc(t))}}function Zc(e,t){this.La=e,this.ba=t?t:$c}function ad(e,t){for(var n,r=e.ba,i=null;!r.e();){if(n=e.La(t,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:0<n&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function bd(e,t,n,r,i){for(this.Hd=i||null,this.le=r,this.Pa=[],i=1;!e.e();)if(i=t?n(e.key,t):1,r&&(i*=-1),0>i)e=this.le?e.left:e.right;else{if(0===i){this.Pa.push(e);break}this.Pa.push(e),e=this.le?e.right:e.left}}function M(e){if(0===e.Pa.length)return null;var t,n=e.Pa.pop();if(t=e.Hd?e.Hd(n.key,n.value):{key:n.key,value:n.value},e.le)for(n=n.left;!n.e();)e.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)e.Pa.push(n),n=n.left;return t}function cd(e){if(0===e.Pa.length)return null;var t;return t=e.Pa,t=t[t.length-1],e.Hd?e.Hd(t.key,t.value):{key:t.key,value:t.value}}function dd(e,t,n,r,i){this.key=e,this.value=t,this.color=null==n||n,this.left=null!=r?r:$c,this.right=null!=i?i:$c}function ed(e){return e.left.e()?e:ed(e.left)}function hd(e){return e.left.e()?$c:(e.left.ea()||e.left.left.ea()||(e=id(e)),e=e.X(null,null,null,hd(e.left),null),gd(e))}function gd(e){return e.right.ea()&&!e.left.ea()&&(e=ld(e)),e.left.ea()&&e.left.left.ea()&&(e=jd(e)),e.left.ea()&&e.right.ea()&&(e=kd(e)),e}function id(e){return e=kd(e),e.right.left.ea()&&(e=e.X(null,null,null,null,jd(e.right)),e=ld(e),e=kd(e)),e}function ld(e){return e.right.X(null,null,e.color,e.X(null,null,!0,null,e.right.left),null)}function jd(e){return e.left.X(null,null,e.color,null,e.X(null,null,!0,e.left.right,null))}function kd(e){return e.X(null,null,!e.color,e.left.X(null,null,!e.left.color,null,null),e.right.X(null,null,!e.right.color,null,null))}function md(){}function O(e,t,n){this.k=e,(this.aa=t)&&Cc(this.aa),e.e()&&D(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.yb=n,this.Db=null}function pd(e,t){var n;return n=(n=od(e,t))?(n=n.Gc())&&n.name:e.k.Gc(),n?new C(n,e.k.get(n)):null}function qd(e,t){var n;return n=(n=od(e,t))?(n=n.ec())&&n.name:e.k.ec(),n?new C(n,e.k.get(n)):null}function od(e,t){return t===tc?null:e.yb.get(t.toString())}function G(e,t){if(null===e)return L;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:"undefined"!=typeof t&&(n=t),D(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Kb(e,G(n));if(e instanceof Array){var r=L,i=e;return v(i,function(e,t){if(eb(i,t)&&"."!==t.substring(0,1)){var n=G(e);!n.J()&&n.e()||(r=r.T(t,n))}}),r.fa(G(n))}var o=[],a=!1,s=e;if(fb(s,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=G(s[e]);t.e()||(a=a||!t.C().e(),o.push(new C(e,t)))}}),0==o.length)return L;var u=zc(o,rb,function(e){return e.name},tb);if(a){var c=zc(o,nc(H));return new O(u,G(n),new xc({".priority":c},{".priority":H}))}return new O(u,G(n),Bc)}function sd(e){this.count=parseInt(Math.log(e+1)/rd,10),this.Oe=this.count-1,this.Cf=e+1&parseInt(Array(this.count+1).join("1"),2)}function td(e){var t=!(e.Cf&1<<e.Oe);return e.Oe--,t}function zc(e,t,n,r){function i(t,r){var o=r-t;if(0==o)return null;if(1==o){var a=e[t],s=n?n(a):a;return new dd(s,a.R,!1,null,null)}var a=parseInt(o/2,10)+t,o=i(t,a),u=i(a+1,r),a=e[a],s=n?n(a):a;return new dd(s,a.R,!1,o,u)}e.sort(t);var o=function(t){function r(t,r){var u=s-t,c=s;s-=t;var c=i(u+1,c),u=e[u],l=n?n(u):u,c=new dd(l,u.R,r,null,c);o?o.left=c:a=c,o=c}for(var o=null,a=null,s=e.length,u=0;u<t.count;++u){var c=td(t),l=Math.pow(2,t.count-(u+1));c?r(l,!1):(r(l,!1),r(l,!0))}return a}(new sd(e.length));return null!==o?new Zc(r||t,o):new Zc(r||t)}function Fc(e){return"number"==typeof e?"number:"+dc(e):"string:"+e}function Cc(e){if(e.J()){var t=e.H();D("string"==typeof t||"number"==typeof t||"object"==typeof t&&eb(t,".sv"),"Priority must be a string or number.")}else D(e===qc||e.e(),"priority of unexpected type.");D(e===qc||e.C().e(),"Priority nodes can't have a priority of their own.")}function ud(){O.call(this,new Zc(tb),L,Bc)}function vd(e,t){this.value=e,this.children=t||wd}function xd(e){var t=R;return v(e,function(e,n){t=t.set(new E(n),e)}),t}function yd(e,t,n){if(null!=e.value&&n(e.value))return{path:Q,value:e.value};if(t.e())return null;var r=K(t);return e=e.children.get(r),null!==e?(t=yd(e,N(t),n),null!=t?{path:new E(r).n(t.path),value:t.value}:null):null}function zd(e,t){return yd(e,t,function(){return!0})}function Ad(e,t,n){if(t.e())return n;var r=K(t);return t=Ad(e.children.get(r)||R,N(t),n),r=t.e()?e.children.remove(r):e.children.Oa(r,t),new vd(e.value,r)}function Bd(e,t){return Cd(e,Q,t)}function Cd(e,t,n){var r={};return e.children.ha(function(e,i){r[e]=Cd(i,t.n(e),n)}),n(t,e.value,r)}function Dd(e,t,n){return Ed(e,t,Q,n)}function Ed(e,t,n,r){var i=!!e.value&&r(n,e.value);return i?i:t.e()?null:(i=K(t),(e=e.children.get(i))?Ed(e,N(t),n.n(i),r):null)}function Fd(e,t,n){Gd(e,t,Q,n)}function Gd(e,t,n,r){if(t.e())return e;
e.value&&r(n,e.value);var i=K(t);return(e=e.children.get(i))?Gd(e,N(t),n.n(i),r):R}function Hd(e,t){Id(e,Q,t)}function Id(e,t,n){e.children.ha(function(e,r){Id(r,t.n(e),n)}),e.value&&n(t,e.value)}function Jd(e,t){e.children.ha(function(e,n){n.value&&t(e,n.value)})}function Md(e){return p(e)&&0!==e.length&&!Kd.test(e)}function Nd(e){return null===e||p(e)||ga(e)&&!Xb(e)||ia(e)&&eb(e,".sv")}function Od(e,t,r,i){i&&!n(t)||Pd(A(e,1,i),t,r)}function Pd(e,t,r){if(r instanceof E&&(r=new Pc(r,e)),!n(t))throw Error(e+"contains undefined "+Rc(r));if(ha(t))throw Error(e+"contains a function "+Rc(r)+" with contents: "+t.toString());if(Xb(t))throw Error(e+"contains "+t.toString()+" "+Rc(r));if(p(t)&&t.length>10485760/3&&10485760<nb(t))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+Rc(r)+" ('"+t.substring(0,50)+"...')");if(ia(t)){var i=!1,o=!1;if(fb(t,function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!Md(t)))throw Error(e+" contains an invalid key ("+t+") "+Rc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),Pd(e,n,r),r.pop()}),i&&o)throw Error(e+' contains ".value" child '+Rc(r)+" in addition to actual children.")}}function Qd(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!Md(i[o]))throw Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(t.sort(Nc),i=null,n=0;n<t.length;n++){if(r=t[n],null!==i&&i.contains(r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function Rd(e,t,n){var r=A(e,1,!1);if(!ia(t)||ea(t))throw Error(r+" must be an object containing the children to replace.");var i=[];fb(t,function(e,t){var o=new E(e);if(Pd(r,t,n.n(o)),".priority"===Oc(o)&&!Nd(t))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),Qd(r,i)}function Sd(e,t,n){if(Xb(n))throw Error(A(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nd(n))throw Error(A(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Td(e,t,r){if(!r||n(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(A(e,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ud(e,t){if(n(t)&&!Md(t))throw Error(A(e,2,!0)+'was an invalid key: "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Vd(e,t){if(!p(t)||0===t.length||Ld.test(t))throw Error(A(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Wd(e,t){if(".info"===K(t))throw Error(e+" failed: Can't modify data under /.info/")}function Xd(e,t){var n,r=t.path.toString();if(!(n=!p(t.jc.host)||0===t.jc.host.length||!Md(t.jc.pe))&&(n=0!==r.length)&&(r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),n=!(p(r)&&0!==r.length&&!Ld.test(r))),n)throw Error(A(e,1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}function Gb(){this.k=this.B=null}function Ib(e,t,n){if(t.e())e.B=n,e.k=null;else if(null!==e.B)e.B=e.B.F(t,n);else{null==e.k&&(e.k=new Gc);var r=K(t);e.k.contains(r)||e.k.add(r,new Gb),e=e.k.get(r),t=N(t),Ib(e,t,n)}}function Yd(e,t){if(t.e())return e.B=null,e.k=null,!0;if(null!==e.B){if(e.B.J())return!1;var n=e.B;return e.B=null,n.O(H,function(t,n){Ib(e,new E(t),n)}),Yd(e,t)}return null===e.k||(n=K(t),t=N(t),e.k.contains(n)&&Yd(e.k.get(n),t)&&e.k.remove(n),!!e.k.e()&&(e.k=null,!0))}function Hb(e,t,n){null!==e.B?n(t,e.B):e.O(function(e,r){var i=new E(t.toString()+"/"+e);Hb(r,i,n)})}function Zd(e,t){this.type=$d,this.source=e,this.path=t}function ae(e,t,n){this.type=be,this.source=e,this.path=t,this.children=n}function de(e,t,n){this.type=ee,this.source=fe,this.path=e,this.Ob=t,this.Id=n}function ce(e,t,n){this.type=ge,this.source=e,this.path=t,this.Ga=n}function he(e,t,n,r){this.ee=e,this.Se=t,this.Hb=n,this.Ee=r,D(!r||t,"Tagged queries must be from server.")}function je(e,t,n){this.A=e,this.da=t,this.Sb=n}function ke(e){return e.da}function le(e){return e.Sb}function me(e,t){return t.e()?e.da&&!e.Sb:ne(e,K(t))}function ne(e,t){return e.da&&!e.Sb||e.A.Da(t)}function oe(e,t){this.N=e,this.Ld=t}function pe(e,t,n,r){return new oe(new je(t,n,r),e.Ld)}function qe(e){return e.N.da?e.N.j():null}function re(e){return e.Ld.da?e.Ld.j():null}function se(){}function ue(e,t,n){this.xf=e,this.Ka=t,this.yd=n}function ve(e,t){this.Sd=e,this.Df=t}function we(e){this.U=e}function De(e,t,n,r,i,o){var a=t.N;if(null!=r.lc(n))return t;var s;if(n.e())D(ke(t.w()),"If change path is empty, we must have complete server data"),le(t.w())?(i=re(t),r=r.rc(i instanceof O?i:L)):r=r.Aa(re(t)),o=e.U.ya(t.N.j(),r,o);else{var u=K(n);if(".priority"==u)D(1==Ec(n),"Can't have a priority with additional path components"),o=a.j(),s=t.w().j(),r=r.ad(n,o,s),o=null!=r?e.U.fa(o,r):a.j();else{var c=N(n);ne(a,u)?(s=t.w().j(),r=r.ad(n,a.j(),s),r=null!=r?a.j().Q(u).F(c,r):a.j().Q(u)):r=r.qc(u,t.w()),o=null!=r?e.U.F(a.j(),u,r,c,i,o):a.j()}}return pe(t,o,a.da||n.e(),e.U.Na())}function ze(e,t,n,r,i,o,a,s){var u=t.w();if(a=a?e.U:e.U.Ub(),n.e())r=a.ya(u.j(),r,null);else if(a.Na()&&!u.Sb)r=u.j().F(n,r),r=a.ya(u.j(),r,null);else{var c=K(n);if(!me(u,n)&&1<Ec(n))return t;var l=N(n);r=u.j().Q(c).F(l,r),r=".priority"==c?a.fa(u.j(),r):a.F(u.j(),c,r,l,te,null)}return u=u.da||n.e(),t=new oe(t.N,new je(r,u,a.Na())),De(e,t,n,i,new ue(i,t,o),s)}function ye(e,t,n,r,i,o,a){var s=t.N;if(i=new ue(i,t,o),n.e())a=e.U.ya(t.N.j(),r,a),e=pe(t,a,!0,e.U.Na());else if(o=K(n),".priority"===o)a=e.U.fa(t.N.j(),r),e=pe(t,a,s.da,s.Sb);else{n=N(n);var u=s.j().Q(o);if(!n.e()){var c=i.Te(o);r=null!=c?".priority"===Oc(n)&&c.P(n.parent()).e()?c:c.F(n,r):L}u.Z(r)?e=t:(a=e.U.F(s.j(),o,r,n,i,a),e=pe(t,a,s.da,e.U.Na()))}return e}function Ae(e,t,n,r,i,o,a){var s=t;return Hd(r,function(r,u){var c=n.n(r);ne(t.N,K(c))&&(s=ye(e,s,c,u,i,o,a))}),Hd(r,function(r,u){var c=n.n(r);ne(t.N,K(c))||(s=ye(e,s,c,u,i,o,a))}),s}function Fe(e,t){return Hd(t,function(t,n){e=e.F(t,n)}),e}function Be(e,t,n,r,i,o,a,s){if(t.w().j().e()&&!ke(t.w()))return t;var u=t;n=n.e()?r:Ad(R,n,r);var c=t.w().j();return n.children.ha(function(n,r){if(c.Da(n)){var l=t.w().j().Q(n),l=Fe(l,r);u=ze(e,u,new E(n),l,i,o,a,s)}}),n.children.ha(function(n,r){var l=!ne(t.w(),n)&&null==r.value;c.Da(n)||l||(l=t.w().j().Q(n),l=Fe(l,r),u=ze(e,u,new E(n),l,i,o,a,s))}),u}function Ce(e,t,n,r,i,o,a){if(null!=i.lc(n))return t;var s=le(t.w()),u=t.w();if(null!=r.value){if(n.e()&&u.da||me(u,n))return ze(e,t,n,u.j().P(n),i,o,s,a);if(n.e()){var c=R;return u.j().O(tc,function(e,t){c=c.set(new E(e),t)}),Be(e,t,n,c,i,o,s,a)}return t}return c=R,Hd(r,function(e){var t=n.n(e);me(u,t)&&(c=c.set(e,u.j().P(t)))}),Be(e,t,n,c,i,o,s,a)}function Ge(e){this.V=e,this.g=e.m.g}function He(e,t,n,r){var i=[],o=[];return ya(t,function(t){t.type===Ie&&e.g.nd(t.qe,t.Ja)&&o.push(new S(Je,t.Ja,t.Xa))}),Ke(e,i,Le,t,r,n),Ke(e,i,Me,t,r,n),Ke(e,i,Je,o,r,n),Ke(e,i,Ie,t,r,n),Ke(e,i,Ne,t,r,n),i}function Ke(e,t,n,r,i,o){r=za(r,function(e){return e.type===n}),Ha(r,q(e.Ff,e)),ya(r,function(n){var r=Oe(e,n,o);ya(i,function(i){i.nf(n.type)&&t.push(i.createEvent(r,e.V))})})}function Oe(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Dd=n.Ve(t.Xa,t.Ja,e.g)),t}function Pe(e,t){this.V=e;var n=e.m,r=new Qe(n.g),n=T(n)?new Qe(n.g):n.xa?new Re(n):new Se(n);this.hf=new we(n);var i=t.w(),o=t.N,a=r.ya(L,i.j(),null),s=n.ya(L,o.j(),null);this.Ka=new oe(new je(s,o.da,n.Na()),new je(a,i.da,r.Na())),this.Za=[],this.Jf=new Ge(e)}function Te(e){return e.V}function Ve(e,t){var n=e.Ka.N,r=[];return n.j().J()||n.j().O(H,function(e,t){r.push(new S(Me,t,e))}),n.da&&r.push(Ee(n.j())),Ue(e,r,n.j(),t)}function Ue(e,t,n,r){return He(e.Jf,t,n,r?[r]:e.Za)}function We(e,t,n,r){this.ae=t,this.Md=n,this.Dd=r,this.hd=e}function Xe(e,t,n){this.ae=e,this.error=t,this.path=n}function Ye(){this.vb=[]}function Ze(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.Yb();null===n||o.Z(n.Yb())||(e.vb.push(n),n=null),null===n&&(n=new $e(o)),n.add(i)}n&&e.vb.push(n)}function af(e,t,n){Ze(e,n),bf(e,function(e){return e.Z(t)})}function cf(e,t,n){Ze(e,n),bf(e,function(e){return e.contains(t)||t.contains(e)})}function bf(e,t){for(var n=!0,r=0;r<e.vb.length;r++){var i=e.vb[r];if(i)if(i=i.Yb(),t(i)){for(var i=e.vb[r],o=0;o<i.jd.length;o++){var a=i.jd[o];if(null!==a){i.jd[o]=null;var s=a.Tb();Qb&&I("event: "+a.toString()),fc(s)}}e.vb[r]=null}else n=!1}n&&(e.vb=[])}function $e(e){this.qa=e,this.jd=[]}function Qe(e){this.g=e}function Se(e){this.he=new Qe(e.g),this.g=e.g;var t;e.ka?(t=ef(e),t=e.g.Ec(ff(e),t)):t=e.g.Hc(),this.Uc=t,e.na?(t=gf(e),e=e.g.Ec(hf(e),t)):e=e.g.Fc(),this.vc=e}function Re(e){this.sa=new Se(e),this.g=e.g,D(e.xa,"Only valid if limit has been set"),this.oa=e.oa,this.Ib=!jf(e)}function kf(e,t,n,r,i,o){var a;if(e.Ib){var s=nc(e.g);a=function(e,t){return s(t,e)}}else a=nc(e.g);D(t.Eb()==e.oa,"");var u=new C(n,r),c=e.Ib?pd(t,e.g):qd(t,e.g),l=e.sa.matches(u);if(t.Da(n)){for(var h=t.Q(n),c=i.fe(e.g,c,e.Ib);null!=c&&(c.name==n||t.Da(c.name));)c=i.fe(e.g,c,e.Ib);return i=null==c?1:a(c,u),l&&!r.e()&&0<=i?(null!=o&&df(o,new S(Ie,r,n,h)),t.T(n,r)):(null!=o&&df(o,new S(Le,h,n)),t=t.T(n,L),null!=c&&e.sa.matches(c)?(null!=o&&df(o,new S(Me,c.R,c.name)),t.T(c.name,c.R)):t)}return r.e()?t:l&&0<=a(c,u)?(null!=o&&(df(o,new S(Le,c.R,c.name)),df(o,new S(Me,r,n))),t.T(n,r).T(c.name,L)):t}function S(e,t,n,r){this.type=e,this.Ja=t,this.Xa=n,this.qe=r,this.Dd=void 0}function Ee(e){return new S(Ne,e)}function xe(){this.fb={}}function df(e,t){var n=t.type,r=t.Xa;D(n==Me||n==Ie||n==Le,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");var i=w(e.fb,r);if(i){var o=i.type;if(n==Me&&o==Le)e.fb[r]=new S(Ie,t.Ja,r,i.Ja);else if(n==Le&&o==Me)delete e.fb[r];else if(n==Le&&o==Ie)e.fb[r]=new S(Le,i.qe,r);else if(n==Ie&&o==Me)e.fb[r]=new S(Me,t.Ja,r);else{if(n!=Ie||o!=Ie)throw Mb("Illegal combination of changes: "+t+" occurred after "+i);e.fb[r]=new S(Ie,t.Ja,r,i.qe)}}else e.fb[r]=t}function lf(){this.Rb=this.na=this.Kb=this.ka=this.xa=!1,this.oa=0,this.mb="",this.dc=null,this.zb="",this.ac=null,this.xb="",this.g=H}function jf(e){return""===e.mb?e.ka:"l"===e.mb}function ff(e){return D(e.ka,"Only valid if start has been set"),e.dc}function ef(e){return D(e.ka,"Only valid if start has been set"),e.Kb?e.zb:"[MIN_NAME]"}function hf(e){return D(e.na,"Only valid if end has been set"),e.ac}function gf(e){return D(e.na,"Only valid if end has been set"),e.Rb?e.xb:"[MAX_NAME]"}function nf(e){var t=new lf;return t.xa=e.xa,t.oa=e.oa,t.ka=e.ka,t.dc=e.dc,t.Kb=e.Kb,t.zb=e.zb,t.na=e.na,t.ac=e.ac,t.Rb=e.Rb,t.xb=e.xb,t.g=e.g,t.mb=e.mb,t}function of(e,t){var n=nf(e);return n.g=t,n}function pf(e){var t={};if(e.ka&&(t.sp=e.dc,e.Kb&&(t.sn=e.zb)),e.na&&(t.ep=e.ac,e.Rb&&(t.en=e.xb)),e.xa){t.l=e.oa;var n=e.mb;""===n&&(n=jf(e)?"l":"r"),t.vf=n}return e.g!==H&&(t.i=e.g.toString()),t}function T(e){return!(e.ka||e.na||e.xa)}function qf(e){return T(e)&&e.g==H}function rf(e){var t={};if(qf(e))return t;var n;return e.g===H?n="$priority":e.g===wc?n="$value":e.g===tc?n="$key":(D(e.g instanceof pc,"Unrecognized index type!"),n=e.g.toString()),t.orderBy=x(n),e.ka&&(t.startAt=x(e.dc),e.Kb&&(t.startAt+=","+x(e.zb))),e.na&&(t.endAt=x(e.ac),e.Rb&&(t.endAt+=","+x(e.xb))),e.xa&&(jf(e)?t.limitToFirst=e.oa:t.limitToLast=e.oa),t}function sf(e){this.W=e}function uf(e,t,n){if(t.e())return new sf(new vd(n));var r=zd(e.W,t);if(null!=r){var i=r.path,r=r.value;return t=P(i,t),r=r.F(t,n),new sf(e.W.set(i,r))}return e=Ad(e.W,t,new vd(n)),new sf(e)}function vf(e,t,n){var r=e;return fb(n,function(e,n){r=uf(r,t.n(e),n)}),r}function wf(e,t){var n=zd(e.W,t);return null!=n?e.W.get(n.path).P(P(n.path,t)):null}function xf(e){var t=[],n=e.W.value;return null!=n?n.J()||n.O(H,function(e,n){t.push(new C(e,n))}):e.W.children.ha(function(e,n){null!=n.value&&t.push(new C(e,n.value))}),t}function yf(e,t){if(t.e())return e;var n=wf(e,t);return new sf(null!=n?new vd(n):e.W.subtree(t))}function zf(e,t,n){if(null!=t.value)return n.F(e,t.value);var r=null;return t.children.ha(function(t,i){".priority"===t?(D(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=zf(e.n(t),i,n)}),n.P(e).e()||null===r||(n=n.F(e.n(".priority"),r)),n}function Af(){this.Jd=L}function Bf(e){this.oc=e}function Cf(e,t){e.oc.INTERNAL.addAuthTokenListener(t)}function Df(){this.S=tf,this.la=[],this.Bc=-1}function Ef(e,t){for(var n=0;n<e.la.length;n++){var r=e.la[n];if(r.Zc===t)return r}return null}function Ff(e,t){return e.Ga?e.path.contains(t):!!Qa(e.children,function(n,r){return e.path.n(r).contains(t)})}function Hf(e){return e.visible}function Gf(e,t,n){for(var r=tf,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path;if(o.Ga)n.contains(a)?(a=P(n,a),r=uf(r,a,o.Ga)):a.contains(n)&&(a=P(a,n),r=uf(r,Q,o.Ga.P(a)));else{if(!o.children)throw Mb("WriteRecord should have .snap or .children");n.contains(a)?(a=P(n,a),r=vf(r,a,o.children)):a.contains(n)&&(a=P(a,n),a.e()?r=vf(r,Q,o.children):(o=w(o.children,K(a)))&&(o=o.P(N(a)),r=uf(r,Q,o)))}}}return r}function If(e,t){this.Lb=e,this.W=t}function Jf(e,t){this.rf={},this.Vc=new Kf(e),this.va=t;var n=1e4+2e4*Math.random();hc(q(this.lf,this),Math.floor(n))}function Lf(){this.tc={}}function Mf(e,t,r){n(r)||(r=1),eb(e.tc,t)||(e.tc[t]=0),e.tc[t]+=r}function Kf(e){this.Ef=e,this.rd=null}function Pf(e){return e=e.toString(),Nf[e]||(Nf[e]=new Lf),Nf[e]}function Qf(e,t){var n=e.toString();return Of[n]||(Of[n]=t()),Of[n]}function Rf(e,t,n){this.f=Tb("p:rest:"),this.L=e,this.Gb=t,this.$c=n,this.$={}}function Sf(e,t){return n(t)?"tag$"+t:(D(qf(e.m),"should have a tag if it's not a default query."),e.path.toString())}function Tf(e,t,n,r){n=n||{},n.format="export",e.$c.getToken(!1).then(function(i){(i=i&&i.accessToken)&&(n.auth=i);var o=(e.L.Sc?"https://":"http://")+e.L.host+t+"?"+gb(n);e.f("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(r&&4===a.readyState){e.f("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var t=null;if(200<=a.status&&300>a.status){try{t=lb(a.responseText)}catch(e){J("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,t)}else 401!==a.status&&404!==a.status&&J("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}function Uf(e){this.te=e,this.Bd=[],this.Qb=0,this.Yd=-1,this.Fb=null}function Vf(e,t,n){e.Yd=t,e.Fb=n,e.Yd<e.Qb&&(e.Fb(),e.Fb=null)}function Wf(e,t,n){for(e.Bd[t]=n;e.Bd[e.Qb];){var r=e.Bd[e.Qb];delete e.Bd[e.Qb];for(var i=0;i<r.length;++i)if(r[i]){var o=e;fc(function(){o.te(r[i])})}if(e.Qb===e.Yd){e.Fb&&(clearTimeout(e.Fb),e.Fb(),e.Fb=null);break}e.Qb++}}function Yf(e,t,n,r){this.Zd=e,this.f=Tb(this.Zd),this.frames=this.zc=null,this.pb=this.qb=this.Fe=0,this.Va=Pf(t),e={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),r&&(e.ls=r),this.Ke=Bb(t,Cb,e)}function ag(e,t){if(e.frames.push(t),e.frames.length==e.Fe){var n=e.frames.join("");e.frames=null,n=lb(n),e.Xf(n)}}function $f(e){clearInterval(e.zc),e.zc=setInterval(function(){e.Ia&&bg(e,"0"),$f(e)},Math.floor(45e3))}function bg(e,t){try{e.Ia.send(t)}catch(t){e.f("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(q(e.bb,e),0)}}function cg(e,t,n,r){this.Zd=e,this.f=Tb(e),this.jc=t,this.pb=this.qb=0,this.Va=Pf(t),this.tf=n,this.wc=!1,this.Cb=r,this.Yc=function(e){return Bb(t,Db,e)}}function gg(e,t){var n=x(t).length;e.pb+=n,Mf(e.Va,"bytes_received",n)}function fg(e,t,n,r){if(this.Yc=r,this.ib=n,this.ve=new Gc,this.Qc=[],this.$d=Math.floor(1e8*Math.random()),this.Kd=!0,this.Qd=Lb(),window["pLPCommand"+this.Qd]=e,window["pRTLPCB"+this.Qd]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||I("No IE domain setting required")}catch(t){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.gb=e.contentDocument:e.contentWindow?e.gb=e.contentWindow.document:e.document&&(e.gb=e.document),this.Ea=e,e="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";</script>'),e="<html><body>"+e+"</body></html>";try{this.Ea.gb.open(),this.Ea.gb.write(e),this.Ea.gb.close()}catch(e){I("frame writing exception"),e.stack&&I(e.stack),I(e)}}function ig(e){if(e.Ud&&e.Kd&&e.ve.count()<(0<e.Qc.length?2:1)){e.$d++;var t={};t.id=e.Vf,t.pw=e.Wf,t.ser=e.$d;for(var t=e.Yc(t),n="",r=0;0<e.Qc.length&&1870>=e.Qc[0].Pe.length+30+n.length;){var i=e.Qc.shift(),n=n+"&seg"+r+"="+i.jg+"&ts"+r+"="+i.pg+"&d"+r+"="+i.Pe;r++}return jg(e,t+n,e.$d),!0}return!1}function jg(e,t,n){function r(){e.ve.remove(n),ig(e)}e.ve.add(n,1);var i=setTimeout(r,Math.floor(25e3));hg(e,t,function(){clearTimeout(i),r()})}function hg(e,t,n){setTimeout(function(){try{if(e.Kd){var r=e.Ea.gb.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){I("Long-poll script failed to load: "+t),e.Kd=!1,e.close()},e.Ea.gb.body.appendChild(r)}}catch(e){}},Math.floor(1))}function kg(e){lg(this,e)}function lg(e,t){var n=Yf&&Yf.isAvailable(),r=n&&!(xb.Ze||!0===xb.get("previous_websocket_failure"));if(t.qg&&(n||J("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)e.Wc=[Yf];else{var i=e.Wc=[];cc(mg,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function ng(e){if(0<e.Wc.length)return e.Wc[0];throw Error("No transports available")}function og(e,t,n,r,i,o,a){this.id=e,this.f=Tb("c:"+this.id+":"),this.te=n,this.Lc=r,this.ia=i,this.se=o,this.L=t,this.Ad=[],this.Le=0,this.sf=new kg(t),this.Ua=0,this.Cb=a,this.f("Connection created"),pg(this)}function pg(e){var t=ng(e.sf);e.I=new t("c:"+e.id+":"+e.Le++,e.L,void 0,e.Cb),e.xe=t.responsesRequiredToBeHealthy||0;var n=qg(e,e.I),r=rg(e,e.I);e.Xc=e.I,e.Rc=e.I,e.D=null,e.Bb=!1,setTimeout(function(){e.I&&e.I.open(n,r)},Math.floor(0)),t=t.healthyTimeout||0,0<t&&(e.md=hc(function(){e.md=null,e.Bb||(e.I&&102400<e.I.pb?(e.f("Connection exceeded healthy timeout but has received "+e.I.pb+" bytes.  Marking connection healthy."),e.Bb=!0,e.I.sd()):e.I&&10240<e.I.qb?e.f("Connection exceeded healthy timeout but has sent "+e.I.qb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function rg(e,t){return function(n){t===e.I?(e.I=null,n||0!==e.Ua?1===e.Ua&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.L.$a.substr(0,2)&&(xb.remove("host:"+e.L.host),e.L.$a=e.L.host)),e.close()):t===e.D?(e.f("Secondary connection lost."),n=e.D,e.D=null,e.Xc!==n&&e.Rc!==n||e.close()):e.f("closing an old connection")}}function qg(e,t){return function(n){if(2!=e.Ua)if(t===e.Rc){var r=$b("t",n);if(n=$b("d",n),"c"==r){if(r=$b("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;e.qf=n.s,Ab(e.L,o),0==e.Ua&&(e.I.start(),sg(e,e.I,r),"5"!==i&&J("Protocol version mismatch detected"),n=e.sf,(n=1<n.Wc.length?n.Wc[1]:null)&&tg(e,n))}else if("n"===r){for(e.f("recvd end transmission on primary"),e.Rc=e.D,n=0;n<e.Ad.length;++n)e.wd(e.Ad[n]);e.Ad=[],ug(e)}else"s"===r?(e.f("Connection shutdown command received. Shutting down..."),e.se&&(e.se(n),e.se=null),e.ia=null,e.close()):"r"===r?(e.f("Reset packet received.  New host: "+n),Ab(e.L,n),1===e.Ua?e.close():(vg(e),pg(e))):"e"===r?Ub("Server Error: "+n):"o"===r?(e.f("got pong on primary."),wg(e),xg(e)):Ub("Unknown control packet command: "+r)}else"d"==r&&e.wd(n)}else if(t===e.D)if(r=$b("t",n),n=$b("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?yg(e):"r"===n?(e.f("Got a reset on secondary, closing it"),e.D.close(),e.Xc!==e.D&&e.Rc!==e.D||e.close()):"o"===n&&(e.f("got pong on secondary."),e.pf--,yg(e)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);e.Ad.push(n)}else e.f("message on old connection")}}function ug(e){e.Xc===e.D&&e.Rc===e.D&&(e.f("cleaning up and promoting a connection: "+e.D.Zd),e.I=e.D,e.D=null)}function yg(e){0>=e.pf?(e.f("Secondary connection is healthy."),e.Bb=!0,e.D.sd(),e.D.start(),e.f("sending client ack on secondary"),e.D.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.I.send({t:"c",d:{t:"n",d:{}}}),e.Xc=e.D,ug(e)):(e.f("sending ping on secondary."),e.D.send({t:"c",d:{t:"p",d:{}}}))}function wg(e){e.Bb||(e.xe--,0>=e.xe&&(e.f("Primary connection is healthy."),e.Bb=!0,e.I.sd()))}function tg(e,t){e.D=new t("c:"+e.id+":"+e.Le++,e.L,e.qf),e.pf=t.responsesRequiredToBeHealthy||0,e.D.open(qg(e,e.D),rg(e,e.D)),hc(function(){e.D&&(e.f("Timed out trying to upgrade."),e.D.close())},Math.floor(6e4))}function sg(e,t,n){e.f("Realtime connection established."),e.I=t,e.Ua=1,e.Lc&&(e.Lc(n,e.qf),e.Lc=null),0===e.xe?(e.f("Primary connection is healthy."),e.Bb=!0):hc(function(){xg(e)},Math.floor(5e3))}function xg(e){e.Bb||1!==e.Ua||(e.f("sending ping on primary."),zg(e,{t:"c",d:{t:"p",d:{}}}))}function zg(e,t){if(1!==e.Ua)throw"Connection is not connected";e.Xc.send(t)}function vg(e){e.f("Shutting down all connections"),e.I&&(e.I.close(),e.I=null),e.D&&(e.D.close(),e.D=null),e.md&&(clearTimeout(e.md),e.md=null)}function Ag(e,t,n,r,i,o){if(this.id=Bg++,this.f=Tb("p:"+this.id+":"),this.qd={},this.$={},this.pa=[],this.Oc=0,this.Kc=[],this.ma=!1,this.Sa=1e3,this.td=3e5,this.Gb=t,this.Jc=n,this.ue=r,this.L=e,this.ob=this.Fa=this.Cb=this.ze=null,this.$c=i,this.de=!1,this.ke=0,o)throw Error("Auth override specified in options, but not supported on non Node.js platforms");this.Vd=o,this.ub=null,this.Mb=!1,this.Gd={},this.ig=0,this.Re=!0,this.Ac=this.me=null,Cg(this,0),Mc.Vb().gc("visible",this.Zf,this),-1===e.host.indexOf("fblocal")&&Lc.Vb().gc("online",this.Yf,this)}function Eg(e,t){var n=t.eg,r=n.path.toString(),i=n.ja();e.f("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=pf(n.m),o.t=t.tag),o.h=t.ld(),e.ua("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&eb(a,"w")){var u=w(a,"w");ea(u)&&0<=xa(u,"no_index")&&J("Using an unspecified index. Consider adding "+('".indexOn": "'+n.m.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(e.$[r]&&e.$[r][i])===t&&(e.f("listen response",o),"ok"!==s&&Fg(e,r,i),t.G&&t.G(s,a))})}function Gg(e){if(e.ma&&e.ob){var t=e.ob,n=jc(t)?"auth":"gauth",r={cred:t};null===e.Vd?r.noauth=!0:"object"==typeof e.Vd&&(r.authvar=e.Vd),e.ua(n,r,function(n){var r=n.s;n=n.d||"error",e.ob===t&&("ok"===r?e.ke=0:Hg(e,r,n))})}}function Ig(e,t,n,r,i){n={p:n,d:r},e.f("onDisconnect "+t,n),e.ua(t,n,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Jg(e,t,r,i,o,a){i={p:r,d:i},n(a)&&(i.h=a),e.pa.push({action:t,mf:i,G:o}),e.Oc++,t=e.pa.length-1,e.ma?Kg(e,t):e.f("Buffering put: "+r)}function Kg(e,t){var n=e.pa[t].action,r=e.pa[t].mf,i=e.pa[t].G;e.pa[t].fg=e.ma,e.ua(n,r,function(r){e.f(n+" response",r),delete e.pa[t],e.Oc--,0===e.Oc&&(e.pa=[]),i&&i(r.s,r.d)})}function Cg(e,t){D(!e.Fa,"Scheduling a connect when we're already connected/ing?"),e.ub&&clearTimeout(e.ub),e.ub=setTimeout(function(){e.ub=null,Ng(e)},Math.floor(t))}function Ng(e){if(Og(e)){e.f("Making a connection attempt"),e.me=(new Date).getTime(),e.Ac=null;var t=q(e.wd,e),n=q(e.Lc,e),r=q(e.df,e),i=e.id+":"+Dg++,o=e.Cb,a=!1,s=null,u=function(){s?s.close():(a=!0,r())};e.Fa={close:u,ua:function(e){D(s,"sendRequest call when we're not connected not allowed."),s.ua(e)}};var c=e.de;e.de=!1,e.$c.getToken(c).then(function(u){a?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),e.ob=u&&u.accessToken,s=new og(i,e.L,t,n,r,function(t){J(t+" ("+e.L.toString()+")"),e.ab("server_kill")},o))}).then(null,function(t){e.f("Failed to get token: "+t),a||u()})}}function Lg(e,t,n){n=n?Aa(n,function(e){return ac(e)}).join("$"):"default",(e=Fg(e,t,n))&&e.G&&e.G("permission_denied")}function Fg(e,t,r){t=new E(t).toString();var i;return n(e.$[t])?(i=e.$[t][r],delete e.$[t][r],0===La(e.$[t])&&delete e.$[t]):i=void 0,i}function Hg(e,t,n){I("Auth token revoked: "+t+"/"+n),e.ob=null,e.de=!0,e.Fa.close(),"invalid_token"!==t&&"permission_denied"!==t||(e.ke++,3<=e.ke&&(e.Sa=3e4,e=e.$c,t='Provided authentication credentials for the app named "'+e.oc.name+'" are invalid. This usually indicates your app was not initialized correctly. ',t="credential"in e.oc.options?t+'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in e.oc.options?t+'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',J(t)))}function Mg(e){Gg(e),v(e.$,function(t){v(t,function(t){Eg(e,t)})});for(var t=0;t<e.pa.length;t++)e.pa[t]&&Kg(e,t);for(;e.Kc.length;)t=e.Kc.shift(),Ig(e,t.action,t.we,t.data,t.G)}function Og(e){var t;return t=Lc.Vb().hc,Sa(e.qd)&&t}function Pg(e){e instanceof Qg||Vb("Don't call new Database() directly - please use firebase.database()."),this.ta=e,this.ba=new U(e,Q),this.INTERNAL=new Rg(this)}function Tg(e,t){null===e.ta&&Vb("Cannot call "+t+" on a deleted database.")}function Rg(e){this.Ya=e}function V(e,t,n){this.A=e,this.V=t,this.g=n}function Vg(e,t,n){this.Pb=e,this.rb=t,this.tb=n||null}function Wg(e,t,n){this.ga=e,this.rb=t,this.tb=n}function Xg(){this.za={}}function Zg(e){return za(Na(e.za),function(e){return!T(e.V.m)})}function $g(e,t){if(T(t.m))return Yg(e);var n=t.ja();return w(e.za,n)}function Yg(e){return Ra(e.za,function(e){return T(e.V.m)})||null}function ah(e){this.wa=R,this.jb=new Df,this.De={},this.ic={},this.Cc=e}function bh(e,t,r,i,o){var a=e.jb,s=o;return D(i>a.Bc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.la.push({path:t,Ga:r,Zc:i,visible:s}),s&&(a.S=uf(a.S,t,r)),a.Bc=i,o?ch(e,new ce(fe,t,r)):[]}function dh(e,t,n,r){var i=e.jb;return D(r>i.Bc,"Stacking an older merge on top of newer ones"),i.la.push({path:t,children:n,Zc:r,visible:!0}),i.S=vf(i.S,t,n),i.Bc=r,n=xd(n),ch(e,new ae(fe,t,n))}function eh(e,t,n){n=n||!1;var r=Ef(e.jb,t);if(e.jb.Ed(t)){var i=R;return null!=r.Ga?i=i.set(Q,!0):fb(r.children,function(e,t){i=i.set(new E(e),t)}),ch(e,new de(r.path,i,n))}return[]}function fh(e,t,n){return n=xd(n),ch(e,new ae(ie,t,n))}function gh(e,t,n,r){if(r=hh(e,r),null!=r){var i=ih(r);return r=i.path,i=i.Hb,t=P(r,t),n=new ce(new he(!1,!0,i,!0),t,n),jh(e,r,n)}return[]}function kh(e,t,n,r){if(r=hh(e,r)){var i=ih(r);return r=i.path,i=i.Hb,t=P(r,t),n=xd(n),n=new ae(new he(!1,!0,i,!0),t,n),jh(e,r,n)}return[]}function oh(e){return Bd(e,function(e,t,n){if(t&&null!=Yg(t))return[Yg(t)];var r=[];return t&&(r=Zg(t)),v(n,function(e){r=r.concat(e)}),r})}function sh(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!T(r.m)){var r=lh(r),i=e.ic[r];delete e.ic[r],delete e.De["_"+i]}}}function qh(e){return T(e.m)&&!qf(e.m)?e.wb():e}function nh(e,t,n){var r=t.path,i=rh(e,t);if(n=ph(e,n),t=e.Cc.Ae(qh(t),i,n.ld,n.G),r=e.wa.subtree(r),i)D(null==Yg(r.value),"If we're adding a query, it shouldn't be shadowed");else for(i=Bd(r,function(e,t,n){if(!e.e()&&t&&null!=Yg(t))return[Te(Yg(t))];var r=[];return t&&(r=r.concat(Aa(Zg(t),function(e){return e.V}))),v(n,function(e){r=r.concat(e)}),r}),r=0;r<i.length;++r)n=i[r],e.Cc.Od(qh(n),rh(e,n));return t}function ph(e,t){var n=t.V,r=rh(e,n);return{ld:function(){return(t.w()||L).hash()},G:function(t){if("ok"===t){if(r){var i=n.path;if(t=hh(e,r)){var o=ih(t);t=o.path,o=o.Hb,i=P(t,i),i=new Zd(new he(!1,!0,o,!0),i),t=jh(e,t,i)}else t=[]}else t=ch(e,new Zd(ie,n.path));return t}return i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?i="Client doesn't have permission to access the desired data.":"unavailable"==t&&(i="The service is unavailable"),i=Error(t+" at "+n.path.toString()+": "+i),i.code=t.toUpperCase(),e.kb(n,null,i)}}}function lh(e){return e.path.toString()+"$"+e.ja()}function ih(e){var t=e.indexOf("$");return D(-1!==t&&t<e.length-1,"Bad queryKey."),{Hb:e.substr(t+1),path:new E(e.substr(0,t))}}function hh(e,t){var n=e.De,r="_"+t;return r in n?n[r]:void 0}function rh(e,t){var n=lh(t);return w(e.ic,n)}function jh(e,t,n){var r=e.wa.get(t);return D(r,"Missing sync point for query tag that we're tracking"),r.eb(n,new If(t,e.jb),null)}function ch(e,t){return th(e,t,e.wa,null,new If(Q,e.jb))}function th(e,t,n,r,i){if(t.path.e())return uh(e,t,n,r,i);var o=n.get(Q);null==r&&null!=o&&(r=o.hb(Q));var a=[],s=K(t.path),u=t.Mc(s);if((n=n.children.get(s))&&u)var c=r?r.Q(s):null,s=i.n(s),a=a.concat(th(e,u,n,c,s));return o&&(a=a.concat(o.eb(t,i,r))),a}function uh(e,t,n,r,i){var o=n.get(Q);null==r&&null!=o&&(r=o.hb(Q));var a=[];return n.children.ha(function(n,o){var s=r?r.Q(n):null,u=i.n(n),c=t.Mc(n);c&&(a=a.concat(uh(e,c,o,s,u)))}),o&&(a=a.concat(o.eb(t,i,r))),a}function Qg(e,t,n){this.app=n;var r=new Bf(n);if(this.L=e,this.Va=Pf(e),this.Vc=null,this.ca=new Ye,this.vd=1,this.Ra=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.va=new Rf(this.L,q(this.Gb,this),r),setTimeout(q(this.Jc,this,!0),0);else{if(t=n.options.databaseAuthVariableOverride,"undefined"!==da(t)&&null!==t){if("object"!==da(t))throw Error("Only objects are supported for option databaseAuthVariableOverride");try{x(t)}catch(e){throw Error("Invalid authOverride provided: "+e)}}this.va=this.Ra=new Ag(this.L,q(this.Gb,this),q(this.Jc,this),q(this.ue,this),r,t)}var i=this;Cf(r,function(e){i.va.kf(e)}),this.og=Qf(e,q(function(){return new Jf(this.Va,this.va)},this)),this.mc=new Tc,this.ie=new Af,this.pd=new ah({Ae:function(e,t,n,r){return t=[],n=i.ie.j(e.path),n.e()||(t=ch(i.pd,new ce(ie,e.path,n)),setTimeout(function(){r("ok")},0)),t},Od:ba}),vh(this,"connected",!1),this.ia=new Gb,this.Ya=new Pg(this),this.fd=0,this.je=null,this.K=new ah({Ae:function(e,t,n,r){return i.va.$e(e,n,t,function(t,n){var o=r(t,n);cf(i.ca,e.path,o)}),[]},Od:function(e,t){i.va.uf(e,t)}})}function wh(e){return e=e.ie.j(new E(".info/serverTimeOffset")).H()||0,(new Date).getTime()+e}function xh(e){return e=e={timestamp:wh(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function vh(e,t,n){t=new E("/.info/"+t),n=G(n);var r=e.ie;r.Jd=r.Jd.F(t,n),n=ch(e.pd,new ce(ie,t,n)),cf(e.ca,t,n)}function zh(e){e.f("onDisconnectEvents");var t=xh(e),n=[];Hb(Fb(e.ia,t),Q,function(t,r){n=n.concat(ch(e.K,new ce(ie,t,r)));var i=Bh(e,t);yh(e,i)}),e.ia=new Gb,cf(e.ca,Q,n)}function Ch(e,t,n,r){var i=G(n);e.va.re(t.toString(),i.H(!0),function(n,o){"ok"===n&&Ib(e.ia,t,i),Ah(r,n,o)})}function Dh(e,t,n,r,i){var o=G(n,r);e.va.re(t.toString(),o.H(!0),function(n,r){"ok"===n&&Ib(e.ia,t,o),Ah(i,n,r)})}function Eh(e,t,n,r){var i,o=!0;for(i in n)o=!1;o?(I("onDisconnect().update() called with empty data.  Don't do anything."),Ah(r,"ok")):e.va.cf(t.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=G(n[a]);Ib(e.ia,t.n(a),s)}Ah(r,i,o)})}function Fh(e,t,n){n=".info"===K(t.path)?e.pd.Nb(t,n):e.K.Nb(t,n),af(e.ca,t.path,n)}function Ah(e,t,n){e&&fc(function(){
if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,e(i)}})}function Gh(e,t,r,i,o){function a(){}e.f("transaction on "+t);var s=new U(e,t);if(s.gc("value",a),r={path:t,update:r,G:i,status:null,ef:Lb(),He:o,of:0,Rd:function(){s.Ic("value",a)},Td:null,Ba:null,cd:null,dd:null,ed:null},i=e.K.Aa(t,void 0)||L,r.cd=i,i=r.update(i.H()),n(i)){Pd("transaction failed: Data returned ",i,r.path),r.status=1,o=Uc(e.mc,t);var u=o.Ca()||[];u.push(r),Vc(o,u),"object"==typeof i&&null!==i&&eb(i,".priority")?(u=w(i,".priority"),D(Nd(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(e.K.Aa(t)||L).C().H(),o=xh(e),i=G(i,u),o=Jb(i,o),r.dd=i,r.ed=o,r.Ba=e.vd++,r=bh(e.K,t,o,r.Ba,r.He),cf(e.ca,t,r),Hh(e)}else r.Rd(),r.dd=null,r.ed=null,r.G&&(e=new V(r.cd,new U(e,r.path),H),r.G(null,!1,e))}function Hh(e,t){var n=t||e.mc;if(t||Ih(e,n),null!==n.Ca()){var r=Jh(e,n);D(0<r.length,"Sending zero length transaction queue"),Ca(r,function(e){return 1===e.status})&&Kh(e,n.path(),r)}else n.kd()&&n.O(function(t){Hh(e,t)})}function Kh(e,t,n){for(var r=Aa(n,function(e){return e.Ba}),i=e.K.Aa(t,r)||L,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];D(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.of++;var s=P(t,a.path),r=r.F(s,a.dd)}r=r.H(!0),e.va.put(t.toString(),r,function(r){e.f("transaction put response",{path:t.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(eh(e.K,n[o].Ba)),n[o].G){var a=n[o].ed,s=new U(e,n[o].path);r.push(q(n[o].G,null,null,!0,new V(a,s,H)))}n[o].Rd()}for(Ih(e,Uc(e.mc,t)),Hh(e),cf(e.ca,t,i),o=0;o<r.length;o++)fc(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(J("transaction at "+t.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].Td=r;yh(e,t)}},i)}function yh(e,t){var n=Lh(e,t),r=n.path(),n=Jh(e,n);return Mh(e,n,r),r}function Mh(e,t,r){if(0!==t.length){for(var i=[],o=[],a=za(t,function(e){return 1===e.status}),a=Aa(a,function(e){return e.Ba}),s=0;s<t.length;s++){var u,c=t[s],l=P(r,c.path),h=!1;if(D(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)h=!0,u=c.Td,o=o.concat(eh(e.K,c.Ba,!0));else if(1===c.status)if(25<=c.of)h=!0,u="maxretry",o=o.concat(eh(e.K,c.Ba,!0));else{var f=e.K.Aa(c.path,a)||L;c.cd=f;var d=t[s].update(f.H());n(d)?(Pd("transaction failed: Data returned ",d,c.path),l=G(d),"object"==typeof d&&null!=d&&eb(d,".priority")||(l=l.fa(f.C())),f=c.Ba,d=xh(e),d=Jb(l,d),c.dd=l,c.ed=d,c.Ba=e.vd++,Fa(a,f),o=o.concat(bh(e.K,c.path,d,c.Ba,c.He)),o=o.concat(eh(e.K,f,!0))):(h=!0,u="nodata",o=o.concat(eh(e.K,c.Ba,!0)))}cf(e.ca,r,o),o=[],h&&(t[s].status=3,setTimeout(t[s].Rd,Math.floor(0)),t[s].G&&("nodata"===u?(c=new U(e,t[s].path),i.push(q(t[s].G,null,null,!1,new V(t[s].cd,c,H)))):i.push(q(t[s].G,null,Error(u),!1,null))))}for(Ih(e,e.mc),s=0;s<i.length;s++)fc(i[s]);Hh(e)}}function Lh(e,t){for(var n,r=e.mc;null!==(n=K(t))&&null===r.Ca();)r=Uc(r,n),t=N(t);return r}function Jh(e,t){var n=[];return Nh(e,t,n),n.sort(function(e,t){return e.ef-t.ef}),n}function Nh(e,t,n){var r=t.Ca();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);t.O(function(t){Nh(e,t,n)})}function Ih(e,t){var n=t.Ca();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Vc(t,0<n.length?n:null)}t.O(function(t){Ih(e,t)})}function Bh(e,t){var n=Lh(e,t).path(),r=Uc(e.mc,t);return Yc(r,function(t){Oh(e,t)}),Oh(e,r),Xc(r,function(t){Oh(e,t)}),n}function Oh(e,t){var n=t.Ca();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(D(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].Td="set"):(D(1===n[a].status,"Unexpected transaction status in abort"),n[a].Rd(),i=i.concat(eh(e.K,n[a].Ba,!0)),n[a].G&&r.push(q(n[a].G,null,Error("set"),!1,null))));for(-1===o?Vc(t,null):n.length=o+1,cf(e.ca,t.path(),i),a=0;a<r.length;a++)fc(r[a])}}function Ug(){this.lb={},this.wf=!1}function Ph(e,t){this.committed=e,this.snapshot=t}function X(e,t,n,r){this.u=e,this.path=t,this.m=n,this.Nc=r}function Qh(e){var t=null,n=null;if(e.ka&&(t=ff(e)),e.na&&(n=hf(e)),e.g===tc){if(e.ka){if("[MIN_NAME]"!=ef(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.na){if("[MAX_NAME]"!=gf(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===H){if(null!=t&&!Nd(t)||null!=n&&!Nd(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(D(e.g instanceof pc||e.g===wc,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Rh(e){if(e.ka&&e.na&&e.xa&&(!e.xa||""===e.mb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Sh(e,t){if(!0===e.Nc)throw Error(t+": You can't combine multiple orderBy calls.")}function Th(e,t,n){var r={cancel:null,Ma:null};if(t&&n)r.cancel=t,B(e,3,r.cancel,!0),r.Ma=n,ob(e,4,r.Ma);else if(t)if("object"==typeof t&&null!==t)r.Ma=t;else{if("function"!=typeof t)throw Error(A(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}function Y(e,t){this.ta=e,this.qa=t}function U(e,t){if(!(e instanceof Qg))throw Error("new Firebase() no longer supported - use app.database().");X.call(this,e,t,mf,!1),this.then=void 0,this.catch=void 0}var g,aa=this,qa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ra=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;la(ta,sa),ta.prototype.reset=function(){this.M[0]=1732584193,this.M[1]=4023233417,this.M[2]=2562383102,this.M[3]=271733878,this.M[4]=3285377520,this.Pd=this.$b=0},ta.prototype.update=function(e,t){if(null!=e){n(t)||(t=e.length);for(var r=t-this.Wa,i=0,o=this.Wd,a=this.$b;i<t;){if(0==a)for(;i<=r;)ua(this,e,i),i+=this.Wa;if(p(e)){for(;i<t;)if(o[a]=e.charCodeAt(i),++a,++i,a==this.Wa){ua(this,o),a=0;break}}else for(;i<t;)if(o[a]=e[i],++a,++i,a==this.Wa){ua(this,o),a=0;break}}this.$b=a,this.Pd+=t}};var r;e:{var va=aa.navigator;if(va){var wa=va.userAgent;if(wa){r=wa;break e}}r=""}var t=Array.prototype,xa=t.indexOf?function(e,n,r){return t.indexOf.call(e,n,r)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,p(e))return p(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ya=t.forEach?function(e,n,r){t.forEach.call(e,n,r)}:function(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},za=t.filter?function(e,n,r){return t.filter.call(e,n,r)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=p(e)?e.split(""):e,s=0;s<r;s++)if(s in a){var u=a[s];t.call(n,u,s,e)&&(i[o++]=u)}return i},Aa=t.map?function(e,n,r){return t.map.call(e,n,r)}:function(e,t,n){for(var r=e.length,i=Array(r),o=p(e)?e.split(""):e,a=0;a<r;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},Ba=t.reduce?function(e,n,r,i){for(var o=[],a=1,s=arguments.length;a<s;a++)o.push(arguments[a]);return i&&(o[0]=q(n,i)),t.reduce.apply(e,o)}:function(e,t,n,r){var i=n;return ya(e,function(n,o){i=t.call(r,i,n,o,e)}),i},Ca=t.every?function(e,n,r){return t.every.call(e,n,r)}:function(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0},Ua=-1!=r.indexOf("Opera")||-1!=r.indexOf("OPR"),Va=-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"),Wa=-1!=r.indexOf("Gecko")&&-1==r.toLowerCase().indexOf("webkit")&&!(-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE")),Xa=-1!=r.toLowerCase().indexOf("webkit");!function(){var e,t="";return Ua&&aa.opera?(t=aa.opera.version,ha(t)?t():t):(Wa?e=/rv\:([^\);]+)(\)|;)/:Va?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Xa&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(r))?t[1]:""),Va&&(e=(e=aa.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t)}();var Ya=null,Za=null,$a=null,hb=firebase.Promise;g=ub.prototype,g.set=function(e,t){null==t?this.uc.removeItem(this.Cd+e):this.uc.setItem(this.Cd+e,x(t))},g.get=function(e){return e=this.uc.getItem(this.Cd+e),null==e?null:lb(e)},g.remove=function(e){this.uc.removeItem(this.Cd+e)},g.Ze=!1,g.toString=function(){return this.uc.toString()},vb.prototype.set=function(e,t){null==t?delete this.pc[e]:this.pc[e]=t},vb.prototype.get=function(e){return eb(this.pc,e)?this.pc[e]:null},vb.prototype.remove=function(e){delete this.pc[e]},vb.prototype.Ze=!0;var xb=wb("localStorage"),yb=wb("sessionStorage");zb.prototype.toString=function(){var e=(this.Sc?"https://":"http://")+this.host;return this.gf&&(e+="<"+this.gf+">"),e};var Lb=function(){var e=1;return function(){return e++}}(),D=cb,Mb=db,Qb=null,Rb=!0,ec=/^-?\d{1,10}$/,mc={};lc.prototype.nd=function(e,t){return 0!==this.compare(new C("[MIN_NAME]",e),new C("[MIN_NAME]",t))},lc.prototype.Hc=function(){return oc},la(pc,lc),g=pc.prototype,g.xc=function(e){return!e.P(this.bc).e()},g.compare=function(e,t){var n=e.R.P(this.bc),r=t.R.P(this.bc),n=n.sc(r);return 0===n?sb(e.name,t.name):n},g.Ec=function(e,t){var n=G(e),n=L.F(this.bc,n);return new C(t,n)},g.Fc=function(){var e=L.F(this.bc,qc);return new C("[MAX_NAME]",e)},g.toString=function(){return this.bc.slice().join("/")},la(rc,lc),g=rc.prototype,g.compare=function(e,t){var n=e.R.C(),r=t.R.C(),n=n.sc(r);return 0===n?sb(e.name,t.name):n},g.xc=function(e){return!e.C().e()},g.nd=function(e,t){return!e.C().Z(t.C())},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",new Kb("[PRIORITY-POST]",qc))},g.Ec=function(e,t){var n=G(e);return new C(t,new Kb("[PRIORITY-POST]",n))},g.toString=function(){return".priority"};var H=new rc;la(sc,lc),g=sc.prototype,g.compare=function(e,t){return sb(e.name,t.name)},g.xc=function(){throw Mb("KeyIndex.isDefinedOn not expected to be called.")},g.nd=function(){return!1},g.Hc=function(){return oc},g.Fc=function(){return new C("[MAX_NAME]",L)},g.Ec=function(e){return D(p(e),"KeyIndex indexValue must always be a string."),new C(e,L)},g.toString=function(){return".key"};var tc=new sc;la(uc,lc),g=uc.prototype,g.compare=function(e,t){var n=e.R.sc(t.R);return 0===n?sb(e.name,t.name):n},g.xc=function(){return!0},g.nd=function(e,t){return!e.Z(t)},g.Hc=function(){return oc},g.Fc=function(){return vc},g.Ec=function(e,t){var n=G(e);return new C(t,n)},g.toString=function(){return".value"};var wc=new uc;xc.prototype.get=function(e){var t=w(this.od,e);if(!t)throw Error("No index defined for "+e);return t===mc?null:t};var Bc=new xc({".priority":mc},{".priority":H}),Dc=["object","boolean","number","string"];g=Kb.prototype,g.J=function(){return!0},g.C=function(){return this.aa},g.fa=function(e){return new Kb(this.B,e)},g.Q=function(e){return".priority"===e?this.aa:L},g.P=function(e){return e.e()?this:".priority"===K(e)?this.aa:L},g.Da=function(){return!1},g.Ve=function(){return null},g.T=function(e,t){return".priority"===e?this.fa(t):t.e()&&".priority"!==e?this:L.T(e,t).fa(this.aa)},g.F=function(e,t){var n=K(e);return null===n?t:t.e()&&".priority"!==n?this:(D(".priority"!==n||1===Ec(e),".priority must be the last token in a path"),this.T(n,L.F(N(e),t)))},g.e=function(){return!1},g.Eb=function(){return 0},g.O=function(){return!1},g.H=function(e){return e&&!this.C().e()?{".value":this.Ca(),".priority":this.C().H()}:this.Ca()},g.hash=function(){if(null===this.Db){var e="";this.aa.e()||(e+="priority:"+Fc(this.aa.H())+":");var t=typeof this.B,e=e+(t+":"),e="number"===t?e+dc(this.B):e+this.B;this.Db=Ob(e)}return this.Db},g.Ca=function(){return this.B},g.sc=function(e){if(e===L)return 1;if(e instanceof O)return-1;D(e.J(),"Unknown node type");var t=typeof e.B,n=typeof this.B,r=xa(Dc,t),i=xa(Dc,n);return D(0<=r,"Unknown leaf type: "+t),D(0<=i,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<e.B?-1:this.B===e.B?0:1:i-r},g.nb=function(){return this},g.yc=function(){return!0},g.Z=function(e){return e===this||!!e.J()&&(this.B===e.B&&this.aa.Z(e.aa))},g.toString=function(){return x(this.H(!0))},g=Gc.prototype,g.add=function(e,t){this.set[e]=null===t||t},g.contains=function(e){return eb(this.set,e)},g.get=function(e){return this.contains(e)?this.set[e]:void 0},g.remove=function(e){delete this.set[e]},g.clear=function(){this.set={}},g.e=function(){return Sa(this.set)},g.count=function(){return La(this.set)},g.keys=function(){var e=[];return v(this.set,function(t,n){e.push(n)}),e},Ic.prototype.Ge=function(e,t){var n;n=this.Dc[e]||[];var r=n.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].Ie.apply(n[r].Ma,Array.prototype.slice.call(arguments,1))},Ic.prototype.gc=function(e,t,n){Jc(this,e),this.Dc[e]=this.Dc[e]||[],this.Dc[e].push({Ie:t,Ma:n}),(e=this.Ue(e))&&t.apply(n,e)},Ic.prototype.Ic=function(e,t,n){Jc(this,e),e=this.Dc[e]||[];for(var r=0;r<e.length;r++)if(e[r].Ie===t&&(!n||n===e[r].Ma)){e.splice(r,1);break}};var Kc=function(){var e=0,t=[];return function(n){var r=n===e;e=n;for(var i=Array(8),o=7;0<=o;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(D(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;0<=o&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;12>o;o++)t[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[o]);return D(20===n.length,"nextPushId: Length should be 20."),n}}();la(Lc,Ic),Lc.prototype.Ue=function(e){return D("online"===e,"Unknown event type: "+e),[this.hc]},ca(Lc),la(Mc,Ic),Mc.prototype.Ue=function(e){return D("visible"===e,"Unknown event type: "+e),[this.Mb]},ca(Mc),g=E.prototype,g.toString=function(){for(var e="",t=this.Y;t<this.o.length;t++)""!==this.o[t]&&(e+="/"+this.o[t]);return e||"/"},g.slice=function(e){return this.o.slice(this.Y+(e||0))},g.parent=function(){if(this.Y>=this.o.length)return null;for(var e=[],t=this.Y;t<this.o.length-1;t++)e.push(this.o[t]);return new E(e,0)},g.n=function(e){for(var t=[],n=this.Y;n<this.o.length;n++)t.push(this.o[n]);if(e instanceof E)for(n=e.Y;n<e.o.length;n++)t.push(e.o[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new E(t,0)},g.e=function(){return this.Y>=this.o.length},g.Z=function(e){if(Ec(this)!==Ec(e))return!1;for(var t=this.Y,n=e.Y;t<=this.o.length;t++,n++)if(this.o[t]!==e.o[n])return!1;return!0},g.contains=function(e){var t=this.Y,n=e.Y;if(Ec(this)>Ec(e))return!1;for(;t<this.o.length;){if(this.o[t]!==e.o[n])return!1;++t,++n}return!0};var Q=new E("");Pc.prototype.push=function(e){0<this.Qa.length&&(this.Ha+=1),this.Qa.push(e),this.Ha+=nb(e),Qc(this)},Pc.prototype.pop=function(){var e=this.Qa.pop();this.Ha-=nb(e),0<this.Qa.length&&--this.Ha},g=Tc.prototype,g.Ca=function(){return this.A.value},g.clear=function(){this.A.value=null,this.A.children={},this.A.bd=0,Wc(this)},g.kd=function(){return 0<this.A.bd},g.e=function(){return null===this.Ca()&&!this.kd()},g.O=function(e){var t=this;v(this.A.children,function(n,r){e(new Tc(r,t,n))})},g.path=function(){return new E(null===this.Pc?this.ud:this.Pc.path()+"/"+this.ud)},g.name=function(){return this.ud},g.parent=function(){return this.Pc},g=Zc.prototype,g.Oa=function(e,t){return new Zc(this.La,this.ba.Oa(e,t,this.La).X(null,null,!1,null,null))},g.remove=function(e){return new Zc(this.La,this.ba.remove(e,this.La).X(null,null,!1,null,null))},g.get=function(e){for(var t,n=this.ba;!n.e();){if(t=this.La(e,n.key),0===t)return n.value;0>t?n=n.left:0<t&&(n=n.right)}return null},g.e=function(){return this.ba.e()},g.count=function(){return this.ba.count()},g.Gc=function(){return this.ba.Gc()},g.ec=function(){return this.ba.ec()},g.ha=function(e){return this.ba.ha(e)},g.Wb=function(e){return new bd(this.ba,null,this.La,!1,e)},g.Xb=function(e,t){return new bd(this.ba,e,this.La,!1,t)},g.Zb=function(e,t){return new bd(this.ba,e,this.La,!0,t)},g.We=function(e){return new bd(this.ba,null,this.La,!0,e)},g=dd.prototype,g.X=function(e,t,n,r,i){return new dd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ha=function(e){return this.left.ha(e)||e(this.key,this.value)||this.right.ha(e)},g.Gc=function(){return ed(this).key},g.ec=function(){return this.right.e()?this.key:this.right.ec()},g.Oa=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=0>r?i.X(null,null,null,i.left.Oa(e,t,n),null):0===r?i.X(null,t,null,null,null):i.X(null,null,null,null,i.right.Oa(e,t,n)),gd(i)},g.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.e()||n.left.ea()||n.left.left.ea()||(n=id(n)),n=n.X(null,null,null,n.left.remove(e,t),null);else{if(n.left.ea()&&(n=jd(n)),n.right.e()||n.right.ea()||n.right.left.ea()||(n=kd(n),n.left.left.ea()&&(n=jd(n),n=kd(n))),0===t(e,n.key)){if(n.right.e())return $c;r=ed(n.right),n=n.X(r.key,r.value,null,null,hd(n.right))}n=n.X(null,null,null,null,n.right.remove(e,t))}return gd(n)},g.ea=function(){return this.color},g=md.prototype,g.X=function(){return this},g.Oa=function(e,t){return new dd(e,t,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ha=function(){return!1},g.Gc=function(){return null},g.ec=function(){return null},g.ea=function(){return!1};var $c=new md;g=O.prototype,g.J=function(){return!1},g.C=function(){return this.aa||L},g.fa=function(e){return this.k.e()?this:new O(this.k,e,this.yb)},g.Q=function(e){return".priority"===e?this.C():(e=this.k.get(e),null===e?L:e)},g.P=function(e){var t=K(e);return null===t?this:this.Q(t).P(N(e))},g.Da=function(e){return null!==this.k.get(e)},g.T=function(e,t){if(D(t,"We should always be passing snapshot nodes"),".priority"===e)return this.fa(t);var n,r,i=new C(e,t);return t.e()?(n=this.k.remove(e),i=Ac(this.yb,i,this.k)):(n=this.k.Oa(e,t),i=yc(this.yb,i,this.k)),r=n.e()?L:this.aa,new O(n,r,i)},g.F=function(e,t){var n=K(e);if(null===n)return t;D(".priority"!==K(e)||1===Ec(e),".priority must be the last token in a path");var r=this.Q(n).F(N(e),t);return this.T(n,r)},g.e=function(){return this.k.e()},g.Eb=function(){return this.k.count()};var nd=/^(0|[1-9]\d*)$/;g=O.prototype,g.H=function(e){if(this.e())return null;var t={},n=0,r=0,i=!0;if(this.O(H,function(o,a){t[o]=a.H(e),n++,i&&nd.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*n){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.C().e()&&(t[".priority"]=this.C().H()),t},g.hash=function(){if(null===this.Db){var e="";this.C().e()||(e+="priority:"+Fc(this.C().H())+":"),this.O(H,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.Db=""===e?"":Ob(e)}return this.Db},g.Ve=function(e,t,n){return(n=od(this,n))?(e=ad(n,new C(e,t)))?e.name:null:ad(this.k,e)},g.O=function(e,t){var n=od(this,e);return n?n.ha(function(e){return t(e.name,e.R)}):this.k.ha(t)},g.Wb=function(e){return this.Xb(e.Hc(),e)},g.Xb=function(e,t){var n=od(this,t);if(n)return n.Xb(e,function(e){return e});for(var n=this.k.Xb(e.name,qb),r=cd(n);null!=r&&0>t.compare(r,e);)M(n),r=cd(n);return n},g.We=function(e){return this.Zb(e.Fc(),e)},g.Zb=function(e,t){var n=od(this,t);if(n)return n.Zb(e,function(e){return e});for(var n=this.k.Zb(e.name,qb),r=cd(n);null!=r&&0<t.compare(r,e);)M(n),r=cd(n);return n},g.sc=function(e){return this.e()?e.e()?0:-1:e.J()||e.e()?1:e===qc?-1:0},g.nb=function(e){if(e===tc||Pa(this.yb.cc,e.toString()))return this;var t=this.yb,n=this.k;D(e!==tc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.Wb(qb),o=M(n);o;)i=i||e.xc(o.R),r.push(o),o=M(n);return r=i?zc(r,nc(e)):mc,i=e.toString(),n=Ta(t.cc),n[i]=e,e=Ta(t.od),e[i]=r,new O(this.k,this.aa,new xc(e,n))},g.yc=function(e){return e===tc||Pa(this.yb.cc,e.toString())},g.Z=function(e){if(e===this)return!0;if(e.J())return!1;if(this.C().Z(e.C())&&this.k.count()===e.k.count()){var t=this.Wb(H);e=e.Wb(H);for(var n=M(t),r=M(e);n&&r;){if(n.name!==r.name||!n.R.Z(r.R))return!1;n=M(t),r=M(e)}return null===n&&null===r}return!1},g.toString=function(){return x(this.H(!0))};var rd=Math.log(2),L=new O(new Zc(tb),null,Bc);la(ud,O),g=ud.prototype,g.sc=function(e){return e===this?0:1},g.Z=function(e){return e===this},g.C=function(){return this},g.Q=function(){return L},g.e=function(){return!1};var qc=new ud,oc=new C("[MIN_NAME]",L),vc=new C("[MAX_NAME]",qc),wd=new Zc(function(e,t){return e===t?0:e<t?-1:1});g=vd.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(e){if(e.e())return this;var t=this.children.get(K(e));return null!==t?t.subtree(N(e)):R},g.set=function(e,t){if(e.e())return new vd(t,this.children);var n=K(e),r=(this.children.get(n)||R).set(N(e),t),n=this.children.Oa(n,r);return new vd(this.value,n)},g.remove=function(e){if(e.e())return this.children.e()?R:new vd(null,this.children);var t=K(e),n=this.children.get(t);return n?(e=n.remove(N(e)),t=e.e()?this.children.remove(t):this.children.Oa(t,e),null===this.value&&t.e()?R:new vd(this.value,t)):this},g.get=function(e){if(e.e())return this.value;var t=this.children.get(K(e));return t?t.get(N(e)):null};var R=new vd(null);vd.prototype.toString=function(){var e={};return Hd(this,function(t,n){e[t.toString()]=n.toString()}),x(e)};var Kd=/[\[\].#$\/\u0000-\u001F\u007F]/,Ld=/[\[\].#$\u0000-\u001F\u007F]/;Gb.prototype.find=function(e){if(null!=this.B)return this.B.P(e);if(e.e()||null==this.k)return null;var t=K(e);return e=N(e),this.k.contains(t)?this.k.get(t).find(e):null},Gb.prototype.O=function(e){null!==this.k&&Hc(this.k,function(t,n){e(t,n)})},Zd.prototype.Mc=function(){return this.path.e()?new Zd(this.source,Q):new Zd(this.source,N(this.path))},Zd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},ae.prototype.Mc=function(e){return this.path.e()?(e=this.children.subtree(new E(e)),e.e()?null:e.value?new ce(this.source,Q,e.value):new ae(this.source,Q,e)):(D(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ae(this.source,N(this.path),this.children))},ae.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},de.prototype.Mc=function(e){return this.path.e()?null!=this.Ob.value?(D(this.Ob.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Ob.subtree(new E(e)),new de(Q,e,this.Id)):(D(K(this.path)===e,"operationForChild called for unrelated child."),new de(N(this.path),this.Ob,this.Id))},de.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Id+" affectedTree="+this.Ob+")"},ce.prototype.Mc=function(e){return this.path.e()?new ce(this.source,Q,this.Ga.Q(e)):new ce(this.source,N(this.path),this.Ga)},ce.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"};var ge=0,be=1,ee=2,$d=3,fe=new he(!0,!1,null,!1),ie=new he(!1,!0,null,!1);he.prototype.toString=function(){return this.ee?"user":this.Ee?"server(queryID="+this.Hb+")":"server"},je.prototype.j=function(){return this.A},oe.prototype.w=function(){return this.Ld},se.prototype.Te=function(){return null},se.prototype.fe=function(){return null};var te=new se;ue.prototype.Te=function(e){var t=this.Ka.N;return ne(t,e)?t.j().Q(e):(t=null!=this.yd?new je(this.yd,!0,!1):this.Ka.w(),this.xf.qc(e,t))},ue.prototype.fe=function(e,t,n){var r=null!=this.yd?this.yd:re(this.Ka);return e=this.xf.Xd(r,t,1,n,e),0===e.length?null:e[0]},we.prototype.eb=function(e,t,n,r){var i,o=new xe;if(t.type===ge)t.source.ee?n=ye(this,e,t.path,t.Ga,n,r,o):(D(t.source.Se,"Unknown source."),i=t.source.Ee||le(e.w())&&!t.path.e(),n=ze(this,e,t.path,t.Ga,n,r,i,o));else if(t.type===be)t.source.ee?n=Ae(this,e,t.path,t.children,n,r,o):(D(t.source.Se,"Unknown source."),i=t.source.Ee||le(e.w()),n=Be(this,e,t.path,t.children,n,r,i,o));else if(t.type===ee)if(t.Id)if(t=t.path,null!=n.lc(t))n=e;else{if(i=new ue(n,e,r),r=e.N.j(),t.e()||".priority"===K(t))ke(e.w())?t=n.Aa(re(e)):(t=e.w().j(),D(t instanceof O,"serverChildren would be complete if leaf node"),t=n.rc(t)),t=this.U.ya(r,t,o);else{var a=K(t),s=n.qc(a,e.w());null==s&&ne(e.w(),a)&&(s=r.Q(a)),t=null!=s?this.U.F(r,a,s,N(t),i,o):e.N.j().Da(a)?this.U.F(r,a,L,N(t),i,o):r,t.e()&&ke(e.w())&&(r=n.Aa(re(e)),r.J()&&(t=this.U.ya(t,r,o)))}r=ke(e.w())||null!=n.lc(Q),n=pe(e,t,r,this.U.Na())}else n=Ce(this,e,t.path,t.Ob,n,r,o);else{if(t.type!==$d)throw Mb("Unknown operation type: "+t.type);r=t.path,t=e.w(),i=t.j(),a=t.da||r.e(),n=De(this,new oe(e.N,new je(i,a,t.Sb)),r,n,te,o)}return o=Na(o.fb),r=n,t=r.N,t.da&&(i=t.j().J()||t.j().e(),a=qe(e),(0<o.length||!e.N.da||i&&!t.j().Z(a)||!t.j().C().Z(a.C()))&&o.push(Ee(qe(r)))),new ve(n,o)},Ge.prototype.Ff=function(e,t){if(null==e.Xa||null==t.Xa)throw Mb("Should only compare child_ events.");return this.g.compare(new C(e.Xa,e.Ja),new C(t.Xa,t.Ja))},g=Pe.prototype,g.w=function(){return this.Ka.w().j()},g.hb=function(e){var t=re(this.Ka);return t&&(T(this.V.m)||!e.e()&&!t.Q(K(e)).e())?t.P(e):null},g.e=function(){return 0===this.Za.length},g.Nb=function(e){this.Za.push(e)},g.kb=function(e,t){var n=[];if(t){D(null==e,"A cancel should cancel all event registrations.");var r=this.V.path;ya(this.Za,function(e){(e=e.Me(t,r))&&n.push(e)})}if(e){for(var i=[],o=0;o<this.Za.length;++o){var a=this.Za[o];if(a.matches(e)){if(e.Xe()){i=i.concat(this.Za.slice(o+1));break}}else i.push(a)}this.Za=i}else this.Za=[];return n},g.eb=function(e,t,n){e.type===be&&null!==e.source.Hb&&(D(re(this.Ka),"We should always have a full cache before handling merges"),D(qe(this.Ka),"Missing event cache, even though we have a server cache"));var r=this.Ka;return e=this.hf.eb(r,e,t,n),t=this.hf,n=e.Sd,D(n.N.j().yc(t.U.g),"Event snap not indexed"),D(n.w().j().yc(t.U.g),"Server snap not indexed"),D(ke(e.Sd.w())||!ke(r.w()),"Once a server snap is complete, it should never go back"),this.Ka=e.Sd,Ue(this,e.Df,e.Sd.N.j(),null)},We.prototype.Yb=function(){var e=this.Md.wb();return"value"===this.hd?e.path:e.getParent().path},We.prototype.ge=function(){return this.hd},We.prototype.Tb=function(){return this.ae.Tb(this)},We.prototype.toString=function(){return this.Yb().toString()+":"+this.hd+":"+x(this.Md.be())},Xe.prototype.Yb=function(){return this.path},Xe.prototype.ge=function(){return"cancel"},Xe.prototype.Tb=function(){return this.ae.Tb(this)},Xe.prototype.toString=function(){return this.path.toString()+":cancel"},$e.prototype.add=function(e){this.jd.push(e)},$e.prototype.Yb=function(){return this.qa},g=Qe.prototype,g.F=function(e,t,n,r,i,o){return D(e.yc(this.g),"A node must be indexed if only a child is updated"),i=e.Q(t),i.P(r).Z(n.P(r))&&i.e()==n.e()?e:(null!=o&&(n.e()?e.Da(t)?df(o,new S(Le,i,t)):D(e.J(),"A child remove without an old child only makes sense on a leaf node"):i.e()?df(o,new S(Me,n,t)):df(o,new S(Ie,n,t,i))),e.J()&&n.e()?e:e.T(t,n).nb(this.g))},g.ya=function(e,t,n){return null!=n&&(e.J()||e.O(H,function(e,r){t.Da(e)||df(n,new S(Le,r,e))}),t.J()||t.O(H,function(t,r){if(e.Da(t)){var i=e.Q(t);i.Z(r)||df(n,new S(Ie,r,t,i))}else df(n,new S(Me,r,t))})),t.nb(this.g)},g.fa=function(e,t){return e.e()?L:e.fa(t)},g.Na=function(){return!1},g.Ub=function(){return this},g=Se.prototype,g.matches=function(e){return 0>=this.g.compare(this.Uc,e)&&0>=this.g.compare(e,this.vc)},g.F=function(e,t,n,r,i,o){return this.matches(new C(t,n))||(n=L),this.he.F(e,t,n,r,i,o)},g.ya=function(e,t,n){t.J()&&(t=L);var r=t.nb(this.g),r=r.fa(L),i=this;return t.O(H,function(e,t){i.matches(new C(e,t))||(r=r.T(e,L))}),this.he.ya(e,r,n)},g.fa=function(e){return e},g.Na=function(){return!0},g.Ub=function(){return this.he},g=Re.prototype,g.F=function(e,t,n,r,i,o){return this.sa.matches(new C(t,n))||(n=L),e.Q(t).Z(n)?e:e.Eb()<this.oa?this.sa.Ub().F(e,t,n,r,i,o):kf(this,e,t,n,i,o)},g.ya=function(e,t,n){var r;if(t.J()||t.e())r=L.nb(this.g);else if(2*this.oa<t.Eb()&&t.yc(this.g)){r=L.nb(this.g),t=this.Ib?t.Zb(this.sa.vc,this.g):t.Xb(this.sa.Uc,this.g);for(var i=0;0<t.Pa.length&&i<this.oa;){var o,a=M(t);if(!(o=this.Ib?0>=this.g.compare(this.sa.Uc,a):0>=this.g.compare(a,this.sa.vc)))break;r=r.T(a.name,a.R),i++}}else{r=t.nb(this.g),r=r.fa(L);var s,u,c;if(this.Ib){t=r.We(this.g),s=this.sa.vc,u=this.sa.Uc;var l=nc(this.g);c=function(e,t){return l(t,e)}}else t=r.Wb(this.g),s=this.sa.Uc,u=this.sa.vc,c=nc(this.g);for(var i=0,h=!1;0<t.Pa.length;)a=M(t),!h&&0>=c(s,a)&&(h=!0),(o=h&&i<this.oa&&0>=c(a,u))?i++:r=r.T(a.name,L)}return this.sa.Ub().ya(e,r,n)},g.fa=function(e){return e},g.Na=function(){return!0},g.Ub=function(){return this.sa.Ub()};var Me="child_added",Le="child_removed",Ie="child_changed",Je="child_moved",Ne="value",mf=new lf;g=lf.prototype,g.ne=function(e){var t=nf(this);return t.xa=!0,t.oa=e,t.mb="l",t},g.oe=function(e){var t=nf(this);return t.xa=!0,t.oa=e,t.mb="r",t},g.Nd=function(e,t){var r=nf(this);return r.ka=!0,n(e)||(e=null),r.dc=e,null!=t?(r.Kb=!0,r.zb=t):(r.Kb=!1,r.zb=""),r},g.gd=function(e,t){var r=nf(this);return r.na=!0,n(e)||(e=null),r.ac=e,n(t)?(r.Rb=!0,r.xb=t):(r.vg=!1,r.xb=""),r},g.toString=function(){return x(pf(this))};var tf=new sf(new vd(null));sf.prototype.Ed=function(e){return e.e()?tf:(e=Ad(this.W,e,R),new sf(e))},sf.prototype.e=function(){return this.W.e()},sf.prototype.apply=function(e){return zf(Q,this.W,e)},Af.prototype.j=function(e){return this.Jd.P(e)},Af.prototype.toString=function(){return this.Jd.toString()},Bf.prototype.getToken=function(e){return this.oc.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},g=Df.prototype,g.Ed=function(e){var t=Ea(this.la,function(t){return t.Zc===e});D(0<=t,"removeWrite called with nonexistent writeId.");var n=this.la[t];this.la.splice(t,1);for(var r=n.visible,i=!1,o=this.la.length-1;r&&0<=o;){var a=this.la[o];a.visible&&(o>=t&&Ff(a,n.path)?r=!1:n.path.contains(a.path)&&(i=!0)),o--}if(r){if(i)this.S=Gf(this.la,Hf,Q),this.Bc=0<this.la.length?this.la[this.la.length-1].Zc:-1;else if(n.Ga)this.S=this.S.Ed(n.path);else{var s=this;v(n.children,function(e,t){s.S=s.S.Ed(n.path.n(t))})}return!0}return!1},g.Aa=function(e,t,n,r){if(n||r){var i=yf(this.S,e);return!r&&i.e()?t:r||null!=t||null!=wf(i,Q)?(i=Gf(this.la,function(t){return(t.visible||r)&&(!n||!(0<=xa(n,t.Zc)))&&(t.path.contains(e)||e.contains(t.path))},e),t=t||L,i.apply(t)):null}return i=wf(this.S,e),null!=i?i:(i=yf(this.S,e),i.e()?t:null!=t||null!=wf(i,Q)?(t=t||L,i.apply(t)):null)},g.rc=function(e,t){var n=L,r=wf(this.S,e);if(r)r.J()||r.O(H,function(e,t){n=n.T(e,t)});else if(t){var i=yf(this.S,e);t.O(H,function(e,t){var r=yf(i,new E(e)).apply(t);n=n.T(e,r)}),ya(xf(i),function(e){n=n.T(e.name,e.R)})}else i=yf(this.S,e),ya(xf(i),function(e){n=n.T(e.name,e.R)});return n},g.ad=function(e,t,n,r){return D(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=e.n(t),null!=wf(this.S,e)?null:(e=yf(this.S,e),e.e()?r.P(t):e.apply(r.P(t)))},g.qc=function(e,t,n){e=e.n(t);var r=wf(this.S,e);return null!=r?r:ne(n,t)?yf(this.S,e).apply(n.j().Q(t)):null},g.lc=function(e){return wf(this.S,e)},g.Xd=function(e,t,n,r,i,o){var a;if(e=yf(this.S,e),a=wf(e,Q),null==a){if(null==t)return[];a=e.apply(t)}if(a=a.nb(o),a.e()||a.J())return[];for(t=[],e=nc(o),i=i?a.Zb(n,o):a.Xb(n,o),o=M(i);o&&t.length<r;)0!==e(o,n)&&t.push(o),o=M(i);return t},g=If.prototype,g.Aa=function(e,t,n){return this.W.Aa(this.Lb,e,t,n)},g.rc=function(e){return this.W.rc(this.Lb,e);
},g.ad=function(e,t,n){return this.W.ad(this.Lb,e,t,n)},g.lc=function(e){return this.W.lc(this.Lb.n(e))},g.Xd=function(e,t,n,r,i){return this.W.Xd(this.Lb,e,t,n,r,i)},g.qc=function(e,t){return this.W.qc(this.Lb,e,t)},g.n=function(e){return new If(this.Lb.n(e),this.W)},Jf.prototype.lf=function(){var e,t=this.Vc.get(),n={},r=!1;for(e in t)0<t[e]&&eb(this.rf,e)&&(n[e]=t[e],r=!0);r&&this.va.ye(n),hc(q(this.lf,this),Math.floor(6e5*Math.random()))},Lf.prototype.get=function(){return Ta(this.tc)},Kf.prototype.get=function(){var e=this.Ef.get(),t=Ta(e);if(this.rd)for(var n in this.rd)t[n]-=this.rd[n];return this.rd=e,t};var Nf={},Of={};g=Rf.prototype,g.$e=function(e,t,n,r){var i=e.path.toString();this.f("Listen called for "+i+" "+e.ja());var o=Sf(e,n),a={};this.$[o]=a,e=rf(e.m);var s=this;Tf(this,i+".json",e,function(e,t){var u=t;404===e&&(e=u=null),null===e&&s.Gb(i,u,!1,n),w(s.$,o)===a&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},g.uf=function(e,t){var n=Sf(e,t);delete this.$[n]},g.kf=function(){},g.re=function(){},g.cf=function(){},g.xd=function(){},g.put=function(){},g.af=function(){},g.ye=function(){};var Cb="websocket",Db="long_polling",Xf=null;"undefined"!=typeof MozWebSocket?Xf=MozWebSocket:"undefined"!=typeof WebSocket&&(Xf=WebSocket);var Zf;Yf.prototype.open=function(e,t){this.ib=t,this.Xf=e,this.f("Websocket connecting to "+this.Ke),this.wc=!1,xb.set("previous_websocket_failure",!0);try{this.Ia=new Xf(this.Ke)}catch(e){this.f("Error instantiating WebSocket.");var n=e.message||e.data;return n&&this.f(n),void this.bb()}var r=this;this.Ia.onopen=function(){r.f("Websocket connected."),r.wc=!0},this.Ia.onclose=function(){r.f("Websocket connection was disconnected."),r.Ia=null,r.bb()},this.Ia.onmessage=function(e){if(null!==r.Ia)if(e=e.data,r.pb+=e.length,Mf(r.Va,"bytes_received",e.length),$f(r),null!==r.frames)ag(r,e);else{e:{if(D(null===r.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){r.Fe=t,r.frames=[],e=null;break e}}r.Fe=1,r.frames=[]}null!==e&&ag(r,e)}},this.Ia.onerror=function(e){r.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&r.f(e),r.bb()}},Yf.prototype.start=function(){},Yf.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==Xf&&!Zf},Yf.responsesRequiredToBeHealthy=2,Yf.healthyTimeout=3e4,g=Yf.prototype,g.sd=function(){xb.remove("previous_websocket_failure")},g.send=function(e){$f(this),e=x(e),this.qb+=e.length,Mf(this.Va,"bytes_sent",e.length),e=bc(e,16384),1<e.length&&bg(this,String(e.length));for(var t=0;t<e.length;t++)bg(this,e[t])},g.Tc=function(){this.Ab=!0,this.zc&&(clearInterval(this.zc),this.zc=null),this.Ia&&(this.Ia.close(),this.Ia=null)},g.bb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.Tc(),this.ib&&(this.ib(this.wc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.Tc())};var dg,eg;cg.prototype.open=function(e,t){this.Ne=0,this.ia=t,this.bf=new Uf(e),this.Ab=!1;var n=this;this.sb=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.sb=null},Math.floor(3e4)),Yb(function(){if(!n.Ab){n.Ta=new fg(function(e,t,r,i,o){if(gg(n,arguments),n.Ta)if(n.sb&&(clearTimeout(n.sb),n.sb=null),n.wc=!0,"start"==e)n.id=t,n.ff=r;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(n.Ta.Kd=!1,Vf(n.bf,t,function(){n.bb()})):n.bb()}},function(e,t){gg(n,arguments),Wf(n.bf,e,t)},function(){n.bb()},n.Yc);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.Ta.Qd&&(e.cb=n.Ta.Qd),e.v="5",n.tf&&(e.s=n.tf),n.Cb&&(e.ls=n.Cb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=n.Yc(e),n.f("Connecting via long-poll to "+e),hg(n.Ta,e,function(){})}})},cg.prototype.start=function(){var e=this.Ta,t=this.ff;for(e.Vf=this.id,e.Wf=t,e.Ud=!0;ig(e););e=this.id,t=this.ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.fc.src=this.Yc(n),this.fc.style.display="none",document.body.appendChild(this.fc)},cg.isAvailable=function(){return dg||!eg&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.rg)&&!0},g=cg.prototype,g.sd=function(){},g.Tc=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.sb&&(clearTimeout(this.sb),this.sb=null)},g.bb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.Tc(),this.ia&&(this.ia(this.wc),this.ia=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.Tc())},g.send=function(e){e=x(e),this.qb+=e.length,Mf(this.Va,"bytes_sent",e.length),e=mb(e),e=ab(e,!0),e=bc(e,1840);for(var t=0;t<e.length;t++){var n=this.Ta;n.Qc.push({jg:this.Ne,pg:e.length,Pe:e[t]}),n.Ud&&ig(n),this.Ne++}},fg.prototype.close=function(){if(this.Ud=!1,this.Ea){this.Ea.gb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ea&&(document.body.removeChild(e.Ea),e.Ea=null)},Math.floor(0))}var t=this.ib;t&&(this.ib=null,t())};var mg=[cg,Yf];og.prototype.ua=function(e){zg(this,{t:"d",d:e})},og.prototype.wd=function(e){wg(this),this.te(e)},og.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,vg(this),this.ia&&(this.ia(),this.ia=null))};var Bg=0,Dg=0;g=Ag.prototype,g.ua=function(e,t,n){var r=++this.ig;e={r:r,a:e,b:t},this.f(x(e)),D(this.ma,"sendRequest call when we're not connected not allowed."),this.Fa.ua(e),n&&(this.Gd[r]=n)},g.$e=function(e,t,n,r){var i=e.ja(),o=e.path.toString();this.f("Listen called for "+o+" "+i),this.$[o]=this.$[o]||{},D(qf(e.m)||!T(e.m),"listen() called for non-default but complete query"),D(!this.$[o][i],"listen() called twice for same path/queryId."),e={G:r,ld:t,eg:e,tag:n},this.$[o][i]=e,this.ma&&Eg(this,e)},g.kf=function(e){this.ob=e,this.f("Auth token refreshed"),this.ob?Gg(this):this.ma&&this.ua("unauth",{},function(){}),(e&&40===e.length||kc(e))&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.td=3e4)},g.uf=function(e,t){var n=e.path.toString(),r=e.ja();if(this.f("Unlisten called for "+n+" "+r),D(qf(e.m)||!T(e.m),"unlisten() called for non-default but complete query"),Fg(this,n,r)&&this.ma){var i=pf(e.m);this.f("Unlisten on "+n+" for "+r),n={p:n},t&&(n.q=i,n.t=t),this.ua("n",n)}},g.re=function(e,t,n){this.ma?Ig(this,"o",e,t,n):this.Kc.push({we:e,action:"o",data:t,G:n})},g.cf=function(e,t,n){this.ma?Ig(this,"om",e,t,n):this.Kc.push({we:e,action:"om",data:t,G:n})},g.xd=function(e,t){this.ma?Ig(this,"oc",e,null,t):this.Kc.push({we:e,action:"oc",data:null,G:t})},g.put=function(e,t,n,r){Jg(this,"p",e,t,n,r)},g.af=function(e,t,n,r){Jg(this,"m",e,t,n,r)},g.ye=function(e){this.ma&&(e={c:e},this.f("reportStats",e),this.ua("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},g.wd=function(e){if("r"in e){this.f("from server: "+x(e));var t=e.r,n=this.Gd[t];n&&(delete this.Gd[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,e=e.b,this.f("handleServerMessage",t,e),"d"===t?this.Gb(e.p,e.d,!1,e.t):"m"===t?this.Gb(e.p,e.d,!0,e.t):"c"===t?Lg(this,e.p,e.q):"ac"===t?Hg(this,e.s,e.d):"sd"===t?this.ze?this.ze(e):"msg"in e&&"undefined"!=typeof console&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: ")):Ub("Unrecognized action received from server: "+x(t)+"\nAre you using the latest client?"))}},g.Lc=function(e,t){if(this.f("connection ready"),this.ma=!0,this.Ac=(new Date).getTime(),this.ue({serverTimeOffset:e-(new Date).getTime()}),this.Cb=t,this.Re){var n={};n["sdk.js."+firebase.SDK_VERSION.replace(/\./g,"-")]=1,pb()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.ye(n)}Mg(this),this.Re=!1,this.Jc(!0)},g.Zf=function(e){e&&!this.Mb&&this.Sa===this.td&&(this.f("Window became visible.  Reducing delay."),this.Sa=1e3,this.Fa||Cg(this,0)),this.Mb=e},g.Yf=function(e){e?(this.f("Browser went online."),this.Sa=1e3,this.Fa||Cg(this,0)):(this.f("Browser went offline.  Killing connection."),this.Fa&&this.Fa.close())},g.df=function(){this.f("data client disconnected"),this.ma=!1,this.Fa=null;for(var e=0;e<this.pa.length;e++){var t=this.pa[e];t&&"h"in t.mf&&t.fg&&(t.G&&t.G("disconnect"),delete this.pa[e],this.Oc--)}0===this.Oc&&(this.pa=[]),this.Gd={},Og(this)&&(this.Mb?this.Ac&&(3e4<(new Date).getTime()-this.Ac&&(this.Sa=1e3),this.Ac=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Sa=this.td,this.me=(new Date).getTime()),e=Math.max(0,this.Sa-((new Date).getTime()-this.me)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Cg(this,e),this.Sa=Math.min(this.td,1.3*this.Sa)),this.Jc(!1)},g.ab=function(e){I("Interrupting connection for reason: "+e),this.qd[e]=!0,this.Fa?this.Fa.close():(this.ub&&(clearTimeout(this.ub),this.ub=null),this.ma&&this.df())},g.kc=function(e){I("Resuming connection for reason: "+e),delete this.qd[e],Sa(this.qd)&&(this.Sa=1e3,this.Fa||Cg(this,0))};var Sg={TIMESTAMP:{".sv":"timestamp"}};g=Pg.prototype,g.app=null,g.jf=function(e){return Tg(this,"ref"),y("database.ref",0,1,arguments.length),n(e)?this.ba.n(e):this.ba},g.gg=function(e){Tg(this,"database.refFromURL"),y("database.refFromURL",1,1,arguments.length);var t=Wb(e);Xd("database.refFromURL",t);var n=t.jc;return n.host!==this.ta.L.host&&Vb("database.refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+this.ta.L.host+")"),this.jf(t.path.toString())},g.Pf=function(){y("database.goOffline",0,0,arguments.length),Tg(this,"goOffline"),this.ta.ab()},g.Qf=function(){y("database.goOnline",0,0,arguments.length),Tg(this,"goOnline"),this.ta.kc()},Object.defineProperty(Pg.prototype,"app",{get:function(){return this.ta.app}}),Rg.prototype.delete=function(){Tg(this.Ya,"delete");var e=Ug.Vb(),t=this.Ya.ta;return w(e.lb,t.app.name)!==t&&Vb("Database "+t.app.name+" has already been deleted."),t.ab(),delete e.lb[t.app.name],this.Ya.ta=null,this.Ya.ba=null,this.Ya=this.Ya.INTERNAL=null,firebase.Promise.resolve()},Pg.prototype.ref=Pg.prototype.jf,Pg.prototype.refFromURL=Pg.prototype.gg,Pg.prototype.goOnline=Pg.prototype.Qf,Pg.prototype.goOffline=Pg.prototype.Pf,Rg.prototype.delete=Rg.prototype.delete,V.prototype.H=function(){return y("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.H()},V.prototype.val=V.prototype.H,V.prototype.be=function(){return y("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.H(!0)},V.prototype.exportVal=V.prototype.be,V.prototype.toJSON=function(){return y("Firebase.DataSnapshot.toJSON",0,1,arguments.length),this.be()},V.prototype.toJSON=V.prototype.toJSON,V.prototype.Lf=function(){return y("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},V.prototype.exists=V.prototype.Lf,V.prototype.n=function(e){y("Firebase.DataSnapshot.child",0,1,arguments.length),ga(e)&&(e=String(e)),Vd("Firebase.DataSnapshot.child",e);var t=new E(e),n=this.V.n(t);return new V(this.A.P(t),n,H)},V.prototype.child=V.prototype.n,V.prototype.Da=function(e){y("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Vd("Firebase.DataSnapshot.hasChild",e);var t=new E(e);return!this.A.P(t).e()},V.prototype.hasChild=V.prototype.Da,V.prototype.C=function(){return y("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().H()},V.prototype.getPriority=V.prototype.C,V.prototype.forEach=function(e){if(y("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,e,!1),this.A.J())return!1;var t=this;return!!this.A.O(this.g,function(n,r){return e(new V(r,t.V.n(n),H))})},V.prototype.forEach=V.prototype.forEach,V.prototype.kd=function(){return y("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.J()&&!this.A.e()},V.prototype.hasChildren=V.prototype.kd,V.prototype.getKey=function(){return y("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.getKey()},gc(V.prototype,"key",V.prototype.getKey),V.prototype.Eb=function(){return y("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Eb()},V.prototype.numChildren=V.prototype.Eb,V.prototype.wb=function(){return y("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},gc(V.prototype,"ref",V.prototype.wb),g=Vg.prototype,g.nf=function(e){return"value"===e},g.createEvent=function(e,t){var n=t.m.g;return new We("value",this,new V(e.Ja,t.wb(),n))},g.Tb=function(e){var t=this.tb;if("cancel"===e.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(t,e.error)}}var r=this.Pb;return function(){r.call(t,e.Md)}},g.Me=function(e,t){return this.rb?new Xe(this,e,t):null},g.matches=function(e){return e instanceof Vg&&(!e.Pb||!this.Pb||e.Pb===this.Pb&&e.tb===this.tb)},g.Xe=function(){return null!==this.Pb},g=Wg.prototype,g.nf=function(e){return e="children_added"===e?"child_added":e,("children_removed"===e?"child_removed":e)in this.ga},g.Me=function(e,t){return this.rb?new Xe(this,e,t):null},g.createEvent=function(e,t){D(null!=e.Xa,"Child events should have a childName.");var n=t.wb().n(e.Xa);return new We(e.type,this,new V(e.Ja,n,t.m.g),e.Dd)},g.Tb=function(e){var t=this.tb;if("cancel"===e.ge()){D(this.rb,"Raising a cancel event on a listener with no cancel callback");var n=this.rb;return function(){n.call(t,e.error)}}var r=this.ga[e.hd];return function(){r.call(t,e.Md,e.Dd)}},g.matches=function(e){if(e instanceof Wg){if(!this.ga||!e.ga)return!0;if(this.tb===e.tb){var t=La(e.ga);if(t===La(this.ga)){if(1===t){var t=Ma(e.ga),n=Ma(this.ga);return!(n!==t||e.ga[t]&&this.ga[n]&&e.ga[t]!==this.ga[n])}return Ka(this.ga,function(t,n){return e.ga[n]===t})}}}return!1},g.Xe=function(){return null!==this.ga},g=Xg.prototype,g.e=function(){return Sa(this.za)},g.eb=function(e,t,n){var r=e.source.Hb;if(null!==r)return r=w(this.za,r),D(null!=r,"SyncTree gave us an op for an invalid query."),r.eb(e,t,n);var i=[];return v(this.za,function(r){i=i.concat(r.eb(e,t,n))}),i},g.Nb=function(e,t,n,r,i){var o=e.ja(),a=w(this.za,o);if(!a){var a=n.Aa(i?r:null),s=!1;a?s=!0:(a=r instanceof O?n.rc(r):L,s=!1),a=new Pe(e,new oe(new je(a,s,!1),new je(r,i,!1))),this.za[o]=a}return a.Nb(t),Ve(a,t)},g.kb=function(e,t,n){var r=e.ja(),i=[],o=[],a=null!=Yg(this);if("default"===r){var s=this;v(this.za,function(e,r){o=o.concat(e.kb(t,n)),e.e()&&(delete s.za[r],T(e.V.m)||i.push(e.V))})}else{var u=w(this.za,r);u&&(o=o.concat(u.kb(t,n)),u.e()&&(delete this.za[r],T(u.V.m)||i.push(u.V)))}return a&&null==Yg(this)&&i.push(new U(e.u,e.path)),{hg:i,Kf:o}},g.hb=function(e){var t=null;return v(this.za,function(n){t=t||n.hb(e)}),t},ah.prototype.Nb=function(e,t){var n=e.path,r=null,i=!1;Fd(this.wa,n,function(e,t){var o=P(e,n);r=r||t.hb(o),i=i||null!=Yg(t)});var o=this.wa.get(n);o?(i=i||null!=Yg(o),r=r||o.hb(Q)):(o=new Xg,this.wa=this.wa.set(n,o));var a;null!=r?a=!0:(a=!1,r=L,Jd(this.wa.subtree(n),function(e,t){var n=t.hb(Q);n&&(r=r.T(e,n))}));var s=null!=$g(o,e);if(!s&&!T(e.m)){var u=lh(e);D(!(u in this.ic),"View does not exist, but we have a tag");var c=mh++;this.ic[u]=c,this.De["_"+c]=u}return a=o.Nb(e,t,new If(n,this.jb),r,a),s||i||(o=$g(o,e),a=a.concat(nh(this,e,o))),a},ah.prototype.kb=function(e,t,n){var r=e.path,i=this.wa.get(r),o=[];if(i&&("default"===e.ja()||null!=$g(i,e))){o=i.kb(e,t,n),i.e()&&(this.wa=this.wa.remove(r)),i=o.hg,o=o.Kf,t=-1!==Ea(i,function(e){return T(e.m)});var a=Dd(this.wa,r,function(e,t){return null!=Yg(t)});if(t&&!a&&(r=this.wa.subtree(r),!r.e()))for(var r=oh(r),s=0;s<r.length;++s){var u=r[s],c=u.V,u=ph(this,u);this.Cc.Ae(qh(c),rh(this,c),u.ld,u.G)}if(!a&&0<i.length&&!n)if(t)this.Cc.Od(qh(e),null);else{var l=this;ya(i,function(e){e.ja();var t=l.ic[lh(e)];l.Cc.Od(qh(e),t)})}sh(this,i)}return o},ah.prototype.Aa=function(e,t){var n=this.jb,r=Dd(this.wa,e,function(t,n){var r=P(t,e);if(r=n.hb(r))return r});return n.Aa(e,r,t,!0)};var mh=1;g=Qg.prototype,g.toString=function(){return(this.L.Sc?"https://":"http://")+this.L.host},g.name=function(){return this.L.pe},g.Gb=function(e,t,n,r){this.fd++;var i=new E(e);t=this.je?this.je(e,t):t,e=[],r?n?(t=Ja(t,function(e){return G(e)}),e=kh(this.K,i,t,r)):(t=G(t),e=gh(this.K,i,t,r)):n?(r=Ja(t,function(e){return G(e)}),e=fh(this.K,i,r)):(r=G(t),e=ch(this.K,new ce(ie,i,r))),r=i,0<e.length&&(r=yh(this,i)),cf(this.ca,r,e)},g.Jc=function(e){vh(this,"connected",e),!1===e&&zh(this)},g.ue=function(e){var t=this;cc(e,function(e,n){vh(t,n,e)})},g.Jb=function(e,t,n,r){this.f("set",{path:e.toString(),value:t,ug:n});var i=xh(this);t=G(t,n);var i=Jb(t,i),o=this.vd++,i=bh(this.K,e,i,o,!0);Ze(this.ca,i);var a=this;this.va.put(e.toString(),t.H(!0),function(t,n){var i="ok"===t;i||J("set at "+e+" failed: "+t),i=eh(a.K,o,!i),cf(a.ca,e,i),Ah(r,t,n)}),i=Bh(this,e),yh(this,i),cf(this.ca,i,[])},g.update=function(e,t,n){this.f("update",{path:e.toString(),value:t});var r=!0,i=xh(this),o={};if(v(t,function(e,t){r=!1;var n=G(e);o[t]=Jb(n,i)}),r)I("update() called with empty data.  Don't do anything."),Ah(n,"ok");else{var a=this.vd++,s=dh(this.K,e,o,a);Ze(this.ca,s);var u=this;this.va.af(e.toString(),t,function(t,r){var i="ok"===t;i||J("update at "+e+" failed: "+t);var i=eh(u.K,a,!i),o=e;0<i.length&&(o=yh(u,e)),cf(u.ca,o,i),Ah(n,t,r)}),v(t,function(t,n){var r=Bh(u,e.n(n));yh(u,r)}),cf(this.ca,e,[])}},g.xd=function(e,t){var n=this;this.va.xd(e.toString(),function(r,i){"ok"===r&&Yd(n.ia,e),Ah(t,r,i)})},g.ab=function(){this.Ra&&this.Ra.ab("repo_interrupt")},g.kc=function(){this.Ra&&this.Ra.kc("repo_interrupt")},g.Be=function(e){if("undefined"!=typeof console){e?(this.Vc||(this.Vc=new Kf(this.Va)),e=this.Vc.get()):e=this.Va.get();var t,n=Ba(Oa(e),function(e,t){return Math.max(t.length,e)},0);for(t in e){for(var r=e[t],i=t.length;i<n+2;i++)t+=" ";console.log(t+r)}}},g.Ce=function(e){Mf(this.Va,e),this.og.rf[e]=!0},g.f=function(e){var t="";this.Ra&&(t=this.Ra.id+":"),I(t,arguments)},Ug.prototype.ab=function(){for(var e in this.lb)this.lb[e].ab()},Ug.prototype.kc=function(){for(var e in this.lb)this.lb[e].kc()},Ug.prototype.ce=function(e){this.wf=e},ca(Ug),Ug.prototype.interrupt=Ug.prototype.ab,Ug.prototype.resume=Ug.prototype.kc;var W={};W.nc=Ag,W.DataConnection=W.nc,Ag.prototype.ng=function(e,t){this.ua("q",{p:e},t)},W.nc.prototype.simpleListen=W.nc.prototype.ng,Ag.prototype.Hf=function(e,t){this.ua("echo",{d:e},t)},W.nc.prototype.echo=W.nc.prototype.Hf,Ag.prototype.interrupt=Ag.prototype.ab,W.zf=og,W.RealTimeConnection=W.zf,og.prototype.sendRequest=og.prototype.ua,og.prototype.close=og.prototype.close,W.Rf=function(e){var t=Ag.prototype.put;return Ag.prototype.put=function(r,i,o,a){n(a)&&(a=e()),t.call(this,r,i,o,a)},function(){Ag.prototype.put=t}},W.hijackHash=W.Rf,W.yf=zb,W.ConnectionTarget=W.yf,W.ja=function(e){return e.ja()},W.queryIdentifier=W.ja,W.Uf=function(e){return e.u.Ra.$},W.listens=W.Uf,W.ce=function(e){Ug.Vb().ce(e)},W.forceRestClient=W.ce,W.Context=Ug,g=X.prototype,g.wb=function(){return y("Query.ref",0,0,arguments.length),new U(this.u,this.path)},g.gc=function(e,t,n,r){y("Query.on",2,4,arguments.length),Td("Query.on",e,!1),B("Query.on",2,t,!1);var i=Th("Query.on",n,r);if("value"===e)Fh(this.u,this,new Vg(t,i.cancel||null,i.Ma||null));else{var o={};o[e]=t,Fh(this.u,this,new Wg(o,i.cancel,i.Ma))}return t},g.Ic=function(e,t,n){y("Query.off",0,3,arguments.length),Td("Query.off",e,!0),B("Query.off",2,t,!0),ob("Query.off",3,n);var r=null,i=null;"value"===e?r=new Vg(t||null,null,n||null):e&&(t&&(i={},i[e]=t),r=new Wg(i,null,n||null)),i=this.u,r=".info"===K(this.path)?i.pd.kb(this,r):i.K.kb(this,r),af(i.ca,this.path,r)},g.$f=function(e,t){function n(s){o&&(o=!1,i.Ic(e,n),t&&t.call(r.Ma,s),a.resolve(s))}y("Query.once",1,4,arguments.length),Td("Query.once",e,!1),B("Query.once",2,t,!0);var r=Th("Query.once",arguments[2],arguments[3]),i=this,o=!0,a=new ib;return kb(a.ra),this.gc(e,n,function(t){i.Ic(e,n),r.cancel&&r.cancel.call(r.Ma,t),a.reject(t)}),a.ra},g.ne=function(e){if(y("Query.limitToFirst",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.ne(e),this.Nc)},g.oe=function(e){if(y("Query.limitToLast",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.m.xa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.u,this.path,this.m.oe(e),this.Nc)},g.ag=function(e){if(y("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Vd("Query.orderByChild",e),Sh(this,"Query.orderByChild");var t=new E(e);if(t.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new pc(t),t=of(this.m,t),Qh(t),new X(this.u,this.path,t,!0)},g.bg=function(){y("Query.orderByKey",0,0,arguments.length),Sh(this,"Query.orderByKey");var e=of(this.m,tc);return Qh(e),new X(this.u,this.path,e,!0)},g.cg=function(){y("Query.orderByPriority",0,0,arguments.length),Sh(this,"Query.orderByPriority");var e=of(this.m,H);return Qh(e),new X(this.u,this.path,e,!0)},g.dg=function(){y("Query.orderByValue",0,0,arguments.length),Sh(this,"Query.orderByValue");var e=of(this.m,wc);return Qh(e),new X(this.u,this.path,e,!0)},g.Nd=function(e,t){y("Query.startAt",0,2,arguments.length),Od("Query.startAt",e,this.path,!0),Ud("Query.startAt",t);var r=this.m.Nd(e,t);if(Rh(r),Qh(r),this.m.ka)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(e)||(t=e=null),new X(this.u,this.path,r,this.Nc)},g.gd=function(e,t){y("Query.endAt",0,2,arguments.length),Od("Query.endAt",e,this.path,!0),Ud("Query.endAt",t);var n=this.m.gd(e,t);if(Rh(n),Qh(n),this.m.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.u,this.path,n,this.Nc)},g.If=function(e,t){if(y("Query.equalTo",1,2,arguments.length),Od("Query.equalTo",e,this.path,!1),Ud("Query.equalTo",t),this.m.ka)throw Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.m.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Nd(e,t).gd(e,t)},g.toString=function(){y("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.Y;n<e.o.length;n++)""!==e.o[n]&&(t+="/"+encodeURIComponent(String(e.o[n])));return this.u.toString()+(t||"/")},g.toJSON=function(){return y("Query.toJSON",0,1,arguments.length),this.toString()},g.ja=function(){var e=ac(pf(this.m));return"{}"===e?"default":e},g.isEqual=function(e){if(y("Query.isEqual",1,1,arguments.length),!(e instanceof X))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var t=this.u===e.u,n=this.path.Z(e.path),r=this.ja()===e.ja();return t&&n&&r},X.prototype.on=X.prototype.gc,X.prototype.off=X.prototype.Ic,X.prototype.once=X.prototype.$f,X.prototype.limitToFirst=X.prototype.ne,X.prototype.limitToLast=X.prototype.oe,X.prototype.orderByChild=X.prototype.ag,X.prototype.orderByKey=X.prototype.bg,X.prototype.orderByPriority=X.prototype.cg,X.prototype.orderByValue=X.prototype.dg,X.prototype.startAt=X.prototype.Nd,X.prototype.endAt=X.prototype.gd,X.prototype.equalTo=X.prototype.If,X.prototype.toString=X.prototype.toString,X.prototype.isEqual=X.prototype.isEqual,gc(X.prototype,"ref",X.prototype.wb),Y.prototype.cancel=function(e){y("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,e,!0);var t=new ib;return this.ta.xd(this.qa,jb(t,e)),t.ra},Y.prototype.cancel=Y.prototype.cancel,Y.prototype.remove=function(e){y("Firebase.onDisconnect().remove",0,1,arguments.length),Wd("Firebase.onDisconnect().remove",this.qa),B("Firebase.onDisconnect().remove",1,e,!0);var t=new ib;return Ch(this.ta,this.qa,null,jb(t,e)),t.ra},Y.prototype.remove=Y.prototype.remove,Y.prototype.set=function(e,t){y("Firebase.onDisconnect().set",1,2,arguments.length),Wd("Firebase.onDisconnect().set",this.qa),Od("Firebase.onDisconnect().set",e,this.qa,!1),B("Firebase.onDisconnect().set",2,t,!0);var n=new ib;return Ch(this.ta,this.qa,e,jb(n,t)),n.ra},Y.prototype.set=Y.prototype.set,Y.prototype.Jb=function(e,t,n){y("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Wd("Firebase.onDisconnect().setWithPriority",this.qa),Od("Firebase.onDisconnect().setWithPriority",e,this.qa,!1),Sd("Firebase.onDisconnect().setWithPriority",2,t),B("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new ib;return Dh(this.ta,this.qa,e,t,jb(r,n)),r.ra},Y.prototype.setWithPriority=Y.prototype.Jb,Y.prototype.update=function(e,t){if(y("Firebase.onDisconnect().update",1,2,arguments.length),Wd("Firebase.onDisconnect().update",this.qa),ea(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,J("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.onDisconnect().update",e,this.qa),B("Firebase.onDisconnect().update",2,t,!0),n=new ib,Eh(this.ta,this.qa,e,jb(n,t)),n.ra},Y.prototype.update=Y.prototype.update;var Z={Mf:function(){dg=Zf=!0}};if(Z.forceLongPolling=Z.Mf,Z.Nf=function(){eg=!0},Z.forceWebSockets=Z.Nf,Z.Tf=function(){return Yf.isAvailable()},Z.isWebSocketsAvailable=Z.Tf,Z.lg=function(e,t){e.u.Ra.ze=t},Z.setSecurityDebugCallback=Z.lg,Z.Be=function(e,t){e.u.Be(t)},Z.stats=Z.Be,Z.Ce=function(e,t){e.u.Ce(t)},Z.statsIncrementCounter=Z.Ce,Z.fd=function(e){return e.u.fd},Z.dataUpdateCount=Z.fd,Z.Sf=function(e,t){e.u.je=t},Z.interceptServerData=Z.Sf,la(U,X),g=U.prototype,g.getKey=function(){return y("Firebase.key",0,0,arguments.length),this.path.e()?null:Oc(this.path)},g.n=function(e){if(y("Firebase.child",1,1,arguments.length),ga(e))e=String(e);else if(!(e instanceof E))if(null===K(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Vd("Firebase.child",t)}else Vd("Firebase.child",e);return new U(this.u,this.path.n(e))},g.getParent=function(){y("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new U(this.u,e)},g.Of=function(){y("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},g.Gf=function(){return this.u.Ya},g.set=function(e,t){y("Firebase.set",1,2,arguments.length),Wd("Firebase.set",this.path),Od("Firebase.set",e,this.path,!1),B("Firebase.set",2,t,!0);var n=new ib;return this.u.Jb(this.path,e,null,jb(n,t)),n.ra},g.update=function(e,t){if(y("Firebase.update",1,2,arguments.length),Wd("Firebase.update",this.path),ea(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,J("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return Rd("Firebase.update",e,this.path),B("Firebase.update",2,t,!0),n=new ib,this.u.update(this.path,e,jb(n,t)),n.ra},g.Jb=function(e,t,n){if(y("Firebase.setWithPriority",2,3,arguments.length),Wd("Firebase.setWithPriority",this.path),Od("Firebase.setWithPriority",e,this.path,!1),Sd("Firebase.setWithPriority",2,t),B("Firebase.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new ib;return this.u.Jb(this.path,e,t,jb(r,n)),r.ra},g.remove=function(e){return y("Firebase.remove",0,1,arguments.length),Wd("Firebase.remove",this.path),B("Firebase.remove",1,e,!0),this.set(null,e)},g.transaction=function(e,t,r){if(y("Firebase.transaction",1,3,arguments.length),Wd("Firebase.transaction",this.path),B("Firebase.transaction",1,e,!1),B("Firebase.transaction",2,t,!0),n(r)&&"boolean"!=typeof r)throw Error(A("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Firebase.transaction failed: "+this.getKey()+" is a read-only object.";"undefined"==typeof r&&(r=!0);var i=new ib;return ha(t)&&kb(i.ra),Gh(this.u,this.path,e,function(e,n,r){e?i.reject(e):i.resolve(new Ph(n,r)),ha(t)&&t(e,n,r)},r),i.ra},g.kg=function(e,t){y("Firebase.setPriority",1,2,arguments.length),Wd("Firebase.setPriority",this.path),Sd("Firebase.setPriority",1,e),B("Firebase.setPriority",2,t,!0);var n=new ib;return this.u.Jb(this.path.n(".priority"),e,null,jb(n,t)),n.ra},g.push=function(e,t){y("Firebase.push",0,2,arguments.length),Wd("Firebase.push",this.path),Od("Firebase.push",e,this.path,!0),B("Firebase.push",2,t,!0);var n=wh(this.u),r=Kc(n),n=this.n(r),i=this.n(r),r=null!=e?n.set(e,t).then(function(){return i}):hb.resolve(i);return n.then=q(r.then,r),n.catch=q(r.then,r,void 0),ha(t)&&kb(r),n},g.ib=function(){return Wd("Firebase.onDisconnect",this.path),new Y(this.u,this.path)},U.prototype.child=U.prototype.n,U.prototype.set=U.prototype.set,U.prototype.update=U.prototype.update,U.prototype.setWithPriority=U.prototype.Jb,U.prototype.remove=U.prototype.remove,U.prototype.transaction=U.prototype.transaction,U.prototype.setPriority=U.prototype.kg,U.prototype.push=U.prototype.push,U.prototype.onDisconnect=U.prototype.ib,gc(U.prototype,"database",U.prototype.Gf),gc(U.prototype,"key",U.prototype.getKey),gc(U.prototype,"parent",U.prototype.getParent),gc(U.prototype,"root",U.prototype.Of),"undefined"==typeof firebase)throw Error("Cannot install Firebase Database - be sure to load firebase-app.js first.");try{firebase.INTERNAL.registerService("database",function(e){var t=Ug.Vb(),r=e.options.databaseURL;n(r)||Vb("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.intializeApp().");var i=Wb(r),r=i.jc;return Xd("Invalid Firebase Database URL",i),i.path.e()||Vb("Database URL must point to the root of a Firebase Database (not including a child path)."),(i=w(t.lb,e.name))&&Vb("FIREBASE INTERNAL ERROR: Database initialized multiple times."),i=new Qg(r,t.wf,e),t.lb[e.name]=i,i.Ya},{Reference:U,Query:X,Database:Pg,enableLogging:Sb,INTERNAL:Z,TEST_ACCESS:W,ServerValue:Sg})}catch(e){Vb("Failed to register the Firebase Database Service ("+e+")")}}()}).call(void 0!==typeof global?global:void 0!==typeof self?self:void 0!==typeof window?window:{}),module.exports=firebase.database}).call(exports,function(){return this}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35);n(180);n(181),n(184);n(183),t.default=r,e.exports=t.default},function(e,t,n){(function(t){var r=n(35);(function(){(function(){var e=function(e,t){function n(){}n.prototype=t.prototype,e.u=t.prototype,e.prototype=new n;for(var r in t)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}else e[r]=t[r]},t=this,n=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t;
},i=function(e,t){function n(){}n.prototype=t.prototype,e.u=t.prototype,e.prototype=new n,e.v=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}},o=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,o);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))};i(o,Error);var a=function(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")},s=function(e,t){t.unshift(e),o.call(this,a.apply(null,t)),t.shift()};i(s,o);var u=function(e,t,n){if(!e){var r="Assertion failed";if(t)var r=r+(": "+t),i=Array.prototype.slice.call(arguments,2);throw new s(""+r,i||[])}},c=null,l=function(e){e=new Uint8Array(e);var t=n(e);if(u("array"==t||"object"==t&&"number"==typeof e.length,"encodeByteArray takes an array as a parameter"),!c)for(c={},t=0;65>t;t++)c[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t);for(var t=c,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,h=l?e[i+2]:0,f=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|h>>6,h=63&h;l||(h=64,a||(s=64)),r.push(t[f],t[o],t[s],t[h])}return r.join("").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},h={},f=(h["only-available-in-window"]="This method is available in a Window context.",h["only-available-in-sw"]="This method is available in a service worker context.",h["should-be-overriden"]="This method should be overriden by extended classes.",h["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",h["permission-default"]="The required permissions were not granted and dismissed instead.",h["permission-blocked"]="The required permissions were not granted and blocked instead.",h["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",h["notifications-blocked"]="Notifications have been blocked.",h["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",h["sw-registration-expected"]="A service worker registration was the expected input.",h["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",h["invalid-saved-token"]="Unable to access details of the saved token.",h["sw-reg-redundant"]="The service worker being used for push was made redundant.",h["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$message}",h["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",h["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",h["use-sw-before-get-token"]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",h["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",h["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",h["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",h["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",h["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",h["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",h["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",h["failed-to-delete-token"]="Unable to delete the currently saved token.",h["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",h["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",h["bad-scope"]="The service worker scope must be a string with at least one character.",h["bad-vapid-key"]="The public VAPID key must be a string with at least one character.",h["bad-subscription"]="The subscription must be a valid PushSubscription.",h["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",h["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",h["failed-delete-vapid-key"]="The VAPID key could not be deleted.",h),d={userVisibleOnly:!0,applicationServerKey:new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110])},p=new r.INTERNAL.ErrorFactory("messaging","Messaging",f),m=function(){this.a=null},g=function(e){return e.a?e.a:(e.a=new Promise(function(e,n){var r=t.indexedDB.open("fcm_token_details_db",1);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){e=e.target.result.createObjectStore("fcm_token_object_Store",{keyPath:"swScope"}),e.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),e.createIndex("fcmToken","fcmToken",{unique:!0})}}),e.a)},v=function(e){e.a?e.a.then(function(t){t.close(),e.a=null}):Promise.resolve()},y=function(e,t){return g(e).then(function(e){return new Promise(function(n,r){var i=e.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").index("fcmToken").get(t);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(e){n(e.target.result)}})})},b=function(e,t){return g(e).then(function(e){return new Promise(function(n,r){var i=[],o=e.transaction(["fcm_token_object_Store"]).objectStore("fcm_token_object_Store").openCursor();o.onerror=function(e){r(e.target.error)},o.onsuccess=function(e){(e=e.target.result)?(e.value.fcmSenderId===t&&i.push(e.value),e.continue()):n(i)}})})},w=function(e,t,n){var r=l(t.getKey("p256dh")),i=l(t.getKey("auth"));return e="authorized_entity="+e+"&"+("endpoint="+t.endpoint+"&")+("encryption_key="+r+"&")+("encryption_auth="+i),n&&(e+="&pushSet="+n),n=new Headers,n.append("Content-Type","application/x-www-form-urlencoded"),fetch("https://fcm.googleapis.com/fcm/connect/subscribe",{method:"POST",headers:n,body:e}).then(function(e){return e.json()}).then(function(e){if(e.error)throw p.create("token-subscribe-failed",{message:e.error.message});if(!e.token)throw p.create("token-subscribe-no-token");if(!e.pushSet)throw p.create("token-subscribe-no-push-set");return{token:e.token,pushSet:e.pushSet}})},M=function(e,t,n,r,i,o){var a={swScope:n.scope,endpoint:r.endpoint,auth:l(r.getKey("auth")),p256dh:l(r.getKey("p256dh")),fcmToken:i,fcmPushSet:o,fcmSenderId:t};return g(e).then(function(e){return new Promise(function(t,n){var r=e.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").put(a);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(){t()}})})};m.prototype.i=function(e,t){return t instanceof ServiceWorkerRegistration?"string"!=typeof e||0===e.length?Promise.reject(p.create("bad-sender-id")):b(this,e).then(function(n){if(0!==n.length){var r=n.findIndex(function(n){return t.scope===n.swScope&&e===n.fcmSenderId});if(-1!==r)return n[r]}}).then(function(e){if(e)return t.pushManager.getSubscription().catch(function(){throw p.create("get-subscription-failed")}).then(function(t){var n;if((n=t)&&(n=t.endpoint===e.endpoint&&l(t.getKey("auth"))===e.auth&&l(t.getKey("p256dh"))===e.p256dh),n)return e.fcmToken})}):Promise.reject(p.create("sw-registration-expected"))},m.prototype.getSavedToken=m.prototype.i,m.prototype.h=function(e,t){var n=this;return"string"!=typeof e||0===e.length?Promise.reject(p.create("bad-sender-id")):t instanceof ServiceWorkerRegistration?t.pushManager.getSubscription().then(function(e){return e?e:t.pushManager.subscribe(d)}).then(function(r){return w(e,r).then(function(i){return M(n,e,t,r,i.token,i.pushSet).then(function(){return i.token})})}):Promise.reject(p.create("sw-registration-expected"))},m.prototype.createToken=m.prototype.h,m.prototype.deleteToken=function(e){var t=this;return"string"!=typeof e||0===e.length?Promise.reject(p.create("invalid-delete-token")):y(this,e).then(function(e){if(!e)throw p.create("delete-token-not-found");return g(t).then(function(t){return new Promise(function(n,r){var i=t.transaction(["fcm_token_object_Store"],"readwrite").objectStore("fcm_token_object_Store").delete(e.swScope);i.onerror=function(e){r(e.target.error)},i.onsuccess=function(t){0===t.target.result?r(p.create("failed-to-delete-token")):n(e)}})})})};var E=function(e){var t=this;if(this.a=new r.INTERNAL.ErrorFactory("messaging","Messaging",f),!e.options.messagingSenderId||"string"!=typeof e.options.messagingSenderId)throw this.a.create("bad-sender-id");this.l=e.options.messagingSenderId,this.c=new m,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete}};E.prototype.getToken=function(){var e=this,t=Notification.permission;return"granted"!==t?"denied"===t?Promise.reject(this.a.create("notifications-blocked")):Promise.resolve(null):this.f().then(function(t){return e.c.i(e.l,t).then(function(n){return n?n:e.c.h(e.l,t)})})},E.prototype.getToken=E.prototype.getToken,E.prototype.deleteToken=function(e){var t=this;return this.c.deleteToken(e).then(function(){return t.f()}).then(function(e){return e?e.pushManager.getSubscription():null}).then(function(e){if(e)return e.unsubscribe()})},E.prototype.deleteToken=E.prototype.deleteToken,E.prototype.f=function(){throw this.a.create("should-be-overriden")},E.prototype.requestPermission=function(){throw this.a.create("only-available-in-window")},E.prototype.useServiceWorker=function(){throw this.a.create("only-available-in-window")},E.prototype.useServiceWorker=E.prototype.useServiceWorker,E.prototype.onMessage=function(){throw this.a.create("only-available-in-window")},E.prototype.onMessage=E.prototype.onMessage,E.prototype.onTokenRefresh=function(){throw this.a.create("only-available-in-window")},E.prototype.onTokenRefresh=E.prototype.onTokenRefresh,E.prototype.setBackgroundMessageHandler=function(){throw this.a.create("only-available-in-sw")},E.prototype.setBackgroundMessageHandler=E.prototype.setBackgroundMessageHandler,E.prototype.delete=function(){v(this.c)};var A=function(e,t){var n={};return n["firebase-messaging-msg-type"]=e,n["firebase-messaging-msg-data"]=t,n},x=self,T=function(e){E.call(this,e);var t=this;this.a=new r.INTERNAL.ErrorFactory("messaging","Messaging",f),x.addEventListener("push",function(e){return _(t,e)},!1),x.addEventListener("pushsubscriptionchange",function(e){return k(t,e)},!1),x.addEventListener("notificationclick",function(e){return S(t,e)},!1),this.b=null};e(T,E);var _=function(e,t){var n;try{n=t.data.json()}catch(e){return}var r=D().then(function(t){if(t){if(n.notification||e.b)return C(e,n)}else{if((t=n)&&"object"==typeof t.notification){var r=Object.assign({},t.notification),i={};r.data=(i.FCM_MSG=t,i),t=r}else t=void 0;if(t)return x.registration.showNotification(t.title||"",t);if(e.b)return e.b(n)}});t.waitUntil(r)},k=function(e,t){var n=e.getToken().then(function(t){if(!t)throw e.a.create("no-fcm-token-for-resubscribe");var n=e.c;return y(n,t).then(function(t){if(!t)throw e.a.create("invalid-saved-token");return x.registration.pushManager.subscribe(d).then(function(e){return w(t.A,e,t.w)}).catch(function(r){return n.deleteToken(t.B).then(function(){throw e.a.create("unable-to-resubscribe",{message:r})})})})});t.waitUntil(n)},S=function(e,t){if(t.notification&&t.notification.data&&t.notification.data.FCM_MSG){t.stopImmediatePropagation(),t.notification.close();var n=t.notification.data.FCM_MSG,r=n.notification.click_action;if(r){var i=N(r).then(function(e){return e?e:x.clients.openWindow(r)}).then(function(t){if(t)return delete n.notification,L(e,t,A("notification-clicked",n))});t.waitUntil(i)}}};T.prototype.setBackgroundMessageHandler=function(e){if(e&&"function"!=typeof e)throw this.a.create("bg-handler-function-expected");this.b=e},T.prototype.setBackgroundMessageHandler=T.prototype.setBackgroundMessageHandler;var N=function(e){var t=new URL(e).href;return x.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var n=null,r=0;r<e.length;r++)if(new URL(e[r].url).href===t){n=e[r];break}if(n)return n.focus(),n})},L=function(e,t,n){return new Promise(function(r,i){return t?(t.postMessage(n),void r()):i(e.a.create("no-window-client-to-msg"))})},D=function(){return x.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})},C=function(e,t){return x.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=A("push-msg-received",t);return Promise.all(n.map(function(t){return L(e,t,r)}))})};T.prototype.f=function(){return Promise.resolve(x.registration)};var I=function(e){E.call(this,e);var t=this;this.j=null,this.m=r.INTERNAL.createSubscribe(function(e){t.j=e}),this.s=null,this.o=r.INTERNAL.createSubscribe(function(e){t.s=e}),j(this)};e(I,E),I.prototype.getToken=function(){var e=this;return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")?O(this).then(function(){return E.prototype.getToken.call(e)}):Promise.reject(this.a.create("unsupported-browser"))},I.prototype.getToken=I.prototype.getToken;var O=function(e){if(e.g)return e.g;var t=document.querySelector('link[rel="manifest"]');return t?e.g=fetch(t.href).then(function(e){return e.json()}).catch(function(){return Promise.resolve()}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.a.create("incorrect-gcm-sender-id")}):e.g=Promise.resolve(),e.g};I.prototype.requestPermission=function(){var e=this;return"granted"===Notification.permission?Promise.resolve():new Promise(function(t,n){var r=function(r){return"granted"===r?t():n("denied"===r?e.a.create("permission-blocked"):e.a.create("permission-default"))},i=Notification.requestPermission(function(e){i||r(e)});i&&i.then(r)})},I.prototype.requestPermission=I.prototype.requestPermission,I.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.a.create("sw-registration-expected");if("undefined"!=typeof this.b)throw this.a.create("use-sw-before-get-token");this.b=e},I.prototype.useServiceWorker=I.prototype.useServiceWorker,I.prototype.onMessage=function(e,t,n){return this.m(e,t,n)},I.prototype.onMessage=I.prototype.onMessage,I.prototype.onTokenRefresh=function(e,t,n){return this.o(e,t,n)},I.prototype.onTokenRefresh=I.prototype.onTokenRefresh;var R=function(e,t){var n=t.installing||t.waiting||t.active;return new Promise(function(r,i){if(n)if("activated"===n.state)r(t);else if("redundant"===n.state)i(e.a.create("sw-reg-redundant"));else{var o=function(){if("activated"===n.state)r(t);else{if("redundant"!==n.state)return;i(e.a.create("sw-reg-redundant"))}n.removeEventListener("statechange",o)};n.addEventListener("statechange",o)}else i(e.a.create("no-sw-in-reg"))})};I.prototype.f=function(){var e=this;return this.b?R(this,this.b):(this.b=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw e.a.create("failed-serviceworker-registration",{browserErrorMessage:t.message})}).then(function(t){return R(e,t).then(function(){return e.b=t,t.update(),t})}))};var j=function(e){"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data["firebase-messaging-msg-type"])switch(t=t.data,t["firebase-messaging-msg-type"]){case"push-msg-received":case"notification-clicked":e.j.next(t["firebase-messaging-msg-data"])}},!1)};if(!(r&&r.INTERNAL&&r.INTERNAL.registerService))throw Error("Cannot install Firebase Messaging - be sure to load firebase-app.js first.");r.INTERNAL.registerService("messaging",function(e){return self&&"ServiceWorkerGlobalScope"in self?new T(e):new I(e)},{Messaging:I}),new r.INTERNAL.ErrorFactory("messaging","Messaging",f),new r.INTERNAL.ErrorFactory("messaging","Messaging",f),new r.INTERNAL.ErrorFactory("messaging","Messaging",f)}).call(this)}).call(void 0!==typeof t?t:void 0!==typeof self?self:void 0!==typeof window?window:{}),e.exports=r.messaging}).call(t,function(){return this}())},function(e,t,n){(function(t){var r=n(35);(function(){(function(){for(var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i="undefined"!=typeof window&&window===this?this:"undefined"!=typeof t&&null!=t?t:this,o=["Number","MIN_SAFE_INTEGER"],a=0;a<o.length-1;a++){var s=o[a];s in i||(i[s]={}),i=i[s]}var u=o[o.length-1];-9007199254740991!=i[u]&&n(i,u,{configurable:!0,writable:!0,value:-9007199254740991});var c=this,l=function(e){return void 0!==e},h=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},f=function(e,t){this.code="storage/"+e,this.message="Firebase Storage: "+t,this.serverResponse=null,this.name="FirebaseError"};!function(){function e(){}var t=Error;e.prototype=t.prototype,f.b=t.prototype,f.prototype=new e,f.a=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}();var d=function(){return new f("unknown","An unknown error occurred, please check the error payload for server response.")},p=function(){return new f("canceled","User canceled the upload/download.")},m=function(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},g=function(e,t,n){return new f("invalid-argument","Invalid argument in `"+t+"` at index "+e+": "+n)},v=function(){return new f("app-deleted","The Firebase app was deleted.")},y=function(e,t){return new f("invalid-format","String does not match format '"+e+"': "+t)},b=function(e){throw new f("internal-error","Internal error: "+e)},w="https://firebasestorage.googleapis.com",M=function(e){if("undefined"!=typeof r)return new r.Promise(e);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},E=function(e,t){return-1!==e.indexOf(t)},A=function(e,t,n){function r(){h||(h=!0,t.apply(null,arguments))}function i(t){u=setTimeout(function(){u=null,e(o,2===l)},t)}function o(e,t){if(!h)if(e)r.apply(null,arguments);else if(2===l||c)r.apply(null,arguments);else{64>s&&(s*=2);var n;1===l?(l=2,n=0):n=1e3*(s+Math.random()),i(n)}}function a(e){f||(f=!0,h||(null!==u?(e||(l=2),clearTimeout(u),i(0)):e||(l=1)))}var s=1,u=null,c=!1,l=0,h=!1,f=!1;return i(0),setTimeout(function(){c=!0,a(!0)},n),a},x=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},T=function(e){var t={};return x(e,function(e,n){t[e]=n}),t},_=function(e,t,n,r){this.l=e,this.b={},this.method=t,this.headers={},this.body=null,this.m=n,this.c=this.a=null,this.f=[200],this.i=[],this.timeout=r,this.g=!0},k=function(e){var t=encodeURIComponent,n="?";return x(e,function(e,r){e=t(e)+"="+t(r),n=n+e+"&"}),n=n.slice(0,-1)},S=function(e,t,n,r,i,o,a,s,u,c,l){this.F=e,this.D=t,this.A=n,this.u=r,this.B=i.slice(),this.s=o.slice(),this.m=this.o=this.c=this.b=null,this.g=this.i=!1,this.v=a,this.l=s,this.f=c,this.G=l,this.C=u;var h=this;this.w=M(function(e,t){h.o=e,h.m=t,L(h)})},N=function(e,t,n){this.b=e,this.c=t,this.a=!!n},L=function(e){function t(e,t){function n(e){r.f(e.loaded,e.lengthComputable?e.total:-1)}t?e(!1,new N(!1,null,!0)):(t=new rt,t.h.withCredentials=r.G,r.b=t,null!==r.f&&l(t.h.upload)&&t.h.upload.addEventListener("progress",n),it(t,r.F,r.D,r.u,r.A).then(function(t){null!==r.f&&l(t.h.upload)&&t.h.upload.removeEventListener("progress",n),r.b=null;var i=0===ot(t),o=at(t);if(!(i=!i))var i=E([408,429],o),a=E(r.s,o),i=500<=o&&600>o||i||a;i?(t=2===ot(t),e(!1,new N(!1,null,t))):e(!0,new N(E(r.B,o),t))}))}function n(e,t){var n=r.o;e=r.m;var i=t.c;if(t.b)try{var o=r.v(i,st(i));l(o)?n(o):n()}catch(t){e(t)}else null!==i?(t=d(),o=st(i),t.serverResponse=o,e(r.l?r.l(i,t):t)):(t=t.a?r.g?v():p():new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),e(t))}var r=e;e.i?n(0,new N(!1,null,!0)):e.c=A(t,n,e.C)};S.prototype.a=function(){return this.w},S.prototype.cancel=function(e){this.i=!0,this.g=e||!1,null!==this.c&&(0,this.c)(!1),null!==this.b&&this.b.abort()};var D=function(e,t,n){var i=k(e.b),i=e.l+i,o=e.headers?T(e.headers):{};return null!==t&&0<t.length&&(o.Authorization="Firebase "+t),o["X-Firebase-Storage-Version"]="webjs/"+("undefined"!=typeof r?r.SDK_VERSION:"AppManager"),new S(i,e.method,o,e.body,e.f,e.i,e.m,e.a,e.timeout,e.c,n)},C=function(e){this.b=r.Promise.reject(e)};C.prototype.a=function(){return this.b},C.prototype.cancel=function(){};var I=function(e,t){this.bucket=e,this.path=t},O=function(e){var t=encodeURIComponent;return"/b/"+t(e.bucket)+"/o/"+t(e.path)},R=function(e){var t;try{t=j(e)}catch(t){return new I(e,"")}if(""===t.path)return t;throw new f("invalid-default-bucket","Invalid default bucket '"+e+"'.")},j=function(e){for(var t=null,n=[{M:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,H:{bucket:1,path:3},L:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path=e.path.slice(0,-1))}},{M:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,H:{bucket:1,path:3},L:function(e){e.path=decodeURIComponent(e.path)}}],r=0;r<n.length;r++){var i=n[r],o=i.M.exec(e);if(o){t=o[i.H.bucket],(o=o[i.H.path])||(o=""),t=new I(t,o),i.L(t);break}}if(null==t)throw new f("invalid-url","Invalid URL '"+e+"'.");return t},P=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},U=function(e,t){function n(){delete i.a[r]}var r=e.b;e.b++,e.a[r]=t;var i=e;t.a().then(n,n)},F=function(e){x(e.a,function(e,t){t&&t.cancel(!0)}),e.a={}},z=function(e){return l(e)&&null!==e},B=function(e){return"string"==typeof e||e instanceof String},H=function(){return"undefined"!=typeof Blob},V=function(e,t,n,r,i){this.a=e,this.g=null,null!==this.a&&(e=this.a.options,z(e)&&(e=e.storageBucket||null,this.g=null==e?null:R(e).bucket)),this.s=t,this.o=n,this.l=i,this.m=r,this.c=12e4,this.b=6e4,this.i=new P,this.f=!1},G=function(e){return null!==e.a&&z(e.a.INTERNAL)&&z(e.a.INTERNAL.getToken)?e.a.INTERNAL.getToken().then(function(e){return z(e)?e.accessToken:null},function(){return null}):r.Promise.resolve(null)};V.prototype.bucket=function(){if(this.f)throw v();return this.g};var Y,Q=function(e,t,n){return e.f?new C(v()):(t=e.o(t,n,null===e.a,e.l),U(e.i,t),t)},W=function(e,t){return t=t.split("/").filter(function(e){return 0<e.length}).join("/"),0===e.length?t:e+"/"+t},q=function(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)},X=function(e,t){return t},K=function(e,t,n,r){this.c=e,this.b=t||e,this.writable=!!n,this.a=r||X},Z=null,J=function(){if(Z)return Z;var e=[];e.push(new K("bucket")),e.push(new K("generation")),e.push(new K("metageneration")),e.push(new K("name","fullPath",!0));var t=new K("name");return t.a=function(e,t){return!B(t)||2>t.length?t:q(t)},e.push(t),t=new K("size"),t.a=function(e,t){return z(t)?+t:t},e.push(t),e.push(new K("timeCreated")),e.push(new K("updated")),e.push(new K("md5Hash",null,!0)),e.push(new K("cacheControl",null,!0)),e.push(new K("contentDisposition",null,!0)),e.push(new K("contentEncoding",null,!0)),e.push(new K("contentLanguage",null,!0)),e.push(new K("contentType",null,!0)),e.push(new K("metadata","customMetadata",!0)),e.push(new K("downloadTokens","downloadURLs",!1,function(e,t){if(!(B(t)&&0<t.length))return[];var n=encodeURIComponent;return t.split(",").map(function(t){var r=e.fullPath,r="https://firebasestorage.googleapis.com/v0"+("/b/"+n(e.bucket)+"/o/"+n(r));return t=k({alt:"media",token:t}),r+t})})),Z=e},$=function(e,t){Object.defineProperty(e,"ref",{get:function(){return t.s(t,new I(e.bucket,e.fullPath))}})},ee=function(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.c]=e[o.b])}return JSON.stringify(n)},te=function(e){if(!e||"object"!=typeof e)throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if("object"!=typeof n)throw"Expected object for 'customMetadata' mapping."}else if(null!=n&&"object"==typeof n)throw"Mapping for '"+t+"' cannot be an object."}},ne=function(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].b){r=o;break}if(!(r<=n.length&&n.length<=i))throw r===i?(t=r,r=1===r?"argument":"arguments"):(t="between "+r+" and "+i,r="arguments"),new f("invalid-argument-count","Invalid argument count in `"+e+"`: Expected "+t+" "+r+", received "+n.length+".");for(o=0;o<n.length;o++)try{t[o].a(n[o])}catch(t){if(t instanceof Error)throw g(o,e,t.message);throw g(o,e,t)}},re=function(e,t){var n=this;this.a=function(t){n.b&&!l(t)||e(t)},this.b=!!t},ie=function(e,t){return function(n){e(n),t(n)}},oe=function(e,t){function n(e){if(!("string"==typeof e||e instanceof String))throw"Expected string."}var r;return r=e?ie(n,e):n,new re(r,t)},ae=function(){return new re(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||H()&&e instanceof Blob))throw"Expected Blob or File."})},se=function(){return new re(function(e){if(!(("number"==typeof e||e instanceof Number)&&0<=e))throw"Expected a number 0 or greater."})},ue=function(e,t){return new re(function(t){if(!(null===t||z(t)&&t instanceof Object))throw"Expected an Object.";z(e)&&e(t)},t)},ce=function(){return new re(function(e){if(null!==e&&"function"!=h(e))throw"Expected a Function."},!0)},le=function(e){return function(){var t=[];Array.prototype.push.apply(t,arguments),r.Promise.resolve(!0).then(function(){e.apply(null,t)})}},he=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},fe=function(e,t){return e<t?-1:e>t?1:0};e:{var de=c.navigator;if(de){var pe=de.userAgent;if(pe){Y=pe;break e}}Y=""}var me,ge=function(e,t){var n=ke;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)},ve=-1!=Y.indexOf("Opera"),ye=-1!=Y.indexOf("Trident")||-1!=Y.indexOf("MSIE"),be=-1!=Y.indexOf("Edge"),we=!(-1==Y.indexOf("Gecko")||-1!=Y.toLowerCase().indexOf("webkit")&&-1==Y.indexOf("Edge")||-1!=Y.indexOf("Trident")||-1!=Y.indexOf("MSIE")||-1!=Y.indexOf("Edge")),Me=-1!=Y.toLowerCase().indexOf("webkit")&&-1==Y.indexOf("Edge");e:{var Ee="",Ae=function(){var e=Y;return we?/rv\:([^\);]+)(\)|;)/.exec(e):be?/Edge\/([\d\.]+)/.exec(e):ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Me?/WebKit\/(\S+)/.exec(e):ve?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ae&&(Ee=Ae?Ae[1]:""),ye){var xe,Te=c.document;if(xe=Te?Te.documentMode:void 0,null!=xe&&xe>parseFloat(Ee)){me=String(xe);break e}}me=Ee}var _e=me,ke={},Se=function(e){return ge(e,function(){for(var t=0,n=he(String(_e)).split("."),r=he(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=fe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||fe(0==a[2].length,0==s[2].length)||fe(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})},Ne=function(e){var t=c.BlobBuilder||c.WebKitBlobBuilder;if(l(t)){for(var t=new t,n=0;n<arguments.length;n++)t.append(arguments[n]);return t.getBlob()}if(t=Array.prototype.slice.call(arguments),n=c.BlobBuilder||c.WebKitBlobBuilder,l(n)){for(var n=new n,r=0;r<t.length;r++)n.append(t[r],void 0);t=n.getBlob(void 0)}else{if(!l(c.Blob))throw Error("This browser doesn't seem to support creating Blobs");t=new Blob(t,{})}return t},Le=function(e,t,n){return l(n)||(n=e.size),e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?we&&!Se("13.0")||Me&&!Se("537.1")?(0>t&&(t+=e.size),0>t&&(t=0),0>n&&(n+=e.size),n<t&&(n=t),e.slice(t,n-t)):e.slice(t,n):null},De={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ce=function(e){switch(e){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url]."}},Ie=function(e,t){this.data=e,this.a=t||null},Oe=function(e,t){switch(e){case"raw":return new Ie(Re(t));case"base64":case"base64url":return new Ie(je(e,t));case"data_url":e=new Pe(t);var n;if(e.a)n=je("base64",e.c);else{try{n=decodeURIComponent(e.c)}catch(e){throw y("data_url","Malformed data URL.")}n=Re(n)}return new Ie(n,new Pe(t).b)}throw d()},Re=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(127>=r)t.push(r);else if(2047>=r)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=e.charCodeAt(++n),r=65536|(1023&r)<<10|1023&i;t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)},je=function(e,t){switch(e){case"base64":var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw y(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/"),n||r)throw y(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(t)}catch(t){throw y(e,"Invalid character found")}for(e=new Uint8Array(i.length),t=0;t<i.length;t++)e[t]=i.charCodeAt(t);return e},Pe=function(e){var t=e.match(/^data:([^,]+)?,/);if(null===t)throw y("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(t=t[1]||null,this.a=!1,this.b=null,null!=t){var n=t.length-7;this.b=(this.a=0<=n&&t.indexOf(";base64",n)==n)?t.substring(0,t.length-7):t}this.c=e.substring(e.indexOf(",")+1)},Ue=function(e,t){H()&&e instanceof Blob?(this.j=e,t=e.size,e=e.type):(e instanceof ArrayBuffer?(t?this.j=new Uint8Array(e):(this.j=new Uint8Array(e.byteLength),this.j.set(new Uint8Array(e))),t=this.j.length):(t?this.j=e:(this.j=new Uint8Array(e.length),this.j.set(e)),t=e.length),e=""),this.a=t,this.b=e};Ue.prototype.type=function(){return this.b},Ue.prototype.slice=function(e,t){return H()&&this.j instanceof Blob?(e=Le(this.j,e,t),null===e?null:new Ue(e)):(e=new Uint8Array(this.j.buffer,e,t-e),new Ue(e,!0))};var Fe=function(e){var t=[];if(Array.prototype.push.apply(t,arguments),H())return t=t.map(function(e){return e instanceof Ue?e.j:e}),new Ue(Ne.apply(null,t));var t=t.map(function(e){return B(e)?Oe("raw",e).data:e.j}),n=0;t.forEach(function(e){n+=e.byteLength});var r=new Uint8Array(n),i=0;return t.forEach(function(e){for(var t=0;t<e.length;t++)r[i++]=e[t]}),new Ue(r,!0)},ze=function(e,t,n){"function"==h(e)||z(t)||z(n)?(this.b=e,this.error=t||null,this.a=n||null):(this.b=e.next||null,this.error=e.error||null,this.a=e.complete||null)},Be=function(e){if(!e)throw d()},He=function(e,t){return function(n,r){var i;e:{try{i=JSON.parse(r)}catch(e){i=null;break e}n=typeof i,i="object"==n&&null!=i||"function"==n?i:null}if(null===i)i=null;else{n={type:"file"},r=t.length;for(var o=0;o<r;o++){var a=t[o];n[a.b]=a.a(n,i[a.c])}$(n,e),i=n}return Be(null!==i),i}},Ve=function(e){return function(t,n){return t=401===at(t)?new f("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===at(t)?new f("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===at(t)?new f("unauthorized","User does not have permission to access '"+e.path+"'."):n,
t.serverResponse=n.serverResponse,t}},Ge=function(e){var t=Ve(e);return function(n,r){var i=t(n,r);return 404===at(n)&&(i=new f("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}},Ye=function(e,t,n){var r=O(t);return e=new _(w+"/v0"+r,"GET",He(e,n),e.c),e.a=Ge(t),e},Qe=function(e,t){var n=O(t);return e=new _(w+"/v0"+n,"DELETE",function(){},e.c),e.f=[200,204],e.a=Ge(t),e},We=function(e,t,n){return n=n?T(n):{},n.fullPath=e.path,n.size=t.a,n.contentType||(e=t&&t.type()||"application/octet-stream",n.contentType=e),n},qe=function(e,t,n,r,i){var o,a="/b/"+encodeURIComponent(t.bucket)+"/o",s={"X-Goog-Upload-Protocol":"multipart"};o="";for(var u=0;2>u;u++)o+=Math.random().toString().slice(2);if(s["Content-Type"]="multipart/related; boundary="+o,i=We(t,r,i),u=ee(i,n),r=Fe("--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+o+"\r\nContent-Type: "+i.contentType+"\r\n\r\n",r,"\r\n--"+o+"--"),null===r)throw m();return e=new _(w+"/v0"+a,"POST",He(e,n),e.b),e.b={name:i.fullPath},e.headers=s,e.body=r.j,e.a=Ve(t),e},Xe=function(e,t,n,r){this.current=e,this.total=t,this.I=!!n,this.metadata=r||null},Ke=function(e,t){var n;try{n=e.h.getResponseHeader("X-Goog-Upload-Status")}catch(e){Be(!1)}return Be(E(t||["active"],n)),n},Ze=function(e,t,n,r,i){var o="/b/"+encodeURIComponent(t.bucket)+"/o",a=We(t,r,i);return i={name:a.fullPath},o=w+"/v0"+o,r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.a,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=ee(a,n),e=new _(o,"POST",function(e){Ke(e);var t;try{t=e.h.getResponseHeader("X-Goog-Upload-URL")}catch(e){Be(!1)}return Be(B(t)),t},e.b),e.b=i,e.headers=r,e.body=n,e.a=Ve(t),e},Je=function(e,t,n,r){return e=new _(n,"POST",function(e){var t,n=Ke(e,["active","final"]);try{t=e.h.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Be(!1)}return e=t,isFinite(e)&&(e=String(e)),e="string"==typeof e?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN,Be(!isNaN(e)),new Xe(e,r.a,"final"===n)},e.b),e.headers={"X-Goog-Upload-Command":"query"},e.a=Ve(t),e.g=!1,e},$e=function(e,t,n,r,i,o,a,s){var u=new Xe(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.a),r.a!==u.total)throw new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=a=u.total-u.current;0<i&&(c=Math.min(c,i));var l=u.current;if(i={"X-Goog-Upload-Command":c===a?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},a=r.slice(l,l+c),null===a)throw m();return n=new _(n,"POST",function(e,n){var i,a=Ke(e,["active","final"]),s=u.current+c,l=r.a;return i="final"===a?He(t,o)(e,n):null,new Xe(s,l,"final"===a,i)},t.b),n.headers=i,n.body=a.j,n.c=s||null,n.a=Ve(e),n.g=!1,n},et={STATE_CHANGED:"state_changed"},tt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},nt=function(e){switch(e){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error"}},rt=function(){var e=this;this.h=new XMLHttpRequest,this.b=0,this.c=M(function(t){e.h.addEventListener("abort",function(){e.b=2,t(e)}),e.h.addEventListener("error",function(){e.b=1,t(e)}),e.h.addEventListener("load",function(){t(e)})}),this.a=!1},it=function(e,t,n,r,i){if(e.a)throw b("cannot .send() more than once");return e.a=!0,e.h.open(n,t,!0),z(i)&&x(i,function(t,n){e.h.setRequestHeader(t,n.toString())}),z(r)?e.h.send(r):e.h.send(),e.c},ot=function(e){if(!e.a)throw b("cannot .getErrorCode() before sending");return e.b},at=function(e){if(!e.a)throw b("cannot .getStatus() before sending");try{return e.h.status}catch(e){return-1}},st=function(e){if(!e.a)throw b("cannot .getResponseText() before sending");return e.h.responseText};rt.prototype.abort=function(){this.h.abort()};var ut=function(){},ct=function(e,t,n,r,i,o){this.b=e,this.i=t,this.f=n,this.a=r,this.g=i,this.c=o};e=ct.prototype,e.X=function(){return this.b},e.sa=function(){return this.i},e.pa=function(){return this.f},e.ka=function(){return this.a},e.Y=function(){if(z(this.a)){var e=this.a.downloadURLs;return z(e)&&z(e[0])?e[0]:null}return null},e.ra=function(){return this.g},e.na=function(){return this.c};var lt=function(e,t,n,r,i,o){var a=this;this.O=e,this.c=t,this.o=n,this.f=i,this.i=void 0===o?null:o,this.u=r,this.l=0,this.G=this.w=!1,this.B=[],this.U=262144<this.f.a,this.b="running",this.a=this.A=this.g=null,this.m=1,this.s=function(e){a.a=null,a.m=1,"storage/canceled"===e.code?(a.w=!0,Mt(a)):(a.g=e,wt(a,"error"))},this.N=function(e){a.a=null,"storage/canceled"===e.code?Mt(a):(a.g=e,wt(a,"error"))},this.D=this.v=null,this.F=M(function(e,t){a.v=e,a.D=t,ft(a)}),this.F.then(null,function(){})},ht=function(e){var t=e.l;return function(n){bt(e,t+n)}},ft=function(e){"running"===e.b&&null===e.a&&(e.U?null===e.A?pt(e):e.w?mt(e):e.G?vt(e):gt(e):yt(e))},dt=function(e,t){G(e.c).then(function(n){switch(e.b){case"running":t(n);break;case"canceling":wt(e,"canceled");break;case"pausing":wt(e,"paused")}})},pt=function(e){dt(e,function(t){var n=Ze(e.c,e.o,e.u,e.f,e.i);e.a=Q(e.c,n,t),e.a.a().then(function(t){e.a=null,e.A=t,e.w=!1,Mt(e)},e.s)})},mt=function(e){var t=e.A;dt(e,function(n){var r=Je(e.c,e.o,t,e.f);e.a=Q(e.c,r,n),e.a.a().then(function(t){e.a=null,bt(e,t.current),e.w=!1,t.I&&(e.G=!0),Mt(e)},e.s)})},gt=function(e){var t=262144*e.m,n=new Xe(e.l,e.f.a),r=e.A;dt(e,function(i){var o;try{o=$e(e.o,e.c,r,e.f,t,e.u,n,ht(e))}catch(t){return e.g=t,void wt(e,"error")}e.a=Q(e.c,o,i),e.a.a().then(function(t){33554432>262144*e.m&&(e.m*=2),e.a=null,bt(e,t.current),t.I?(e.i=t.metadata,wt(e,"success")):Mt(e)},e.s)})},vt=function(e){dt(e,function(t){var n=Ye(e.c,e.o,e.u);e.a=Q(e.c,n,t),e.a.a().then(function(t){e.a=null,e.i=t,wt(e,"success")},e.N)})},yt=function(e){dt(e,function(t){var n=qe(e.c,e.o,e.u,e.f,e.i);e.a=Q(e.c,n,t),e.a.a().then(function(t){e.a=null,e.i=t,bt(e,e.f.a),wt(e,"success")},e.s)})},bt=function(e,t){var n=e.l;e.l=t,e.l!==n&&Et(e)},wt=function(e,t){if(e.b!==t)switch(t){case"canceling":e.b=t,null!==e.a&&e.a.cancel();break;case"pausing":e.b=t,null!==e.a&&e.a.cancel();break;case"running":var n="paused"===e.b;e.b=t,n&&(Et(e),ft(e));break;case"paused":e.b=t,Et(e);break;case"canceled":e.g=p(),e.b=t,Et(e);break;case"error":e.b=t,Et(e);break;case"success":e.b=t,Et(e)}},Mt=function(e){switch(e.b){case"pausing":wt(e,"paused");break;case"canceling":wt(e,"canceled");break;case"running":ft(e)}};lt.prototype.C=function(){return new ct(this.l,this.f.a,nt(this.b),this.i,this,this.O)},lt.prototype.P=function(e,t,n,r){function i(e){try{return void a(e)}catch(e){}try{if(s(e),!(l(e.next)||l(e.error)||l(e.complete)))throw""}catch(e){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function o(e){return function(t,n,r){null!==e&&ne("on",e,arguments);var i=new ze(t,n,r);return u.B.push(i),xt(u,i),function(){var e=u.B,t=e.indexOf(i);-1!==t&&e.splice(t,1)}}}var a=ce().a,s=ue(null,!0).a;ne("on",[oe(function(){if("state_changed"!==e)throw"Expected one of the event types: [state_changed]."}),ue(i,!0),ce(),ce()],arguments);var u=this,c=[ue(function(e){if(null===e)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";i(e)}),ce(),ce()];return l(t)||l(n)||l(r)?o(null)(t,n,r):o(c)},lt.prototype.then=function(e,t){return this.F.then(void 0===e?null:e,void 0===t?null:t)},lt.prototype.catch=function(e){return this.then(null,e)};var Et=function(e){At(e),Array.prototype.slice.call(e.B).forEach(function(t){xt(e,t)})},At=function(e){if(null!==e.v){var t=!0;switch(nt(e.b)){case"success":le(e.v.bind(null,e.C()))();break;case"canceled":case"error":le(e.D.bind(null,e.g))();break;default:t=!1}t&&(e.v=null,e.D=null)}},xt=function(e,t){switch(nt(e.b)){case"running":case"paused":null!==t.b&&le(t.b.bind(t,e.C()))();break;case"success":null!==t.a&&le(t.a.bind(t))();break;case"canceled":case"error":null!==t.error&&le(t.error.bind(t,e.g))();break;default:null!==t.error&&le(t.error.bind(t,e.g))()}};lt.prototype.T=function(){ne("resume",[],arguments);var e="paused"===this.b||"pausing"===this.b;return e&&wt(this,"running"),e},lt.prototype.R=function(){ne("pause",[],arguments);var e="running"===this.b;return e&&wt(this,"pausing"),e},lt.prototype.cancel=function(){ne("cancel",[],arguments);var e="running"===this.b||"pausing"===this.b;return e&&wt(this,"canceling"),e};var Tt=function(e,t){this.a=e,this.location=t instanceof I?t:j(t)};Tt.prototype.toString=function(){return ne("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path};var _t=function(e,t){return new Tt(e,t)};e=Tt.prototype,e.J=function(e){ne("child",[oe()],arguments);var t=W(this.location.path,e);return _t(this.a,new I(this.location.bucket,t))},e.ma=function(){var e;if(e=this.location.path,0==e.length)e=null;else{var t=e.lastIndexOf("/");e=-1===t?"":e.slice(0,t)}return null===e?null:_t(this.a,new I(this.location.bucket,e))},e.oa=function(){return _t(this.a,new I(this.location.bucket,""))},e.W=function(){return this.location.bucket},e.ha=function(){return this.location.path},e.la=function(){return q(this.location.path)},e.qa=function(){return this.a.m},e.aa=function(e,t){return ne("put",[ae(),new re(te,!0)],arguments),kt(this,"put"),new lt(this,this.a,this.location,J(),new Ue(e),t)},e.ba=function(e,t,n){ne("putString",[oe(),oe(Ce,!0),new re(te,!0)],arguments),kt(this,"putString");var r=Oe(z(t)?t:"raw",e),i=n?T(n):{};return!z(i.contentType)&&z(r.a)&&(i.contentType=r.a),new lt(this,this.a,this.location,J(),new Ue(r.data,!0),i)},e.Z=function(){ne("delete",[],arguments),kt(this,"delete");var e=this;return G(this.a).then(function(t){var n=Qe(e.a,e.location);return Q(e.a,n,t).a()})},e.K=function(){ne("getMetadata",[],arguments),kt(this,"getMetadata");var e=this;return G(this.a).then(function(t){var n=Ye(e.a,e.location,J());return Q(e.a,n,t).a()})},e.ca=function(e){ne("updateMetadata",[new re(te,void 0)],arguments),kt(this,"updateMetadata");var t=this;return G(this.a).then(function(n){var r=t.a,i=t.location,o=e,a=J(),s=O(i),s=w+"/v0"+s,o=ee(o,a),r=new _(s,"PATCH",He(r,a),r.c);return r.headers={"Content-Type":"application/json; charset=utf-8"},r.body=o,r.a=Ge(i),Q(t.a,r,n).a()})},e.$=function(){return ne("getDownloadURL",[],arguments),kt(this,"getDownloadURL"),this.K().then(function(e){if(e=e.downloadURLs[0],z(e))return e;throw new f("no-download-url","The given file does not have any download URLs.")})};var kt=function(e,t){if(""===e.location.path)throw new f("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},St=function(e,t,n){this.a=new V(e,function(e,t){return new Tt(e,t)},D,this,t),this.c=e,l(n)?this.b=R(n):null!=this.a.bucket()&&(this.b=new I(this.a.bucket(),"")),this.f=new Nt(this)};e=St.prototype,e.da=function(e){if(ne("ref",[oe(function(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null===this.b)throw Error("No Storage Bucket defined in Firebase Options.");var t=new Tt(this.a,this.b);return l(e)?t.J(e):t},e.ea=function(e){return ne("refFromURL",[oe(function(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{j(e)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Tt(this.a,e)},e.ja=function(){return this.a.b},e.ga=function(e){ne("setMaxUploadRetryTime",[se()],arguments),this.a.b=e},e.ia=function(){return this.a.c},e.fa=function(e){ne("setMaxOperationRetryTime",[se()],arguments),this.a.c=e},e.V=function(){return this.c},e.S=function(){return this.f};var Nt=function(e){this.a=e};Nt.prototype.b=function(){var e=this.a.a;e.f=!0,e.a=null,F(e.i)};var Lt=function(e,t,n){Object.defineProperty(e,t,{get:n})};Tt.prototype.toString=Tt.prototype.toString,Tt.prototype.child=Tt.prototype.J,Tt.prototype.put=Tt.prototype.aa,Tt.prototype.putString=Tt.prototype.ba,Tt.prototype.delete=Tt.prototype.Z,Tt.prototype.getMetadata=Tt.prototype.K,Tt.prototype.updateMetadata=Tt.prototype.ca,Tt.prototype.getDownloadURL=Tt.prototype.$,Lt(Tt.prototype,"parent",Tt.prototype.ma),Lt(Tt.prototype,"root",Tt.prototype.oa),Lt(Tt.prototype,"bucket",Tt.prototype.W),Lt(Tt.prototype,"fullPath",Tt.prototype.ha),Lt(Tt.prototype,"name",Tt.prototype.la),Lt(Tt.prototype,"storage",Tt.prototype.qa),St.prototype.ref=St.prototype.da,St.prototype.refFromURL=St.prototype.ea,Lt(St.prototype,"maxOperationRetryTime",St.prototype.ia),St.prototype.setMaxOperationRetryTime=St.prototype.fa,Lt(St.prototype,"maxUploadRetryTime",St.prototype.ja),St.prototype.setMaxUploadRetryTime=St.prototype.ga,Lt(St.prototype,"app",St.prototype.V),Lt(St.prototype,"INTERNAL",St.prototype.S),Nt.prototype.delete=Nt.prototype.b,St.prototype.capi_=function(e){w=e},lt.prototype.on=lt.prototype.P,lt.prototype.resume=lt.prototype.T,lt.prototype.pause=lt.prototype.R,lt.prototype.cancel=lt.prototype.cancel,lt.prototype.then=lt.prototype.then,lt.prototype.catch=lt.prototype.catch,Lt(lt.prototype,"snapshot",lt.prototype.C),Lt(ct.prototype,"bytesTransferred",ct.prototype.X),Lt(ct.prototype,"totalBytes",ct.prototype.sa),Lt(ct.prototype,"state",ct.prototype.pa),Lt(ct.prototype,"metadata",ct.prototype.ka),Lt(ct.prototype,"downloadURL",ct.prototype.Y),Lt(ct.prototype,"task",ct.prototype.ra),Lt(ct.prototype,"ref",ct.prototype.na),et.STATE_CHANGED="state_changed",tt.RUNNING="running",tt.PAUSED="paused",tt.SUCCESS="success",tt.CANCELED="canceled",tt.ERROR="error",De.RAW="raw",De.BASE64="base64",De.BASE64URL="base64url",De.DATA_URL="data_url",function(){function e(e,t,n){return new St(e,new ut,n)}var t={TaskState:tt,TaskEvent:et,StringFormat:De,Storage:St,Reference:Tt};if("undefined"==typeof r)throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");r.INTERNAL.registerService("storage",e,t,void 0,!0)}()}).call(this)}).call(void 0!==typeof t?t:void 0!==typeof self?self:void 0!==typeof window?window:{}),e.exports=r.storage}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;t.loopAsync=function(e,t,n){var r=0,i=!1,o=!1,a=!1,s=void 0,u=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i=!0,o?void(s=t):void n.apply(void 0,t)},c=function c(){if(!i&&(a=!0,!o)){for(o=!0;!i&&r<e&&a;)a=!1,t(r++,c,u);return o=!1,i?void n.apply(void 0,s):void(r>=e&&a&&(i=!0,n()))}};c()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.replaceLocation=t.pushLocation=t.startListener=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var i=n(56);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return i.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return i.go}});var o=n(21),a=(r(o),n(25)),s=n(44),u=n(101),c=n(19),l="hashchange",h=function(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)},f=function(e){return window.location.hash=e},d=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},p=t.getCurrentLocation=function(e,t){var n=e.decodePath(h()),r=(0,c.getQueryStringValueFromPath)(n,t),i=void 0;r&&(n=(0,c.stripQueryStringValueFromPath)(n,t),i=(0,u.readState)(r));var o=(0,c.parsePath)(n);return o.state=i,(0,a.createLocation)(o,void 0,r)},m=void 0,g=(t.startListener=function(e,t,n){var r=function(){var r=h(),i=t.encodePath(r);if(r!==i)d(i);else{var o=p(t,n);if(m&&o.key&&m.key===o.key)return;m=o,e(o)}},i=h(),o=t.encodePath(i);return i!==o&&d(o),(0,s.addEventListener)(window,l,r),function(){return(0,s.removeEventListener)(window,l,r)}},function(e,t,n,r){var i=e.state,o=e.key,a=t.encodePath((0,c.createPath)(e));void 0!==i&&(a=(0,c.addQueryStringValueToPath)(a,n,o),(0,u.saveState)(o,i)),m=e,r(a)});t.pushLocation=function(e,t,n){return g(e,t,n,function(e){h()!==e&&f(e)})},t.replaceLocation=function(e,t,n){return g(e,t,n,function(e){h()!==e&&d(e)})}},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(56);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var i=n(25),o=n(19);t.getCurrentLocation=function(){return(0,i.createLocation)(window.location)},t.pushLocation=function(e){return window.location.href=(0,o.createPath)(e),!1},t.replaceLocation=function(e){return window.location.replace((0,o.createPath)(e)),!1}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),s=i(a),u=n(57),c=n(56),l=r(c),h=n(187),f=r(h),d=n(44),p=n(58),m=i(p),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.canUseDOM?void 0:(0,s.default)(!1);var t=e.forceRefresh||!(0,d.supportsHistory)(),n=t?f:l,r=n.getUserConfirmation,i=n.getCurrentLocation,a=n.pushLocation,c=n.replaceLocation,h=n.go,p=(0,m.default)(o({getUserConfirmation:r},e,{getCurrentLocation:i,pushLocation:a,replaceLocation:c,go:h})),g=0,v=void 0,y=function(e,t){1===++g&&(v=l.startListener(p.transitionTo));var n=t?p.listenBefore(e):p.listen(e);return function(){n(),0===--g&&v()}},b=function(e){return y(e,!0)},w=function(e){return y(e,!1)};return o({},p,{listenBefore:b,listen:w})};t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(21),s=(i(a),n(9)),u=i(s),c=n(57),l=n(44),h=n(186),f=r(h),d=n(58),p=i(d),m="_k",g=function(e){return"/"===e.charAt(0)?e:"/"+e},v={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!"+e},decodePath:function(e){return"!"===e.charAt(0)?e.substring(1):e}},noslash:{encodePath:function(e){return"/"===e.charAt(0)?e.substring(1):e},decodePath:g},slash:{encodePath:g,decodePath:g}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.canUseDOM?void 0:(0,u.default)(!1);var t=e.queryKey,n=e.hashType;"string"!=typeof t&&(t=m),null==n&&(n="slash"),n in v||(n="slash");var r=v[n],i=f.getUserConfirmation,a=function(){return f.getCurrentLocation(r,t)},s=function(e){return f.pushLocation(e,r,t)},h=function(e){return f.replaceLocation(e,r,t)},d=(0,p.default)(o({getUserConfirmation:i},e,{getCurrentLocation:a,pushLocation:s,replaceLocation:h,go:f.go})),g=0,y=void 0,b=function(e,n){1===++g&&(y=f.startListener(d.transitionTo,r,t));var i=n?d.listenBefore(e):d.listen(e);return function(){i(),0===--g&&y()}},w=function(e){return b(e,!0)},M=function(e){return b(e,!1)},E=((0,l.supportsGoWithoutReloadUsingHash)(),function(e){d.go(e)}),A=function(e){return"#"+r.encodePath(d.createHref(e))};return o({},d,{listenBefore:w,listen:M,go:E,createHref:A})};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(21),a=(r(o),n(9)),s=r(a),u=n(25),c=n(19),l=n(58),h=r(l),f=n(43),d=function(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)?e={entries:e}:"string"==typeof e&&(e={entries:[e]});var t=function(){var e=m[g],t=(0,c.createPath)(e),n=void 0,r=void 0;e.key&&(n=e.key,r=b(n));var o=(0,c.parsePath)(t);return(0,u.createLocation)(i({},o,{state:r}),void 0,n)},n=function(e){var t=g+e;return t>=0&&t<m.length},r=function(e){if(e&&n(e)){g+=e;var r=t();l.transitionTo(i({},r,{action:f.POP}))}},o=function(e){g+=1,g<m.length&&m.splice(g),m.push(e),y(e.key,e.state)},a=function(e){m[g]=e,y(e.key,e.state)},l=(0,h.default)(i({},e,{getCurrentLocation:t,pushLocation:o,replaceLocation:a,go:r})),p=e,m=p.entries,g=p.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){return(0,u.createLocation)(e)}),null==g?g=m.length-1:g>=0&&g<m.length?void 0:(0,s.default)(!1);var v=d(m),y=function(e,t){return v[e]=t},b=function(e){return v[e]};return i({},l,{canGo:n})};t.default=p},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function o(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(311),u=n(5);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=u({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(i),o,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=u(n,t);var i=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return o(n,t);if(Array.isArray(r)){var a=[];return r.slice().forEach(function(e){void 0!==e&&a.push(i(n,e,a.length))}),a.join("&")}return o(n,t)+"="+o(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,o){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||r[a[s]]||o&&o[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+h>=1?f/u:f*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*m}},function(e,t,n){(function(t){e.exports=function(e){function n(e,t,n,i,o,a){if("function"==typeof o&&(a=o,o=void 0),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var s;try{s=r(e,t,n,i,o)}catch(e){return a(e)}a(void 0,s)})}function r(n,r,i,o,a){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0)throw new TypeError("Bad key length");a=a||"sha1",t.isBuffer(n)||(n=new t(n)),t.isBuffer(r)||(r=new t(r));var s,u,c,l=1,h=new t(o),f=new t(r.length+4);r.copy(f,0,0,r.length);for(var d=1;d<=l;d++){f.writeUInt32BE(d,r.length);var p=e.createHmac(a,n).update(f).digest();if(!s&&(s=p.length,c=new t(s),l=Math.ceil(o/s),u=o-(l-1)*s,o>(Math.pow(2,32)-1)*s))throw new TypeError("keylen exceeds maximum length");p.copy(c,0,0,s);for(var m=1;m<i;m++){p=e.createHmac(a,n).update(p).digest();for(var g=0;g<s;g++)c[g]^=p[g]}var v=(d-1)*s,y=d==l?u:s;c.copy(h,v,0,y)}return h}return{pbkdf2:n,pbkdf2Sync:r}}}).call(t,n(4).Buffer)},function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=n(107);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(e===!0)return o;if(e===!1)return a;if(0===e)return c;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"==typeof u){var c=new i(u.bind(s));return void c.then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){c=!1,s._10=null,s._97=null}function i(e){function t(t){(e.allRejections||a(h[t].error,e.whitelist||u))&&(h[t].displayId=l++,e.onUnhandled?(h[t].logged=!0,e.onUnhandled(h[t].displayId,h[t].error)):(h[t].logged=!0,o(h[t].displayId,h[t].error)))}function n(t){h[t].logged&&(e.onHandled?e.onHandled(h[t].displayId,h[t].error):h[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[t].displayId+".")))}e=e||{},c&&r(),c=!0;var i=0,l=0,h={};s._10=function(e){2===e._81&&h[e._72]&&(h[e._72].logged?n(e._72):clearTimeout(h[e._72].timeout),delete h[e._72])},s._97=function(e,n){0===e._45&&(e._72=i++,h[e._72]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._72),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(107),u=[ReferenceError,TypeError,RangeError],c=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";function r(e,t,n,r,i){}e.exports=r},function(e,t,n){"use strict";var r=n(10),i=n(1);e.exports=function(){function e(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=n(10),i=n(1),o=(n(2),n(200)),a=n(197);e.exports=function(e,t){function n(e){var t=e&&(T&&e[T]||e[_]);if("function"==typeof t)return t}function s(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function c(e){function n(n,r,a,s,c,l,h){if(s=s||k,l=l||a,h!==o)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[a]?n?new u(null===r[a]?"The "+c+" `"+l+"` is marked as required "+("in `"+s+"`, but its value is `null`."):"The "+c+" `"+l+"` is marked as required in "+("`"+s+"`, but its value is `undefined`.")):null:e(r,a,s,c,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function l(e){function t(t,n,r,i,o,a){var s=t[n],c=E(s);if(c!==e){var l=A(s);return new u("Invalid "+i+" `"+o+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return c(t)}function h(){return c(r.thatReturnsNull)}function f(e){function t(t,n,r,i,a){if("function"!=typeof e)return new u("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var c=E(s);return new u("Invalid "+i+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<s.length;l++){var h=e(s,l,r,i,a+"["+l+"]",o);if(h instanceof Error)return h}return null}return c(t)}function d(){function t(t,n,r,i,o){var a=t[n];if(!e(a)){var s=E(a);return new u("Invalid "+i+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return c(t)}function p(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||k,s=x(t[n]);return new u("Invalid "+i+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+a+"`."))}return null}return c(t)}function m(e){function t(t,n,r,i,o){for(var a=t[n],c=0;c<e.length;c++)if(s(a,e[c]))return null;var l=JSON.stringify(e);return new u("Invalid "+i+" `"+o+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return Array.isArray(e)?c(t):r.thatReturnsNull}function g(e){function t(t,n,r,i,a){if("function"!=typeof e)return new u("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],c=E(s);if("object"!==c)return new u("Invalid "+i+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected an object."));for(var l in s)if(s.hasOwnProperty(l)){var h=e(s,l,r,i,a+"."+l,o);if(h instanceof Error)return h}return null}return c(t)}function v(e){function t(t,n,r,i,a){for(var s=0;s<e.length;s++){var c=e[s];if(null==c(t,n,r,i,a,o))return null}return new u("Invalid "+i+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?c(t):r.thatReturnsNull}function y(){function e(e,t,n,r,i){return w(e[t])?null:new u("Invalid "+r+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return c(e)}function b(e){function t(t,n,r,i,a){var s=t[n],c=E(s);if("object"!==c)return new u("Invalid "+i+" `"+a+"` of type `"+c+"` "+("supplied to `"+r+"`, expected `object`."));for(var l in e){var h=e[l];if(h){var f=h(s,l,r,i,a+"."+l,o);if(f)return f}}return null}return c(t)}function w(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(w);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!w(i.value))return!1;
}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!w(a[1]))return!1}return!0;default:return!1}}function M(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function E(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":M(t,e)?"symbol":t}function A(e){var t=E(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var T="function"==typeof Symbol&&Symbol.iterator,_="@@iterator",k="<<anonymous>>",S={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:h(),arrayOf:f,element:d(),instanceOf:p,node:y(),objectOf:g,oneOf:m,oneOfType:v,shape:b};return u.prototype=Error.prototype,S.checkPropTypes=a,S.PropTypes=S,S}},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){!function(t,r){e.exports=r(n(182))}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(2),o=r(i),a=(n(3),n(4)),s=n(5),u=r(s),c=n(6),l=r(c),h=n(7),f=r(h),d=n(8),p=r(d),m=n(9),g=r(m),v=n(10),y=r(v),b=n(11),w=r(b),M=n(12),E=r(M),A=n(13),x=r(A),T=n(14),_=r(T),k=n(15),S=r(k),N=n(16),L=r(N),D=n(17),C=r(D),I=n(18),O=r(I),R=n(20),j=r(R),P=n(21),U=r(P),F=n(22),z=r(F),B=n(23),H=r(B),V=n(24),G=r(V),Y=n(25),Q=r(Y);e.exports=function(){function e(e){return function(){var n=new Map,r=new Map,i=new WeakMap;return{name:e.name,storage:o.default.storage,database:o.default.database,auth:o.default.auth,messaging:o.default.messaging,app:o.default.app,initializedApp:e,listenTo:function(e,t){return g.default.call(this,e,t,"listenTo",{db:this.database(this.initializedApp),refs:n,listeners:r,syncs:i})},bindToState:function(e,t){return g.default.call(this,e,t,"bindToState",{db:this.database(this.initializedApp),refs:n,listeners:r})},syncState:function(e,t){return p.default.call(this,e,t,{db:this.database(this.initializedApp),refs:n,listeners:r,syncs:i})},fetch:function(e,t){return(0,l.default)(e,t,this.database(this.initializedApp))},post:function(e,t){return(0,f.default)(e,t,this.database(this.initializedApp))},update:function(e,t){return(0,y.default)(e,t,{db:this.database(this.initializedApp)})},push:function(e,t){return(0,u.default)(e,t,this.database(this.initializedApp))},removeBinding:function(e){(0,E.default)(e,{refs:n,listeners:r,syncs:i})},remove:function(e,t){return(0,x.default)(e,this.database(this.initializedApp),t)},reset:function(){return(0,w.default)({refs:n,listeners:r,syncs:i})},authWithPassword:function(e,t){return(0,L.default)(e,t,this.auth(this.initializedApp))},authWithCustomToken:function(e,t){return(0,C.default)(e,t,this.auth(this.initializedApp))},authWithOAuthPopup:function(e,t,n){return(0,O.default)(e,t,n,this.auth(this.initializedApp))},authWithOAuthRedirect:function(e,t,n){return(0,z.default)(e,t,n,this.auth(this.initializedApp))},authWithOAuthToken:function(e,t,n,r){return(0,U.default)(e,t,n,r,this.auth(this.initializedApp))},authGetOAuthRedirectResult:function(e){return(0,j.default)(e,this.auth(this.initializedApp))},onAuth:function(e){return(0,H.default)(e,this.auth(this.initializedApp))},unauth:function(e){return(0,G.default)(this.auth(this.initializedApp))},getAuth:function(){return(0,Q.default)(this.auth(this.initializedApp))},createUser:function(e,t){return(0,S.default)(e,t,this.auth(this.initializedApp))},resetPassword:function(e,t){return(0,_.default)(e,t,this.auth(this.initializedApp))},delete:function(e){var n=this;return delete t[this.name],this.initializedApp.delete().then(function(){return n.reset(),"function"!=typeof e?o.default.Promise.resolve(!0):void e.call(null,!0)})}}}()}var t={};return{createClass:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[DEFAULT]";if("undefined"!=typeof t[r])return t[r];(0,a._validateConfig)(n);var i=o.default.initializeApp(n,r);return t[r]=e(i),t[r]}}}()},function(t,n){t.exports=e},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"[object Object]"===Object.prototype.toString.call(e)},i=function(e){var t=[];return e.forEach(function(e){var n=e.val();r(n)&&(n.key=e.key),t.push(n)}),t},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isNullable,r=t.asString,o=t.asArray,a=e.val();return r===!0&&null===a?"":n===!0&&null===a?null:o===!0?i(e):null===a?{}:a},a=function(e,t,n){var r=n.get(e)||[];r.push(t),n.set(e,r)},s=function(e,t){var n=new Error("REBASE: "+e);throw n.code=t,n},u=function(e){this.setState(e)},c=function(e,t,n,r){return{endpoint:e,method:t,id:n,context:r}},l=function(e,t){var n={limitToFirst:!0,limitToLast:!0,orderByChild:!0,startAt:!0,endAt:!0,equalTo:!0};for(var r in t)t.hasOwnProperty(r)&&(e=n[r]?e[r](t[r]):e[r]());return e},h=function(e,t){var n=0,r=e+t+Date.now();if(0==r.length)return n;for(var i=0;i<r.length;i++){var o=r.charCodeAt(i);n=(n<<5)-n+o,n&=n}return n},f=function(e,t){return Array.isArray(e)?e.forEach(function(e){t.addScope(e)}):t.addScope(e),t},d=function(e,t,n){n.set(e,t)},p=function(e,t){t&&"function"==typeof e&&e(t)},m=function(e,t,n,i){if(Array.isArray(t)&&i){var o=t.reduce(function(e,t){return e?e:r(t)&&t.hasOwnProperty("key")},!1);o&&(t=t.reduce(function(e,t){return e[t.key]=t,e},{}))}e.set(t,n)},g=function e(t,n,i,o){if(r(o))for(var a in o)".sv"!==a?e(t.child(a),n,i,o[a]):m(t,o,p.bind(null,n),i);else m(t,o,p.bind(null,n),i)},v=function(e,t,r,i,a){i=l(i,r.queries),a.set(e,i.on("value",function(e){var i=o(e,r);if("listenTo"===t)r.then.call(r.context,i);else if("syncState"===t)r.reactSetState.call(r.context,n({},r.state,i)),r.then&&r.then.called===!1&&(r.then.call(r.context),r.then.called=!0);else if("bindToState"===t){var a=n({},r.state,i);u.call(r.context,a),r.then&&r.then.called===!1&&(r.then.call(r.context),r.then.called=!0)}},r.onFailure))};t._addScope=f,t._createHash=h,t._addQueries=l,t._returnRef=c,t._setState=u,t._throwError=s,t._prepareData=o,t._toArray=i,t._isObject=r,t._addSync=a,t._firebaseRefsMixin=d,t._updateSyncState=g,t._addListener=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._validateEndpoint=t._validateConfig=t.optionValidators=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(3),o={notObject:function(e){(0,i._isObject)(e)||(0,i._throwError)("The options argument must be an object. Instead, got "+e,"INVALID_OPTIONS")},context:function(e){this.notObject(e),e.context&&(0,i._isObject)(e.context)||this.makeError("context","object",e.context)},state:function(e){this.notObject(e),e.state&&"string"==typeof e.state||this.makeError("state","string",e.state)},then:function(e){this.notObject(e),"undefined"!=typeof e.then&&"function"==typeof e.then||this.makeError("then","function",e.then)},data:function(e){this.notObject(e),"undefined"==typeof e.data&&this.makeError("data","ANY",e.data)},query:function(e){this.notObject(e);var t=["limitToFirst","limitToLast","orderByChild","orderByValue","orderByKey","orderByPriority","startAt","endAt","equalTo"],n=e.queries;for(var r in n)n.hasOwnProperty(r)&&t.indexOf(r)===-1&&(0,i._throwError)("The query field must contain valid Firebase queries.  Expected one of ["+t.join(", ")+"]. Instead, got "+r,"INVALID_OPTIONS")},asString:function(e){this.notObject(e),e.asString!==!0||e.isNullable!==!0&&e.asArray!==!0||(0,i._throwError)("The asString option must not be used in conjuntion with the options isNullable or asArray","INVALID_OPTIONS")},makeError:function(e,t,n){(0,i._throwError)("The options argument must contain a "+e+" property of type "+t+". Instead, got "+n,"INVALID_OPTIONS")}},a=function(e){var t,n="The Firebase endpoint you are trying to listen to";"string"!=typeof e?t=n+" must be a string. Instead, got "+e:0===e.length?t=n+" must be a non-empty string. Instead, got "+e:e.length>768?t=n+" is too long to be stored in Firebase. It must be less than 768 characters.":/^$|[\[\]\#\$]|.{1}[\.]/.test(e)&&(t=n+' in invalid. Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]".'),"undefined"!=typeof t&&(0,i._throwError)(t,"INVALID_ENDPOINT")},s=function(e){var t,n="Rebase.createClass failed.";"object"!==("undefined"==typeof e?"undefined":r(e))?t=n+" to migrate from 2.x.x to 3.x.x, the config must be an object. See: https://firebase.google.com/docs/web/setup#add_firebase_to_your_app":(!e||arguments.length>1)&&(t=n+" expects 1 argument."),"undefined"!=typeof t&&(0,i._throwError)(t,"INVALID_CONFIG")};t.optionValidators=o,t._validateConfig=s,t._validateEndpoint=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,a._validateEndpoint)(e),a.optionValidators.data(t);var r,i=n.ref(e);return r=t.then?i.push(t.data,t.then):i.push(t.data)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(2),a=(r(o),n(4))},function(e,t,n){"use strict";function r(e,t,n){(0,i._validateEndpoint)(e),i.optionValidators.context(t),i.optionValidators.asString(t),t.queries&&i.optionValidators.query(t);var r=n.ref(e);return r=(0,o._addQueries)(r,t.queries),r.once("value").then(function(e){var n=(0,o._prepareData)(e,t);return t.then&&t.then.call(t.context,n),n},function(e){return t.onFailure&&"function"==typeof t.onFailure?void t.onFailure.call(t.context,e):a.Promise.reject(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(4),o=n(3),a=n(2)},function(e,t,n){"use strict";function r(e,t,n){(0,i._validateEndpoint)(e),i.optionValidators.data(t);var r=n.ref(e);return t.then?r.set(t.data,t.then):r.set(t.data)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=(n(2),n(4))},function(e,t,n){"use strict";function r(e,t,n){(0,i._validateEndpoint)(e),i.optionValidators.context(t),i.optionValidators.state(t),i.optionValidators.asString(t),t.queries&&i.optionValidators.query(t),t.then&&(t.then.called=!1),t.onFailure=t.onFailure?t.onFailure.bind(t.context):function(){},t.keepKeys=t.keepKeys&&t.asArray,r.called!==!0&&(r.reactSetState=t.context.setState,r.called=!0),t.reactSetState=r.reactSetState;var a=n.db.ref(e),s=(0,o._createHash)(e,"syncState");(0,o._firebaseRefsMixin)(s,a,n.refs),(0,o._addListener)(s,"syncState",t,a,n.listeners);var u={id:s,updateFirebase:o._updateSyncState.bind(null,a,t.onFailure,t.keepKeys),stateKey:t.state};return(0,o._addSync)(t.context,u,n.syncs),t.context.setState=function(e,i){var o=n.syncs.get(this);if(!o||0===o.length)return r.reactSetState.call(this,e,i);var a=o.map(function(e){return{key:e.stateKey,update:e.updateFirebase}});a.forEach(function(t){e.hasOwnProperty(t.key)&&t.update(e[t.key])});var s=Object.keys(e);s.forEach(function(n){if(!a.find(function(e){return e.key===n})){var o={};o[n]=e[n],r.reactSetState.call(t.context,o,i)}})},(0,o._returnRef)(e,"syncState",s,t.context)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(4),o=n(3)},function(e,t,n){"use strict";function r(e,t,n,r){(0,i._validateEndpoint)(e),i.optionValidators.context(t),i.optionValidators.asString(t),"listenTo"===n&&i.optionValidators.then(t),"bindToState"===n&&i.optionValidators.state(t),t.queries&&i.optionValidators.query(t),t.then&&(t.then.called=!1);var a=(0,o._createHash)(e,n),s=r.db.ref(e);return(0,o._firebaseRefsMixin)(a,s,r.refs),(0,o._addListener)(a,n,t,s,r.listeners),(0,o._returnRef)(e,n,a,t.context)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(4),o=n(3)},function(e,t,n){"use strict";function r(e,t,n){(0,i._validateEndpoint)(e),i.optionValidators.data(t);var r=n.db.ref(e);return t.then?r.update(t.data,t.then):r.update(t.data)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(4)},function(e,t){"use strict";function n(e){return e.refs.forEach(function(t,n){t.off("value",e.listeners.get(n))}),e.listeners=new Map,e.refs=new Map,e.syncs=new WeakMap,null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e,t){var n=(e.endpoint,e.method,e.id),r=e.context,o=t.refs,a=t.listeners,s=t.syncs,u=o.get(n),c=a.get(n);if("undefined"==typeof u){var l="Unexpected value. Ref was either never bound or has already been unbound.";(0,i._throwError)(l,"UNBOUND_ENDPOINT_VARIABLE")}u.off("value",c),o.delete(n),a.delete(n);var h=s.get(r);if(h&&h.length>0){var f=h.findIndex(function(e,t){return e.id===n});f!==-1&&(h.splice(f,1),s.set(r,h))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(3)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return t.ref().child(e).remove(n)}},function(e,t){"use strict";function n(e,t,n){var r=e.email;return n.sendPasswordResetEmail(r).then(function(){return t(null)}).catch(function(e){return t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t,n){var r=e.email,i=e.password;return n.createUserWithEmailAndPassword(r,i).then(function(e){return t(null,e)}).catch(function(e){return t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t,n){var r=e.email,i=e.password;return n.signInWithEmailAndPassword(r,i).then(function(e){return t(null,e)}).catch(function(e){return t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t,n){return n.signInWithCustomToken(e).then(function(e){return t(null,e)}).catch(function(e){return t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){n=n||{};var i=(0,a.default)(e,n);return r.signInWithPopup(i).then(function(e){return t(null,e)}).catch(function(e){return t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(19),a=r(o)},function(e,t,n){"use strict";function r(e){var t=new c.auth.FacebookAuthProvider;return e.scope&&(t=(0,u._addScope)(e.scope,t)),t}function i(){return new c.auth.TwitterAuthProvider}function o(e){var t=new c.auth.GithubAuthProvider;return e.scope&&(t=(0,u._addScope)(e.scope,t)),t}function a(e){var t=new c.auth.GoogleAuthProvider;return e.scope&&(t=(0,u._addScope)(e.scope,t)),t}function s(e,t){switch(e){case"twitter":return i();case"google":return a(t);case"facebook":return r(t);case"github":return o(t);default:(0,u._throwError)("Expected auth provider requested. Available auth providers: facebook,twitter,github, google","UNKNOWN AUTH PROVIDER")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var u=n(3),c=n(2)},function(e,t){"use strict";function n(e,t){return t.getRedirectResult().then(function(t){return e(null,t)}).catch(function(t){return e(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n,r,o){r=r||{};var a=(0,s.default)(e,r),u=a.credential.apply(a,[t].concat(i(r.providerOptions)));return o.signInWithCredential(u).then(function(e){return n(null,e)}).catch(function(e){return n(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(19),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){n=n||{};var i=(0,a.default)(e,n);return r.signInWithRedirect(i).then(function(){return t(null)}).catch(function(e){return t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(19),a=r(o)},function(e,t){"use strict";function n(e,t){return t.onAuthStateChanged(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e){return e.signOut()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e){return e.currentUser}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])})},function(e,t,n){e.exports=n(201)},function(e,t,n){"use strict";e.exports=n(217)},function(e,t){"use strict";var n={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=n},function(e,t,n){"use strict";var r=n(6),i=n(99),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case"topCompositionStart":return _.compositionStart;case"topCompositionEnd":return _.compositionEnd;case"topCompositionUpdate":return _.compositionUpdate}}function a(e,t){return"topKeyDown"===e&&t.keyCode===b}function s(e,t){switch(e){case"topKeyUp":return y.indexOf(t.keyCode)!==-1;case"topKeyDown":return t.keyCode!==b;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,r){var i,c;if(w?i=o(e):S?s(e,n)&&(i=_.compositionEnd):a(e,n)&&(i=_.compositionStart),!i)return null;A&&(S||i!==_.compositionStart?i===_.compositionEnd&&S&&(c=S.getData()):S=m.getPooled(r));var l=g.getPooled(i,t,n,r);if(c)l.data=c;else{var h=u(n);null!==h&&(l.data=h)}return d.accumulateTwoPhaseDispatches(l),l}function l(e,t){switch(e){case"topCompositionEnd":return u(t);case"topKeyPress":var n=t.which;return n!==x?null:(k=!0,T);case"topTextInput":var r=t.data;return r===T&&k?null:r;default:return null}}function h(e,t){if(S){if("topCompositionEnd"===e||!w&&s(e,t)){var n=S.getData();return m.release(S),S=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!i(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return A?null:t.data;default:return null}}function f(e,t,n,r){var i;if(i=E?l(e,n):h(e,n),!i)return null;var o=v.getPooled(_.beforeInput,t,n,r);return o.data=i,d.accumulateTwoPhaseDispatches(o),o}var d=n(37),p=n(8),m=n(212),g=n(249),v=n(252),y=[9,13,27,32],b=229,w=p.canUseDOM&&"CompositionEvent"in window,M=null;p.canUseDOM&&"documentMode"in document&&(M=document.documentMode);var E=p.canUseDOM&&"TextEvent"in window&&!M&&!r(),A=p.canUseDOM&&(!w||M&&M>8&&M<=11),x=32,T=String.fromCharCode(x),_={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},k=!1,S=null,N={eventTypes:_,extractEvents:function(e,t,n,r){return[c(e,t,n,r),f(e,t,n,r)]}};e.exports=N},function(e,t,n){"use strict";var r=n(109),i=n(8),o=(n(11),n(169),n(258)),a=n(176),s=n(179),u=(n(2),s(function(e){return a(e)})),c=!1,l="cssFloat";if(i.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(e){c=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var f={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];null!=i&&(n+=u(r)+":",n+=o(r,i,t)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=o(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=l),s)i[a]=s;else{var u=c&&r.shorthandPropertyExpansions[a];if(u)for(var h in u)i[h]="";else i[a]=""}}}};e.exports=f},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=x.getPooled(S.change,L,e,T(e));w.accumulateTwoPhaseDispatches(t),A.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){N=e,L=t,N.attachEvent("onchange",i)}function s(){N&&(N.detachEvent("onchange",i),N=null,L=null)}function u(e,t){if("topChange"===e)return t}function c(e,t,n){"topFocus"===e?(s(),a(t,n)):"topBlur"===e&&s()}function l(e,t){N=e,L=t,D=e.value,C=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(N,"value",R),N.attachEvent?N.attachEvent("onpropertychange",f):N.addEventListener("propertychange",f,!1)}function h(){N&&(delete N.value,N.detachEvent?N.detachEvent("onpropertychange",f):N.removeEventListener("propertychange",f,!1),N=null,L=null,D=null,C=null)}function f(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==D&&(D=t,i(e))}}function d(e,t){if("topInput"===e)return t}function p(e,t,n){"topFocus"===e?(h(),l(t,n)):"topBlur"===e&&h()}function m(e,t){if(("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)&&N&&N.value!==D)return D=N.value,L}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t){if("topClick"===e)return t}function y(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var b=n(36),w=n(37),M=n(8),E=n(6),A=n(14),x=n(17),T=n(73),_=n(74),k=n(126),S={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},N=null,L=null,D=null,C=null,I=!1;M.canUseDOM&&(I=_("change")&&(!document.documentMode||document.documentMode>8));var O=!1;M.canUseDOM&&(O=_("input")&&(!document.documentMode||document.documentMode>11));var R={get:function(){return C.get.call(this)},set:function(e){D=""+e,C.set.call(this,e)}},j={eventTypes:S,extractEvents:function(e,t,n,i){var o,a,s=t?E.getNodeFromInstance(t):window;if(r(s)?I?o=u:a=c:k(s)?O?o=d:(o=m,a=p):g(s)&&(o=v),o){var l=o(e,t);if(l){var h=x.getPooled(S.change,l,n,i);return h.type="change",w.accumulateTwoPhaseDispatches(h),h}}a&&a(e,s,t),"topBlur"===e&&y(t,s)}};e.exports=j},function(e,t,n){"use strict";var r=n(3),i=n(26),o=n(8),a=n(172),s=n(10),u=(n(1),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=u},function(e,t){"use strict";var n=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=n},function(e,t,n){"use strict";var r=n(37),i=n(6),o=n(46),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u;if(s.window===s)u=s;else{var c=s.ownerDocument;u=c?c.defaultView||c.parentWindow:window}var l,h;if("topMouseOut"===e){l=t;var f=n.relatedTarget||n.toElement;h=f?i.getClosestInstanceFromNode(f):null}else l=null,h=t;if(l===h)return null;var d=null==l?u:i.getNodeFromInstance(l),p=null==h?u:i.getNodeFromInstance(h),m=o.getPooled(a.mouseLeave,l,n,s);m.type="mouseleave",m.target=d,m.relatedTarget=p;var g=o.getPooled(a.mouseEnter,h,n,s);return g.type="mouseenter",g.target=p,g.relatedTarget=d,r.accumulateEnterLeaveDispatches(m,g,l,h),[m,g]}};e.exports=s},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(5),o=n(22),a=n(124);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(27),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute("value"):void("number"!==e.type||e.hasAttribute("value")===!1?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t))}}};e.exports=c},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}var i=n(28),o=n(125),a=(n(65),n(75)),s=n(128),u=(n(2),{instantiateChildren:function(e,t,n,i){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r,s,u,c,l,h){if(t||e){var f,d;for(f in t)if(t.hasOwnProperty(f)){d=e&&e[f];var p=d&&d._currentElement,m=t[f];if(null!=d&&a(p,m))i.receiveComponent(d,m,s,l),t[f]=d;else{d&&(r[f]=i.getHostNode(d),i.unmountComponent(d,!1));var g=o(m,!0);t[f]=g;var v=i.mountComponent(g,s,u,c,l,h);n.push(v)}}for(f in e)!e.hasOwnProperty(f)||t&&t.hasOwnProperty(f)||(d=e[f],r[f]=i.getHostNode(d),i.unmountComponent(d,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}});e.exports=u}).call(t,n(16))},function(e,t,n){"use strict";var r=n(61),i=n(222),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";function r(e){}function i(e,t){}function o(e){return!(!e.prototype||!e.prototype.isReactComponent)}function a(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=n(3),u=n(5),c=n(31),l=n(67),h=n(18),f=n(68),d=n(38),p=(n(11),n(119)),m=n(28),g=n(24),v=(n(1),n(55)),y=n(75),b=(n(2),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return i(e,t),t};var w=1,M={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,u){this._context=u,this._mountOrder=w++,this._hostParent=t,this._hostContainerInfo=n;var l,h=this._currentElement.props,f=this._processContext(u),p=this._currentElement.type,m=e.getUpdateQueue(),v=o(p),y=this._constructComponent(v,h,f,m);v||null!=y&&null!=y.render?a(p)?this._compositeType=b.PureClass:this._compositeType=b.ImpureClass:(l=y,i(p,l),null===y||y===!1||c.isValidElement(y)?void 0:s("105",p.displayName||p.name||"Component"),y=new r(p),this._compositeType=b.StatelessFunctional);y.props=h,y.context=f,y.refs=g,y.updater=m,this._instance=y,d.set(y,this);var M=y.state;void 0===M&&(y.state=M=null),"object"!=typeof M||Array.isArray(M)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var E;return E=y.unstable_handleError?this.performInitialMountWithErrorHandling(l,t,n,e,u):this.performInitialMount(l,t,n,e,u),y.componentDidMount&&e.getReactMountReady().enqueue(y.componentDidMount,y),E},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance,a=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());
var s=p.getType(e);this._renderedNodeType=s;var u=this._instantiateReactComponent(e,s!==p.EMPTY);this._renderedComponent=u;var c=m.mountComponent(u,r,t,n,this._processChildContext(i),a);return c},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";f.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var i in t)i in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",i);return u({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o=this._instance;null==o?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===i?a=o.context:(a=this._processContext(i),u=!0);var c=t.props,l=n.props;t!==n&&(u=!0),u&&o.componentWillReceiveProps&&o.componentWillReceiveProps(l,a);var h=this._processPendingState(l,a),f=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?f=o.shouldComponentUpdate(l,h,a):this._compositeType===b.PureClass&&(f=!v(c,l)||!v(o.state,h))),this._updateBatchNumber=null,f?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,l,h,a,e,i)):(this._currentElement=n,this._context=i,o.props=l,o.state=h,o.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=u({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var s=r[a];u(o,"function"==typeof s?s.call(n,o,e,t):s)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,u,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,s=c.state,u=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,u),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),o=0;if(y(r,i))m.receiveComponent(n,i,e,this._processChildContext(t));else{var a=m.getHostNode(n);m.unmountComponent(n,!1);var s=p.getType(i);this._renderedNodeType=s;var u=this._instantiateReactComponent(i,s!==p.EMPTY);this._renderedComponent=u;var c=m.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o);this._replaceNodeWithMarkup(a,c,n)}},_replaceNodeWithMarkup:function(e,t,n){l.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==b.StatelessFunctional){h.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{h.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||c.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),i=n.refs===g?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===b.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=M},function(e,t,n){"use strict";var r=n(6),i=n(230),o=n(118),a=n(28),s=n(14),u=n(243),c=n(259),l=n(123),h=n(266);n(2);i.inject();var f={findDOMNode:c,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:h};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=l(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a});e.exports=f},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(q[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?m("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&H in t.dangerouslySetInnerHTML?void 0:m("61")),null!=t.style&&"object"!=typeof t.style?m("62",r(e)):void 0)}function o(e,t,n,r){if(!(r instanceof I)){var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===G,s=o?i._node:i._ownerDocument;U(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;A.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;S.postMountWrapper(e)}function u(){var e=this;D.postMountWrapper(e)}function c(){var e=this;N.postMountWrapper(e)}function l(){var e=this;e._rootNodeID?void 0:m("63");var t=P(e);switch(t?void 0:m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[T.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&e._wrapperState.listeners.push(T.trapBubbledEvent(n,Y[n],t));break;case"source":e._wrapperState.listeners=[T.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[T.trapBubbledEvent("topError","error",t),T.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[T.trapBubbledEvent("topReset","reset",t),T.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[T.trapBubbledEvent("topInvalid","invalid",t)]}}function h(){L.postUpdateWrapper(this)}function f(e){Z.call(K,e)||(X.test(e)?void 0:m("65",e),K[e]=!0)}function d(e,t){return e.indexOf("-")>=0||null!=t.is}function p(e){var t=e.type;f(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=n(3),g=n(5),v=n(205),y=n(207),b=n(26),w=n(62),M=n(27),E=n(111),A=n(36),x=n(63),T=n(45),_=n(112),k=n(6),S=n(223),N=n(224),L=n(113),D=n(227),C=(n(11),n(236)),I=n(241),O=(n(10),n(48)),R=(n(1),n(74),n(55),n(76),n(2),_),j=A.deleteListener,P=k.getNodeFromInstance,U=T.listenTo,F=x.registrationNameModules,z={string:!0,number:!0},B="style",H="__html",V={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},G=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Q={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},W={listing:!0,pre:!0,textarea:!0},q=g({menuitem:!0},Q),X=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,K={},Z={}.hasOwnProperty,J=1;p.displayName="ReactDOMComponent",p.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=J++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(l,this);break;case"input":S.mountWrapper(this,o,t),o=S.getHostProps(this,o),e.getReactMountReady().enqueue(l,this);break;case"option":N.mountWrapper(this,o,t),o=N.getHostProps(this,o);break;case"select":L.mountWrapper(this,o,t),o=L.getHostProps(this,o),e.getReactMountReady().enqueue(l,this);break;case"textarea":D.mountWrapper(this,o,t),o=D.getHostProps(this,o),e.getReactMountReady().enqueue(l,this)}i(this,o);var a,h;null!=t?(a=t._namespaceURI,h=t._tag):n._tag&&(a=n._namespaceURI,h=n._tag),(null==a||a===w.svg&&"foreignobject"===h)&&(a=w.html),a===w.html&&("svg"===this._tag?a=w.svg:"math"===this._tag&&(a=w.mathml)),this._namespaceURI=a;var f;if(e.useCreateElement){var d,p=n._ownerDocument;if(a===w.html)if("script"===this._tag){var m=p.createElement("div"),g=this._currentElement.type;m.innerHTML="<"+g+"></"+g+">",d=m.removeChild(m.firstChild)}else d=o.is?p.createElement(this._currentElement.type,o.is):p.createElement(this._currentElement.type);else d=p.createElementNS(a,this._currentElement.type);k.precacheNode(this,d),this._flags|=R.hasCachedChildNodes,this._hostParent||E.setAttributeForRoot(d),this._updateDOMProperties(null,o,e);var y=b(d);this._createInitialChildren(e,o,r,y),f=y}else{var M=this._createOpenTagMarkupAndPutListeners(e,o),A=this._createContentMarkup(e,o,r);f=!A&&Q[this._tag]?M+"/>":M+">"+A+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),o.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),o.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"select":o.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"button":o.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(c,this)}return f},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(F.hasOwnProperty(r))i&&o(this,r,i,e);else{r===B&&(i&&(i=this._previousStyleCopy=g({},t.style)),i=y.createMarkupForStyles(i,this));var a=null;null!=this._tag&&d(this._tag,t)?V.hasOwnProperty(r)||(a=E.createMarkupForCustomAttribute(r,i)):a=E.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+E.createMarkupForRoot()),n+=" "+E.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=z[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=O(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return W[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&b.queueHTML(r,i.__html);else{var o=z[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)""!==o&&b.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)b.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"input":o=S.getHostProps(this,o),a=S.getHostProps(this,a);break;case"option":o=N.getHostProps(this,o),a=N.getHostProps(this,a);break;case"select":o=L.getHostProps(this,o),a=L.getHostProps(this,a);break;case"textarea":o=D.getHostProps(this,o),a=D.getHostProps(this,a)}switch(i(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,r),this._tag){case"input":S.updateWrapper(this);break;case"textarea":D.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(h,this)}},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===B){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else F.hasOwnProperty(r)?e[r]&&j(this,r):d(this._tag,e)?V.hasOwnProperty(r)||E.deleteValueForAttribute(P(this),r):(M.properties[r]||M.isCustomAttribute(r))&&E.deleteValueForProperty(P(this),r);for(r in t){var u=t[r],c=r===B?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==c&&(null!=u||null!=c))if(r===B)if(u?u=this._previousStyleCopy=g({},u):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(a=a||{},a[i]=u[i])}else a=u;else if(F.hasOwnProperty(r))u?o(this,r,u,n):c&&j(this,r);else if(d(this._tag,t))V.hasOwnProperty(r)||E.setValueForAttribute(P(this),r,u);else if(M.properties[r]||M.isCustomAttribute(r)){var l=P(this);null!=u?E.setValueForProperty(l,r,u):E.deleteValueForProperty(l,r)}}a&&y.setValueForStyles(P(this),a,this)},_updateDOMChildren:function(e,t,n,r){var i=z[typeof e.children]?e.children:null,o=z[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,c=null!=o?null:t.children,l=null!=i||null!=a,h=null!=o||null!=s;null!=u&&null==c?this.updateChildren(null,n,r):l&&!h&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,r)},getHostNode:function(){return P(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),k.uncacheNode(this),A.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return P(this)}},g(p.prototype,p.Mixin,C.Mixin),e.exports=p},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(76),9);e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(26),o=n(6),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,c=u.createComment(s);return o.precacheNode(this,c),i(c)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t){"use strict";var n={useCreateElement:!0,useFiber:!1};e.exports=n},function(e,t,n){"use strict";var r=n(61),i=n(6),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function r(){this._rootNodeID&&f.updateWrapper(this)}function i(e){var t="checkbox"===e.type||"radio"===e.type;return t?null!=e.checked:null!=e.value}function o(e){var t=this._currentElement.props,n=c.executeOnChange(t,e);h.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=l.getNodeFromInstance(this),s=o;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),f=0;f<u.length;f++){var d=u[f];if(d!==o&&d.form===o.form){var p=l.getInstanceFromNode(d);p?void 0:a("90"),h.asap(r,p)}}}return n}var a=n(3),s=n(5),u=n(111),c=n(66),l=n(6),h=n(14),f=(n(1),n(2),{getHostProps:function(e,t){var n=c.getValue(t),r=c.getChecked(t),i=s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:o.bind(e),controlled:i(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(l.getNodeFromInstance(e),"checked",n||!1);var r=l.getNodeFromInstance(e),i=c.getValue(t);if(null!=i)if(0===i&&""===r.value)r.value="0";else if("number"===t.type){var o=parseFloat(r.value,10)||0;i!=o&&(r.value=""+i)}else i!=r.value&&(r.value=""+i);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=f},function(e,t,n){"use strict";function r(e){var t="";return o.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var i=n(5),o=n(31),a=n(6),s=n(113),u=(n(2),!1),c={mountWrapper:function(e,t,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(i)){for(var c=0;c<i.length;c++)if(""+i[c]===u){a=!0;break}}else a=""+i===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=a.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=r(t.children);return o&&(n.children=o),n}};e.exports=c},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:s.toString().length,l=s.cloneRange();l.selectNodeContents(e),l.setEnd(s.startContainer,s.startOffset);var h=r(l.startContainer,l.startOffset,l.endContainer,l.endOffset),f=h?0:l.toString().length,d=f+c,p=document.createRange();p.setStart(n,i),p.setEnd(o,a);var m=p.collapsed;return{start:m?d:f,end:m?f:d}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[l()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=c(e,i),u=c(e,o);if(s&&u){var h=document.createRange();h.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(h),n.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),n.addRange(h))}}}var u=n(8),c=n(263),l=n(124),h=u.canUseDOM&&"selection"in document&&!("getSelection"in window),f={getOffsets:h?i:o,setOffsets:h?a:s};e.exports=f},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(61),a=n(26),s=n(6),u=n(48),c=(n(1),n(76),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(c.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,o=" react-text: "+i+" ",c=" /react-text ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var l=n._ownerDocument,h=l.createComment(o),f=l.createComment(c),d=a(l.createDocumentFragment());return a.queueChild(d,a(h)),this._stringText&&a.queueChild(d,a(l.createTextNode(this._stringText))),a.queueChild(d,a(f)),s.precacheNode(this,h),this._closingComment=f,d}var p=u(this._stringText);return e.renderToStaticMarkup?p:"<!--"+o+"-->"+p+"<!--"+c+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=c},function(e,t,n){"use strict";function r(){this._rootNodeID&&l.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return c.asap(r,this),n}var o=n(3),a=n(5),s=n(66),u=n(6),c=n(14),l=(n(1),n(2),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?o("91"):void 0;var n=a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,u=t.children;null!=u&&(null!=a?o("92"):void 0,Array.isArray(u)&&(u.length<=1?void 0:o("93"),u=u[0]),a=""+u),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});e.exports=l},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:u("33"),"_hostNode"in t?void 0:u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,o=t;o;o=o._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e?void 0:u("35"),"_hostNode"in t?void 0:u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function o(e){return"_hostNode"in e?void 0:u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function s(e,t,n,i,o){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var c;for(c=0;c<s.length;c++)n(s[c],"bubbled",i);for(c=u.length;c-- >0;)n(u[c],"captured",o)}var u=n(3);n(1);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(5),o=n(14),a=n(47),s=n(10),u={initialize:s,close:function(){f.isBatchingUpdates=!1}},c={initialize:s,close:o.flushBatchedUpdates.bind(o)},l=[c,u];i(r.prototype,a,{getTransactionWrappers:function(){return l}});var h=new r,f={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=f.isBatchingUpdates;return f.isBatchingUpdates=!0,a?e(t,n,r,i,o):h.perform(e,null,t,n,r,i,o)}};e.exports=f},function(e,t,n){"use strict";function r(){A||(A=!0,y.EventEmitter.injectReactEventListener(v),y.EventPluginHub.injectEventPluginOrder(s),y.EventPluginUtils.injectComponentTree(f),y.EventPluginUtils.injectTreeTraversal(p),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:a,SelectEventPlugin:M,BeforeInputEventPlugin:o}),y.HostComponent.injectGenericComponentClass(h),y.HostComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(i),y.DOMProperty.injectDOMPropertyConfig(c),y.DOMProperty.injectDOMPropertyConfig(w),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),y.Updates.injectReconcileTransaction(b),y.Updates.injectBatchingStrategy(g),y.Component.injectEnvironment(l))}var i=n(204),o=n(206),a=n(208),s=n(210),u=n(211),c=n(213),l=n(215),h=n(218),f=n(6),d=n(220),p=n(228),m=n(226),g=n(229),v=n(233),y=n(234),b=n(239),w=n(244),M=n(245),E=n(246),A=!1;e.exports={inject:r}},138,function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(36),o={handleTopLevel:function(e,t,n,o){var a=i.extractEvents(e,t,n,o);r(a)}};e.exports=o},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=h.getNodeFromInstance(e),n=t.parentNode;return h.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=d(e.nativeEvent),n=h.getClosestInstanceFromNode(t),i=n;do e.ancestors.push(i),i=i&&r(i);while(i);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,d(e.nativeEvent))}function a(e){var t=p(window);e(t)}var s=n(5),u=n(98),c=n(8),l=n(22),h=n(6),f=n(14),d=n(73),p=n(174);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?u.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?u.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{f.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var r=n(27),i=n(36),o=n(64),a=n(67),s=n(114),u=n(45),c=n(116),l=n(14),h={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:u.injection,HostComponent:c.injection,Updates:l.injection};e.exports=h},function(e,t,n){"use strict";var r=n(257),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:f.getHostNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function c(e,t){h.processChildrenUpdates(e,t)}var l=n(3),h=n(67),f=(n(38),n(11),n(18),n(28)),d=n(214),p=(n(10),n(260)),m=(n(1),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return d.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var a,s=0;return a=p(t,s),d.updateChildren(e,a,n,r,i,this,this._hostContainerInfo,o,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,c=f.mountComponent(s,t,this,this._hostContainerInfo,n,u);s._mountIndex=o++,i.push(c)}return i},updateTextContent:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&l("118");var r=[s(e)];c(this,r)},updateMarkup:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&l("118");var r=[a(e)];c(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,e,o,i,t,n);if(a||r){var s,l=null,h=0,d=0,p=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var g=r&&r[s],v=a[s];g===v?(l=u(l,this.moveChild(g,m,h,d)),d=Math.max(g._mountIndex,d),g._mountIndex=h):(g&&(d=Math.max(g._mountIndex,d)),l=u(l,this._mountChildAtIndex(v,o[p],m,h,t,n)),p++),h++,m=f.getHostNode(v)}for(s in i)i.hasOwnProperty(s)&&(l=u(l,this._unmountChild(r[s],i[s])));l&&c(this,l),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;d.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=m},function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var i=n(3),o=(n(1),{addComponentAsRefTo:function(e,t,n){r(n)?void 0:i("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)?void 0:i("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=o},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var i=n(5),o=n(110),a=n(22),s=n(45),u=n(117),c=(n(11),n(47)),l=n(69),h={initialize:u.getSelectionInformation,close:u.restoreSelection},f={initialize:function(){
var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p=[h,f,d],m={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return l},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,c,m),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(237),a={};a.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var i=null,o=null;return null!==t&&"object"==typeof t&&(i=t.ref,o=t._owner),n!==i||"string"==typeof i&&o!==r},a.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=n(5),o=n(22),a=n(47),s=(n(11),n(242)),u=[],c={enqueue:function(){}},l={getTransactionWrappers:function(){return u},getReactMountReady:function(){return c},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a,l),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){}var o=n(69),a=(n(2),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&o.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?o.enqueueForceUpdate(e):i(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?o.enqueueReplaceState(e,t):i(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?o.enqueueSetState(e,t):i(e,"setState")},e}());e.exports=a},function(e,t){"use strict";e.exports="15.5.4"},function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(e){i.Properties[e]=0,r[e]&&(i.DOMAttributeNames[e]=r[e])}),e.exports=i},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(y||null==m||m!==l())return null;var n=r(m);if(!v||!f(v,n)){v=n;var i=c.getPooled(p.select,g,e,t);return i.type="select",i.target=m,o.accumulateTwoPhaseDispatches(i),i}return null}var o=n(37),a=n(8),s=n(6),u=n(117),c=n(17),l=n(100),h=n(126),f=n(55),d=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,p={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,g=null,v=null,y=!1,b=!1,w={eventTypes:p,extractEvents:function(e,t,n,r){if(!b)return null;var o=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(h(o)||"true"===o.contentEditable)&&(m=o,g=t,v=null);break;case"topBlur":m=null,g=null,v=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,i(n,r);case"topSelectionChange":if(d)break;case"topKeyDown":case"topKeyUp":return i(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(b=!0)}};e.exports=w},function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function i(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var o=n(3),a=n(98),s=n(37),u=n(6),c=n(247),l=n(248),h=n(17),f=n(251),d=n(253),p=n(46),m=n(250),g=n(254),v=n(255),y=n(39),b=n(256),w=n(10),M=n(71),E=(n(1),{}),A={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};E[e]=i,A[r]=i});var x={},T={eventTypes:E,extractEvents:function(e,t,n,r){var i=A[e];if(!i)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=h;break;case"topKeyPress":if(0===M(n))return null;case"topKeyDown":case"topKeyUp":a=d;break;case"topBlur":case"topFocus":a=f;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=p;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=g;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=c;break;case"topTransitionEnd":a=v;break;case"topScroll":a=y;break;case"topWheel":a=b;break;case"topCopy":case"topCut":case"topPaste":a=l}a?void 0:o("86",e);var u=a.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if("onClick"===t&&!i(e._tag)){var o=r(e),s=u.getNodeFromInstance(e);x[o]||(x[o]=a.listen(s,"click",w))}},willDeleteListener:function(e,t){if("onClick"===t&&!i(e._tag)){var n=r(e);x[n].remove(),delete x[n]}}};e.exports=T},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(17),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(17),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(17),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(39),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(17),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(39),o=n(71),a=n(261),s=n(72),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,u),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(39),o=n(72),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(17),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0,o=e.length,a=o&-4;i<a;){for(var s=Math.min(i+4096,a);i<s;i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<o;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var i=isNaN(t);if(i||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var i=n(109),o=(n(2),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?o.getNodeFromInstance(t):null):void("function"==typeof e.render?i("44"):i("45",Object.keys(e)))}var i=n(3),o=(n(18),n(6)),a=n(38),s=n(123);n(1),n(2);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(n(65),n(128));n(2);e.exports=i}).call(t,n(16))},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(71),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=n},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,o<=t&&a>=t)return{node:i,offset:t-o};o=a}i=n(r(i))}}e.exports=i},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var o=n(8),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};o.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(48);e.exports=r},function(e,t,n){"use strict";var r=n(118);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),a=r(o),s=n(15),u=r(s),c=n(129),l=r(c),h=(0,u.default)({displayName:"IndexLink",render:function(){return a.default.createElement(l.default,i({},this.props,{onlyActiveOnIndex:!0}))}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(15),o=r(i),a=n(13),s=n(30),u=(r(s),n(9)),c=r(u),l=n(131),h=r(l),f=n(40),d=(0,o.default)({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=h.default.createRouteFromReactElement(e))}},propTypes:{to:a.string.isRequired,query:a.object,state:a.object,onEnter:f.falsy,children:f.falsy},render:function(){(0,c.default)(!1)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(15),o=r(i),a=n(13),s=n(30),u=(r(s),n(9)),c=r(u),l=n(20),h=n(40),f=(0,o.default)({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,l.createRouteFromReactElement)(e))}},propTypes:{path:h.falsy,component:h.component,components:h.components,getComponent:a.func,getComponents:a.func},render:function(){(0,c.default)(!1)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(15),o=r(i),a=n(13),s=n(9),u=r(s),c=n(20),l=n(40),h=(0,o.default)({displayName:"Route",statics:{createRouteFromReactElement:c.createRouteFromReactElement},propTypes:{path:a.string,component:l.component,components:l.components,getComponent:a.func,getComponents:a.func},render:function(){(0,u.default)(!1)}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),s=r(a),u=n(7),c=r(u),l=n(15),h=r(l),f=n(13),d=n(135),p=r(d),m=n(40),g=n(80),v=r(g),y=n(20),b=n(132),w=n(30),M=(r(w),{history:f.object,children:m.routes,routes:m.routes,render:f.func,createElement:f.func,onError:f.func,onUpdate:f.func,matchContext:f.object}),E=(0,h.default)({displayName:"Router",propTypes:M,getDefaultProps:function(){return{render:function(e){return c.default.createElement(v.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var n=this.props.history;return(0,b.createRouterObject)(n,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,n=this.props,r=n.routes,i=n.children;return t.getCurrentLocation?void 0:(0,s.default)(!1),(0,p.default)(t,(0,y.createRoutes)(r||i))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,n){t?e.handleError(t):((0,b.assignRouterState)(e.router,n),e.setState(n,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,a=t.params,s=t.components,u=this.props,c=u.createElement,e=u.render,l=i(u,["createElement","render"]);return null==n?null:(Object.keys(M).forEach(function(e){return delete l[e]}),e(o({},l,{router:this.router,location:n,routes:r,params:a,components:s,createElement:c})))}});t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){function e(e,t,n,r){var i=e.length<n,o=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];if(e.apply(t,r),i){var a=r[r.length-1];a()}};return r.add(o),o}function t(t){return t.reduce(function(t,n){return n.onEnter&&t.push(e(n.onEnter,n,3,c)),t},[])}function n(t){return t.reduce(function(t,n){return n.onChange&&t.push(e(n.onChange,n,4,l)),t},[])}function r(e,t,n){function r(e){i=e}if(!e)return void n();var i=void 0;(0,o.loopAsync)(e,function(e,n,o){t(e,r,function(e){e||i?o(e,i):n()})},n)}function i(e,n,i){c.clear();var o=t(e);return r(o.length,function(e,t,r){var i=function(){c.has(o[e])&&(r.apply(void 0,arguments),c.remove(o[e]))};o[e](n,t,i)},i)}function s(e,t,i,o){l.clear();var a=n(e);return r(a.length,function(e,n,r){var o=function(){l.has(a[e])&&(r.apply(void 0,arguments),l.remove(a[e]))};a[e](t,i,n,o)},o)}function u(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}var c=new a,l=new a;return{runEnterHooks:i,runChangeHooks:s,runLeaveHooks:u}}t.__esModule=!0,t.default=i;var o=n(77),a=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return t.hooks.indexOf(e)!==-1},this.clear=function(){return t.hooks=[]}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(7),a=r(o),s=n(80),u=r(s),c=n(30);r(c);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.createElement;return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return r.reduceRight(function(t,n){return n(t,e)},a.default.createElement(u.default,i({},e,{createElement:c(e.createElement)})))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(188),o=r(i),a=n(134),s=r(a);t.default=(0,s.default)(o.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,o.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function i(e,t){var n=e&&e.routes,i=t.routes,o=void 0,a=void 0,s=void 0;if(n){var u=!1;o=n.filter(function(n){if(u)return!0;var o=i.indexOf(n)===-1||r(n,e,t);return o&&(u=!0),o}),o.reverse(),s=[],a=[],i.forEach(function(e){var t=n.indexOf(e)===-1,r=o.indexOf(e)!==-1;t||r?s.push(e):a.push(e)})}else o=[],a=[],s=i;return{leaveRoutes:o,changeRoutes:a,enterRoutes:s}}t.__esModule=!0;var o=n(29);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(r){var i=r.call(t,e,n);(0,a.isPromise)(i)&&i.then(function(e){return n(null,e)},n)}else n()}function i(e,t){(0,o.mapAsync)(e.routes,function(t,n,i){r(e,t,i)},t)}t.__esModule=!0;var o=n(77),a=n(130);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,i.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var i=n(29);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(189),o=r(i),a=n(134),s=r(a);t.default=(0,s.default)(o.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":u(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function i(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function o(e,t,n){for(var r=e,i=[],o=[],a=0,s=t.length;a<s;++a){var u=t[a],l=u.path||"";if("/"===l.charAt(0)&&(r=e,i=[],o=[]),null!==r&&l){var h=(0,c.matchPattern)(l,r);if(h?(r=h.remainingPathname,i=[].concat(i,h.paramNames),o=[].concat(o,h.paramValues)):r=null,""===r)return i.every(function(e,t){return String(o[t])===String(n[e])})}}return!1}function a(e,t){return null==t?null==e:null==e||r(e,t)}function s(e,t,n,r,s){var u=e.pathname,c=e.query;return null!=n&&("/"!==u.charAt(0)&&(u="/"+u),!!(i(u,n.pathname)||!t&&o(u,r,s))&&a(c,n.query))}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var c=n(29);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){var n=e.history,r=e.routes,o=e.location,u=i(e,["history","routes","location"]);n||o?void 0:(0,c.default)(!1),n=n?n:(0,h.default)(u);var l=(0,d.default)(n,(0,p.createRoutes)(r));o=o?n.createLocation(o):n.getCurrentLocation(),l.match(o,function(e,r,i){var o=void 0;if(i){var u=(0,m.createRouterObject)(n,l,i);o=a({},i,{router:u,matchContext:{transitionManager:l,router:u}})}t(e,r&&n.createLocation(r,s.REPLACE),o)})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(43),u=n(9),c=r(u),l=n(133),h=r(l),f=n(135),d=r(f),p=n(20),m=n(132);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var o=!0,a=void 0,u={location:t,params:s(n,r)},c=e.getChildRoutes(u,function(e,t){return t=!e&&(0,m.createRoutes)(t),o?void(a=[e,t]):void i(e,t)});return(0,f.isPromise)(c)&&c.then(function(e){return i(null,(0,m.createRoutes)(e))},i),o=!1,a}function o(e,t,n,r,a){if(e.indexRoute)a(null,e.indexRoute);else if(e.getIndexRoute){var u={location:t,params:s(n,r)},c=e.getIndexRoute(u,function(e,t){a(e,!e&&(0,m.createRoutes)(t)[0])});(0,f.isPromise)(c)&&c.then(function(e){return a(null,(0,m.createRoutes)(e)[0])},a)}else if(e.childRoutes||e.getChildRoutes){var l=function(e,i){if(e)return void a(e);var s=i.filter(function(e){return!e.path});(0,h.loopAsync)(s.length,function(e,i,a){o(s[e],t,n,r,function(t,n){if(t||n){var r=[s[e]].concat(Array.isArray(n)?n:[n]);a(t,r)}else i()})},function(e,t){a(null,t)})},d=i(e,t,n,r,l);d&&l.apply(void 0,d)}else a()}function a(e,t,n){return t.reduce(function(e,t,r){var i=n&&n[r];return Array.isArray(e[t])?e[t].push(i):t in e?e[t]=[e[t],i]:e[t]=i,e},e)}function s(e,t){return a({},e,t)}function u(e,t,n,r,a,u){var l=e.path||"";if("/"===l.charAt(0)&&(n=t.pathname,r=[],a=[]),null!==n&&l){try{var h=(0,d.matchPattern)(l,n);h?(n=h.remainingPathname,r=[].concat(r,h.paramNames),a=[].concat(a,h.paramValues)):n=null}catch(e){u(e)}if(""===n){var f={routes:[e],params:s(r,a)};return void o(e,t,r,a,function(e,t){if(e)u(e);else{if(Array.isArray(t)){var n;(n=f.routes).push.apply(n,t)}else t&&f.routes.push(t);u(null,f)}})}}if(null!=n||e.childRoutes){var p=function(i,o){i?u(i):o?c(o,t,function(t,n){t?u(t):n?(n.routes.unshift(e),u(null,n)):u()},n,r,a):u()},m=i(e,t,r,a,p);m&&p.apply(void 0,m)}else u()}function c(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=l({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,h.loopAsync)(e.length,function(n,a,s){u(e[n],t,r,i,o,function(e,t){e||t?s(e,t):a()})},n)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var h=n(77),f=n(130),d=n(29),p=n(30),m=(r(p),n(20));e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.displayName||e.name||"Component"}function o(e,t){var n=t&&t.withRef,r=(0,f.default)({displayName:"WithRouter",mixins:[(0,m.ContextSubscriber)("router")],contextTypes:{router:g.routerShape},propTypes:{router:g.routerShape},getWrappedInstance:function(){return n?void 0:(0,u.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router;if(!r)return l.default.createElement(e,this.props);var i=r.params,o=r.location,s=r.routes,u=a({},this.props,{router:r,params:i,location:o,routes:s});return n&&(u.ref=function(e){t.wrappedInstance=e}),l.default.createElement(e,u)}});return r.displayName="withRouter("+i(e)+")",r.WrappedComponent=e,(0,p.default)(r,e)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var s=n(9),u=r(s),c=n(7),l=r(c),h=n(15),f=r(h),d=n(192),p=r(d),m=n(78),g=n(79);e.exports=t.default;
},function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(196).enable(),window.Promise=n(195)),n(316),Object.assign=n(5)},65,[319,33],function(e,t,n){"use strict";function r(e){return(""+e).replace(w,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);v(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?c(u,i,n,g.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,o+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),i.push(u))}function c(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var c=s.getPooled(t,a,i,o);v(e,u,c),s.release(c)}function l(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function h(e,t,n){return null}function f(e,t){return v(e,h,null)}function d(e){var t=[];return c(e,t,null,g.thatReturnsArgument),t}var p=n(285),m=n(32),g=n(10),v=n(296),y=p.twoArgumentPooler,b=p.fourArgumentPooler,w=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},p.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},p.addPoolingTo(s,b);var M={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:f,toArray:d};e.exports=M},function(e,t,n){"use strict";function r(e){return e}function i(e,t){var n=w.hasOwnProperty(t)?w[t]:null;E.hasOwnProperty(t)&&("OVERRIDE_BASE"!==n?f("73",t):void 0),e&&("DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n?f("74",t):void 0)}function o(e,t){if(t){"function"==typeof t?f("75"):void 0,m.isValidElement(t)?f("76"):void 0;var n=e.prototype,r=n.__reactAutoBindPairs;t.hasOwnProperty(y)&&M.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==y){var a=t[o],s=n.hasOwnProperty(o);if(i(s,o),M.hasOwnProperty(o))M[o](e,a);else{var l=w.hasOwnProperty(o),h="function"==typeof a,d=h&&!l&&!s&&t.autobind!==!1;if(d)r.push(o,a),n[o]=a;else if(s){var p=w[o];!l||"DEFINE_MANY_MERGED"!==p&&"DEFINE_MANY"!==p?f("77",p,o):void 0,"DEFINE_MANY_MERGED"===p?n[o]=u(n[o],a):"DEFINE_MANY"===p&&(n[o]=c(n[o],a))}else n[o]=a}}}else;}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in M;i?f("78",n):void 0;var o=n in e;o?f("79",n):void 0,e[n]=r}}}function s(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:f("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?f("81",n):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return s(i,n),s(i,r),i}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function h(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=l(e,i)}}var f=n(33),d=n(5),p=n(82),m=n(32),g=(n(289),n(83)),v=n(24),y=(n(1),n(2),"mixins"),b=[],w={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},M={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},E={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},A=function(){};d(A.prototype,p.prototype,E);var x={createClass:function(e){var t=r(function(e,n,r){this.__reactAutoBindPairs.length&&h(this),this.props=e,this.context=n,this.refs=v,this.updater=r||g,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?f("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=i});t.prototype=new A,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],b.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:f("83");for(var n in w)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){b.push(e)}}};e.exports=x},function(e,t,n){"use strict";var r=n(32),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=o},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(32),i=r.isValidElement,o=n(108);e.exports=o(i)},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||s}function i(){}var o=n(5),a=n(82),s=n(83),u=n(24);i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,o(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,e.exports=r},243,262,function(e,t){"use strict";function n(){return r++}var r=1;e.exports=n},function(e,t,n){"use strict";function r(e){return o.isValidElement(e)?void 0:i("143"),e}var i=n(33),o=n(32);n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function i(e,t,n,o){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||"object"===f&&e.$$typeof===s)return n(o,e,""===t?l+r(e,0):t),1;var d,p,m=0,g=""===t?l:t+h;if(Array.isArray(e))for(var v=0;v<e.length;v++)d=e[v],p=g+r(d,v),m+=i(d,p,n,o);else{var y=u(e);if(y){var b,w=y.call(e);if(y!==e.entries)for(var M=0;!(b=w.next()).done;)d=b.value,p=g+r(d,M++),m+=i(d,p,n,o);else for(;!(b=w.next()).done;){var E=b.value;E&&(d=E[1],p=g+c.escape(E[0])+h+r(d,0),m+=i(d,p,n,o))}}else if("object"===f){var A="",x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,A)}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(33),s=(n(18),n(138)),u=n(293),c=(n(1),n(284)),l=(n(2),"."),h=":";e.exports=o},function(e,t,n){e.exports=n(23)},function(e,t,n){"use strict";function r(e){return this instanceof r?void i.call(this,e):new r(e)}e.exports=r;var i=n(141),o=n(34);o.inherits=n(12),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";function r(){this.head=null,this.tail=null,this.length=0}var i=(n(4).Buffer,n(42));e.exports=r,r.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},r.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},r.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},r.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)n.data.copy(t,r),r+=n.data.length,n=n.next;return t}},function(e,t,n){e.exports=n(85).PassThrough},function(e,t,n){e.exports=n(85).Transform},function(e,t,n){e.exports=n(84)},function(e,t,n){(function(t){function n(e,t,n){return e^t^n}function r(e,t,n){return e&t|~e&n}function i(e,t,n){return(e|~t)^n}function o(e,t,n){return e&n|t&~n}function a(e,t,n){return e^(t|~n)}function s(e,t){return e<<t|e>>>32-t}function u(e){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof e&&(e=new t(e,"utf8"));var r=m(e),i=8*e.length,o=8*e.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var a=0;a<r.length;a+=16)v(n,r,a);for(var a=0;a<5;a++){var s=n[a];n[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var u=g(n);return new t(u)}e.exports=u;var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0],m=function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},g=function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},v=function(e,t,u){for(var m=0;m<16;m++){var g=u+m,v=t[g];t[g]=16711935&(v<<8|v>>>24)|4278255360&(v<<24|v>>>8)}var y,b,w,M,E,A,x,T,_,k;A=y=e[0],x=b=e[1],T=w=e[2],_=M=e[3],k=E=e[4];for(var S,m=0;m<80;m+=1)S=y+t[u+c[m]]|0,S+=m<16?n(b,w,M)+d[0]:m<32?r(b,w,M)+d[1]:m<48?i(b,w,M)+d[2]:m<64?o(b,w,M)+d[3]:a(b,w,M)+d[4],S|=0,S=s(S,h[m]),S=S+E|0,y=E,E=M,M=s(w,10),w=b,b=S,S=A+t[u+l[m]]|0,S+=m<16?a(x,T,_)+p[0]:m<32?o(x,T,_)+p[1]:m<48?i(x,T,_)+p[2]:m<64?r(x,T,_)+p[3]:n(x,T,_)+p[4],S|=0,S=s(S,f[m]),S=S+k|0,A=k,k=_,_=s(T,10),T=x,x=S;S=e[1]+w+_|0,e[1]=e[2]+M+k|0,e[2]=e[3]+E+A|0,e[3]=e[4]+y+x|0,e[4]=e[0]+b+T|0,e[0]=S}}).call(t,n(4).Buffer)},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return m[p]=r,d(p),p++}function i(e){delete m[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(g)setTimeout(a,0,e);else{var t=m[e];if(t){g=!0;try{o(t)}finally{i(e),g=!1}}}}function s(){d=function(e){t.nextTick(function(){a(e)})}}function u(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),d=function(n){e.postMessage(t+n,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},d=function(t){e.port2.postMessage(t)}}function h(){var e=v.documentElement;d=function(t){var n=v.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function f(){d=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var d,p=1,m={},g=!1,v=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?s():u()?c():e.MessageChannel?l():v&&"onreadystatechange"in v.createElement("script")?h():f(),y.setImmediate=r,y.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(16))},function(e,t){e.exports=function(e){function t(t,n){this._block=new e(t),this._finalSize=n,this._blockSize=t,this._len=0,this._s=0}return t.prototype.init=function(){this._s=0,this._len=0},t.prototype.update=function(t,n){"string"==typeof t&&(n=n||"utf8",t=new e(t,n));for(var r=this._len+=t.length,i=this._s=this._s||0,o=0,a=this._block;i<r;){for(var s=Math.min(t.length,o+this._blockSize-i%this._blockSize),u=s-o,c=0;c<u;c++)a[i%this._blockSize+c]=t[c+o];i+=u,o+=u,i%this._blockSize===0&&this._update(a)}return this._s=i,this},t.prototype.digest=function(e){var t=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),t%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(t,this._blockSize-4);var n=this._update(this._block)||this._hash();return e?n.toString(e):n},t.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t}},function(e,t,n){var t=e.exports=function(e){var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n},r=n(4).Buffer,i=n(305)(r);t.sha1=n(307)(r,i),t.sha256=n(308)(r,i),t.sha512=n(309)(r,i)},function(e,t,n){var r=n(86).inherits;e.exports=function(e,t){function n(){return p.length?p.pop().init():this instanceof n?(this._w=d,t.call(this,64,56),this._h=null,void this.init()):new n}function i(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function o(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function a(e,t){return e+t|0}function s(e,t){return e<<t|e>>>32-t}var u=0,c=4,l=8,h=12,f=16,d=new("undefined"==typeof Int32Array?Array:Int32Array)(80),p=[];return r(n,t),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,t.prototype.init.call(this),this},n.prototype._POOL=p,n.prototype._update=function(e){var t,n,r,u,c,l,h,f,d,p;t=l=this._a,n=h=this._b,r=f=this._c,u=d=this._d,c=p=this._e;for(var m=this._w,g=0;g<80;g++){var v=m[g]=g<16?e.readInt32BE(4*g):s(m[g-3]^m[g-8]^m[g-14]^m[g-16],1),y=a(a(s(t,5),i(g,n,r,u)),a(a(c,v),o(g)));c=u,u=r,r=s(n,30),n=t,t=y}this._a=a(t,l),this._b=a(n,h),this._c=a(r,f),this._d=a(u,d),this._e=a(c,p)},n.prototype._hash=function(){p.length<100&&p.push(this);var t=new e(20);return t.writeInt32BE(0|this._a,u),t.writeInt32BE(0|this._b,c),t.writeInt32BE(0|this._c,l),t.writeInt32BE(0|this._d,h),t.writeInt32BE(0|this._e,f),t},n}},function(e,t,n){var r=n(86).inherits;e.exports=function(e,t){function n(){this.init(),this._w=d,t.call(this,64,56)}function i(e,t){return e>>>t|e<<32-t}function o(e,t){return e>>>t}function a(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}function u(e){return i(e,2)^i(e,13)^i(e,22)}function c(e){return i(e,6)^i(e,11)^i(e,25)}function l(e){return i(e,7)^i(e,18)^o(e,3)}function h(e){return i(e,17)^i(e,19)^o(e,10)}var f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);return r(n,t),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},n.prototype._update=function(e){var t,n,r,i,o,d,p,m,g,v,y=this._w;t=0|this._a,n=0|this._b,r=0|this._c,i=0|this._d,o=0|this._e,d=0|this._f,p=0|this._g,m=0|this._h;for(var b=0;b<64;b++){var w=y[b]=b<16?e.readInt32BE(4*b):h(y[b-2])+y[b-7]+l(y[b-15])+y[b-16];g=m+c(o)+a(o,d,p)+f[b]+w,v=u(t)+s(t,n,r),m=p,p=d,d=o,o=i+g,i=r,r=n,n=t,t=g+v}this._a=t+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=d+this._f|0,this._g=p+this._g|0,this._h=m+this._h|0},n.prototype._hash=function(){var t=new e(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},n}},function(e,t,n){var r=n(86).inherits;e.exports=function(e,t){function n(){this.init(),this._w=u,t.call(this,128,112)}function i(e,t,n){return e>>>n|t<<32-n}function o(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}var s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);return r(n,t),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},n.prototype._update=function(e){var t,n,r,u,c,l,h,f,d,p,m,g,v,y,b,w,M=this._w;t=0|this._a,n=0|this._b,r=0|this._c,u=0|this._d,c=0|this._e,l=0|this._f,h=0|this._g,f=0|this._h,d=0|this._al,p=0|this._bl,m=0|this._cl,g=0|this._dl,v=0|this._el,y=0|this._fl,b=0|this._gl,w=0|this._hl;for(var E=0;E<80;E++){var A,x,T=2*E;if(E<16)A=M[T]=e.readInt32BE(4*T),x=M[T+1]=e.readInt32BE(4*T+4);else{var _=M[T-30],k=M[T-30+1],S=i(_,k,1)^i(_,k,8)^_>>>7,N=i(k,_,1)^i(k,_,8)^i(k,_,7);_=M[T-4],k=M[T-4+1];var L=i(_,k,19)^i(k,_,29)^_>>>6,D=i(k,_,19)^i(_,k,29)^i(k,_,6),C=M[T-14],I=M[T-14+1],O=M[T-32],R=M[T-32+1];x=N+I,A=S+C+(x>>>0<N>>>0?1:0),x+=D,A=A+L+(x>>>0<D>>>0?1:0),x+=R,A=A+O+(x>>>0<R>>>0?1:0),M[T]=A,M[T+1]=x}var j=a(t,n,r),P=a(d,p,m),U=i(t,d,28)^i(d,t,2)^i(d,t,7),F=i(d,t,28)^i(t,d,2)^i(t,d,7),z=i(c,v,14)^i(c,v,18)^i(v,c,9),B=i(v,c,14)^i(v,c,18)^i(c,v,9),H=s[T],V=s[T+1],G=o(c,l,h),Y=o(v,y,b),Q=w+B,W=f+z+(Q>>>0<w>>>0?1:0);Q+=Y,W=W+G+(Q>>>0<Y>>>0?1:0),Q+=V,W=W+H+(Q>>>0<V>>>0?1:0),Q+=x,W=W+A+(Q>>>0<x>>>0?1:0);var q=F+P,X=U+j+(q>>>0<F>>>0?1:0);f=h,w=b,h=l,b=y,l=c,y=v,v=g+Q|0,c=u+W+(v>>>0<g>>>0?1:0)|0,u=r,g=m,r=n,m=p,n=t,p=d,d=Q+q|0,t=W+X+(d>>>0<Q>>>0?1:0)|0}this._al=this._al+d|0,this._bl=this._bl+p|0,this._cl=this._cl+m|0,this._dl=this._dl+g|0,this._el=this._el+v|0,this._fl=this._fl+y|0,this._gl=this._gl+b|0,this._hl=this._hl+w|0,this._a=this._a+t+(this._al>>>0<d>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<p>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<m>>>0?1:0)|0,this._d=this._d+u+(this._dl>>>0<g>>>0?1:0)|0,this._e=this._e+c+(this._el>>>0<v>>>0?1:0)|0,this._f=this._f+l+(this._fl>>>0<y>>>0?1:0)|0,this._g=this._g+h+(this._gl>>>0<b>>>0?1:0)|0,this._h=this._h+f+(this._hl>>>0<w>>>0?1:0)|0},n.prototype._hash=function(){function t(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}var n=new e(64);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),t(this._g,this._gl,48),t(this._h,this._hl,56),n},n}},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(54).EventEmitter,o=n(12);o(r,i),r.Readable=n(85),r.Writable=n(302),r.Duplex=n(297),r.Transform=n(301),r.PassThrough=n(300),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),e.on("error",s),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,function(){return this}())},12,function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return M.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];g.redirect=function(e,t){if(E.indexOf(t)===-1)throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),
i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){},317,function(e,t,n,r){"use strict";var i=n(r),o=(n(1),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),a=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},s=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},u=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},c=function(e){var t=this;e instanceof t?void 0:i("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,h=o,f=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||h,n.poolSize||(n.poolSize=l),n.release=c,n},d={addPoolingTo:f,oneArgumentPooler:o,twoArgumentPooler:a,threeArgumentPooler:s,fourArgumentPooler:u};e.exports=d}]));
//# sourceMappingURL=main.02d1ff09.js.map